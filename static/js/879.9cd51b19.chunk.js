/*! For license information please see 879.9cd51b19.chunk.js.LICENSE.txt */
(self.webpackChunkmyprofromgitlab=self.webpackChunkmyprofromgitlab||[]).push([[879],{3647:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var i=n(1413),r=n(9439),o=n(4942),a=n(4925),s=n(9867),l=(t=n(4758),n.n(t)),u=(0,s.createContext)({}),c=n(1002);function h(e,t){"string"==typeof(n=e)&&-1!==n.indexOf(".")&&1===parseFloat(n)&&(e="100%");var n="string"==typeof(n=e)&&-1!==n.indexOf("%");return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function d(e){return e<=1?"".concat(100*Number(e),"%"):e}function p(e){return 1===e.length?"0"+e:String(e)}function f(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function g(e){return m(e)/255}function m(e){return parseInt(e,16)}var y={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function v(e){var t,n,i,r,o,a,s,l,u,c,p={r:0,g:0,b:0},v=1,x=null,_=!1,S=!1;return"object"==typeof(e="string"==typeof e?function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(y[e])e=y[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=b.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=b.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=b.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=b.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=b.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=b.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=b.hex8.exec(e))?{r:m(n[1]),g:m(n[2]),b:m(n[3]),a:g(n[4]),format:t?"name":"hex8"}:(n=b.hex6.exec(e))?{r:m(n[1]),g:m(n[2]),b:m(n[3]),format:t?"name":"hex"}:(n=b.hex4.exec(e))?{r:m(n[1]+n[1]),g:m(n[2]+n[2]),b:m(n[3]+n[3]),a:g(n[4]+n[4]),format:t?"name":"hex8"}:!!(n=b.hex3.exec(e))&&{r:m(n[1]+n[1]),g:m(n[2]+n[2]),b:m(n[3]+n[3]),format:t?"name":"hex"}}(e):e)&&(w(e.r)&&w(e.g)&&w(e.b)?(l=e.r,u=e.g,c=e.b,p={r:255*h(l,255),g:255*h(u,255),b:255*h(c,255)},_=!0,S="%"===String(e.r).substr(-1)?"prgb":"rgb"):w(e.h)&&w(e.s)&&w(e.v)?(c=x=d(e.s),r=l=d(e.v),u=6*h(u=e.h,360),c=h(c,100),p={r:255*[r=h(r,100),s=r*(1-(u-=o=Math.floor(u))*c),a=r*(1-c),a,u=r*(1-(1-u)*c),r][c=o%6],g:255*[u,r,r,s,a,a][c],b:255*[a,a,u,r,r,s][c]},_=!0,S="hsv"):w(e.h)&&w(e.s)&&w(e.l)&&(r=x=d(e.s),s=o=d(e.l),a=h(a=e.h,360),r=h(r,100),s=h(s,100),0===r?t=i=n=s:(t=f(r=2*s-(s=s<.5?s*(1+r):s+r-s*r),s,a+1/3),n=f(r,s,a),i=f(r,s,a-1/3)),p={r:255*t,g:255*n,b:255*i},_=!0,S="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(v=e.a)),x=v,x=parseFloat(x),v=x=isNaN(x)||x<0||1<x?1:x,{ok:_,format:e.format||S,r:Math.min(255,Math.max(p.r,0)),g:Math.min(255,Math.max(p.g,0)),b:Math.min(255,Math.max(p.b,0)),a:v}}t="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")");var x="[\\s|\\(]+(".concat(t,")[,|\\s]+(").concat(t,")[,|\\s]+(").concat(t,")\\s*\\)?"),_="[\\s|\\(]+(".concat(t,")[,|\\s]+(").concat(t,")[,|\\s]+(").concat(t,")[,|\\s]+(").concat(t,")\\s*\\)?"),b={CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+x),rgba:new RegExp("rgba"+_),hsl:new RegExp("hsl"+x),hsla:new RegExp("hsla"+_),hsv:new RegExp("hsv"+x),hsva:new RegExp("hsva"+_),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function w(e){return Boolean(b.CSS_UNIT.exec(String(e)))}var S=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function A(e){return e=function(e,t,n){e=h(e,255),t=h(t,255),n=h(n,255);var i=Math.max(e,t,n),r=Math.min(e,t,n),o=0,a=i,s=i-r,l=0===i?0:s/i;if(i===r)o=0;else{switch(i){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4}o/=6}return{h:o,s:l,v:a}}(e.r,e.g,e.b),{h:360*e.h,s:e.s,v:e.v}}function M(e){var t=e.r,n=e.g;e=e.b;return"#".concat((!1,(t=[p(Math.round(t).toString(16)),p(Math.round(n).toString(16)),p(Math.round(e).toString(16))]).join("")))}function C(e,t,n){return(n=60<=Math.round(e.h)&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?n+=360:360<=n&&(n-=360),n}function T(e,t,n){return 0===e.h&&0===e.s?e.s:(1<(e=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)&&(e=1),(e=n&&5===t&&.1<e?.1:e)<.06&&(e=.06),Number(e.toFixed(2)))}function I(e,t,n){return 1<(n=n?e.v+.05*t:e.v-.15*t)&&(n=1),Number(n.toFixed(2))}function k(e,t){for(var n=1<arguments.length&&void 0!==t?t:{},i=[],r=v(e),o=5;0<o;--o){var a=M(v({h:C(a=A(r),o,!0),s:T(a,o,!0),v:I(a,o,!0)}));i.push(a)}i.push(M(r));for(var s=1;s<=4;s+=1){var l=M(v({h:C(l=A(r),s),s:T(l,s),v:I(l,s)}));i.push(l)}return"dark"===n.theme?S.map((function(e){var t,r=e.index;e=e.opacity;return M((t=v(n.backgroundColor||"#141414"),e*=100,e/=100,{r:((r=v(i[r])).r-t.r)*e+t.r,g:(r.g-t.g)*e+t.g,b:(r.b-t.b)*e+t.b}))})):i}var D={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},B={},E={},P=(Object.keys(D).forEach((function(e){B[e]=k(D[e]),B[e].primary=B[e][5],E[e]=k(D[e],{theme:"dark",backgroundColor:"#141414"}),E[e].primary=E[e][5]})),B.red,B.volcano,B.gold,B.orange,B.yellow,B.lime,B.green,B.cyan,B.blue,B.geekblue,B.purple,B.magenta,B.grey,n(2359)),L=n(1172);function R(e){return"object"===(0,c.Z)(e)&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"===(0,c.Z)(e.icon)||"function"==typeof e.icon)}function O(e){var t=0<arguments.length&&void 0!==e?e:{};return Object.keys(t).reduce((function(e,n){var i=t[n];return"class"===n?(e.className=i,delete e.class):e[n]=i,e}),{})}function F(e){return k(e)[0]}function N(e){return e?Array.isArray(e)?e:[e]:[]}var z="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",G=["icon","className","onClick","style","primaryColor","secondaryColor"],H={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function V(e){var t=e.icon,n=e.className,r=e.onClick,o=e.style,l=e.primaryColor,c=e.secondaryColor,h=(e=(0,a.Z)(e,G),H);return l&&(h={primaryColor:l,secondaryColor:c||F(l)}),function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:z,t=(0,s.useContext)(u).csp;(0,s.useEffect)((function(){(0,L.hq)(e,"@ant-design-icons",{prepend:!0,csp:t})}),[])}(),c=R(t),l="icon should be icon definiton, but got ".concat(t),(0,P.ZP)(c,"[@ant-design/icons] ".concat(l)),R(t)?function e(t,n,r){return r?s.createElement(t.tag,(0,i.Z)((0,i.Z)({key:n},O(t.attrs)),r),(t.children||[]).map((function(i,r){return e(i,"".concat(n,"-").concat(t.tag,"-").concat(r))}))):s.createElement(t.tag,(0,i.Z)({key:n},O(t.attrs)),(t.children||[]).map((function(i,r){return e(i,"".concat(n,"-").concat(t.tag,"-").concat(r))})))}((c=(c=t)&&"function"==typeof c.icon?(0,i.Z)((0,i.Z)({},c),{},{icon:c.icon(h.primaryColor,h.secondaryColor)}):c).icon,"svg-".concat(c.name),(0,i.Z)({className:n,onClick:r,style:o,"data-icon":c.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},e)):null}V.displayName="IconReact",V.getTwoToneColors=function(){return(0,i.Z)({},H)},V.setTwoToneColors=function(e){var t=e.primaryColor;e=e.secondaryColor;H.primaryColor=t,H.secondaryColor=e||F(t),H.calculated=!!e};var U=V;function Z(e){e=N(e);var t=(e=(0,r.Z)(e,2))[0];e=e[1];return U.setTwoToneColors({primaryColor:t,secondaryColor:e})}var W=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"],j=(t=(Z("#1890ff"),s.forwardRef((function(e,t){var n=e.className,c=e.icon,h=e.spin,d=e.rotate,p=e.tabIndex,f=e.onClick,g=e.twoToneColor,m=(e=(0,a.Z)(e,W),void 0===(m=s.useContext(u).prefixCls)?"anticon":m),y=(m=l()(m,((0,o.Z)(y={},"".concat(m,"-").concat(c.name),!!c.name),(0,o.Z)(y,"".concat(m,"-spin"),!!h||"loading"===c.name),y),n),h=p,void 0===p&&f&&(h=-1),d?{msTransform:"rotate(".concat(d,"deg)"),transform:"rotate(".concat(d,"deg)")}:void 0);n=N(g),d=(p=(0,r.Z)(n,2))[0],g=p[1];return s.createElement("span",(0,i.Z)((0,i.Z)({role:"img","aria-label":c.name},e),{},{ref:t,tabIndex:h,onClick:f,className:m}),s.createElement(U,{icon:c,primaryColor:d,secondaryColor:g,style:y}))}))),t.displayName="AntdIcon",t.getTwoToneColor=function(){var e=U.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},t.setTwoToneColor=Z,t)},6841:function(e,t,n){"use strict";function i(e,t){return o.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:a}))}n.d(t,{Z:function(){return l}});var r=n(1413),o=n(9867),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M632 888H392c-4.4 0-8 3.6-8 8v32c0 17.7 14.3 32 32 32h192c17.7 0 32-14.3 32-32v-32c0-4.4-3.6-8-8-8zM512 64c-181.1 0-328 146.9-328 328 0 121.4 66 227.4 164 284.1V792c0 17.7 14.3 32 32 32h264c17.7 0 32-14.3 32-32V676.1c98-56.7 164-162.7 164-284.1 0-181.1-146.9-328-328-328zm127.9 549.8L604 634.6V752H420V634.6l-35.9-20.8C305.4 568.3 256 484.5 256 392c0-141.4 114.6-256 256-256s256 114.6 256 256c0 92.5-49.4 176.3-128.1 221.8z"}}]},name:"bulb",theme:"outlined"},s=n(3647),l=(i.displayName="BulbOutlined",o.forwardRef(i))},3514:function(e,t,n){"use strict";function i(e,t){return o.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:a}))}n.d(t,{Z:function(){return l}});var r=n(1413),o=n(9867),a={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M689 165.1L308.2 493.5c-10.9 9.4-10.9 27.5 0 37L689 858.9c14.2 12.2 35 1.2 35-18.5V183.6c0-19.7-20.8-30.7-35-18.5z"}}]},name:"caret-left",theme:"outlined"},s=n(3647),l=(i.displayName="CaretLeftOutlined",o.forwardRef(i))},6746:function(e,t,n){"use strict";function i(e,t){return o.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:a}))}n.d(t,{Z:function(){return l}});var r=n(1413),o=n(9867),a={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"},s=n(3647),l=(i.displayName="CaretRightOutlined",o.forwardRef(i))},204:function(e,t,n){"use strict";function i(e,t){return o.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:a}))}n.d(t,{Z:function(){return l}});var r=n(1413),o=n(9867),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},s=n(3647),l=(i.displayName="DoubleLeftOutlined",o.forwardRef(i))},6442:function(e,t,n){"use strict";function i(e,t){return o.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:a}))}n.d(t,{Z:function(){return l}});var r=n(1413),o=n(9867),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},s=n(3647),l=(i.displayName="DoubleRightOutlined",o.forwardRef(i))},727:function(e,t,n){"use strict";function i(e,t){return o.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:a}))}n.d(t,{Z:function(){return l}});var r=n(1413),o=n(9867),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M705.6 124.9a8 8 0 00-11.6 7.2v64.2c0 5.5 2.9 10.6 7.5 13.6a352.2 352.2 0 0162.2 49.8c32.7 32.8 58.4 70.9 76.3 113.3a355 355 0 0127.9 138.7c0 48.1-9.4 94.8-27.9 138.7a355.92 355.92 0 01-76.3 113.3 353.06 353.06 0 01-113.2 76.4c-43.8 18.6-90.5 28-138.5 28s-94.7-9.4-138.5-28a353.06 353.06 0 01-113.2-76.4A355.92 355.92 0 01184 650.4a355 355 0 01-27.9-138.7c0-48.1 9.4-94.8 27.9-138.7 17.9-42.4 43.6-80.5 76.3-113.3 19-19 39.8-35.6 62.2-49.8 4.7-2.9 7.5-8.1 7.5-13.6V132c0-6-6.3-9.8-11.6-7.2C178.5 195.2 82 339.3 80 506.3 77.2 745.1 272.5 943.5 511.2 944c239 .5 432.8-193.3 432.8-432.4 0-169.2-97-315.7-238.4-386.7zM480 560h64c4.4 0 8-3.6 8-8V88c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v464c0 4.4 3.6 8 8 8z"}}]},name:"poweroff",theme:"outlined"},s=n(3647),l=(i.displayName="PoweroffOutlined",o.forwardRef(i))},1190:function(e,t,n){"use strict";n.d(t,{He:function(){return g},Ld:function(){return I},eC:function(){return v},f3:function(){return f},iG:function(){return y},sb:function(){return S},ys:function(){return p}});var i=n(9439),r=n(8301),o=n(1120),a=n(136),s=n(9388),l=n(5671),u=n(3144),c=n(7611),h=n(9867),d=Symbol.for("Animated:node"),p=function(e){return e&&e[d]},f=function(e,t){return(0,c.dE)(e,d,t)},g=function(e){return e&&e[d]&&e[d].getPayload()},m=function(){function e(){(0,l.Z)(this,e),this.payload=void 0,f(this,this)}return(0,u.Z)(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),y=function(){(0,a.Z)(t,m);var e=(0,s.Z)(t);function t(n){var i;return(0,l.Z)(this,t),(i=e.call(this)).done=!0,i.elapsedTime=void 0,i.lastPosition=void 0,i.lastVelocity=void 0,i.v0=void 0,i.durationProgress=0,i._value=n,c.is.num(i._value)&&(i.lastPosition=i._value),i}return(0,u.Z)(t,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return c.is.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,c.is.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e){return new t(e)}}]),t}(),v=function(){(0,a.Z)(t,y);var e=(0,s.Z)(t);function t(n){var i;return(0,l.Z)(this,t),(i=e.call(this,0))._string=null,i._toString=void 0,i._toString=(0,c.mD)({output:[n,n]}),i}return(0,u.Z)(t,[{key:"getValue",value:function(){var e=this._string;return null==e?this._string=this._toString(this._value):e}},{key:"setValue",value:function(e){if(c.is.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!(0,r.Z)((0,o.Z)(t.prototype),"setValue",this).call(this,e))return!1;this._string=null}return!0}},{key:"reset",value:function(e){e&&(this._toString=(0,c.mD)({output:[this.getValue(),e]})),(this._value=0,r.Z)((0,o.Z)(t.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){return new t(e)}}]),t}(),x={dependencies:null},_=function(){(0,a.Z)(t,m);var e=(0,s.Z)(t);function t(n){var i;return(0,l.Z)(this,t),(i=e.call(this)).source=n,i.setValue(n),i}return(0,u.Z)(t,[{key:"getValue",value:function(e){var t={};return(0,c.rU)(this.source,(function(n,i){var r;(r=n)&&r[d]===r?t[i]=n.getValue(e):(0,c.j$)(n)?t[i]=(0,c.je)(n):e||(t[i]=n)})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&(0,c.S6)(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){var t;if(e)return t=new Set,(0,c.rU)(e,this._addToPayload,t),Array.from(t)}},{key:"_addToPayload",value:function(e){var t=this;(e=(x.dependencies&&(0,c.j$)(e)&&x.dependencies.add(e),g(e)))&&(0,c.S6)(e,(function(e){return t.add(e)}))}}]),t}(),b=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){return(0,l.Z)(this,n),t.call(this,e)}return(0,u.Z)(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();return e.length==t.length?t.map((function(t,n){return t.setValue(e[n])})).some(Boolean):((0,r.Z)((0,o.Z)(n.prototype),"setValue",this).call(this,e.map(w)),!0)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(_);function w(e){return((0,c.Df)(e)?v:y).create(e)}function S(e){var t=p(e);return t?t.constructor:c.is.arr(e)?b:(0,c.Df)(e)?v:y}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function M(e,t){var n=!c.is.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,h.forwardRef)((function(r,o){function a(){var e=s.current;n&&!e||!1===(!!e&&t.applyAnimatedValues(e,u.getValue(!0)))&&p()}var s=(0,h.useRef)(null),l=n&&(0,h.useCallback)((function(e){s.current=function(e,t){return e&&(c.is.fun(e)?e(t):e.current=t),t}(o,e)}),[o]),u=(r=function(e,t){var n=new Set;return x.dependencies=n,e.style&&(e=A({},e,{style:t.createAnimatedStyle(e.style)})),e=new _(e),x.dependencies=null,[e,n]}(r,t),(r=(0,i.Z)(r,2))[0]),d=r[1],p=(0,c.NW)(),f=new C(a,d),g=(0,h.useRef)();(0,c.bt)((function(){return g.current=f,(0,c.S6)(d,(function(e){return(0,c.UI)(e,f)})),function(){g.current&&((0,c.S6)(g.current.deps,(function(e){return(0,c.iL)(e,g.current)})),c.Wn.cancel(g.current.update))}})),(0,h.useEffect)(a,[]),(0,c.tf)((function(){return function(){var e=g.current;(0,c.S6)(e.deps,(function(t){return(0,c.iL)(t,e)}))}})),r=t.getComponentProps(u.getValue());return h.createElement(e,A({},r,{ref:l}))}))}var C=function(){function e(t,n){(0,l.Z)(this,e),this.update=t,this.deps=n}return(0,u.Z)(e,[{key:"eventObserved",value:function(e){"change"==e.type&&c.Wn.write(this.update)}}]),e}(),T=Symbol.for("AnimatedComponent"),I=function(e){function t(e){var n=k(e)||"Anonymous";return(e=c.is.str(e)?t[e]||(t[e]=M(e,o)):e[T]||(e[T]=M(e,o))).displayName="Animated(".concat(n,")"),e}var n,i=(n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).applyAnimatedValues,r=n.createAnimatedStyle,o={applyAnimatedValues:void 0===i?function(){return!1}:i,createAnimatedStyle:void 0===r?function(e){return new _(e)}:r,getComponentProps:void 0===(n=n.getComponentProps)?function(e){return e}:n};return(0,c.rU)(e,(function(n,i){c.is.arr(e)&&(i=k(n)),t[i]=t(n)})),{animated:t}},k=function(e){return c.is.str(e)?e:e&&c.is.str(e.displayName)?e.displayName:c.is.fun(e)&&e.name||null}},8623:function(e,t,n){"use strict";n.d(t,{Globals:function(){return m.OH},config:function(){return L},useSpring:function(){return ke}});var i=n(7326),r=n(3433),o=n(9439),a=n(8301),s=n(1120),l=n(136),u=n(9388),c=(t=n(8664),n(5861)),h=n(3144),d=n(5671),p=n(7762),f=n(7757),g=n.n(f),m=n(7611),y=n(9867),v=n(1190);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function _(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return m.is.fun(e)?e.apply(void 0,n):e}function b(e,t){return!0===e||!!(t&&e&&(m.is.fun(e)?e(t):(0,m.qo)(e).includes(t)))}function w(e,t){return m.is.obj(e)?t&&e[t]:e}function S(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0}function A(e){return e}function M(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:A,i=C,r=(e.default&&!0!==e.default&&(e=e.default,i=Object.keys(e)),{}),o=(0,p.Z)(i);try{for(o.s();!(t=o.n()).done;){var a=t.value,s=n(e[a],a);m.is.und(s)||(r[a]=s)}}catch(e){o.e(e)}finally{o.f()}return r}var C=["config","onProps","onStart","onChange","onPause","onResume","onRest"],T={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function I(e){var t,n=function(e){var t={},n=0;if((0,m.rU)(e,(function(e,i){T[i]||(t[i]=e,n++)})),n)return t}(e);return n?(t={to:n},(0,m.rU)(e,(function(e,i){return i in n||(t[i]=e)})),t):x({},e)}function k(e){return e=(0,m.je)(e),m.is.arr(e)?e.map(k):(0,m.Df)(e)?m.OH.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function D(e){for(var t in e)return!0;return!1}function B(e){return m.is.fun(e)||m.is.arr(e)&&m.is.obj(e[0])}function E(e,t){var n;null!=(n=e.ref)&&n.delete(e),null!=t&&t.delete(e)}function P(e,t){var n;t&&e.ref!==t&&(null!=(n=e.ref)&&n.delete(e),t.add(e),e.ref=t)}var L={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},R=(Math.PI,Math.PI,x({},L.default,{mass:1,damping:1,easing:function(e){return e},clamp:!1})),O=(0,h.Z)((function e(){(0,d.Z)(this,e),this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,R)}));function F(e,t){var n;m.is.und(t.decay)?(!(n=!m.is.und(t.tension)||!m.is.und(t.friction))&&m.is.und(t.frequency)&&m.is.und(t.damping)&&m.is.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)):e.duration=void 0}var N=[],z=(0,h.Z)((function e(){(0,d.Z)(this,e),this.changed=!1,this.values=N,this.toValues=null,this.fromValues=N,this.to=void 0,this.from=void 0,this.config=new O,this.immediate=!1}));function G(e,t){var n=t.key,i=t.props,r=t.defaultProps,o=t.state,a=t.actions;return new Promise((function(t,s){var l,u,c,h=b(null!=(c=i.cancel)?c:null==r?void 0:r.cancel,n);function d(){o.resumeQueue.add(p),o.timeouts.delete(u),u.cancel(),l=u.time-m.Wn.now()}function p(){0<l&&!m.OH.skipAnimation?(o.delayed=!0,u=m.Wn.setTimeout(f,l),o.pauseQueue.add(d),o.timeouts.add(u)):f()}function f(){o.delayed&&(o.delayed=!1),o.pauseQueue.delete(d),o.timeouts.delete(u),e<=(o.cancelId||0)&&(h=!0);try{a.start(x({},i,{callId:e,cancel:h}),t)}catch(t){s(t)}}h?f():(m.is.und(i.pause)||(o.paused=b(i.pause,n)),!0!==(c=null==r?void 0:r.pause)&&(c=o.paused||b(c,n)),l=_(i.delay||0,n),c?(o.resumeQueue.add(p),a.pause()):(a.resume(),p()))}))}function H(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?Z(e.get()):t.every((function(e){return e.noop}))?V(e.get()):U(e.get(),t.every((function(e){return e.finished})))}function V(e){return{value:e,noop:!0,finished:!0,cancelled:!1}}function U(e,t){return{value:e,finished:t,cancelled:2<arguments.length&&void 0!==arguments[2]&&arguments[2]}}function Z(e){return{value:e,cancelled:!0,finished:!1}}function W(e,t,n,i){var r=t.callId,o=t.parentId,a=t.onRest,s=n.asyncTo,l=n.promise;return o||e!==s||t.reset?n.promise=(0,c.Z)(g().mark((function u(){var h,d,f,y,v,_,b,w;return g().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(n.asyncId=r,n.asyncTo=e,h=M(t,(function(e,t){return"onRest"===t?void 0:e})),y=new Promise((function(e,t){return d=e,f=t})),v=function(e){var t=r<=(n.cancelId||0)&&Z(i)||r!==n.asyncId&&U(i,!1);if(t)throw e.result=t,f(e),e},_=function(e,t){var o=new $,a=new ee;return(0,c.Z)(g().mark((function s(){var l,u;return g().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(m.OH.skipAnimation)throw j(n),a.result=U(i,!1),f(a),a;s.next=5;break;case 5:return v(o),(l=m.is.obj(e)?x({},e):x({},t,{to:e})).parentId=r,(0,m.rU)(h,(function(e,t){m.is.und(l[t])&&(l[t]=e)})),s.next=11,i.start(l);case 11:if(u=s.sent,v(o),n.paused)return s.next=16,new Promise((function(e){n.resumeQueue.add(e)}));s.next=16;break;case 16:return s.abrupt("return",u);case 17:case"end":return s.stop()}}),s)})))()},m.OH.skipAnimation)return j(n),u.abrupt("return",U(i,!1));u.next=9;break;case 9:return u.prev=9,w=m.is.arr(e)?function(){var e=(0,c.Z)(g().mark((function e(t){var n,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,p.Z)(t),e.prev=1,n.s();case 3:if((i=n.n()).done){e.next=9;break}return i=i.value,e.next=7,_(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()(e):Promise.resolve(e(_,i.stop.bind(i))),u.next=13,Promise.all([w.then(d),y]);case 13:b=U(i.get(),!0,!1),u.next=27;break;case 16:if(u.prev=16,u.t0=u.catch(9),!(u.t0 instanceof $)){u.next=22;break}b=u.t0.result,u.next=27;break;case 22:if(!(u.t0 instanceof ee)){u.next=26;break}b=u.t0.result,u.next=27;break;case 26:throw u.t0;case 27:return u.prev=27,r==n.asyncId&&(n.asyncId=o,n.asyncTo=o?s:void 0,n.promise=o?l:void 0),u.finish(27);case 30:return m.is.fun(a)&&m.Wn.batchedUpdates((function(){a(b,i,i.item)})),u.abrupt("return",b);case 32:case"end":return u.stop()}}),u,null,[[9,16,27,30]])})))():l}function j(e,t){(0,m.yl)(e.timeouts,(function(e){return e.cancel()})),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}function X(e){return e instanceof ne}function Y(e){return 0<(1&e[ie])}function J(e){return 0<(2&e[ie])}function K(e){return 0<(4&e[ie])}function Q(e,t){t?e[ie]|=3:e[ie]&=-3}function q(e,t){t?e[ie]|=4:e[ie]&=-5}var $=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;return(0,d.Z)(this,n),(e=t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")).result=void 0,e}return(0,h.Z)(n)}((0,t.Z)(Error)),ee=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;return(0,d.Z)(this,n),(e=t.call(this,"SkipAnimationSignal")).result=void 0,e}return(0,h.Z)(n)}((0,t.Z)(Error)),te=1,ne=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;(0,d.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).id=te++,e.key=void 0,e._priority=0,e}return(0,h.Z)(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=(0,v.ys)(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m.OH.to(this,t)}},{key:"interpolate",value:function(){(0,m.LW)();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m.OH.to(this,t)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(e){1==e&&this._attach()}},{key:"observerRemoved",value:function(e){0==e&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(e){(0,m.k0)(this,{type:"change",parent:this,value:e,idle:1<arguments.length&&void 0!==arguments[1]&&arguments[1]})}},{key:"_onPriorityChange",value:function(e){this.idle||m.fT.sort(this),(0,m.k0)(this,{type:"priority",parent:this,priority:e})}}]),n}(m.B0),ie=Symbol.for("SpringPhase"),re=function(){(0,l.Z)(t,ne);var e=(0,u.Z)(t);function t(n,i){var r;return(0,d.Z)(this,t),(r=e.call(this)).key=void 0,r.animation=new z,r.queue=void 0,r.defaultProps={},r._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},r._pendingCalls=new Set,r._lastCallId=0,r._lastToId=0,r._memoizedDuration=0,m.is.und(n)&&m.is.und(i)||(i=m.is.obj(n)?x({},n):x({},i,{from:n}),m.is.und(i.default)&&(i.default=!0),r.start(i)),r}return(0,h.Z)(t,[{key:"idle",get:function(){return!(J(this)||this._state.asyncTo)||K(this)}},{key:"goal",get:function(){return(0,m.je)(this.animation.to)}},{key:"velocity",get:function(){var e=(0,v.ys)(this);return e instanceof v.iG?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}},{key:"hasAnimated",get:function(){return Y(this)}},{key:"isAnimating",get:function(){return J(this)}},{key:"isPaused",get:function(){return K(this)}},{key:"isDelayed",get:function(){return this._state.delayed}},{key:"advance",value:function(e){var t,n=this,i=!0,r=!1,o=this.animation,a=o.config,s=o.toValues,l=(0,v.He)(o.to),u=(!l&&(0,m.j$)(o.to)&&(s=(0,m.qo)((0,m.je)(o.to))),o.values.forEach((function(t,u){if(!t.done){var c=t.constructor==v.eC?1:l?l[u].lastPosition:s[u],h=c;if(!(x=o.immediate)){if(h=t.lastPosition,a.tension<=0)return void(t.done=!0);var d=t.elapsedTime+=e,p=o.fromValues[u],f=null!=t.v0?t.v0:t.v0=m.is.arr(a.velocity)?a.velocity[u]:a.velocity;if(m.is.und(a.duration))if(a.decay)var g=!0===a.decay?.998:a.decay,y=Math.exp(-(1-g)*d),x=(h=p+f/(1-g)*(1-y),Math.abs(t.lastPosition-h)<.1),_=f*y;else{_=null==t.lastVelocity?f:t.lastVelocity;for(var b=a.precision||(p==c?.005:Math.min(1,.001*Math.abs(c-p))),w=a.restVelocity||b/10,S=a.clamp?0:a.bounce,A=!m.is.und(S),M=p==c?0<t.v0:p<c,C=Math.ceil(+e),T=0;T<C&&(Math.abs(_)>w||!(x=Math.abs(c-h)<=b));++T)A&&(h==c||c<h==M)&&(_=-_*S,h=c),h+=+(_+=(1e-6*-a.tension*(h-c)+.001*-a.friction*_)/a.mass)}else g=1,0<a.duration&&(n._memoizedDuration!==a.duration&&(n._memoizedDuration=a.duration,0<t.durationProgress&&(t.elapsedTime=a.duration*t.durationProgress,d=t.elapsedTime+=e)),g=(a.progress||0)+d/n._memoizedDuration,t.durationProgress=g=1<g?1:g<0?0:g),_=((h=p+a.easing(g)*(c-p))-t.lastPosition)/e,x=1==g;t.lastVelocity=_,Number.isNaN(h)&&(x=!0)}(x=!(l&&!l[u].done)&&x)?t.done=!0:i=!1,t.setValue(h,a.round)&&(r=!0)}})),(0,v.ys)(this)),c=u.getValue();i?(c===(t=(0,m.je)(o.to))&&!r||a.decay?r&&a.decay&&this._onChange(c):(u.setValue(t),this._onChange(t)),this._stop()):r&&this._onChange(c)}},{key:"set",value:function(e){var t=this;return m.Wn.batchedUpdates((function(){t._stop(),t._focus(e),t._set(e)})),this}},{key:"pause",value:function(){this._update({pause:!0})}},{key:"resume",value:function(){this._update({pause:!1})}},{key:"finish",value:function(){var e,t,n,i=this;return J(this)&&(e=this.animation,t=e.to,n=e.config,m.Wn.batchedUpdates((function(){i._onStart(),n.decay||i._set(t,!1),i._stop()}))),this}},{key:"update",value:function(e){return(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(e,t){var n,i=this;return m.is.und(e)?(n=this.queue||[],this.queue=[]):n=[m.is.obj(e)?e:x({},t,{to:e})],Promise.all(n.map((function(e){return i._update(e)}))).then((function(e){return H(i,e)}))}},{key:"stop",value:function(e){var t=this,n=this.animation.to;return this._focus(this.get()),j(this._state,e&&this._lastCallId),m.Wn.batchedUpdates((function(){return t._stop(n,e)})),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"eventObserved",value:function(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t=this.key||"",n=e.to,i=e.from;t={to:n=null==(n=m.is.obj(n)?n[t]:n)||B(n)?void 0:n,from:i=null==(i=m.is.obj(i)?i[t]:i)?void 0:i};return Y(this)||(e.reverse&&(n=(e=[i,n])[0],i=e[1]),i=(0,m.je)(i),m.is.und(i)?(0,v.ys)(this)||this._set(n):this._set(i)),t}},{key:"_update",value:function(e,t){var n=this,i=x({},e),r=this.key,o=(e=this.defaultProps,i.default&&Object.assign(e,M(i,(function(e,t){return/^on/.test(t)?w(e,r):e}))),ce(this,i,"onProps"),he(this,"onProps",i,this),this._prepareNode(i));if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");var a=this._state;return G(++this._lastCallId,{key:r,props:i,defaultProps:e,state:a,actions:{pause:function(){K(n)||(q(n,!0),(0,m.bl)(a.pauseQueue),he(n,"onPause",U(n,oe(n,n.animation.to)),n))},resume:function(){K(n)&&(q(n,!1),J(n)&&n._resume(),(0,m.bl)(a.resumeQueue),he(n,"onResume",U(n,oe(n,n.animation.to)),n))},start:this._merge.bind(this,o)}}).then((function(e){if(i.loop&&e.finished&&(!t||!e.noop)){var r=ae(i);if(r)return n._update(r,!0)}return e}))}},{key:"_merge",value:function(e,t,n){var i=this;if(t.cancel)return this.stop(!0),n(Z(this));var r=!m.is.und(e.to),o=!m.is.und(e.from);if(r||o){if(!(t.callId>this._lastToId))return n(Z(this));this._lastToId=t.callId}var a=this.key,s=this.defaultProps,l=this.animation,u=l.to,c=l.from,h=void 0===(h=e.to)?u:h,d=(e=void 0===(e=e.from)?c:e,!o||r||t.default&&!m.is.und(h)||(h=e),t.reverse&&(h=(d=[e,h])[0],e=d[1]),!(0,m.Xy)(e,c)),p=((c=(d&&(l.from=e),e=(0,m.je)(e),!(0,m.Xy)(h,u)))&&this._focus(h),B(t.to)),f=l.config,g=f.decay,y=f.velocity;if((r||o)&&(f.velocity=0),t.config&&!p){var w,S=f;r=_(t.config,a);for(w in(A=t.config!==s.config?_(s.config,a):void 0)&&(F(A=x({},A),r),r=x({},A,r)),F(S,r),Object.assign(S,r),R)null==S[w]&&(S[w]=R[w]);var A=S.mass,M=(r=S.frequency,S.damping);m.is.und(r)||(r<.01&&(r=.01),M<0&&(M=0),S.tension=Math.pow(2*Math.PI/r,2)*A,S.friction=4*Math.PI*M*A/r)}if(!(M=(0,v.ys)(this))||m.is.und(h))return n(U(this,!0));var C=m.is.und(t.reset)?o&&!t.default:!m.is.und(e)&&b(t.reset,a);A=C?e:this.get(),r=k(h),o=m.is.num(r)||m.is.arr(r)||(0,m.Df)(r),e=!p&&(!o||b(s.immediate||t.immediate,a));if(c&&(o=(0,v.sb)(h))!==M.constructor){if(!e)throw Error("Cannot animate between ".concat(M.constructor.name," and ").concat(o.name,', as the "to" prop suggests'));M=this._set(r)}a=M.constructor;var T,I,D=!1;(o=(0,m.j$)(h))||(d=C||!Y(this)&&d,(c||d)&&(o=!(D=(0,m.Xy)(k(A),r))),((0,m.Xy)(l.immediate,e)||e)&&(0,m.Xy)(f.decay,g)&&(0,m.Xy)(f.velocity,y)||(o=!0)),D&&J(this)&&(l.changed&&!C?o=!0:o||this._stop(u)),p||((o||(0,m.j$)(u))&&(l.values=M.getPayload(),l.toValues=(0,m.j$)(h)?null:a==v.eC?[1]:(0,m.qo)(r)),l.immediate==e||(l.immediate=e)||C||this._set(u),o&&(T=l.onRest,(0,m.S6)(ue,(function(e){return ce(i,t,e)})),I=U(this,oe(this,u)),(0,m.bl)(this._pendingCalls,I),this._pendingCalls.add(n),l.changed&&m.Wn.batchedUpdates((function(){l.changed=!C,null!=T&&T(I,i),C?_(s.onRest,I):null!=l.onStart&&l.onStart(I,i)})))),C&&this._set(A),p?n(W(t.to,t,this._state,this)):o?this._start():J(this)&&!c?this._pendingCalls.add(n):n(V(A))}},{key:"_focus",value:function(e){var t=this.animation;e!==t.to&&((0,m.Ll)(this)&&this._detach(),t.to=e,(0,m.Ll)(this)&&this._attach())}},{key:"_attach",value:function(){var e=0,t=this.animation.to;(0,m.j$)(t)&&((0,m.UI)(t,this),X(t)&&(e=t.priority+1)),this.priority=e}},{key:"_detach",value:function(){var e=this.animation.to;(0,m.j$)(e)&&(0,m.iL)(e,this)}},{key:"_set",value:function(e){var t,n=this,i=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=(0,m.je)(e);return m.is.und(r)||(e=(0,v.ys)(this))&&(0,m.Xy)(r,e.getValue())||(t=(0,v.sb)(r),e&&e.constructor==t?e.setValue(r):(0,v.f3)(this,t.create(r)),e&&m.Wn.batchedUpdates((function(){n._onChange(r,i)}))),(0,v.ys)(this)}},{key:"_onStart",value:function(){var e=this.animation;e.changed||(e.changed=!0,he(this,"onStart",U(this,oe(this,e.to)),this))}},{key:"_onChange",value:function(e,n){n||(this._onStart(),_(this.animation.onChange,e,this)),_(this.defaultProps.onChange,e,this),(0,a.Z)((0,s.Z)(t.prototype),"_onChange",this).call(this,e,n)}},{key:"_start",value:function(){var e=this.animation;(0,v.ys)(this).reset((0,m.je)(e.to)),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),J(this)||(Q(this,!0),K(this)||this._resume())}},{key:"_resume",value:function(){m.OH.skipAnimation?this.finish():m.fT.start(this)}},{key:"_stop",value:function(e,t){var n;J(this)&&(Q(this,!1),n=this.animation,(0,m.S6)(n.values,(function(e){e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),(0,m.k0)(this,{type:"idle",parent:this}),t=t?Z(this.get()):U(this.get(),oe(this,null!=e?e:n.to)),(0,m.bl)(this._pendingCalls,t),n.changed&&(n.changed=!1,he(this,"onRest",t,this)))}}]),t}();function oe(e,t){return t=k(t),e=k(e.get()),(0,m.Xy)(e,t)}function ae(e,t,n){t=1<arguments.length&&void 0!==t?t:e.loop,n=2<arguments.length&&void 0!==n?n:e.to;var i,r,o=_(t);if(o)return i=((o=!0!==o&&I(o))||e).reverse,r=!o||o.reset,se(x({},e,{loop:t,default:!1,pause:void 0,to:!i||B(n)?n:void 0,from:r?e.from:void 0,reset:r},o))}function se(e){var t=(n=e=I(e)).to,n=n.from,i=new Set;return m.is.obj(t)&&le(t,i),m.is.obj(n)&&le(n,i),e.keys=i.size?Array.from(i):null,e}function le(e,t){(0,m.rU)(e,(function(e,n){return null!=e&&t.add(n)}))}var ue=["onStart","onRest","onChange","onPause","onResume"];function ce(e,t,n){e.animation[n]=t[n]!==S(t,n)?w(t[n],e.key):void 0}function he(e,t){for(var n,i,r=arguments.length,o=new Array(2<r?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];null!=(i=(n=e.animation)[t])&&i.call.apply(i,[n].concat(o)),null!=(n=(i=e.defaultProps)[t])&&n.call.apply(n,[i].concat(o))}var de=["onStart","onChange","onRest"],pe=1,fe=function(){function e(t,n){(0,d.Z)(this,e),this.id=pe++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(x({default:!0},t))}return(0,h.Z)(e,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle&&!e.isDelayed&&!e.isPaused}))}},{key:"item",get:function(){return this._item},set:function(e){this._item=e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"set",value:function(e){for(var t in e){var n=e[t];m.is.und(n)||this.springs[t].set(n)}}},{key:"update",value:function(e){return e&&this.queue.push(se(e)),this}},{key:"start",value:function(e){var t=this.queue;return e?t=(0,m.qo)(e).map(se):this.queue=[],this._flush?this._flush(this,t):(we(this,t),ge(this,t))}},{key:"stop",value:function(e,t){var n;return(t=e!==!!e?e:t)?(n=this.springs,(0,m.S6)((0,m.qo)(t),(function(t){return n[t].stop(!!e)}))):(j(this._state,this._lastAsyncId),this.each((function(t){return t.stop(!!e)}))),this}},{key:"pause",value:function(e){var t;return m.is.und(e)?this.start({pause:!0}):(t=this.springs,(0,m.S6)((0,m.qo)(e),(function(e){return t[e].pause()}))),this}},{key:"resume",value:function(e){var t;return m.is.und(e)?this.start({pause:!1}):(t=this.springs,(0,m.S6)((0,m.qo)(e),(function(e){return t[e].resume()}))),this}},{key:"each",value:function(e){(0,m.rU)(this.springs,e)}},{key:"_onFrame",value:function(){var e=this,t=(i=this._events).onStart,n=i.onChange,i=i.onRest,r=0<this._active.size,a=0<this._changed.size,s=(t=((r&&!this._started||a&&!this._started)&&(this._started=!0,(0,m.yl)(t,(function(t){var n=(t=(0,o.Z)(t,2))[0];(t=t[1]).value=e.get(),n(t,e,e._item)}))),!r&&this._started),a||t&&i.size?this.get():null);a&&n.size&&(0,m.yl)(n,(function(t){var n=(t=(0,o.Z)(t,2))[0];(t=t[1]).value=s,n(t,e,e._item)})),t&&(this._started=!1,m.yl)(i,(function(t){var n=(t=(0,o.Z)(t,2))[0];(t=t[1]).value=s,n(t,e,e._item)}))}},{key:"eventObserved",value:function(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}m.Wn.onFrame(this._onFrame)}}]),e}();function ge(e,t){return Promise.all(t.map((function(t){return me(e,t)}))).then((function(t){return H(e,t)}))}function me(){return ye.apply(this,arguments)}function ye(){return(ye=(0,c.Z)(g().mark((function e(t,n,i){var r,o,a,s,l,u,c,h,d,p,f;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=n.keys,r=n.to,h=n.from,o=n.loop,a=n.onRest,s=n.onResolve,l=m.is.obj(n.default)&&n.default,o&&(n.loop=!1),!1===r&&(n.to=null),!1===h&&(n.from=null),(u=m.is.arr(r)||m.is.fun(r)?r:void 0)?(n.to=void 0,n.onRest=void 0,l&&(l.onRest=void 0)):(0,m.S6)(de,(function(e){var i,r=n[e];m.is.fun(r)&&(i=t._events[e],n[e]=function(e){var t=e.finished,n=(e=e.cancelled,i.get(r));n?(t||(n.finished=!1),e&&(n.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:e||!1})},l&&(l[e]=n[e]))})),c=t._state,n.pause===!c.paused?(c.paused=n.pause,(0,m.bl)(n.pause?c.pauseQueue:c.resumeQueue)):c.paused&&(n.pause=!0),h=(f||Object.keys(t.springs)).map((function(e){return t.springs[e].start(n)})),d=!0===n.cancel||!0===S(n,"cancel"),(u||d&&c.asyncId)&&h.push(G(++t._lastAsyncId,{props:n,state:c,actions:{pause:m.ZT,resume:m.ZT,start:function(e,n){d?(j(c,t._lastAsyncId),n(Z(t))):(e.onRest=a,n(W(u,e,c,t)))}}})),c.paused)return e.next=15,new Promise((function(e){c.resumeQueue.add(e)}));e.next=15;break;case 15:return e.t0=H,e.t1=t,e.next=19,Promise.all(h);case 19:if(e.t2=e.sent,p=(0,e.t0)(e.t1,e.t2),!o||!p.finished||i&&p.noop){e.next=26;break}if(f=ae(n,o,r))return we(t,[f]),e.abrupt("return",me(t,f,!0));e.next=26;break;case 26:return s&&m.Wn.batchedUpdates((function(){return s(p,t,t.item)})),e.abrupt("return",p);case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e,t){var n=x({},e.springs);return t&&(0,m.S6)((0,m.qo)(t),(function(e){m.is.und(e.keys)&&(e=se(e)),m.is.obj(e.to)||(e=x({},e,{to:void 0})),be(n,e,(function(e){return _e(e)}))})),xe(e,n),n}function xe(e,t){(0,m.rU)(t,(function(t,n){e.springs[n]||(e.springs[n]=t,(0,m.UI)(t,e))}))}function _e(e,t){var n=new re;return n.key=e,t&&(0,m.UI)(n,t),n}function be(e,t,n){t.keys&&(0,m.S6)(t.keys,(function(i){(e[i]||(e[i]=n(i)))._prepareNode(t)}))}function we(e,t){(0,m.S6)(t,(function(t){be(e.springs,t,(function(t){return _e(t,e)}))}))}var Se=["children"],Ae=function(e){var t=e.children,n=(e=function(e,t){if(null==e)return{};for(var n,i={},r=Object.keys(e),o=0;o<r.length;o++)n=r[o],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,Se),(0,y.useContext)(Me)),i=e.pause||!!n.pause,r=e.immediate||!!n.immediate;e=(0,m.Pr)((function(){return{pause:i,immediate:r}}),[i,r]),n=Me.Provider;return y.createElement(n,{value:e},t)},Me=(f=Ae,n={},Object.assign(f,y.createContext(n)),(f.Provider._context=f).Consumer._context=f);Ae.Provider=Me.Provider,Ae.Consumer=Me.Consumer;var Ce,Te=function(){var e,t=[],n=((e=function(e){(0,m.ZR)();var i=[];return(0,m.S6)(t,(function(t,r){m.is.und(e)?i.push(t.start()):(r=n(e,t,r))&&i.push(t.start(r))})),i}).current=t,e.add=function(e){t.includes(e)||t.push(e)},e.delete=function(e){~(e=t.indexOf(e))&&t.splice(e,1)},e.pause=function(){var e=arguments;return(0,m.S6)(t,(function(t){return t.pause.apply(t,(0,r.Z)(e))})),this},e.resume=function(){var e=arguments;return(0,m.S6)(t,(function(t){return t.resume.apply(t,(0,r.Z)(e))})),this},e.set=function(e){(0,m.S6)(t,(function(t){return t.set(e)}))},e.start=function(e){var n=this,i=[];return(0,m.S6)(t,(function(t,r){m.is.und(e)?i.push(t.start()):(r=n._getProps(e,t,r))&&i.push(t.start(r))})),i},e.stop=function(){var e=arguments;return(0,m.S6)(t,(function(t){return t.stop.apply(t,(0,r.Z)(e))})),this},e.update=function(e){var n=this;return(0,m.S6)(t,(function(t,i){return t.update(n._getProps(e,t,i))})),this},function(e,t,n){return m.is.fun(e)?e(n,t):e});return e._getProps=n,e};function Ie(e,t,n){var i=arguments,o=m.is.fun(t)&&t,a=(o&&!n&&(n=[]),(0,y.useMemo)((function(){return o||3==i.length?Te():void 0}),[])),s=(0,y.useRef)(0),l=(0,m.NW)(),u=(0,y.useMemo)((function(){return{ctrls:[],queue:[],flush:function(e,t){var n=ve(e,t);return 0<s.current&&!u.queue.length&&!Object.keys(n).some((function(t){return!e.springs[t]}))?ge(e,t):new Promise((function(i){xe(e,n),u.queue.push((function(){i(ge(e,t))})),l()}))}}}),[]),c=(0,y.useRef)((0,r.Z)(u.ctrls)),h=[],d=(0,m.zH)(e)||0;function p(e,n){for(var i=e;i<n;i++){var r=c.current[i]||(c.current[i]=new fe(null,u.flush));(r=o?o(i,r):t[i])&&(h[i]=(r=se(r),m.is.und(r.default)&&(r.default=M(r)),r))}}(0,y.useMemo)((function(){(0,m.S6)(c.current.slice(e,d),(function(e){E(e,a),e.stop(!0)})),c.current.length=e,p(d,e)}),[e]),(0,y.useMemo)((function(){p(0,Math.min(d,e))}),n);n=c.current.map((function(e,t){return ve(e,h[t])}));var f=(0,y.useContext)(Ae),g=(0,m.zH)(f),v=f!==g&&D(f);(0,m.bt)((function(){s.current++,u.ctrls=c.current;var e=u.queue;e.length&&(u.queue=[],(0,m.S6)(e,(function(e){return e()}))),(0,m.S6)(c.current,(function(e,t){null!=a&&a.add(e),v&&e.start({default:f}),(t=h[t])&&(P(e,t.ref),e.ref?e.queue.push(t):e.start(t))}))})),(0,m.tf)((function(){return function(){(0,m.S6)(u.ctrls,(function(e){return e.stop(!0)}))}})),g=n.map((function(e){return x({},e)}));return a?[g,a]:g}function ke(e,t){var n=m.is.fun(e);e=Ie(1,n?e:[e],n?t||[]:t),t=(0,o.Z)(e,2),e=(0,o.Z)(t[0],1)[0],t=t[1];return n||2==arguments.length?[e,t]:e}(t=Ce=Ce||{}).MOUNT="mount",t.ENTER="enter",t.UPDATE="update",t.LEAVE="leave";var De=function(){(0,l.Z)(t,ne);var e=(0,u.Z)(t);function t(n,o){(0,d.Z)(this,t),(a=e.call(this)).key=void 0,a.idle=!0,a.calc=void 0,a._active=new Set,a.source=n,a.calc=m.mD.apply(void 0,(0,r.Z)(o));var a;n=a._get(),o=(0,v.sb)(n);return(0,v.f3)((0,i.Z)(a),o.create(n)),a}return(0,h.Z)(t,[{key:"advance",value:function(e){var t=this._get(),n=this.get();(0,m.Xy)(t,n)||((0,v.ys)(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Ee(this._active)&&Pe(this)}},{key:"_get",value:function(){var e=m.is.arr(this.source)?this.source.map(m.je):(0,m.qo)((0,m.je)(this.source));return this.calc.apply(this,(0,r.Z)(e))}},{key:"_start",value:function(){var e=this;this.idle&&!Ee(this._active)&&((this.idle=!1,m.S6)((0,v.He)(this),(function(e){e.done=!1})),m.OH.skipAnimation?(m.Wn.batchedUpdates((function(){return e.advance()})),Pe(this)):m.fT.start(this))}},{key:"_attach",value:function(){var e=this,t=1;(0,m.S6)((0,m.qo)(this.source),(function(n){(0,m.j$)(n)&&(0,m.UI)(n,e),X(n)&&(n.idle||e._active.add(n),t=Math.max(t,n.priority+1))})),this.priority=t,this._start()}},{key:"_detach",value:function(){var e=this;(0,m.S6)((0,m.qo)(this.source),(function(t){(0,m.j$)(t)&&(0,m.iL)(t,e)})),this._active.clear(),Pe(this)}},{key:"eventObserved",value:function(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=(0,m.qo)(this.source).reduce((function(e,t){return Math.max(e,(X(t)?t.priority:0)+1)}),0))}}]),t}();function Be(e){return!1!==e.idle}function Ee(e){return!e.size||Array.from(e).every(Be)}function Pe(e){e.idle||(e.idle=!0,(0,m.S6)((0,v.He)(e),(function(e){e.done=!0})),(0,m.k0)(e,{type:"idle",parent:e}))}m.OH.assign({createStringInterpolator:m.qS,to:function(e,t){return new De(e,t)}}),m.fT.advance},7611:function(e,t,n){"use strict";n.d(t,{B0:function(){return we},OH:function(){return G},UI:function(){return Ae},k0:function(){return be},O9:function(){return K},mD:function(){return fe},qS:function(){return Fe},dE:function(){return C},ZR:function(){return Ve},LW:function(){return Ge},S6:function(){return k},rU:function(){return D},yl:function(){return E},bl:function(){return R},fT:function(){return W},Ll:function(){return _e},je:function(){return xe},j$:function(){return ve},is:function(){return T},Df:function(){return Ue},Xy:function(){return I},ZT:function(){return M},Wn:function(){return s},iL:function(){return Me},qo:function(){return B},NW:function(){return We},bt:function(){return Ze},Pr:function(){return je},tf:function(){return Xe},zH:function(){return Je}});var i=n(9439),r=(t=n(3144),n(5671)),o=n(3433),a=w(),s=function(e){return v(e,a)},l=w(),u=(s.write=function(e){return v(e,l)},w()),c=(s.onStart=function(e){return v(e,u)},w()),h=(s.onFrame=function(e){return v(e,c)},w()),d=(s.onFinish=function(e){return v(e,h)},[]),p=(s.setTimeout=function(e,t){return e={time:t=s.now()+t,handler:e,cancel:function e(){var t=d.findIndex((function(t){return t.cancel==e}));~t&&d.splice(t,1),m-=~t?1:0}},d.splice(p(t),0,e),m+=1,x(),e},function(e){return~(~d.findIndex((function(t){return t.time>e}))||~d.length)}),f=(s.cancel=function(e){u.delete(e),c.delete(e),a.delete(e),l.delete(e),h.delete(e)},s.sync=function(e){y=!0,s.batchedUpdates(e),y=!1},s.throttle=function(e){var t;function n(){try{e.apply(void 0,(0,o.Z)(t))}finally{t=null}}function i(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];t=i,s.onStart(n)}return i.handler=e,i.cancel=function(){u.delete(n),t=null},i},"undefined"!=typeof window?window.requestAnimationFrame:function(){}),g=(s.use=function(e){return f=e},s.now="undefined"!=typeof performance?function(){return performance.now()}:Date.now,s.batchedUpdates=function(e){return e()},s.catch=console.error,s.frameLoop="always",s.advance=function(){"demand"===s.frameLoop&&b()},-1),m=0,y=!1;function v(e,t){y?(t.delete(e),e(0)):(t.add(e),x())}function x(){g<0&&(g=0,"demand"!==s.frameLoop&&f(_))}function _(){~g&&(f(_),s.batchedUpdates(b))}function b(){var e=g,t=(g=s.now(),p(g));t&&(S(d.splice(0,t),(function(e){e.handler()})),m-=t),u.flush(),a.flush(e?Math.min(64,g-e):16.667),c.flush(),l.flush(),h.flush(),m||(g=-1)}function w(){var e=new Set,t=e;return{add:function(n){m+=t!=e||e.has(n)?0:1,e.add(n)},delete:function(n){return m-=t==e&&e.has(n)?1:0,e.delete(n)},flush:function(n){t.size&&(e=new Set,m-=t.size,S(t,(function(t){t(n)&&e.add(t)})),m+=e.size,t=e)}}}function S(e,t){e.forEach((function(e){try{t(e)}catch(e){s.catch(e)}}))}var A=n(9867);function M(){}var C=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},T={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"==typeof e},str:function(e){return"string"==typeof e},num:function(e){return"number"==typeof e},und:function(e){return void 0===e}};function I(e,t){if(T.arr(e)){if(!T.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var k=function(e,t){return e.forEach(t)};function D(e,t,n){if(T.arr(e))for(var i=0;i<e.length;i++)t.call(n,e[i],"".concat(i));else for(var r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var B=function(e){return T.und(e)?[]:T.arr(e)?e:[e]};function E(e,t){var n;e.size&&(n=Array.from(e),e.clear(),k(n,t))}var P,L,R=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return E(e,(function(e){return e.apply(void 0,n)}))},O=function(){return"undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)},F=null,N=!1,z=M,G=Object.freeze({__proto__:null,get createStringInterpolator(){return P},get to(){return L},get colors(){return F},get skipAnimation(){return N},get willAdvance(){return z},assign:function(e){e.to&&(L=e.to),e.now&&(s.now=e.now),void 0!==e.colors&&(F=e.colors),null!=e.skipAnimation&&(N=e.skipAnimation),e.createStringInterpolator&&(P=e.createStringInterpolator),e.requestAnimationFrame&&s.use(e.requestAnimationFrame),e.batchedUpdates&&(s.batchedUpdates=e.batchedUpdates),e.willAdvance&&(z=e.willAdvance),e.frameLoop&&(s.frameLoop=e.frameLoop)}}),H=new Set,V=[],U=[],Z=0,W={get idle(){return!H.size&&!V.length},start:function(e){Z>e.priority?(H.add(e),s.onStart(j)):(X(e),s(J))},advance:J,sort:function(e){var t;Z?s.onFrame((function(){return W.sort(e)})):~(t=V.indexOf(e))&&(V.splice(t,1),Y(e))},clear:function(){V=[],H.clear()}};function j(){H.forEach(X),H.clear(),s(J)}function X(e){V.includes(e)||Y(e)}function Y(e){V.splice(function(e,t){return(t=e.findIndex(t))<0?e.length:t}(V,(function(t){return t.priority>e.priority})),0,e)}function J(e){for(var t=U,n=0;n<V.length;n++){var i=V[n];Z=i.priority,i.idle||(z(i),i.advance(e),i.idle||t.push(i))}return Z=0,((U=V).length=0)<(V=t).length}var K={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Q=(n="[-+]?\\d*\\.?\\d+")+"%";function q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var $=new RegExp("rgb"+q(n,n,n)),ee=new RegExp("rgba"+q(n,n,n,n)),te=new RegExp("hsl"+q(n,Q,Q)),ne=new RegExp("hsla"+q(n,Q,Q,n)),ie=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,re=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,oe=/^#([0-9a-fA-F]{6})$/,ae=/^#([0-9a-fA-F]{8})$/;function se(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function le(e,t,n){var i=se(n=2*n-(t=n<.5?n*(1+t):n+t-n*t),t,e+1/3),r=se(n,t,e);n=se(n,t,e-1/3);return Math.round(255*i)<<24|Math.round(255*r)<<16|Math.round(255*n)<<8}function ue(e){return(e=parseInt(e,10))<0?0:255<e?255:e}function ce(e){return(parseFloat(e)%360+360)%360/360}function he(e){return(e=parseFloat(e))<0?0:1<e?255:Math.round(255*e)}function de(e){return(e=parseFloat(e))<0?0:100<e?1:e/100}function pe(e){var t="number"==typeof(t=e)?t>>>0===t&&0<=t&&t<=4294967295?t:null:(n=oe.exec(t))?parseInt(n[1]+"ff",16)>>>0:F&&void 0!==F[t]?F[t]:(n=$.exec(t))?(ue(n[1])<<24|ue(n[2])<<16|ue(n[3])<<8|255)>>>0:(n=ee.exec(t))?(ue(n[1])<<24|ue(n[2])<<16|ue(n[3])<<8|he(n[4]))>>>0:(n=ie.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+"ff",16)>>>0:(n=ae.exec(t))?parseInt(n[1],16)>>>0:(n=re.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+n[4]+n[4],16)>>>0:(n=te.exec(t))?(255|le(ce(n[1]),de(n[2]),de(n[3])))>>>0:(n=ne.exec(t))?(le(ce(n[1]),de(n[2]),de(n[3]))|he(n[4]))>>>0:null;if(null===t)return e;var n=(16711680&(t=t||0))>>>16,i=(e=(65280&t)>>>8,(255&t)/255);return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(e,", ").concat(i,")")}var fe=function e(t,n,i){if(T.fun(t))return t;if(T.arr(t))return e({range:t,output:n,extrapolate:i});if(T.str(t.output[0]))return P(t);var r=t,o=r.output,a=r.range||[0,1],s=r.extrapolateLeft||r.extrapolate||"extend",l=r.extrapolateRight||r.extrapolate||"extend",u=r.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,a),n=a[t],i=a[t+1],c=o[t],h=(t=o[t+1],u),d=s,p=l,f=r.map;if((f=f?f(e):e)<n){if("identity"===d)return f;"clamp"===d&&(f=n)}if(i<f){if("identity"===p)return f;"clamp"===p&&(f=i)}return c===t?c:n===i?e<=n?c:t:(n===-1/0?f=-f:i===1/0?f-=n:f=(f-n)/(i-n),f=h(f),c===-1/0?f=-f:t===1/0?f+=c:f=f*(t-c)+c,f)}};function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var me=Symbol.for("FluidValue.get"),ye=Symbol.for("FluidValue.observers"),ve=function(e){return Boolean(e&&e[me])},xe=function(e){return e&&e[me]?e[me]():e},_e=function(e){return e[ye]||null};function be(e,t){(e=e[ye])&&e.forEach((function(e){var n;n=t,e.eventObserved?e.eventObserved(n):e(n)}))}var we=(0,t.Z)((function e(t){if((0,r.Z)(this,e),this[me]=void 0,this[ye]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");Se(this,t)})),Se=function(e,t){return De(e,me,t)};function Ae(e,t){var n;return e[me]&&((n=e[ye])||De(e,ye,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))),t}function Me(e,t){var n,i=e[ye];i&&i.has(t)&&((n=i.size-1)?i.delete(t):e[ye]=null,e.observerRemoved&&e.observerRemoved(n,t))}function Ce(e){var t=Oe(e),n=(t=(0,i.Z)(t,2))[0];t=t[1];return!n||O()?e:(n=window.getComputedStyle(document.documentElement).getPropertyValue(n))?n.trim():t&&t.startsWith("--")?window.getComputedStyle(document.documentElement).getPropertyValue(t)||e:t&&Re.test(t)?Ce(t):t||e}function Te(e,t,n,i,r){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(i),", ").concat(r,")")}function Ie(e){var t=e,n=!1;if("function"!=typeof t)throw new TypeError("".concat(Ne,"once requires a function parameter"));return function(){n||(t.apply(void 0,arguments),n=!0)}}var ke,De=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},Be=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Ee=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Pe=new RegExp("(".concat(Be.source,")(%|[a-z]+)"),"i"),Le=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Re=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Oe=function(e){return(e=Re.exec(e))?[(e=(0,i.Z)(e,3))[1],e[2]]:[,]},Fe=function(e){ke=ke||(F?new RegExp("(".concat(Object.keys(F).join("|"),")(?!\\w)"),"g"):/^\b$/);var t=e.output.map((function(e){return xe(e).replace(Re,Ce).replace(Ee,pe).replace(ke,pe)})),n=t.map((function(e){return e.match(Be).map(Number)})),i=n[0].map((function(e,t){return n.map((function(e){if(t in e)return e[t];throw Error('The arity of each "output" value must be equal')}))})).map((function(t){return fe(ge({},e,{output:t}))}));return function(e){var n,r=!Pe.test(t[0])&&(null==(n=t.find((function(e){return Pe.test(e)})))?void 0:n.replace(Be,"")),o=0;return t[0].replace(Be,(function(){return"".concat(i[o++](e)).concat(r||"")})).replace(Le,Te)}},Ne="react-spring: ",ze=Ie(console.warn);function Ge(){ze("".concat(Ne,'The "interpolate" function is deprecated in v9 (use "to" instead)'))}var He=Ie(console.warn);function Ve(){He("".concat(Ne,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'))}function Ue(e){return T.str(e)&&("#"==e[0]||/\d/.test(e)||!O()&&Re.test(e)||e in(F||{}))}var Ze="undefined"!=typeof window&&window.document&&window.document.createElement?A.useLayoutEffect:A.useEffect;function We(){var e=(0,A.useState)()[1],t=function(){var e=(0,A.useRef)(!1);return Ze((function(){return e.current=!0,function(){e.current=!1}}),[]),e}();return function(){t.current&&e(Math.random())}}function je(e,t){var n=(0,A.useState)((function(){return{inputs:t,result:e()}})),r=(0,i.Z)(n,1)[0],o=(0,A.useRef)(),a=o.current,s=a;return s?Boolean(t&&s.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,s.inputs))||(s={inputs:t,result:e()}):s=r,(0,A.useEffect)((function(){o.current=s,a==r&&(r.inputs=r.result=void 0)}),[s]),s.result}var Xe=function(e){return(0,A.useEffect)(e,Ye)},Ye=[];function Je(e){var t=(0,A.useRef)();return(0,A.useEffect)((function(){t.current=e})),t.current}},5211:function(e,t,n){"use strict";n.d(t,{animated:function(){return a},config:function(){return i.config},useSpring:function(){return i.useSpring}});t=n(1141);var i=n(8623),r=n(7611),o=n(1190);n=n(3391),n=["primitive"].concat(Object.keys(n).filter((function(e){return/^[A-Z]/.test(e)})).map((function(e){return e[0].toLowerCase()+e.slice(1)})));i.Globals.assign({createStringInterpolator:r.qS,colors:r.O9,frameLoop:"demand"}),(0,t.m)((function(){r.Wn.advance()}));var a=(0,o.Ld)(n,{applyAnimatedValues:t.i}).animated},9328:function(e,t,n){"use strict";n.d(t,{S:function(){return o}});var i=n(9867),r=n(1141);function o(e){var t=e.pixelated,n=(0,r.w)((function(e){return e.gl})),o=(0,r.w)((function(e){return e.internal.active})),a=(0,r.w)((function(e){return e.performance.current})),s=(0,r.w)((function(e){return e.viewport.initialDpr})),l=(0,r.w)((function(e){return e.setDpr}));return i.useEffect((function(){var e=n.domElement;return function(){o&&l(s),t&&e&&(e.style.imageRendering="auto")}}),[]),i.useEffect((function(){l(a*s),t&&n.domElement&&(n.domElement.style.imageRendering=1===a?"auto":"pixelated")}),[a]),null}},4270:function(e,t,n){"use strict";n.d(t,{E:function(){return o}});var i=n(9867),r=n(1141);function o(){var e=(0,r.w)((function(e){return e.get})),t=(0,r.w)((function(e){return e.setEvents})),n=(0,r.w)((function(e){return e.performance.current}));return i.useEffect((function(){var n=e().events.enabled;return function(){return t({enabled:n})}}),[]),i.useEffect((function(){return t({enabled:1===n})}),[n]),null}},47:function(e,t,n){"use strict";n.d(t,{_:function(){return u}});var i=n(9439),r=n(4925),o=n(3391),a=n(9867),s=n(1141),l=["children","fog","frames","resolution","near","far"];function u(e){var t=e.children,n=e.fog,u=void 0===(h=e.frames)?1/0:h,c=void 0===(h=e.resolution)?256:h,h=void 0===(h=e.near)?.1:h,d=void 0===(d=e.far)?1e3:d,p=(e=(0,r.Z)(e,l),a.useRef()),f=a.useState(null),g=(f=(0,i.Z)(f,2))[0],m=(f=f[1],(0,s.w)((function(e){return e.scene}))),y=(0,s.w)((function(e){return e.gl})),v=a.useMemo((function(){var e=new o.WebGLCubeRenderTarget(c);return e.texture.encoding=y.outputEncoding,e.texture.type=o.HalfFloatType,e}),[c]),x=0;return(0,s.x)((function(){var e;g&&p.current&&(u===1/0||x<u)&&(p.current.traverse((function(e){return e.visible=!1})),e=m.fog,m.fog=n||e,g.update(y,m),m.fog=e,p.current.traverse((function(e){return e.visible=!0})),x++)})),a.createElement("group",e,a.createElement("cubeCamera",{ref:f,args:[h,d,v]}),a.createElement("group",{ref:p},t(v.texture)))}},9202:function(e,t,n){"use strict";n.d(t,{qA:function(){return M}});var i=n(9439),r=n(4925),o=n(7462),a=n(9867),s=n(1141),l=n(3391),u=n(5671),c=n(3144),h=n(8301),d=n(1120),p=n(136),f=n(9388),g=function(e){(0,p.Z)(n,e);var t=(0,f.Z)(n);function n(e){return(0,u.Z)(this,n),(e=t.call(this,e)).type=l.HalfFloatType,e}return(0,c.Z)(n,[{key:"parse",value:function(e){var t,n,i,r,o,a,s,u,c,h,d=function(e,t,n){t=t||1024;for(var i=e.pos,r=-1,o=0,a="",s=String.fromCharCode.apply(null,new Uint16Array(e.subarray(i,i+128)));(r=s.indexOf("\n"))<0&&o<t&&i<e.byteLength;)a+=s,o+=s.length,i+=128,s+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(i,i+128)));return-1<r&&(!1!==n&&(e.pos+=o+r+1),a+s.slice(0,r))},p=((e=new Uint8Array(e)).pos=0,function(e){var t,n,i=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,r=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*FORMAT=(\S+)\s*$/,a=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,s={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};if(e.pos>=e.byteLength||!(t=d(e)))return-1;if(!(n=t.match(/^#\?(\S+)/)))return-1;for(s.valid|=1,s.programtype=n[1],s.string+=t+"\n";!1!==(t=d(e));)if(s.string+=t+"\n","#"===t.charAt(0))s.comments+=t+"\n";else if((n=t.match(i))&&(s.gamma=parseFloat(n[1])),(n=t.match(r))&&(s.exposure=parseFloat(n[1])),(n=t.match(o))&&(s.valid|=2,s.format=n[1]),(n=t.match(a))&&(s.valid|=4,s.height=parseInt(n[1],10),s.width=parseInt(n[2],10)),2&s.valid&&4&s.valid)break;return 2&s.valid&&4&s.valid?s:-1}(e));if(-1!==p){var f,g,m=p.width,y=p.height,v=function(e,t,n){var i=t;if(i<8||32767<i||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(i!==(e[2]<<8|e[3]))return-1;var r=new Uint8Array(4*t*n);if(!r.length)return-1;for(var o=0,a=0,s=4*i,l=new Uint8Array(4),u=new Uint8Array(s),c=n;0<c&&a<e.byteLength;){if(a+4>e.byteLength)return-1;if(l[0]=e[a++],l[1]=e[a++],l[2]=e[a++],l[3]=e[a++],2!=l[0]||2!=l[1]||(l[2]<<8|l[3])!=i)return-1;for(var h=0,d=void 0;h<s&&a<e.byteLength;){var p=128<(d=e[a++]);if(p&&(d-=128),0===d||s<h+d)return-1;if(p)for(var f=e[a++],g=0;g<d;g++)u[h++]=f;else u.set(e.subarray(a,a+d),h),h+=d,a+=d}for(var m=i,y=0;y<m;y++){var v=0;r[o]=u[y+0],v+=i,r[o+1]=u[y+v],v+=i,r[o+2]=u[y+v],v+=i,r[o+3]=u[y+v],o+=4}c--}return r}(e.subarray(e.pos),m,y);if(-1!==v){switch(this.type){case l.FloatType:for(var x=v.length/4,_=new Float32Array(4*x),b=0;b<x;b++)u=_,c=s=4*b,h=void 0,h=(a=v)[s+3],h=Math.pow(2,h-128)/255,u[c+0]=a[s+0]*h,u[c+1]=a[s+1]*h,u[c+2]=a[s+2]*h,u[c+3]=1;f=_,g=l.FloatType;break;case l.HalfFloatType:x=v.length/4;for(var w=new Uint16Array(4*x),S=0;S<x;S++)i=w,r=n=4*S,o=void 0,o=(t=v)[n+3],o=Math.pow(2,o-128)/255,i[r+0]=l.DataUtils.toHalfFloat(Math.min(t[n+0]*o,65504)),i[r+1]=l.DataUtils.toHalfFloat(Math.min(t[n+1]*o,65504)),i[r+2]=l.DataUtils.toHalfFloat(Math.min(t[n+2]*o,65504)),i[r+3]=l.DataUtils.toHalfFloat(1);f=w,g=l.HalfFloatType}return{width:m,height:y,data:f,header:p.string,gamma:p.gamma,exposure:p.exposure,format:void 0,type:g}}}return null}},{key:"setDataType",value:function(e){return this.type=e,this}},{key:"load",value:function(e,t,i,r){return(0,h.Z)((0,d.Z)(n.prototype),"load",this).call(this,e,(function(e,n){switch(e.type){case l.FloatType:case l.HalfFloatType:e.encoding=l.LinearEncoding,e.minFilter=l.LinearFilter,e.magFilter=l.LinearFilter,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,n)}),i,r)}}]),n}(l.DataTextureLoader),m={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},y=n(1421),v=["background","scene"],x=function(e){return(t=e).current&&t.current.isScene?e.current:e;var t};function _(e){var t=e.scene,n=e.background,i=void 0!==n&&n,r=e.map,o=(0,s.w)((function(e){return e.scene}));return a.useLayoutEffect((function(){var e,n,a;if(r)return e=x(t||o),n=e.background,a=e.environment,"only"!==i&&(e.environment=r),i&&(e.background=r),function(){"only"!==i&&(e.environment=a),i&&(e.background=n)}}),[o,t,r,i]),null}function b(e){var t=void 0===(t=e.files)?["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"]:t,n=void 0===(i=e.path)?"":i,i=void 0===(i=e.preset)?void 0:i,r=e.extensions;if(i){if(!(i in m))throw new Error("Preset must be one of: "+Object.keys(m).join(", "));t=m[i],n="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/"}return i=(e=Array.isArray(t))?l.CubeTextureLoader:g,i=(0,s.z)(i,e?[t]:t,(function(e){e.setPath(n),r&&r(e)})),(t=e?i[0]:i).mapping=e?l.CubeReflectionMapping:l.EquirectangularReflectionMapping,t}function w(e){var t=e.background,n=void 0!==t&&t,i=e.scene,o=b((0,r.Z)(e,v)),l=(0,s.w)((function(e){return e.scene}));return a.useLayoutEffect((function(){var e=x(i||l),t=e.background,r=e.environment;return"only"!==n&&(e.environment=o),n&&(e.background=o),function(){"only"!==n&&(e.environment=r),n&&(e.background=t)}}),[o,n,i,l]),null}function S(e){var t=e.children,n=void 0===(n=e.near)?1:n,r=void 0===(r=e.far)?1e3:r,o=void 0===(c=e.resolution)?256:c,u=void 0===(c=e.frames)?1:c,c=e.map,h=void 0!==(p=e.background)&&p,d=e.scene,p=e.files,f=e.path,g=void 0===(g=e.preset)?void 0:g,m=(e=e.extensions,(0,s.w)((function(e){return e.gl}))),y=(0,s.w)((function(e){return e.scene})),v=a.useRef(null),b=a.useState((function(){return new l.Scene})),S=(0,i.Z)(b,1)[0],A=a.useMemo((function(){var e=new l.WebGLCubeRenderTarget(o);return e.texture.type=l.HalfFloatType,e}),[o]),M=(a.useLayoutEffect((function(){1===u&&v.current.update(m,S);var e=x(d||y),t=e.background,n=e.environment;return"only"!==h&&(e.environment=A.texture),h&&(e.background=A.texture),function(){"only"!==h&&(e.environment=n),h&&(e.background=t)}}),[t,S,A.texture,d,y,h,u,m]),1);return(0,s.x)((function(){(u===1/0||M<u)&&(v.current.update(m,S),M++)})),a.createElement(a.Fragment,null,(0,s.g)(a.createElement(a.Fragment,null,t,a.createElement("cubeCamera",{ref:v,args:[n,r,A]}),p||g?a.createElement(w,{background:!0,files:p,preset:g,path:f,extensions:e}):c?a.createElement(_,{background:!0,map:c,extensions:e}):null),S))}function A(e){var t=b(e),n=e.map||t,i=function(e){return e&&e.isCubeTexture}(n),r=a.useMemo((function(){var e=null!=(e=i?null==(e=n.image[0])?void 0:e.width:n.image.width)?e:1024,t=(e=Math.floor(Math.log2(e/4)),Math.pow(2,e)),r=3*Math.max(t,112);t*=4;return[i?"#define ENVMAP_TYPE_CUBE":"","#define CUBEUV_TEXEL_WIDTH ".concat(1/r),"#define CUBEUV_TEXEL_HEIGHT ".concat(1/t),"#define CUBEUV_MAX_MIP ".concat(e,".0"),""]}),[]),s=(t=a.useMemo((function(){return r.join("\n")+"#define GLSLIFY 1\n#define ENVMAP_TYPE_CUBE_UV\nvarying vec3 vWorldPosition;uniform float radius;uniform float height;\n#ifdef ENVMAP_TYPE_CUBE\nuniform samplerCube cubemap;\n#else\nuniform sampler2D cubemap;\n#endif\nfloat diskIntersect(in vec3 ro,in vec3 rd,vec3 c,vec3 n,float r){vec3 o=ro-c;float t=-dot(n,o)/dot(rd,n);vec3 q=o+rd*t;return(dot(q,q)<r*r)? t : 1e6;}float sphereIntersect(in vec3 ro,in vec3 rd,in vec3 ce,float ra){vec3 oc=ro-ce;float b=dot(oc,rd);float c=dot(oc,oc)-ra*ra;float h=b*b-c;if(h<0.0)-1.0;h=sqrt(h);return-b+h;}vec3 project(){vec3 p=normalize(vWorldPosition);vec3 camPos=cameraPosition;camPos.y-=height;float intersection=sphereIntersect(camPos,p,vec3(0.),radius);if(intersection>0.){vec3 h=vec3(0.0,-height,0.0);float intersection2=diskIntersect(camPos,p,h,vec3(0.0,-1.0,0.0),radius);p=(camPos+min(intersection,intersection2)*p)/radius;}else{p=vec3(0.0,1.0,0.0);}return p;}\n#include <common>\n#include <cube_uv_reflection_fragment>\nvoid main(){vec3 projectedWorldPosition=project();\n#ifdef ENVMAP_TYPE_CUBE\nvec3 outcolor=textureCube(cubemap,projectedWorldPosition).rgb;\n#else\nvec3 direction=normalize(projectedWorldPosition);vec2 uv=equirectUv(direction);vec3 outcolor=texture2D(cubemap,uv).rgb;\n#endif\ngl_FragColor=vec4(outcolor,1.0);\n#include <tonemapping_fragment>\n#include <encodings_fragment>\n}"}),[r]),a.useMemo((function(){return{cubemap:{value:null},height:{value:15},radius:{value:60}}}),[])),u=a.useRef(null),c=null==(d=e.ground)?void 0:d.height,h=null==(d=e.ground)?void 0:d.radius,d=null!=(d=null==(d=e.ground)?void 0:d.scale)?d:1e3;return a.useEffect((function(){c&&(u.current.uniforms.height.value=c)}),[c]),a.useEffect((function(){h&&(u.current.uniforms.radius.value=h)}),[h]),a.useEffect((function(){u.current.uniforms.cubemap.value=n}),[n]),a.createElement(a.Fragment,null,a.createElement(_,(0,o.Z)({},e,{map:n})),a.createElement(y.FC,{scale:d,args:[1,16]},a.createElement("shaderMaterial",{ref:u,side:l.BackSide,vertexShader:"#define GLSLIFY 1\nvarying vec3 vWorldPosition;void main(){vec4 worldPosition=modelMatrix*vec4(position,1.0);vWorldPosition=worldPosition.xyz;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.0);}",fragmentShader:t,uniforms:s})))}function M(e){return e.ground?a.createElement(A,e):e.map?a.createElement(_,e):e.children?a.createElement(S,e):a.createElement(w,e)}},716:function(e,t,n){"use strict";function i(e,t){return(e%t+t)%t}n.d(t,{z:function(){return y}});var r=n(4925),o=n(7462),a=n(1141),s=n(9867),l=n(3144),u=n(5671),c=n(7326),h=n(136),d=n(9388),p=n(4942),f=n(3391),g=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e,r){(0,u.Z)(this,n),o=t.call(this),(0,p.Z)((0,c.Z)(o),"object",void 0),(0,p.Z)((0,c.Z)(o),"domElement",void 0),(0,p.Z)((0,c.Z)(o),"enabled",!0),(0,p.Z)((0,c.Z)(o),"target",new f.Vector3),(0,p.Z)((0,c.Z)(o),"minDistance",0),(0,p.Z)((0,c.Z)(o),"maxDistance",1/0),(0,p.Z)((0,c.Z)(o),"minZoom",0),(0,p.Z)((0,c.Z)(o),"maxZoom",1/0),(0,p.Z)((0,c.Z)(o),"minPolarAngle",0),(0,p.Z)((0,c.Z)(o),"maxPolarAngle",Math.PI),(0,p.Z)((0,c.Z)(o),"minAzimuthAngle",-1/0),(0,p.Z)((0,c.Z)(o),"maxAzimuthAngle",1/0),(0,p.Z)((0,c.Z)(o),"enableDamping",!1),(0,p.Z)((0,c.Z)(o),"dampingFactor",.05),(0,p.Z)((0,c.Z)(o),"enableZoom",!0),(0,p.Z)((0,c.Z)(o),"zoomSpeed",1),(0,p.Z)((0,c.Z)(o),"enableRotate",!0),(0,p.Z)((0,c.Z)(o),"rotateSpeed",1),(0,p.Z)((0,c.Z)(o),"enablePan",!0),(0,p.Z)((0,c.Z)(o),"panSpeed",1),(0,p.Z)((0,c.Z)(o),"screenSpacePanning",!0),(0,p.Z)((0,c.Z)(o),"keyPanSpeed",7),(0,p.Z)((0,c.Z)(o),"autoRotate",!1),(0,p.Z)((0,c.Z)(o),"autoRotateSpeed",2),(0,p.Z)((0,c.Z)(o),"reverseOrbit",!1),(0,p.Z)((0,c.Z)(o),"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),(0,p.Z)((0,c.Z)(o),"mouseButtons",{LEFT:f.MOUSE.ROTATE,MIDDLE:f.MOUSE.DOLLY,RIGHT:f.MOUSE.PAN}),(0,p.Z)((0,c.Z)(o),"touches",{ONE:f.TOUCH.ROTATE,TWO:f.TOUCH.DOLLY_PAN}),(0,p.Z)((0,c.Z)(o),"target0",void 0),(0,p.Z)((0,c.Z)(o),"position0",void 0),(0,p.Z)((0,c.Z)(o),"zoom0",void 0),(0,p.Z)((0,c.Z)(o),"_domElementKeyEvents",null),(0,p.Z)((0,c.Z)(o),"getPolarAngle",void 0),(0,p.Z)((0,c.Z)(o),"getAzimuthalAngle",void 0),(0,p.Z)((0,c.Z)(o),"setPolarAngle",void 0),(0,p.Z)((0,c.Z)(o),"setAzimuthalAngle",void 0),(0,p.Z)((0,c.Z)(o),"getDistance",void 0),(0,p.Z)((0,c.Z)(o),"listenToKeyEvents",void 0),(0,p.Z)((0,c.Z)(o),"saveState",void 0),(0,p.Z)((0,c.Z)(o),"reset",void 0),(0,p.Z)((0,c.Z)(o),"update",void 0),(0,p.Z)((0,c.Z)(o),"connect",void 0),(0,p.Z)((0,c.Z)(o),"dispose",void 0),o.object=e,o.domElement=r,o.target0=o.target.clone(),o.position0=o.object.position.clone(),o.zoom0=o.object instanceof f.PerspectiveCamera?o.object.zoom:1,o.getPolarAngle=function(){return S.phi},o.getAzimuthalAngle=function(){return S.theta},o.setPolarAngle=function(e){e=i(e,2*Math.PI);var t=S.phi,n=(t<0&&(t+=2*Math.PI),e<0&&(e+=2*Math.PI),Math.abs(e-t));2*Math.PI-n<n&&(e<t?e+=2*Math.PI:t+=2*Math.PI),A.phi=e-t,m.update()},o.setAzimuthalAngle=function(e){e=i(e,2*Math.PI);var t=S.theta,n=(t<0&&(t+=2*Math.PI),e<0&&(e+=2*Math.PI),Math.abs(e-t));2*Math.PI-n<n&&(e<t?e+=2*Math.PI:t+=2*Math.PI),A.theta=e-t,m.update()},o.getDistance=function(){return m.object.position.distanceTo(m.target)},o.listenToKeyEvents=function(e){e.addEventListener("keydown",ue),o._domElementKeyEvents=e},o.saveState=function(){m.target0.copy(m.target),m.position0.copy(m.object.position),m.zoom0=m.object instanceof f.PerspectiveCamera?m.object.zoom:1},o.reset=function(){m.target.copy(m.target0),m.object.position.copy(m.position0),m.object instanceof f.PerspectiveCamera&&(m.object.zoom=m.zoom0,m.object.updateProjectionMatrix()),m.dispatchEvent(y),m.update(),b=_.NONE},o.update=(a=new f.Vector3,s=(new f.Quaternion).setFromUnitVectors(e.up,new f.Vector3(0,1,0)),l=s.clone().invert(),h=new f.Vector3,d=new f.Quaternion,g=2*Math.PI,function(){var e=m.object.position,t=(a.copy(e).sub(m.target),a.applyQuaternion(s),S.setFromVector3(a),m.autoRotate&&b===_.NONE&&G(2*Math.PI/60/60*m.autoRotateSpeed),m.enableDamping?(S.theta+=A.theta*m.dampingFactor,S.phi+=A.phi*m.dampingFactor):(S.theta+=A.theta,S.phi+=A.phi),m.minAzimuthAngle),n=m.maxAzimuthAngle;return isFinite(t)&&isFinite(n)&&(t<-Math.PI?t+=g:t>Math.PI&&(t-=g),n<-Math.PI?n+=g:n>Math.PI&&(n-=g),S.theta=t<=n?Math.max(t,Math.min(n,S.theta)):S.theta>(t+n)/2?Math.max(t,S.theta):Math.min(n,S.theta)),S.phi=Math.max(m.minPolarAngle,Math.min(m.maxPolarAngle,S.phi)),S.makeSafe(),S.radius*=M,S.radius=Math.max(m.minDistance,Math.min(m.maxDistance,S.radius)),!0===m.enableDamping?m.target.addScaledVector(C,m.dampingFactor):m.target.add(C),a.setFromSpherical(S),a.applyQuaternion(l),e.copy(m.target).add(a),m.object.lookAt(m.target),!0===m.enableDamping?(A.theta*=1-m.dampingFactor,A.phi*=1-m.dampingFactor,C.multiplyScalar(1-m.dampingFactor)):(A.set(0,0,0),C.set(0,0,0)),M=1,!!(T||h.distanceToSquared(m.object.position)>w||8*(1-d.dot(m.object.quaternion))>w)&&(m.dispatchEvent(y),h.copy(m.object.position),d.copy(m.object.quaternion),!(T=!1))}),o.connect=function(e){document,m.domElement=e,m.domElement.style.touchAction="none",m.domElement.addEventListener("contextmenu",ce),m.domElement.addEventListener("pointerdown",re),m.domElement.addEventListener("pointercancel",se),m.domElement.addEventListener("wheel",le)},o.dispose=function(){var e;null!=(e=m.domElement)&&e.removeEventListener("contextmenu",ce),null!=(e=m.domElement)&&e.removeEventListener("pointerdown",re),null!=(e=m.domElement)&&e.removeEventListener("pointercancel",se),null!=(e=m.domElement)&&e.removeEventListener("wheel",le),null!=(e=m.domElement)&&e.ownerDocument.removeEventListener("pointermove",oe),null!=(e=m.domElement)&&e.ownerDocument.removeEventListener("pointerup",ae),null!==m._domElementKeyEvents&&m._domElementKeyEvents.removeEventListener("keydown",ue)};var o,a,s,l,h,d,g,m=(0,c.Z)(o),y={type:"change"},v={type:"start"},x={type:"end"},_={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},b=_.NONE,w=1e-6,S=new f.Spherical,A=new f.Spherical,M=1,C=new f.Vector3,T=!1,I=new f.Vector2,k=new f.Vector2,D=new f.Vector2,B=new f.Vector2,E=new f.Vector2,P=new f.Vector2,L=new f.Vector2,R=new f.Vector2,O=new f.Vector2,F=[],N={};function z(){return Math.pow(.95,m.zoomSpeed)}function G(e){m.reverseOrbit?A.theta+=e:A.theta-=e}function H(e){m.reverseOrbit?A.phi+=e:A.phi-=e}V=new f.Vector3;var V,U,Z,W=function(e,t){V.setFromMatrixColumn(t,0),V.multiplyScalar(-e),C.add(V)},j=(U=new f.Vector3,function(e,t){!0===m.screenSpacePanning?U.setFromMatrixColumn(t,1):(U.setFromMatrixColumn(t,0),U.crossVectors(m.object.up,U)),U.multiplyScalar(e),C.add(U)}),X=(Z=new f.Vector3,function(e,t){var n,i=m.domElement;i&&m.object instanceof f.PerspectiveCamera&&m.object.isPerspectiveCamera?(n=m.object.position,Z.copy(n).sub(m.target),n=Z.length(),n*=Math.tan(m.object.fov/2*Math.PI/180),W(2*e*n/i.clientHeight,m.object.matrix),j(2*t*n/i.clientHeight,m.object.matrix)):i&&m.object instanceof f.OrthographicCamera&&m.object.isOrthographicCamera?(W(e*(m.object.right-m.object.left)/m.object.zoom/i.clientWidth,m.object.matrix),j(t*(m.object.top-m.object.bottom)/m.object.zoom/i.clientHeight,m.object.matrix)):m.enablePan=!1});function Y(e){m.object instanceof f.PerspectiveCamera&&m.object.isPerspectiveCamera?M/=e:m.object instanceof f.OrthographicCamera&&m.object.isOrthographicCamera?(m.object.zoom=Math.max(m.minZoom,Math.min(m.maxZoom,m.object.zoom*e)),m.object.updateProjectionMatrix(),T=!0):m.enableZoom=!1}function J(e){m.object instanceof f.PerspectiveCamera&&m.object.isPerspectiveCamera?M*=e:m.object instanceof f.OrthographicCamera&&m.object.isOrthographicCamera?(m.object.zoom=Math.max(m.minZoom,Math.min(m.maxZoom,m.object.zoom/e)),m.object.updateProjectionMatrix(),T=!0):m.enableZoom=!1}function K(e){I.set(e.clientX,e.clientY)}function Q(e){B.set(e.clientX,e.clientY)}function q(){var e,t;1==F.length?I.set(F[0].pageX,F[0].pageY):(e=.5*(F[0].pageX+F[1].pageX),t=.5*(F[0].pageY+F[1].pageY),I.set(e,t))}function $(){var e,t;1==F.length?B.set(F[0].pageX,F[0].pageY):(e=.5*(F[0].pageX+F[1].pageX),t=.5*(F[0].pageY+F[1].pageY),B.set(e,t))}function ee(){var e=F[0].pageX-F[1].pageX,t=F[0].pageY-F[1].pageY;e=Math.sqrt(e*e+t*t);L.set(0,e)}function te(e){1==F.length?k.set(e.pageX,e.pageY):(n=pe(e),t=.5*(e.pageX+n.x),e=.5*(e.pageY+n.y),k.set(t,e)),D.subVectors(k,I).multiplyScalar(m.rotateSpeed);var t,n=m.domElement;n&&(G(2*Math.PI*D.x/n.clientHeight),H(2*Math.PI*D.y/n.clientHeight)),I.copy(k)}function ne(e){var t,n;1==F.length?E.set(e.pageX,e.pageY):(t=pe(e),n=.5*(e.pageX+t.x),e=.5*(e.pageY+t.y),E.set(n,e)),P.subVectors(E,B).multiplyScalar(m.panSpeed),X(P.x,P.y),B.copy(E)}function ie(e){var t=pe(e),n=e.pageX-t.x;e=e.pageY-t.y,t=Math.sqrt(n*n+e*e);R.set(0,t),O.set(0,Math.pow(R.y/L.y,m.zoomSpeed)),Y(O.y),L.copy(R)}function re(e){var t;if(!1!==m.enabled)if(0===F.length&&(null!=(t=m.domElement)&&t.ownerDocument.addEventListener("pointermove",oe),null!=(t=m.domElement)&&t.ownerDocument.addEventListener("pointerup",ae)),F.push(e),"touch"===e.pointerType){switch(de(e),F.length){case 1:switch(m.touches.ONE){case f.TOUCH.ROTATE:if(!1===m.enableRotate)return;q(),b=_.TOUCH_ROTATE;break;case f.TOUCH.PAN:if(!1===m.enablePan)return;$(),b=_.TOUCH_PAN;break;default:b=_.NONE}break;case 2:switch(m.touches.TWO){case f.TOUCH.DOLLY_PAN:if(!1===m.enableZoom&&!1===m.enablePan)return;m.enableZoom&&ee(),m.enablePan&&$(),b=_.TOUCH_DOLLY_PAN;break;case f.TOUCH.DOLLY_ROTATE:if(!1===m.enableZoom&&!1===m.enableRotate)return;m.enableZoom&&ee(),m.enableRotate&&q(),b=_.TOUCH_DOLLY_ROTATE;break;default:b=_.NONE}break;default:b=_.NONE}b!==_.NONE&&m.dispatchEvent(v)}else{var n,i=e;switch(i.button){case 0:n=m.mouseButtons.LEFT;break;case 1:n=m.mouseButtons.MIDDLE;break;case 2:n=m.mouseButtons.RIGHT;break;default:n=-1}switch(n){case f.MOUSE.DOLLY:if(!1===m.enableZoom)return;!function(e){L.set(e.clientX,e.clientY)}(i),b=_.DOLLY;break;case f.MOUSE.ROTATE:if(i.ctrlKey||i.metaKey||i.shiftKey){if(!1===m.enablePan)return;Q(i),b=_.PAN}else{if(!1===m.enableRotate)return;K(i),b=_.ROTATE}break;case f.MOUSE.PAN:if(i.ctrlKey||i.metaKey||i.shiftKey){if(!1===m.enableRotate)return;K(i),b=_.ROTATE}else{if(!1===m.enablePan)return;Q(i),b=_.PAN}break;default:b=_.NONE}b!==_.NONE&&m.dispatchEvent(v)}}function oe(e){if(!1!==m.enabled)if("touch"===e.pointerType){var t=e;switch(de(t),b){case _.TOUCH_ROTATE:if(!1===m.enableRotate)return;te(t),m.update();break;case _.TOUCH_PAN:if(!1===m.enablePan)return;ne(t),m.update();break;case _.TOUCH_DOLLY_PAN:if(!1===m.enableZoom&&!1===m.enablePan)return;!function(e){m.enableZoom&&ie(e),m.enablePan&&ne(e)}(t),m.update();break;case _.TOUCH_DOLLY_ROTATE:if(!1===m.enableZoom&&!1===m.enableRotate)return;!function(e){m.enableZoom&&ie(e),m.enableRotate&&te(e)}(t),m.update();break;default:b=_.NONE}}else{var n=e;if(!1!==m.enabled)switch(b){case _.ROTATE:if(!1===m.enableRotate)return;!function(e){k.set(e.clientX,e.clientY),D.subVectors(k,I).multiplyScalar(m.rotateSpeed),(e=m.domElement)&&(G(2*Math.PI*D.x/e.clientHeight),H(2*Math.PI*D.y/e.clientHeight)),I.copy(k),m.update()}(n);break;case _.DOLLY:if(!1===m.enableZoom)return;!function(e){R.set(e.clientX,e.clientY),O.subVectors(R,L),0<O.y?Y(z()):O.y<0&&J(z()),L.copy(R),m.update()}(n);break;case _.PAN:if(!1===m.enablePan)return;!function(e){E.set(e.clientX,e.clientY),P.subVectors(E,B).multiplyScalar(m.panSpeed),X(P.x,P.y),B.copy(E),m.update()}(n)}}}function ae(e){var t;he(e),0===F.length&&(null!=(t=m.domElement)&&t.releasePointerCapture(e.pointerId),null!=(t=m.domElement)&&t.ownerDocument.removeEventListener("pointermove",oe),null!=(e=m.domElement)&&e.ownerDocument.removeEventListener("pointerup",ae)),m.dispatchEvent(x),b=_.NONE}function se(e){he(e)}function le(e){!1===m.enabled||!1===m.enableZoom||b!==_.NONE&&b!==_.ROTATE||(e.preventDefault(),m.dispatchEvent(v),e.deltaY<0?J(z()):0<e.deltaY&&Y(z()),m.update(),m.dispatchEvent(x))}function ue(e){if(!1!==m.enabled&&!1!==m.enablePan){var t=!1;switch(e.code){case m.keys.UP:X(0,m.keyPanSpeed),t=!0;break;case m.keys.BOTTOM:X(0,-m.keyPanSpeed),t=!0;break;case m.keys.LEFT:X(m.keyPanSpeed,0),t=!0;break;case m.keys.RIGHT:X(-m.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),m.update())}}function ce(e){!1!==m.enabled&&e.preventDefault()}function he(e){delete N[e.pointerId];for(var t=0;t<F.length;t++)if(F[t].pointerId==e.pointerId)return void F.splice(t,1)}function de(e){var t=N[e.pointerId];void 0===t&&(t=new f.Vector2,N[e.pointerId]=t),t.set(e.pageX,e.pageY)}function pe(e){return e=e.pointerId===F[0].pointerId?F[1]:F[0],N[e.pointerId]}return void 0!==r&&o.connect(r),o.update(),o}return(0,l.Z)(n)}(f.EventDispatcher),m=["makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd"],y=s.forwardRef((function(e,t){var n=e.makeDefault,i=e.camera,l=e.regress,u=e.domElement,c=void 0===(c=e.enableDamping)||c,h=e.onChange,d=e.onStart,p=e.onEnd,f=(e=(0,r.Z)(e,m),(0,a.w)((function(e){return e.invalidate}))),y=(0,a.w)((function(e){return e.camera})),v=(0,a.w)((function(e){return e.gl})),x=(0,a.w)((function(e){return e.events})),_=(0,a.w)((function(e){return e.set})),b=(0,a.w)((function(e){return e.get})),w=(0,a.w)((function(e){return e.performance})),S=i||y,A=u||x.connected||v.domElement,M=s.useMemo((function(){return new g(S)}),[S]);return(0,a.x)((function(){M.enabled&&M.update()}),-1),s.useEffect((function(){return M.connect(A),function(){M.dispose()}}),[A,l,M,f]),s.useEffect((function(){function e(e){f(),l&&w.regress(),h&&h(e)}return M.addEventListener("change",e),d&&M.addEventListener("start",d),p&&M.addEventListener("end",p),function(){d&&M.removeEventListener("start",d),p&&M.removeEventListener("end",p),M.removeEventListener("change",e)}}),[h,d,p]),s.useEffect((function(){var e;if(n)return e=b().controls,_({controls:M}),function(){return _({controls:e})}}),[n,M]),s.createElement("primitive",(0,o.Z)({ref:t,object:M,enableDamping:c},e))}))},7878:function(e,t,n){"use strict";n.d(t,{c:function(){return u}});var i=n(4925),r=n(7462),o=n(9867),a=n(1141),s=function(e){return function(t){e.forEach((function(e){"function"==typeof e?e(t):null!=e&&(e.current=t)}))}},l=["makeDefault"],u=o.forwardRef((function(e,t){var n=e.makeDefault,u=(0,i.Z)(e,l),c=(0,a.w)((function(e){return e.set})),h=(0,a.w)((function(e){return e.camera})),d=(0,a.w)((function(e){return e.size})),p=o.useRef();return o.useLayoutEffect((function(){var e=p.current;e&&!u.manual&&(e.aspect=d.width/d.height,e.updateProjectionMatrix())}),[d,u]),o.useLayoutEffect((function(){var e;if(n&&p.current)return e=h,c((function(){return{camera:p.current}})),function(){return c((function(){return{camera:e}}))}}),[p,n,c]),o.createElement("perspectiveCamera",(0,r.Z)({ref:s([p,t])},u))}))},6762:function(e,t,n){"use strict";n.d(t,{P:function(){return m}});var i=n(9439),r=n(4925),o=n(7462),a=n(9867),s=n(3391),l=n(1141),u=n(3144),c=n(5671),h=n(136),d=n(9388),p=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,{uniforms:{depth:{value:null},opacity:{value:1},attenuation:{value:2.5},anglePower:{value:12},spotPosition:{value:new s.Vector3(0,0,0)},lightColor:{value:new s.Color("white")},cameraNear:{value:0},cameraFar:{value:1},resolution:{value:new s.Vector2(0,0)}},transparent:!0,depthWrite:!1,vertexShader:"\n      varying vec3 vNormal;\n      varying vec3 vWorldPosition;\n      varying float vViewZ;\n      varying float vIntensity;\n      uniform vec3 spotPosition;\n      uniform float attenuation;      \n\n      void main() {\n        // compute intensity\n        vNormal = normalize( normalMatrix * normal );\n        vec4 worldPosition\t= modelMatrix * vec4( position, 1.0 );\n        vWorldPosition = worldPosition.xyz;\n        vec4 viewPosition = viewMatrix * worldPosition;\n        vViewZ = viewPosition.z;\n        float intensity\t= distance(worldPosition.xyz, spotPosition) / attenuation;\n        intensity\t= 1.0 - clamp(intensity, 0.0, 1.0);\n        vIntensity = intensity;        \n        // set gl_Position\n        gl_Position\t= projectionMatrix * viewPosition;\n\n      }",fragmentShader:"\n      #include <packing>\n\n      varying vec3 vNormal;\n      varying vec3 vWorldPosition;\n      uniform vec3 lightColor;\n      uniform vec3 spotPosition;\n      uniform float attenuation;\n      uniform float anglePower;\n      uniform sampler2D depth;\n      uniform vec2 resolution;\n      uniform float cameraNear;\n      uniform float cameraFar;\n      varying float vViewZ;\n      varying float vIntensity;\n      uniform float opacity;\n\n      float readDepth( sampler2D depthSampler, vec2 coord ) {\n        float fragCoordZ = texture2D( depthSampler, coord ).x;\n        float viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);\n        return viewZ;\n      }\n\n      void main() {\n        float d = 1.0;\n        bool isSoft = resolution[0] > 0.0 && resolution[1] > 0.0;\n        if (isSoft) {\n          vec2 sUv = gl_FragCoord.xy / resolution;\n          d = readDepth(depth, sUv);\n        }\n        float intensity = vIntensity;\n        vec3 normal\t= vec3(vNormal.x, vNormal.y, abs(vNormal.z));\n        float angleIntensity\t= pow( dot(normal, vec3(0.0, 0.0, 1.0)), anglePower );\n        intensity\t*= angleIntensity;\n        // fades when z is close to sampled depth, meaning the cone is intersecting existing geometry\n        if (isSoft) {\n          intensity\t*= smoothstep(0., 1., vViewZ - d);\n        }\n        gl_FragColor = vec4(lightColor, intensity * opacity);\n\n        #include <tonemapping_fragment>\n\t      #include <encodings_fragment>\n      }"})}return(0,u.Z)(n)}(s.ShaderMaterial),f=["opacity","radiusTop","radiusBottom","depthBuffer","color","distance","angle","attenuation","anglePower"],g=new s.Vector3,m=a.forwardRef((function(e,t){var n=void 0===(n=e.opacity)?1:n,u=e.radiusTop,c=e.radiusBottom,h=e.depthBuffer,d=void 0===(d=e.color)?"white":d,m=void 0===(y=e.distance)?5:y,y=void 0===(y=e.angle)?.15:y,v=void 0===(v=e.attenuation)?5:v,x=void 0===(x=e.anglePower)?5:x,_=(e=(0,r.Z)(e,f),a.useRef(null)),b=(0,l.w)((function(e){return e.size})),w=(0,l.w)((function(e){return e.camera})),S=(0,l.w)((function(e){return e.viewport.dpr})),A=a.useState((function(){return new p})),M=(0,i.Z)(A,1)[0];u=void 0===u?.1:u,c=void 0===c?7*y:c,(0,l.x)((function(){M.uniforms.spotPosition.value.copy(_.current.getWorldPosition(g)),_.current.lookAt(_.current.parent.target.getWorldPosition(g))})),A=a.useMemo((function(){var e=new s.CylinderGeometry(u,c,m,128,64,!0);return e.applyMatrix4((new s.Matrix4).makeTranslation(0,-m/2,0)),e.applyMatrix4((new s.Matrix4).makeRotationX(-Math.PI/2)),e}),[y,m,u,c]);return a.createElement("spotLight",(0,o.Z)({ref:t,angle:y,color:d,distance:m},e),a.createElement("mesh",{ref:_,geometry:A,raycast:function(){return null}},a.createElement("primitive",{object:M,attach:"material","uniforms-opacity-value":n,"uniforms-lightColor-value":d,"uniforms-attenuation-value":v,"uniforms-anglePower-value":x,"uniforms-depth-value":h,"uniforms-cameraNear-value":w.near,"uniforms-cameraFar-value":w.far,"uniforms-resolution-value":h?[b.width*S,b.height*S]:[0,0]})))}))},4719:function(e,t,n){"use strict";n.d(t,{t:function(){return p}});var i=n(3433),r=n(9439),o=n(3144),a=n(5671),s=n(136),l=n(9388),u=n(9867),c=n(1141),h=n(3391),d=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,a.Z)(this,n),t.call(this,{uniforms:{time:{value:0},fade:{value:1}},vertexShader:"\n      uniform float time;\n      attribute float size;\n      varying vec3 vColor;\n      void main() {\n        vColor = color;\n        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);\n        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(mvPosition.x + 2.0 * time + 100.0));\n        gl_Position = projectionMatrix * mvPosition;\n      }",fragmentShader:"\n      uniform sampler2D pointTexture;\n      uniform float fade;\n      varying vec3 vColor;\n      void main() {\n        float opacity = 1.0;\n        if (fade == 1.0) {\n          float d = distance(gl_PointCoord, vec2(0.5, 0.5));\n          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));\n        }\n        gl_FragColor = vec4(vColor, opacity);\n\n        #include <tonemapping_fragment>\n\t      #include <encodings_fragment>\n      }"})}return(0,o.Z)(n)}(h.ShaderMaterial),p=u.forwardRef((function(e,t){var n=void 0===(p=e.radius)?100:p,o=void 0===(p=e.depth)?50:p,a=void 0===(p=e.count)?5e3:p,s=void 0===(p=e.saturation)?0:p,l=void 0===(p=e.factor)?4:p,p=void 0!==(p=e.fade)&&p,f=void 0===(e=e.speed)?1:e,g=u.useRef(),m=(e=u.useMemo((function(){for(var e,t=[],r=[],u=Array.from({length:a},(function(){return(.5+.5*Math.random())*l})),c=new h.Color,d=n+o,p=o/a,f=0;f<a;f++)d-=p*Math.random(),t.push.apply(t,(0,i.Z)((e=d,(new h.Vector3).setFromSpherical(new h.Spherical(e,Math.acos(1-2*Math.random()),2*Math.random()*Math.PI)).toArray()))),c.setHSL(f/a,s,.9),r.push(c.r,c.g,c.b);return[new Float32Array(t),new Float32Array(r),new Float32Array(u)]}),[a,o,l,n,s]),(e=(0,r.Z)(e,3))[0]),y=e[1],v=(e=e[2],(0,c.x)((function(e){return g.current&&(g.current.uniforms.time.value=e.clock.getElapsedTime()*f)})),u.useState((function(){return new d})));v=(0,r.Z)(v,1)[0];return u.createElement("points",{ref:t},u.createElement("bufferGeometry",null,u.createElement("bufferAttribute",{attach:"attributes-position",args:[m,3]}),u.createElement("bufferAttribute",{attach:"attributes-color",args:[y,3]}),u.createElement("bufferAttribute",{attach:"attributes-size",args:[e,1]})),u.createElement("primitive",{ref:g,object:v,attach:"material",blending:h.AdditiveBlending,"uniforms-fade-value":p,transparent:!0,vertexColors:!0}))}))},1687:function(e,t,n){"use strict";n.d(t,{j:function(){return u}});var i=n(3433),r=n(9867),o=n(1141),a=(t=n(5394),n.n(t)),s=n(9439);function l(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}function u(e){var t=e.showPanel,n=void 0===t?0:t,u=e.className,c=e.parent,h=function(e,t,n){t=1<arguments.length&&void 0!==t?t:[];var i=2<arguments.length?n:void 0,o=(n=r.useState(),(n=(0,s.Z)(n,2))[0]),a=n[1];return r.useLayoutEffect((function(){var t=e();return a(t),l(i,t),function(){return l(i,null)}}),t),o}((function(){return new(a())}),[]);return r.useEffect((function(){var e,t,r,a;if(h)return t=c&&c.current||document.body,h.showPanel(n),null!=t&&t.appendChild(h.dom),u&&(e=h.dom.classList).add.apply(e,(0,i.Z)(u.split(" ").filter((function(e){return e})))),r=(0,o.m)((function(){return h.begin()})),a=(0,o.n)((function(){return h.end()})),function(){null!=t&&t.removeChild(h.dom),r(),a()}}),[c,h,u,n]),null}},1421:function(e,t,n){"use strict";n.d(t,{FC:function(){return u},JO:function(){return l}});var i=n(4925),r=n(7462),o=n(9867),a=["args","children"];function s(e){var t=e+"BufferGeometry";return o.forwardRef((function(e,n){var s=e.args,l=e.children;e=(0,i.Z)(e,a);return o.createElement("mesh",(0,r.Z)({ref:n},e),o.createElement(t,{attach:"geometry",args:s}),l)}))}s("box"),s("circle"),s("cone"),s("cylinder"),s("sphere");var l=s("plane"),u=(s("tube"),s("torus"),s("torusKnot"),s("tetrahedron"),s("ring"),s("polyhedron"),s("icosahedron"));s("octahedron"),s("dodecahedron"),s("extrude"),s("lathe")},4036:function(e,t,n){"use strict";n.d(t,{L:function(){return re}});var i,r=n(5671),o=n(3144),a=n(136),s=n(9388),l=n(3391),u=new WeakMap,c=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){return(0,r.Z)(this,n),(e=t.call(this,e)).decoderPath="",e.decoderConfig={},e.decoderBinary=null,e.decoderPending=null,e.workerLimit=4,e.workerPool=[],e.workerNextTaskID=1,e.workerSourceURL="",e.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},e.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"},e}return(0,o.Z)(n,[{key:"setDecoderPath",value:function(e){return this.decoderPath=e,this}},{key:"setDecoderConfig",value:function(e){return this.decoderConfig=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerLimit=e,this}},{key:"load",value:function(e,t,n,i){var r=this,o=new l.FileLoader(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(e){var n={attributeIDs:r.defaultAttributeIDs,attributeTypes:r.defaultAttributeTypes,useUniqueIDs:!1};r.decodeGeometry(e,n).then(t).catch(i)}),n,i)}},{key:"decodeDracoFile",value:function(e,t,n,i){i={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!n},this.decodeGeometry(e,i).then(t)}},{key:"decodeGeometry",value:function(e,t){var n,i=this;for(n in t.attributeTypes){var r=t.attributeTypes[n];void 0!==r.BYTES_PER_ELEMENT&&(t.attributeTypes[n]=r.name)}var o,a=JSON.stringify(t);if(u.has(e)){if((l=u.get(e)).key===a)return l.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var s=this.workerNextTaskID++,l=e.byteLength;l=this._getWorker(s,l).then((function(n){return o=n,new Promise((function(n,i){o._callbacks[s]={resolve:n,reject:i},o.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))})).then((function(e){return i._createGeometry(e.geometry)}));return l.catch((function(){return!0})).then((function(){o&&s&&i._releaseTask(o,s)})),u.set(e,{key:a,promise:l}),l}},{key:"_createGeometry",value:function(e){var t=new l.BufferGeometry;e.index&&t.setIndex(new l.BufferAttribute(e.index.array,1));for(var n=0;n<e.attributes.length;n++){var i=(o=e.attributes[n]).name,r=o.array,o=o.itemSize;t.setAttribute(i,new l.BufferAttribute(r,o))}return t}},{key:"_loadLibrary",value:function(e,t){var n=new l.FileLoader(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((function(t,i){n.load(e,t,void 0,i)}))}},{key:"preload",value:function(){return this._initDecoder(),this}},{key:"_initDecoder",value:function(){var e=this;if(this.decoderPending)return this.decoderPending;var t="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then((function(n){var i=n[0];t||(e.decoderConfig.wasmBinary=n[1]),n=function(){var e,t;onmessage=function(n){var i=n.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":var r=i.buffer,o=i.taskConfig;t.then((function(e){var t=new(e=e.draco).Decoder,n=new e.DecoderBuffer;n.Init(new Int8Array(r),r.byteLength);try{var a=function(e,t,n,i){var r,o=i.attributeIDs,a=i.attributeTypes,s=t.GetEncodedGeometryType(n);if(s===e.TRIANGULAR_MESH)r=new e.Mesh,y=t.DecodeBufferToMesh(n,r);else{if(s!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");r=new e.PointCloud,y=t.DecodeBufferToPointCloud(n,r)}if(!y.ok()||0===r.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+y.error_msg());var l,u,c,h,d,p,f,g,m,y,v,x,_,b={index:null,attributes:[]};for(l in o){var w=self[a[l]],S=void 0,A=void 0;if(i.useUniqueIDs)A=o[l],S=t.GetAttributeByUniqueId(r,A);else{if(-1===(A=t.GetAttributeId(r,e[o[l]])))continue;S=t.GetAttribute(r,A)}b.attributes.push((A=e,u=t,c=r,h=l,d=S.num_components(),f=(p=c.num_points()*d)*w.BYTES_PER_ELEMENT,g=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(A,w),m=A._malloc(f),u.GetAttributeDataArrayForAllPoints(c,S,g,f,m),u=new w(A.HEAPF32.buffer,m,p).slice(),A._free(m),{name:h,array:u,itemSize:d}))}return s===e.TRIANGULAR_MESH&&(b.index=(n=e,y=t,x=4*(v=3*(s=r).num_faces()),_=n._malloc(x),y.GetTrianglesUInt32Array(s,x,_),y=new Uint32Array(n.HEAPF32.buffer,_,v).slice(),n._free(_),{array:y,itemSize:1})),e.destroy(r),b}(e,t,n,o),s=a.attributes.map((function(e){return e.array.buffer}));a.index&&s.push(a.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:a},s)}catch(e){self.postMessage({type:"error",id:i.id,error:e.message})}finally{e.destroy(n),e.destroy(t)}}))}}}.toString(),i=["/* draco decoder */",i,"","/* worker */",n.substring(n.indexOf("{")+1,n.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([i]))})),this.decoderPending}},{key:"_getWorker",value:function(e,t){var n=this;return this._initDecoder().then((function(){n.workerPool.length<n.workerLimit?((i=new Worker(n.workerSourceURL))._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:n.decoderConfig}),i.onmessage=function(e){var t=e.data;switch(t.type){case"decode":i._callbacks[t.id].resolve(t);break;case"error":i._callbacks[t.id].reject(t)}},n.workerPool.push(i)):n.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));var i,r=n.workerPool[n.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r}))}},{key:"_releaseTask",value:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}},{key:"debug",value:function(){}},{key:"dispose",value:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}]),n}(l.Loader),h=function(){if(i)return i;var e=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),t=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if("object"!=typeof WebAssembly)return{supported:!1};var n,r="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB";WebAssembly.validate(e)&&(r="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB"),e=WebAssembly.instantiate(function(e){for(var n=new Uint8Array(e.length),i=0;i<e.length;++i){var r=e.charCodeAt(i);n[i]=96<r?r-71:64<r?r-65:47<r?r+4:46<r?63:62}for(var o=0,a=0;a<e.length;++a)n[o++]=n[a]<60?t[n[a]]:64*(n[a]-60)+n[++a];return n.buffer.slice(0,o)}(r),{}).then((function(e){(n=e.instance).exports.__wasm_call_ctors()}));function o(e,t,i,r,o,a){var s=n.exports.sbrk,l=i+3&-4,u=s(l*r),c=s(o.length),h=new Uint8Array(n.exports.memory.buffer);if(0===(e=(h.set(o,c),e(u,i,r,c,o.length)))&&a&&a(u,l,r),t.set(h.subarray(u,u+i*r)),s(u-s(0)),0!==e)throw new Error("Malformed buffer data: ".concat(e))}var a={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},s={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return i={ready:e,supported:!0,decodeVertexBuffer:function(e,t,i,r,s){o(n.exports.meshopt_decodeVertexBuffer,e,t,i,r,n.exports[a[s]])},decodeIndexBuffer:function(e,t,i,r){o(n.exports.meshopt_decodeIndexBuffer,e,t,i,r)},decodeIndexSequence:function(e,t,i,r){o(n.exports.meshopt_decodeIndexSequence,e,t,i,r)},decodeGltfBuffer:function(e,t,i,r,l,u){o(n.exports[s[l]],e,t,i,r,n.exports[a[u]])}}},d=n(9439),p=n(7762),f=n(7326),g=n(8301),m=n(1120),y=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){return(0,r.Z)(this,n),(e=t.call(this,e)).dracoLoader=null,e.ktx2Loader=null,e.meshoptDecoder=null,e.pluginCallbacks=[],e.register((function(e){return new w(e)})),e.register((function(e){return new I(e)})),e.register((function(e){return new k(e)})),e.register((function(e){return new S(e)})),e.register((function(e){return new A(e)})),e.register((function(e){return new M(e)})),e.register((function(e){return new C(e)})),e.register((function(e){return new T(e)})),e.register((function(e){return new _(e)})),e.register((function(e){return new D(e)})),e}return(0,o.Z)(n,[{key:"load",value:function(e,t,n,i){function r(t){i&&i(t),o.manager.itemError(e),o.manager.itemEnd(e)}var o=this,a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:l.LoaderUtils.extractUrlBase(e),s=(this.manager.itemStart(e),new l.FileLoader(this.manager));s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{o.parse(n,a,(function(n){t(n),o.manager.itemEnd(e)}),r)}catch(n){r(n)}}),n,r)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,i){var r,o={},a={};if("string"==typeof e)r=e;else if(l.LoaderUtils.decodeText(new Uint8Array(e,0,4))===B){try{o[x.KHR_BINARY_GLTF]=new E(e)}catch(e){return void(i&&i(e))}r=o[x.KHR_BINARY_GLTF].content}else r=l.LoaderUtils.decodeText(new Uint8Array(e));var s=JSON.parse(r);if(void 0===s.asset||s.asset.version[0]<2)i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var u=new q(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(var c=0;c<this.pluginCallbacks.length;c++){var h=this.pluginCallbacks[c](u);o[(a[h.name]=h).name]=!0}if(s.extensionsUsed)for(var d=0;d<s.extensionsUsed.length;++d){var p=s.extensionsUsed[d],f=s.extensionsRequired||[];switch(p){case x.KHR_MATERIALS_UNLIT:o[p]=new b;break;case x.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[p]=new O;break;case x.KHR_DRACO_MESH_COMPRESSION:o[p]=new P(s,this.dracoLoader);break;case x.KHR_TEXTURE_TRANSFORM:o[p]=new L;break;case x.KHR_MESH_QUANTIZATION:o[p]=new F;break;default:0<=f.indexOf(p)&&a[p]}}u.setExtensions(o),u.setPlugins(a),u.parse(n,i)}}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(i,r){n.parse(e,t,i,r)}))}}]),n}(l.Loader);function v(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var x={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"},_=function(){function e(t){(0,r.Z)(this,e),this.parser=t,this.name=x.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return(0,o.Z)(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,i=t.length;n<i;n++){var r=t[n];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,i=t.cache.get(n);if(i)return i;var r,o=t.json,a=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e],s=new l.Color(16777215),u=(void 0!==a.color&&s.fromArray(a.color),void 0!==a.range?a.range:0);switch(a.type){case"directional":(r=new l.DirectionalLight(s)).target.position.set(0,0,-1),r.add(r.target);break;case"point":(r=new l.PointLight(s)).distance=u;break;case"spot":(r=new l.SpotLight(s)).distance=u,a.spot=a.spot||{},a.spot.innerConeAngle=void 0!==a.spot.innerConeAngle?a.spot.innerConeAngle:0,a.spot.outerConeAngle=void 0!==a.spot.outerConeAngle?a.spot.outerConeAngle:Math.PI/4,r.angle=a.spot.outerConeAngle,r.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,r.target.position.set(0,0,-1),r.add(r.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+a.type)}return r.position.set(0,0,0),r.decay=2,void 0!==a.intensity&&(r.intensity=a.intensity),r.name=t.createUniqueName(a.name||"light_"+e),i=Promise.resolve(r),t.cache.add(n,i),i}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,i=((e=n.json.nodes[e]).extensions&&e.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))}}]),e}(),b=function(){function e(){(0,r.Z)(this,e),this.name=x.KHR_MATERIALS_UNLIT}return(0,o.Z)(e,[{key:"getMaterialType",value:function(){return l.MeshBasicMaterial}},{key:"extendParams",value:function(e,t,n){var i,r=[];return(t=(e.color=new l.Color(1,1,1),e.opacity=1,t.pbrMetallicRoughness))&&(Array.isArray(t.baseColorFactor)&&(i=t.baseColorFactor,e.color.fromArray(i),e.opacity=i[3]),void 0!==t.baseColorTexture&&r.push(n.assignTexture(e,"map",t.baseColorTexture))),Promise.all(r)}}]),e}(),w=function(){function e(t){(0,r.Z)(this,e),this.parser=t,this.name=x.KHR_MATERIALS_CLEARCOAT}return(0,o.Z)(e,[{key:"getMaterialType",value:function(e){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]?l.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser;if(!(e=n.json.materials[e]).extensions||!e.extensions[this.name])return Promise.resolve();var i=[];return void 0!==(e=e.extensions[this.name]).clearcoatFactor&&(t.clearcoat=e.clearcoatFactor),void 0!==e.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",e.clearcoatTexture)),void 0!==e.clearcoatRoughnessFactor&&(t.clearcoatRoughness=e.clearcoatRoughnessFactor),void 0!==e.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",e.clearcoatRoughnessTexture)),void 0!==e.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",e.clearcoatNormalTexture)),void 0!==e.clearcoatNormalTexture.scale&&(n=e.clearcoatNormalTexture.scale,t.clearcoatNormalScale=new l.Vector2(n,n))),Promise.all(i)}}]),e}(),S=function(){function e(t){(0,r.Z)(this,e),this.parser=t,this.name=x.KHR_MATERIALS_SHEEN}return(0,o.Z)(e,[{key:"getMaterialType",value:function(e){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]?l.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser;if(!(e=n.json.materials[e]).extensions||!e.extensions[this.name])return Promise.resolve();var i=[];return void 0!==(e=(t.sheenColor=new l.Color(0,0,0),t.sheenRoughness=0,t.sheen=1,e.extensions[this.name])).sheenColorFactor&&t.sheenColor.fromArray(e.sheenColorFactor),void 0!==e.sheenRoughnessFactor&&(t.sheenRoughness=e.sheenRoughnessFactor),void 0!==e.sheenColorTexture&&i.push(n.assignTexture(t,"sheenColorMap",e.sheenColorTexture)),void 0!==e.sheenRoughnessTexture&&i.push(n.assignTexture(t,"sheenRoughnessMap",e.sheenRoughnessTexture)),Promise.all(i)}}]),e}(),A=function(){function e(t){(0,r.Z)(this,e),this.parser=t,this.name=x.KHR_MATERIALS_TRANSMISSION}return(0,o.Z)(e,[{key:"getMaterialType",value:function(e){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]?l.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser;if(!(e=n.json.materials[e]).extensions||!e.extensions[this.name])return Promise.resolve();var i=[];return void 0!==(e=e.extensions[this.name]).transmissionFactor&&(t.transmission=e.transmissionFactor),void 0!==e.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",e.transmissionTexture)),Promise.all(i)}}]),e}(),M=function(){function e(t){(0,r.Z)(this,e),this.parser=t,this.name=x.KHR_MATERIALS_VOLUME}return(0,o.Z)(e,[{key:"getMaterialType",value:function(e){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]?l.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){if(!(e=(i=this.parser).json.materials[e]).extensions||!e.extensions[this.name])return Promise.resolve();var n=[],i=(e=e.extensions[this.name],t.thickness=void 0!==e.thicknessFactor?e.thicknessFactor:0,void 0!==e.thicknessTexture&&n.push(i.assignTexture(t,"thicknessMap",e.thicknessTexture)),t.attenuationDistance=e.attenuationDistance||0,e.attenuationColor||[1,1,1]);return t.attenuationColor=new l.Color(i[0],i[1],i[2]),Promise.all(n)}}]),e}(),C=function(){function e(t){(0,r.Z)(this,e),this.parser=t,this.name=x.KHR_MATERIALS_IOR}return(0,o.Z)(e,[{key:"getMaterialType",value:function(e){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]?l.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]?(e=e.extensions[this.name],t.ior=void 0!==e.ior?e.ior:1.5,Promise.resolve()):Promise.resolve()}}]),e}(),T=function(){function e(t){(0,r.Z)(this,e),this.parser=t,this.name=x.KHR_MATERIALS_SPECULAR}return(0,o.Z)(e,[{key:"getMaterialType",value:function(e){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]?l.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser;if(!(e=n.json.materials[e]).extensions||!e.extensions[this.name])return Promise.resolve();var i=[],r=(e=e.extensions[this.name],t.specularIntensity=void 0!==e.specularFactor?e.specularFactor:1,void 0!==e.specularTexture&&i.push(n.assignTexture(t,"specularIntensityMap",e.specularTexture)),e.specularColorFactor||[1,1,1]);return t.specularColor=new l.Color(r[0],r[1],r[2]),void 0!==e.specularColorTexture&&i.push(n.assignTexture(t,"specularColorMap",e.specularColorTexture).then((function(e){e.encoding=l.sRGBEncoding}))),Promise.all(i)}}]),e}(),I=function(){function e(t){(0,r.Z)(this,e),this.parser=t,this.name=x.KHR_TEXTURE_BASISU}return(0,o.Z)(e,[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json;if(!(i=n.textures[e]).extensions||!i.extensions[this.name])return null;var i=i.extensions[this.name],r=(i=n.images[i.source],t.options.ktx2Loader);if(r)return t.loadTextureImage(e,i,r);if(n.extensionsRequired&&0<=n.extensionsRequired.indexOf(this.name))throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}}]),e}(),k=function(){function e(t){(0,r.Z)(this,e),this.parser=t,this.name=x.EXT_TEXTURE_WEBP,this.isSupported=null}return(0,o.Z)(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,i=n.json;if(!(r=i.textures[e]).extensions||!r.extensions[t])return null;var r=r.extensions[t],o=i.images[r.source],a=n.textureLoader;return o.uri&&null!==(r=n.options.manager.getHandler(o.uri))&&(a=r),this.detectSupport().then((function(r){if(r)return n.loadTextureImage(e,o,a);if(i.extensionsRequired&&0<=i.extensionsRequired.indexOf(t))throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),D=function(){function e(t){(0,r.Z)(this,e),this.name=x.EXT_MESHOPT_COMPRESSION,this.parser=t}return(0,o.Z)(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json;if((e=t.bufferViews[e]).extensions&&e.extensions[this.name]){var n=e.extensions[this.name],i=(e=this.parser.getDependency("buffer",n.buffer),this.parser.options.meshoptDecoder);if(i&&i.supported)return Promise.all([e,i.ready]).then((function(e){var t=n.byteOffset||0,r=n.byteLength||0,o=n.count,a=n.byteStride,s=new ArrayBuffer(o*a);e=new Uint8Array(e[0],t,r);return i.decodeGltfBuffer(new Uint8Array(s),o,a,e,n.mode,n.filter),s}));if(t.extensionsRequired&&0<=t.extensionsRequired.indexOf(this.name))throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return null}}]),e}(),B="glTF",E=(0,o.Z)((function e(t){(0,r.Z)(this,e),this.name=x.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(t,0,12);if(this.header={magic:l.LoaderUtils.decodeText(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==B)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var i=this.header.length-12,o=new DataView(t,12),a=0;a<i;){var s,u=o.getUint32(a,!0),c=(a+=4,o.getUint32(a,!0));a+=4,1313821514===c?(s=new Uint8Array(t,12+a,u),this.content=l.LoaderUtils.decodeText(s)):5130562===c&&(this.body=t.slice(s=12+a,s+u)),a+=u}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),P=function(){function e(t,n){if((0,r.Z)(this,e),!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=x.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}return(0,o.Z)(e,[{key:"decodePrimitive",value:function(e,t){var n,i,r=this.json,o=this.dracoLoader,a=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,l={},u={},c={};for(n in s){var h=W[n]||n.toLowerCase();l[h]=s[n]}for(i in e.attributes){var d,p,f=W[i]||i.toLowerCase();void 0!==s[i]&&(d=r.accessors[e.attributes[i]],p=H[d.componentType],c[f]=p,u[f]=!0===d.normalized)}return t.getDependency("bufferView",a).then((function(e){return new Promise((function(t){o.decodeDracoFile(e,(function(e){for(var n in e.attributes){var i=e.attributes[n];void 0!==(n=u[n])&&(i.normalized=n)}t(e)}),l,c)}))}))}}]),e}(),L=function(){function e(){(0,r.Z)(this,e),this.name=x.KHR_TEXTURE_TRANSFORM}return(0,o.Z)(e,[{key:"extendTexture",value:function(e,t){return t.texCoord,void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}]),e}(),R=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){(0,r.Z)(this,n),(i=t.call(this)).isGLTFSpecularGlossinessMaterial=!0;var i,o=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),a=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),s=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),u=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),c=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),h={specular:{value:(new l.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};return i._extraUniforms=h,i.onBeforeCompile=function(e){for(var t in h)e.uniforms[t]=h[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",o).replace("#include <metalnessmap_pars_fragment>",a).replace("#include <roughnessmap_fragment>",s).replace("#include <metalnessmap_fragment>",u).replace("#include <lights_physical_fragment>",c)},Object.defineProperties((0,f.Z)(i),{specular:{get:function(){return h.specular.value},set:function(e){h.specular.value=e}},specularMap:{get:function(){return h.specularMap.value},set:function(e){(h.specularMap.value=e)?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return h.glossiness.value},set:function(e){h.glossiness.value=e}},glossinessMap:{get:function(){return h.glossinessMap.value},set:function(e){(h.glossinessMap.value=e)?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete i.metalness,delete i.roughness,delete i.metalnessMap,delete i.roughnessMap,i.setValues(e),i}return(0,o.Z)(n,[{key:"copy",value:function(e){return(0,g.Z)((0,m.Z)(n.prototype),"copy",this).call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}]),n}(l.MeshStandardMaterial),O=function(){function e(){(0,r.Z)(this,e),this.name=x.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}return(0,o.Z)(e,[{key:"getMaterialType",value:function(){return R}},{key:"extendParams",value:function(e,t,n){t=t.extensions[this.name];var i,r=(e.color=new l.Color(1,1,1),e.opacity=1,[]);return Array.isArray(t.diffuseFactor)&&(i=t.diffuseFactor,e.color.fromArray(i),e.opacity=i[3]),void 0!==t.diffuseTexture&&r.push(n.assignTexture(e,"map",t.diffuseTexture)),e.emissive=new l.Color(0,0,0),e.glossiness=void 0!==t.glossinessFactor?t.glossinessFactor:1,e.specular=new l.Color(1,1,1),Array.isArray(t.specularFactor)&&e.specular.fromArray(t.specularFactor),void 0!==t.specularGlossinessTexture&&(i=t.specularGlossinessTexture,r.push(n.assignTexture(e,"glossinessMap",i)),r.push(n.assignTexture(e,"specularMap",i))),Promise.all(r)}},{key:"createMaterial",value:function(e){var t=new R(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=l.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}]),e}(),F=(0,o.Z)((function e(){(0,r.Z)(this,e),this.name=x.KHR_MESH_QUANTIZATION})),N=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,i,o,a){return(0,r.Z)(this,n),t.call(this,e,i,o,a)}return(0,o.Z)(n,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i*3+i,o=0;o!==i;o++)t[o]=n[r+o];return t}}]),n}(l.Interpolant),z=(N.prototype.beforeStart_=N.prototype.copySampleValue_,N.prototype.afterEnd_=N.prototype.copySampleValue_,N.prototype.interpolate_=function(e,t,n,i){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=2*a,l=3*a,u=i-t,c=e*l,h=c-l,d=-2*(t=(n=(i=(n-t)/u)*i)*i)+3*n,p=t-n,f=1-d,g=p-n+i,m=0;m!==a;m++){var y=o[h+m+a],v=o[h+m+s]*u,x=o[c+m+a],_=o[c+m]*u;r[m]=f*y+g*v+d*x+p*_}return r},new l.Quaternion),G=function(){(0,a.Z)(t,N);var e=(0,s.Z)(t);function t(){return(0,r.Z)(this,t),e.apply(this,arguments)}return(0,o.Z)(t,[{key:"interpolate_",value:function(e,n,i,r){return e=(0,g.Z)((0,m.Z)(t.prototype),"interpolate_",this).call(this,e,n,i,r),z.fromArray(e).normalize().toArray(e),e}}]),t}(),H={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},V={9728:l.NearestFilter,9729:l.LinearFilter,9984:l.NearestMipmapNearestFilter,9985:l.LinearMipmapNearestFilter,9986:l.NearestMipmapLinearFilter,9987:l.LinearMipmapLinearFilter},U={33071:l.ClampToEdgeWrapping,33648:l.MirroredRepeatWrapping,10497:l.RepeatWrapping},Z={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},W={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},j={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},X={CUBICSPLINE:void 0,LINEAR:l.InterpolateLinear,STEP:l.InterpolateDiscrete};function Y(e,t,n){for(var i in n.extensions)void 0===e[i]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[i]=n.extensions[i])}function J(e,t){void 0!==t.extras&&"object"==typeof t.extras&&Object.assign(e.userData,t.extras)}function K(e){for(var t="",n=Object.keys(e).sort(),i=0,r=n.length;i<r;i++)t+=n[i]+":"+e[n[i]]+";";return t}function Q(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var q=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(0,r.Z)(this,e),this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new v,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},"undefined"!=typeof createImageBitmap&&!1===/Firefox|^((?!chrome|android).)*safari/i.test(navigator.userAgent)?this.textureLoader=new l.ImageBitmapLoader(this.options.manager):this.textureLoader=new l.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new l.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return(0,o.Z)(e,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var n=this,i=this.json,r=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){var o={scene:t[0][i.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:i.asset,parser:n,userData:{}};Y(r,o,i),J(o,i),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(o)}))).then((function(){e(o)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],i=0,r=t.length;i<r;i++)for(var o=t[i].joints,a=0,s=o.length;a<s;a++)e[o[a]].isBone=!0;for(var l=0,u=e.length;l<u;l++){var c=e[l];void 0!==c.mesh&&(this._addNodeRef(this.meshCache,c.mesh),void 0!==c.skin&&(n[c.mesh].isSkinnedMesh=!0)),void 0!==c.camera&&this._addNodeRef(this.cameraCache,c.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){var i=this;if(e.refs[t]<=1)return n;var r=n.clone();return function e(t,n){var r,o=i.associations.get(t),a=(null!=o&&i.associations.set(n,o),(0,p.Z)(t.children.entries()));try{for(a.s();!(r=a.n()).done;){var s=(0,d.Z)(r.value,2),l=s[0];e(s[1],n.children[l])}}catch(e){a.e(e)}finally{a.f()}}(n,r),r.name+="_instance_"+e.uses[t]++,r}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var i=e(t[n]);if(i)return i}return null}},{key:"_invokeAll",value:function(e){for(var t=Object.values(this.plugins),n=(t.unshift(this),[]),i=0;i<t.length;i++){var r=e(t[i]);r&&n.push(r)}return n}},{key:"getDependency",value:function(e,t){var n=e+":"+t,i=this.cache.get(n);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":i=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":i=this.loadSkin(t);break;case"animation":i=this.loadAnimation(t);break;case"camera":i=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,i)}return i}},{key:"getDependencies",value:function(e){var t,n,i=this.cache.get(e);return i||(n=(t=this).json[e+("mesh"===e?"es":"s")]||[],i=Promise.all(n.map((function(n,i){return t.getDependency(e,i)}))),this.cache.add(e,i)),i}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[x.KHR_BINARY_GLTF].body);var i=this.options;return new Promise((function(e,r){n.load(l.LoaderUtils.resolveURL(t.uri,i.path),e,void 0,(function(){r(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,i=t.byteOffset||0;return e.slice(i,i+n)}))}},{key:"loadAccessor",value:function(e){var t=this,n=this.json,i=this.json.accessors[e];return void 0===i.bufferView&&void 0===i.sparse?Promise.resolve(null):(e=[],void 0!==i.bufferView?e.push(this.getDependency("bufferView",i.bufferView)):e.push(null),void 0!==i.sparse&&(e.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),e.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(e).then((function(e){var r,o=e[0],a=Z[i.type],s=H[i.componentType],u=s.BYTES_PER_ELEMENT,c=i.byteOffset||0,h=void 0!==i.bufferView?n.bufferViews[i.bufferView].byteStride:void 0,d=!0===i.normalized,p=h&&h!==u*a?(f=Math.floor(c/h),g="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+f+":"+i.count,(m=t.cache.get(g))||(r=new s(o,f*h,i.count*h/u),m=new l.InterleavedBuffer(r,h/u),t.cache.add(g,m)),new l.InterleavedBufferAttribute(m,a,c%h/u,d)):(r=null===o?new s(i.count*a):new s(o,c,i.count*a),new l.BufferAttribute(r,a,d));if(void 0!==i.sparse){var f=H[i.sparse.indices.componentType],g=i.sparse.indices.byteOffset||0,m=i.sparse.values.byteOffset||0,y=new f(e[1],g,i.sparse.count*Z.SCALAR),v=new s(e[2],m,i.sparse.count*a);null!==o&&(p=new l.BufferAttribute(p.array.slice(),p.itemSize,p.normalized));for(var x=0,_=y.length;x<_;x++){var b=y[x];if(p.setX(b,v[x*a]),2<=a&&p.setY(b,v[x*a+1]),3<=a&&p.setZ(b,v[x*a+2]),4<=a&&p.setW(b,v[x*a+3]),5<=a)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return p})))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,i=t.textures[e];t=t.images[i.source],i=this.textureLoader;return t.uri&&null!==(n=n.manager.getHandler(t.uri))&&(i=n),this.loadTextureImage(e,t,i)}},{key:"loadTextureImage",value:function(e,t,n){var i=this,r=this.json,o=this.options,a=r.textures[e],s=(t.uri||t.bufferView)+":"+a.sampler;if(this.textureCache[s])return this.textureCache[s];var u=self.URL||self.webkitURL,c=t.uri||"",h=!1;if(void 0!==t.bufferView)c=i.getDependency("bufferView",t.bufferView).then((function(e){return h=!0,e=new Blob([e],{type:t.mimeType}),c=u.createObjectURL(e)}));else if(void 0===t.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");var d=Promise.resolve(c).then((function(e){return new Promise((function(t,i){var r=t;!0===n.isImageBitmapLoader&&(r=function(e){(e=new l.Texture(e)).needsUpdate=!0,t(e)}),n.load(l.LoaderUtils.resolveURL(e,o.path),r,void 0,i)}))})).then((function(t){!0===h&&u.revokeObjectURL(c),t.flipY=!1,a.name&&(t.name=a.name);var n=(r.samplers||{})[a.sampler]||{};return t.magFilter=V[n.magFilter]||l.LinearFilter,t.minFilter=V[n.minFilter]||l.LinearMipmapLinearFilter,t.wrapS=U[n.wrapS]||l.RepeatWrapping,t.wrapT=U[n.wrapT]||l.RepeatWrapping,i.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[s]=d}},{key:"assignTexture",value:function(e,t,n){var i=this;return this.getDependency("texture",n.index).then((function(r){var o,a;return void 0!==n.texCoord&&0!=n.texCoord&&"aoMap"===t&&n.texCoord,i.extensions[x.KHR_TEXTURE_TRANSFORM]&&(o=void 0!==n.extensions?n.extensions[x.KHR_TEXTURE_TRANSFORM]:void 0)&&(a=i.associations.get(r),r=i.extensions[x.KHR_TEXTURE_TRANSFORM].extendTexture(r,o),i.associations.set(r,a)),e[t]=r}))}},{key:"assignFinalMaterial",value:function(e){var t,n,i=e.geometry,r=e.material,o=void 0===i.attributes.tangent,a=void 0!==i.attributes.color,s=void 0===i.attributes.normal;e.isPoints?(t="PointsMaterial:"+r.uuid,(n=this.cache.get(t))||(n=new l.PointsMaterial,l.Material.prototype.copy.call(n,r),n.color.copy(r.color),n.map=r.map,n.sizeAttenuation=!1,this.cache.add(t,n)),r=n):e.isLine&&(t="LineBasicMaterial:"+r.uuid,(n=this.cache.get(t))||(n=new l.LineBasicMaterial,l.Material.prototype.copy.call(n,r),n.color.copy(r.color),this.cache.add(t,n)),r=n),(o||a||s)&&(t="ClonedMaterial:"+r.uuid+":",r.isGLTFSpecularGlossinessMaterial&&(t+="specular-glossiness:"),o&&(t+="derivative-tangents:"),a&&(t+="vertex-colors:"),s&&(t+="flat-shading:"),(n=this.cache.get(t))||(n=r.clone(),a&&(n.vertexColors=!0),s&&(n.flatShading=!0),o&&(n.normalScale&&(n.normalScale.y*=-1),n.clearcoatNormalScale&&(n.clearcoatNormalScale.y*=-1)),this.cache.add(t,n),this.associations.set(n,this.associations.get(r))),r=n),r.aoMap&&void 0===i.attributes.uv2&&void 0!==i.attributes.uv&&i.setAttribute("uv2",i.attributes.uv),e.material=r}},{key:"getMaterialType",value:function(){return l.MeshStandardMaterial}},{key:"loadMaterial",value:function(e){var t,n=this,i=this.json,r=this.extensions,o=i.materials[e],a={},s=[],u=((i=o.extensions||{})[x.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]?(u=r[x.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS],t=u.getMaterialType(),s.push(u.extendParams(a,o,n))):i[x.KHR_MATERIALS_UNLIT]?(u=r[x.KHR_MATERIALS_UNLIT],t=u.getMaterialType(),s.push(u.extendParams(a,o,n))):(i=o.pbrMetallicRoughness||{},a.color=new l.Color(1,1,1),a.opacity=1,Array.isArray(i.baseColorFactor)&&(u=i.baseColorFactor,a.color.fromArray(u),a.opacity=u[3]),void 0!==i.baseColorTexture&&s.push(n.assignTexture(a,"map",i.baseColorTexture)),a.metalness=void 0!==i.metallicFactor?i.metallicFactor:1,a.roughness=void 0!==i.roughnessFactor?i.roughnessFactor:1,void 0!==i.metallicRoughnessTexture&&(s.push(n.assignTexture(a,"metalnessMap",i.metallicRoughnessTexture)),s.push(n.assignTexture(a,"roughnessMap",i.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),s.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,a)}))))),!0===o.doubleSided&&(a.side=l.DoubleSide),o.alphaMode||"OPAQUE");return"BLEND"===u?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,"MASK"===u&&(a.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&t!==l.MeshBasicMaterial&&(s.push(n.assignTexture(a,"normalMap",o.normalTexture)),a.normalScale=new l.Vector2(1,1),void 0!==o.normalTexture.scale&&(i=o.normalTexture.scale,a.normalScale.set(i,i))),void 0!==o.occlusionTexture&&t!==l.MeshBasicMaterial&&(s.push(n.assignTexture(a,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(a.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&t!==l.MeshBasicMaterial&&(a.emissive=(new l.Color).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&t!==l.MeshBasicMaterial&&s.push(n.assignTexture(a,"emissiveMap",o.emissiveTexture)),Promise.all(s).then((function(){var i=t===R?r[x.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):new t(a);return o.name&&(i.name=o.name),i.map&&(i.map.encoding=l.sRGBEncoding),i.emissiveMap&&(i.emissiveMap.encoding=l.sRGBEncoding),J(i,o),n.associations.set(i,{materials:e}),o.extensions&&Y(r,i,o),i}))}},{key:"createUniqueName",value:function(e){for(var t=l.PropertyBinding.sanitizeNodeName(e||""),n=t,i=1;this.nodeNamesUsed[n];++i)n=t+"_"+i;return this.nodeNamesUsed[n]=!0,n}},{key:"loadGeometries",value:function(e){for(var t=this,n=this.extensions,i=this.primitiveCache,r=[],o=0,a=e.length;o<a;o++){var s=e[o],u=(c=void 0,c=(c=(u=s).extensions&&u.extensions[x.KHR_DRACO_MESH_COMPRESSION])?"draco:"+c.bufferView+":"+c.indices+":"+K(c.attributes):u.indices+":"+K(u.attributes)+":"+u.mode),c=i[u];c?r.push(c.promise):(c=void 0,c=s.extensions&&s.extensions[x.KHR_DRACO_MESH_COMPRESSION]?function(e){return n[x.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return $(n,e,t)}))}(s):$(new l.BufferGeometry,s,t),i[u]={primitive:s,promise:c},r.push(c))}return Promise.all(r)}},{key:"loadMesh",value:function(e){for(var t=this,n=this.json,i=this.extensions,r=n.meshes[e],o=r.primitives,a=[],s=0,u=o.length;s<u;s++){var c=void 0===o[s].material?(void 0===(c=this.cache).DefaultMaterial&&(c.DefaultMaterial=new l.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:l.FrontSide})),c.DefaultMaterial):this.getDependency("material",o[s].material);a.push(c)}return a.push(t.loadGeometries(o)),Promise.all(a).then((function(n){for(var a=n.slice(0,n.length-1),s=n[n.length-1],u=[],c=0,h=s.length;c<h;c++){var d=s[c],p=o[c],f=void 0,g=a[c];if(4===p.mode||5===p.mode||6===p.mode||void 0===p.mode)!0!==(f=new(!0===r.isSkinnedMesh?l.SkinnedMesh:l.Mesh)(d,g)).isSkinnedMesh||f.geometry.attributes.skinWeight.normalized||f.normalizeSkinWeights(),5===p.mode?f.geometry=ee(f.geometry,l.TriangleStripDrawMode):6===p.mode&&(f.geometry=ee(f.geometry,l.TriangleFanDrawMode));else if(1===p.mode)f=new l.LineSegments(d,g);else if(3===p.mode)f=new l.Line(d,g);else if(2===p.mode)f=new l.LineLoop(d,g);else{if(0!==p.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+p.mode);f=new l.Points(d,g)}if(0<Object.keys(f.geometry.morphAttributes).length){w=b=_=x=v=m=void 0;var m=f,y=r;if(m.updateMorphTargets(),void 0!==y.weights)for(var v=0,x=y.weights.length;v<x;v++)m.morphTargetInfluences[v]=y.weights[v];if(y.extras&&Array.isArray(y.extras.targetNames)){var _=y.extras.targetNames;if(m.morphTargetInfluences.length===_.length){m.morphTargetDictionary={};for(var b=0,w=_.length;b<w;b++)m.morphTargetDictionary[_[b]]=b}}}f.name=t.createUniqueName(r.name||"mesh_"+e),J(f,r),p.extensions&&Y(i,f,p),t.assignFinalMaterial(f),u.push(f)}for(var S=0,A=u.length;S<A;S++)t.associations.set(u[S],{meshes:e,primitives:S});if(1===u.length)return u[0];var M=new l.Group;t.associations.set(M,{meshes:e});for(var C=0,T=u.length;C<T;C++)M.add(u[C]);return M}))}},{key:"loadCamera",value:function(e){var t,n=(e=this.json.cameras[e])[e.type];if(n)return"perspective"===e.type?t=new l.PerspectiveCamera(l.MathUtils.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===e.type&&(t=new l.OrthographicCamera(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),e.name&&(t.name=this.createUniqueName(e.name)),J(t,e),Promise.resolve(t)}},{key:"loadSkin",value:function(e){var t={joints:(e=this.json.skins[e]).joints};return void 0===e.inverseBindMatrices?Promise.resolve(t):this.getDependency("accessor",e.inverseBindMatrices).then((function(e){return t.inverseBindMatrices=e,t}))}},{key:"loadAnimation",value:function(e){for(var t=this.json.animations[e],n=[],i=[],r=[],o=[],a=[],s=0,u=t.channels.length;s<u;s++){var c=t.channels[s],h=t.samplers[c.sampler],d=void 0!==(c=c.target).node?c.node:c.id,p=void 0!==t.parameters?t.parameters[h.input]:h.input,f=void 0!==t.parameters?t.parameters[h.output]:h.output;n.push(this.getDependency("node",d)),i.push(this.getDependency("accessor",p)),r.push(this.getDependency("accessor",f)),o.push(h),a.push(c)}return Promise.all([Promise.all(n),Promise.all(i),Promise.all(r),Promise.all(o),Promise.all(a)]).then((function(n){for(var i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],u=[],c=0,h=i.length;c<h;c++)!function(e){var t=i[e],n=r[e],c=o[e],h=a[e],d=s[e];if(void 0!==t){t.updateMatrix(),t.matrixAutoUpdate=!0;var p=void 0;switch(j[d.path]){case j.weights:p=l.NumberKeyframeTrack;break;case j.rotation:p=l.QuaternionKeyframeTrack;break;default:p=l.VectorKeyframeTrack}e=t.name||t.uuid;var f=void 0!==h.interpolation?X[h.interpolation]:l.InterpolateLinear,g=[],m=(j[d.path]===j.weights?t.traverse((function(e){e.morphTargetInfluences&&g.push(e.name||e.uuid)})):g.push(e),c.array);if(c.normalized){for(var y=Q(m.constructor),v=new Float32Array(m.length),x=0,_=m.length;x<_;x++)v[x]=m[x]*y;m=v}for(var b=0,w=g.length;b<w;b++){var S=new p(g[b]+"."+j[d.path],n.array,m,f);"CUBICSPLINE"===h.interpolation&&(S.createInterpolant=function(e){return new(this instanceof l.QuaternionKeyframeTrack?G:N)(this.times,this.values,this.getValueSize()/3,e)},S.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),u.push(S)}}}(c);return n=t.name||"animation_"+e,new l.AnimationClip(n,void 0,u)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,i=t.nodes[e];return void 0===i.mesh?null:n.getDependency("mesh",i.mesh).then((function(e){return e=n._getNodeRef(n.meshCache,i.mesh,e),void 0!==i.weights&&e.traverse((function(e){if(e.isMesh)for(var t=0,n=i.weights.length;t<n;t++)e.morphTargetInfluences[t]=i.weights[t]})),e}))}},{key:"loadNode",value:function(e){var t,n=this.json,i=this.extensions,r=this,o=n.nodes[e],a=o.name?r.createUniqueName(o.name):"";return t=[],(n=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)})))&&t.push(n),void 0!==o.camera&&t.push(r.getDependency("camera",o.camera).then((function(e){return r._getNodeRef(r.cameraCache,o.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t).then((function(t){var n,s=!0===o.isBone?new l.Bone:1<t.length?new l.Group:1===t.length?t[0]:new l.Object3D;if(s!==t[0])for(var u=0,c=t.length;u<c;u++)s.add(t[u]);return o.name&&(s.userData.name=o.name,s.name=a),J(s,o),o.extensions&&Y(i,s,o),void 0!==o.matrix?((n=new l.Matrix4).fromArray(o.matrix),s.applyMatrix4(n)):(void 0!==o.translation&&s.position.fromArray(o.translation),void 0!==o.rotation&&s.quaternion.fromArray(o.rotation),void 0!==o.scale&&s.scale.fromArray(o.scale)),r.associations.has(s)||r.associations.set(s,{}),r.associations.get(s).nodes=e,s}))}},{key:"loadScene",value:function(e){for(var t=this.json,n=this.extensions,i=(e=this.json.scenes[e],this),r=new l.Group,o=(e.name&&(r.name=i.createUniqueName(e.name)),J(r,e),e.extensions&&Y(n,r,e),e.nodes||[]),a=[],s=0,u=o.length;s<u;s++)a.push(function e(t,n,i,r){var o=i.nodes[t];return r.getDependency("node",t).then((function(e){return void 0===o.skin?e:r.getDependency("skin",o.skin).then((function(e){for(var n=[],i=0,o=(t=e).joints.length;i<o;i++)n.push(r.getDependency("node",t.joints[i]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(e.isMesh){for(var i=[],r=[],o=0,a=n.length;o<a;o++){var s=n[o];s&&(i.push(s),s=new l.Matrix4,void 0!==t.inverseBindMatrices&&s.fromArray(t.inverseBindMatrices.array,16*o),r.push(s))}e.bind(new l.Skeleton(i,r),e.matrixWorld)}})),e}));var t})).then((function(t){n.add(t);var a=[];if(o.children)for(var s=o.children,l=0,u=s.length;l<u;l++){var c=s[l];a.push(e(c,t,i,r))}return Promise.all(a)}))}(o[s],r,t,i));return Promise.all(a).then((function(){return i.associations=function(e){var t,n=new Map,r=(0,p.Z)(i.associations);try{for(r.s();!(t=r.n()).done;){var o=(0,d.Z)(t.value,2),a=o[0],s=o[1];(a instanceof l.Material||a instanceof l.Texture)&&n.set(a,s)}}catch(e){r.e(e)}finally{r.f()}return e.traverse((function(e){var t=i.associations.get(e);null!=t&&n.set(e,t)})),n}(r),r}))}}]),e}();function $(e,t,n){var i,r=t.attributes,o=[];for(i in r){var a=W[i]||i.toLowerCase();a in e.attributes||o.push(function(t,i){return n.getDependency("accessor",t).then((function(t){e.setAttribute(i,t)}))}(r[i],a))}void 0===t.indices||e.index||(s=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)})),o.push(s)),J(e,t);var s=e,u=t,c=n,h=u.attributes,d=new l.Box3;if(void 0!==h.POSITION){var p=(h=c.json.accessors[h.POSITION]).min,f=h.max;if(void 0!==p&&void 0!==f){d.set(new l.Vector3(p[0],p[1],p[2]),new l.Vector3(f[0],f[1],f[2])),h.normalized&&(p=Q(H[h.componentType]),d.min.multiplyScalar(p),d.max.multiplyScalar(p));var g=u.targets;if(void 0!==g){for(var m=new l.Vector3,y=new l.Vector3,v=0,x=g.length;v<x;v++){var _,b,w=g[v];void 0!==w.POSITION&&(b=(w=c.json.accessors[w.POSITION]).min,_=w.max,void 0!==b&&void 0!==_&&(y.setX(Math.max(Math.abs(b[0]),Math.abs(_[0]))),y.setY(Math.max(Math.abs(b[1]),Math.abs(_[1]))),y.setZ(Math.max(Math.abs(b[2]),Math.abs(_[2]))),w.normalized&&(b=Q(H[w.componentType]),y.multiplyScalar(b)),m.max(y)))}d.expandByVector(m)}s.boundingBox=d,f=new l.Sphere,d.getCenter(f.center),f.radius=d.min.distanceTo(d.max)/2,s.boundingSphere=f}}return Promise.all(o).then((function(){if(void 0===t.targets)return e;for(var i=e,r=t.targets,o=n,a=!1,s=!1,l=0,u=r.length;l<u;l++){var c=r[l];if(void 0!==c.POSITION&&(a=!0),void 0!==c.NORMAL&&(s=!0),a&&s)break}if(!a&&!s)return Promise.resolve(i);for(var h=[],d=[],p=0,f=r.length;p<f;p++){var g,m=r[p];a&&(g=void 0!==m.POSITION?o.getDependency("accessor",m.POSITION):i.attributes.position,h.push(g)),s&&(g=void 0!==m.NORMAL?o.getDependency("accessor",m.NORMAL):i.attributes.normal,d.push(g))}return Promise.all([Promise.all(h),Promise.all(d)]).then((function(e){var t=e[0];e=e[1];return a&&(i.morphAttributes.position=t),s&&(i.morphAttributes.normal=e),i.morphTargetsRelative=!0,i}))}))}function ee(e,t){var n=e.getIndex();if(null===n){var i=[],r=e.getAttribute("position");if(void 0===r)return e;for(var o=0;o<r.count;o++)i.push(o);e.setIndex(i),n=e.getIndex()}var a=n.count-2,s=[];if(t===l.TriangleFanDrawMode)for(var u=1;u<=a;u++)s.push(n.getX(0)),s.push(n.getX(u)),s.push(n.getX(u+1));else for(var c=0;c<a;c++)c%2==0?(s.push(n.getX(c)),s.push(n.getX(c+1)),s.push(n.getX(c+2))):(s.push(n.getX(c+2)),s.push(n.getX(c+1)),s.push(n.getX(c)));return s.length,(t=e.clone()).setIndex(s),t}var te=n(1141),ne=null;function ie(e,t,n){return function(i){n&&n(i),e&&((ne=ne||new c).setDecoderPath("string"==typeof e?e:"https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),i.setDRACOLoader(ne)),t&&i.setMeshoptDecoder(h())}}function re(e){return(0,te.z)(y,e,ie(!(1<arguments.length&&void 0!==arguments[1])||arguments[1],!(2<arguments.length&&void 0!==arguments[2])||arguments[2],3<arguments.length?arguments[3]:void 0))}re.preload=function(e){return te.z.preload(y,e,ie(!(1<arguments.length&&void 0!==arguments[1])||arguments[1],!(2<arguments.length&&void 0!==arguments[2])||arguments[2],3<arguments.length?arguments[3]:void 0))},re.clear=function(e){return te.z.clear(y,e)}},5636:function(e,t,n){"use strict";n.d(t,{V:function(){return b}});var i=n(1413),r=n(9439),o=n(4925),a=n(7462),s=n(9867),l=n(8192),u=n(3391),c=n(1141),h=["children","eps","style","className","prepend","center","fullscreen","portal","distanceFactor","sprite","transform","occlude","onOcclude","zIndexRange","calculatePosition","as","wrapperClass","pointerEvents"],d=new u.Vector3,p=new u.Vector3,f=new u.Vector3;function g(e,t,n){return(e=d.setFromMatrixPosition(e.matrixWorld)).project(t),t=n.width/2,n=n.height/2,[e.x*t+t,-e.y*n+n]}function m(e){return Math.abs(e)<1e-10?0:e}function y(e,t,n){n=2<arguments.length&&void 0!==n?n:"";for(var i="matrix3d(",r=0;16!==r;r++)i+=m(t[r]*e.elements[r])+(15!==r?",":")");return n+i}v=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1];var v,x=function(e){return y(e,v)},_=function(e,t){return y(e,[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1],"translate(-50%,-50%)")},b=s.forwardRef((function(e,t){var n=e.children,y=void 0===(M=e.eps)?.001:M,v=e.style,b=e.className,w=e.prepend,S=e.center,A=e.fullscreen,M=e.portal,C=e.distanceFactor,T=void 0!==(O=e.sprite)&&O,I=void 0!==(O=e.transform)&&O,k=e.occlude,D=e.onOcclude,B=void 0===(O=e.zIndexRange)?[16777271,0]:O,E=void 0===(O=e.calculatePosition)?g:O,P=void 0===(O=e.as)?"div":O,L=e.wrapperClass,R=void 0===(O=e.pointerEvents)?"auto":O,O=(0,o.Z)(e,h),F=(e=(0,c.w)((function(e){return e.gl})),(0,c.w)((function(e){return e.camera}))),N=(0,c.w)((function(e){return e.scene})),z=(0,c.w)((function(e){return e.size})),G=(0,c.w)((function(e){return e.raycaster})),H=s.useState((function(){return document.createElement(P)})),V=(0,r.Z)(H,1)[0],U=s.useMemo((function(){return l.createRoot(V)}),[V]),Z=s.useRef(null),W=s.useRef(0),j=s.useRef([0,0]),X=s.useRef(null),Y=s.useRef(null),J=null!=(H=null==M?void 0:M.current)?H:e.domElement.parentNode,K=(s.useEffect((function(){var e;if(Z.current)return N.updateMatrixWorld(),I?V.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;":(e=E(Z.current,F,z),V.style.cssText="position:absolute;top:0;left:0;transform:translate3d(".concat(e[0],"px,").concat(e[1],"px,0);transform-origin:0 0;")),J&&(w?J.prepend(V):J.appendChild(V)),function(){J&&J.removeChild(V),U.unmount()}}),[J,I]),s.useLayoutEffect((function(){L&&(V.className=L)}),[L]),s.useMemo((function(){return I?{position:"absolute",top:0,left:0,width:z.width,height:z.height,transformStyle:"preserve-3d",pointerEvents:"none"}:(0,i.Z)((0,i.Z)({position:"absolute",transform:S?"translate3d(-50%,-50%,0)":"none"},A&&{top:-z.height/2,left:-z.width/2,width:z.width,height:z.height}),v)}),[v,S,A,z,I])),Q=s.useMemo((function(){return{position:"absolute",pointerEvents:R}}),[R]),q=(s.useLayoutEffect((function(){I?U.render(s.createElement("div",{ref:X,style:K},s.createElement("div",{ref:Y,style:Q},s.createElement("div",{ref:t,className:b,style:v,children:n})))):U.render(s.createElement("div",{ref:t,style:K,className:b,children:n}))})),s.useRef(!0));return(0,c.x)((function(){var e,t,n,i,r,o,a,s,l,c;Z.current&&(F.updateMatrixWorld(),Z.current.updateWorldMatrix(!0,!1),e=I?j.current:E(Z.current,F,z),(I||Math.abs(W.current-F.zoom)>y||Math.abs(j.current[0]-e[0])>y||Math.abs(j.current[1]-e[1])>y)&&(s=Z.current,l=F,s=d.setFromMatrixPosition(s.matrixWorld),c=p.setFromMatrixPosition(l.matrixWorld),s=s.sub(c),c=l.getWorldDirection(f),l=s.angleTo(c)>Math.PI/2,s=!1,"boolean"==typeof k?!0===k&&(s=[N]):Array.isArray(k)&&(s=k.map((function(e){return e.current}))),c=q.current,s?(i=Z.current,r=F,o=G,(a=(i=d.setFromMatrixPosition(i.matrixWorld)).clone()).project(r),o.setFromCamera(a,r),s=!(a=o.intersectObjects(s,!0)).length||(r=a[0].distance,i.distanceTo(o.ray.origin)<r),q.current=s&&!l):q.current=!l,c!==q.current&&(D?D(!q.current):V.style.display=q.current?"block":"none"),V.style.zIndex="".concat(function(e,t,n){var i;if(t instanceof u.PerspectiveCamera||t instanceof u.OrthographicCamera)return e=d.setFromMatrixPosition(e.matrixWorld),i=p.setFromMatrixPosition(t.matrixWorld),e=e.distanceTo(i),i=(n[1]-n[0])/(t.far-t.near),n=n[1]-i*t.far,Math.round(i*e+n)}(Z.current,F,B)),I?(a=z.width/2,i=z.height/2,o=F.projectionMatrix.elements[5]*i,r=F.isOrthographicCamera,s=F.top,l=F.left,c=F.bottom,n=F.right,t=x(F.matrixWorldInverse),n=r?"scale(".concat(o,")translate(").concat(m(-(n+l)/2),"px,").concat(m((s+c)/2),"px)"):"translateZ(".concat(o,"px)"),l=Z.current.matrixWorld,T&&((l=F.matrixWorldInverse.clone().transpose().copyPosition(l).scale(Z.current.scale)).elements[3]=l.elements[7]=l.elements[11]=0,l.elements[15]=1),V.style.width=z.width+"px",V.style.height=z.height+"px",V.style.perspective=r?"":"".concat(o,"px"),X.current&&Y.current&&(X.current.style.transform="".concat(n).concat(t,"translate(").concat(a,"px,").concat(i,"px)"),Y.current.style.transform=_(l,1/((C||10)/400)))):(t=void 0===C?1:(s=Z.current,((c=F)instanceof u.OrthographicCamera?c.zoom:c instanceof u.PerspectiveCamera?(s=d.setFromMatrixPosition(s.matrixWorld),n=p.setFromMatrixPosition(c.matrixWorld),c=c.fov*Math.PI/180,s=s.distanceTo(n),1/(2*Math.tan(c/2)*s)):1)*C),V.style.transform="translate3d(".concat(e[0],"px,").concat(e[1],"px,0) scale(").concat(t,")")),j.current=e,W.current=F.zoom))})),s.createElement("group",(0,a.Z)({},O,{ref:Z}))}))},1141:function(e,t,n){"use strict";n.d(t,{B:function(){return O},E:function(){return F},a:function(){return Ue},b:function(){return L},c:function(){return te},d:function(){return We},e:function(){return re},g:function(){return je},i:function(){return Re},m:function(){return ge},n:function(){return me},u:function(){return R},w:function(){return _e},x:function(){return be},z:function(){return Se}});var i=n(7762),r=n(5647),o=n(3433),a=n(3878),s=n(9199),l=n(181),u=n(5267),c=n(9439),h=n(4925),d=n(1413),p=n(5671),f=n(3144),g=n(136),m=n(9388),y=n(3391),v=n(9867),x=n(7276);var _="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?v.useEffect:v.useLayoutEffect;function b(e){function t(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:n.getState,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Object.is,r=(0,v.useReducer)((function(e){return e+1}),0),o=(0,c.Z)(r,2)[1],a=n.getState(),s=(0,v.useRef)(a),l=(0,v.useRef)(t),u=(0,v.useRef)(i),h=(0,v.useRef)(!1),d=(0,v.useRef)(),p=(void 0===d.current&&(d.current=t(a)),!1),f=(s.current===a&&l.current===t&&u.current===i&&!h.current||(e=t(a),p=!i(d.current,e)),_((function(){p&&(d.current=e),s.current=a,l.current=t,u.current=i,h.current=!1})),(0,v.useRef)(a));_((function(){function e(){try{var e=n.getState(),t=l.current(e);u.current(d.current,t)||(s.current=e,d.current=t,o())}catch(e){h.current=!0,o()}}var t=n.subscribe(e);return n.getState()!==f.current&&e(),t}),[]),r=p?e:d.current;return(0,v.useDebugValue)(r),r}var n="function"==typeof e?function(e){function t(e,t){var i;(e="function"==typeof e?e(o):e)!==o&&(i=o,o=t?e:Object.assign({},o,e),n.forEach((function(e){return e(o,i)})))}var n=new Set,i=function(){return o},r={setState:t,getState:i,subscribe:function(e,t,r){return t||r?function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Object.is,a=t(o);function s(){var n,i=t(o);r(a,i)||(n=a,e(a=i,n))}return n.add(s),function(){return n.delete(s)}}(e,t,r):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}},o=e(t,i,r);return r}(e):e;return Object.assign(t,n),t[Symbol.iterator]=function(){var e=[t,n];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},t}t=n(7787),t=n.n(t);var w=n(7304);function S(e,t,n){var i=2<arguments.length&&void 0!==n?n:function(e,t){return e===t};if(e===t)return!0;if(!e||!t)return!1;var r=e.length;if(t.length!==r)return!1;for(var o=0;o<r;o++)if(!i(e[o],t[o]))return!1;return!0}var A=[];function M(e,t,n,r){var a,s=2<arguments.length&&void 0!==n&&n,l=3<arguments.length&&void 0!==r?r:{},u=(0,i.Z)(A);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(S(t,c.keys,c.equal)){if(s)return;if(Object.prototype.hasOwnProperty.call(c,"error"))throw c.error;if(Object.prototype.hasOwnProperty.call(c,"response"))return c.response;if(!s)throw c.promise}}}catch(e){u.e(e)}finally{u.f()}var h={keys:t,equal:l.equal,promise:e.apply(void 0,(0,o.Z)(t)).then((function(e){return h.response=e})).then((function(){l.lifespan&&0<l.lifespan&&setTimeout((function(){var e=A.indexOf(h);-1!==e&&A.splice(e,1)}),l.lifespan)})).catch((function(e){return h.error=e}))};if(A.push(h),!s)throw h.promise}var C=["children","key","ref"],T=["children","key","ref"],I=["args","attach"],k=["args","children"],D=["args","children"],B=["params"],E=["events","size"],P=function(e){return e&&e.isOrthographicCamera},L="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?v.useEffect:v.useLayoutEffect;function R(e){var t=v.useRef(e);return L((function(){t.current=e}),[e]),t}function O(e){var t=e.set;return L((function(){return t(new Promise((function(){return null}))),function(){return t(!1)}}),[t]),null}var F=function(e){(0,g.Z)(n,e);var t=(0,m.Z)(n);function n(){var e;(0,p.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={error:!1},e}return(0,f.Z)(n,[{key:"componentDidCatch",value:function(e){this.props.set(e)}},{key:"render",value:function(){return this.state.error?null:this.props.children}}]),n}(v.Component),N=(F.getDerivedStateFromError=function(){return{error:!0}},"__default");function z(e){return Array.isArray(e)?Math.min(Math.max(e[0],window.devicePixelRatio),e[1]):e}var G=function(e){return null==(e=e.__r3f)?void 0:e.root.getState()},H={obj:function(e){return e===Object(e)&&!H.arr(e)&&"function"!=typeof e},fun:function(e){return"function"==typeof e},str:function(e){return"string"==typeof e},num:function(e){return"number"==typeof e},boo:function(e){return"boolean"==typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){var n=void 0===(n=(r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).arrays)?"shallow":n,i=void 0===(i=r.objects)?"reference":i,r=void 0===(r=r.strict)||r;if(typeof e!=typeof t||!!e!=!!t)return!1;if(H.str(e)||H.num(e))return e===t;var o,a=H.obj(e);if(a&&"reference"===i)return e===t;if((i=H.arr(e))&&"reference"===n)return e===t;if((i||a)&&e===t)return!0;for(o in e)if(!(o in t))return!1;for(o in r?t:e)if(e[o]!==t[o])return!1;if(H.und(o)){if(i&&0===e.length&&0===t.length)return!0;if(a&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function V(e){var t={nodes:{},materials:{}};return e&&e.traverse((function(e){e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function U(e,t){var n=e;return(null!=t&&t.primitive||!n.__r3f)&&(n.__r3f=(0,d.Z)({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},t)),e}function Z(e,t){var n,i,r=e;return t.includes("-")?(i=(n=t.split("-")).pop(),{target:r=n.reduce((function(e,t){return e[t]}),e),key:i}):{target:r,key:t}}var W=/-\d+$/;function j(e,t,n){var i,r;H.str(n)?(W.test(n)&&(r=(i=Z(e,n.replace(W,""))).target,i=i.key,Array.isArray(r[i])||(r[i]=[])),i=(r=Z(e,n)).target,r=r.key,t.__r3f.previousAttach=i[r],i[r]=t):t.__r3f.previousAttach=n(e,t)}function X(e,t,n){var i,r;H.str(n)?(i=(n=Z(e,n)).target,n=n.key,void 0===(r=t.__r3f.previousAttach)?delete i[n]:i[n]=r):null!=(i=t.__r3f)&&null!=i.previousAttach&&i.previousAttach(e,t),null!=(n=t.__r3f)&&delete n.previousAttach}function Y(e,t,n,i){t.children,t.key,t.ref;var r=(0,h.Z)(t,C),o=((t=2<arguments.length&&void 0!==n?n:{}).children,t.key,t.ref,(0,h.Z)(t,T)),a=(n=3<arguments.length&&void 0!==i&&i,i=null!=(t=null==e?void 0:e.__r3f)?t:{},Object.entries(r)),s=[];if(n)for(var l=Object.keys(o),u=0;u<l.length;u++)r.hasOwnProperty(l[u])||a.unshift([l[u],N+"remove"]);return a.forEach((function(t){var n=(t=(0,c.Z)(t,2))[0];t=t[1];if(!(null!=(i=e.__r3f)&&i.primitive&&"object"===n||H.equ(t,o[n]))){if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(n))return s.push([n,t,!0,[]]);var i=[];n.includes("-")&&(i=n.split("-")),s.push([n,t,!1,i])}})),t=(0,d.Z)({},r),i.memoizedProps&&i.memoizedProps.args&&(t.args=i.memoizedProps.args),i.memoizedProps&&i.memoizedProps.attach&&(t.attach=i.memoizedProps.attach),{memoized:t,changes:s}}function J(e,t){var n=null!=(d=null==e?void 0:e.__r3f)?d:{},i=null!=(d=null==(d=n.root)||null==d.getState?void 0:d.getState())?d:{},h=(d=function(e){return e&&!!e.memoized&&!!e.changes}(t)?t:Y(e,t)).memoized,d=(t=d.changes,n.eventCount);return e.__r3f&&(e.__r3f.memoizedProps=h),t.forEach((function(t){var d,p=(t=(0,c.Z)(t,4))[0],f=t[1],g=t[2],m=(t=t[3],e),v=m[p];!t.length||(v=t.reduce((function(e,t){return e[t]}),e))&&v.set||(t=t.reverse(),d=(t=(0,a.Z)(t)||(0,s.Z)(t)||(0,l.Z)(t)||(0,u.Z)())[0],m=t.slice(1).reverse().reduce((function(e,t){return e[t]}),e),p=d),f===N+"remove"&&(v&&v.constructor?f=(0,r.Z)(v.constructor,(0,o.Z)(null!=(t=h.args)?t:[])):m.constructor?(f=(t=(0,r.Z)(m.constructor,(0,o.Z)(null!=(d=m.__r3f.memoizedProps.args)?d:[])))[v],t.dispose&&t.dispose()):f=0),g?(f?n.handlers[p]=f:delete n.handlers[p],n.eventCount=Object.keys(n.handlers).length):v&&v.set&&(v.copy||v instanceof y.Layers)?Array.isArray(f)?v.fromArray?v.fromArray(f):v.set.apply(v,(0,o.Z)(f)):v.copy&&f&&f.constructor&&v.constructor.name===f.constructor.name?v.copy(f):void 0!==f&&(!(d=v instanceof y.Color)&&v.setScalar?v.setScalar(f):v instanceof y.Layers&&f instanceof y.Layers?v.mask=f.mask:v.set(f),y.ColorManagement||i.linear||!d||v.convertSRGBToLinear()):(m[p]=f,!i.linear&&m[p]instanceof y.Texture&&(m[p].encoding=y.sRGBEncoding)),K(e)})),n.parent&&i.internal&&e.raycast&&d!==n.eventCount&&(-1<(d=i.internal.interaction.indexOf(e))&&i.internal.interaction.splice(d,1),n.eventCount&&i.internal.interaction.push(e)),t.length&&e.parent&&Q(e),e}function K(e){(e=null==(e=e.__r3f)||null==(e=e.root)||null==e.getState?void 0:e.getState())&&0===e.internal.frames&&e.invalidate()}function Q(e){null!=e.onUpdate&&e.onUpdate(e)}function q(e,t){e.manual||(P(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function $(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function ee(e,t,n,i){var r=n.get(t);r&&(n.delete(t),0===n.size&&(e.delete(i),r.target.releasePointerCapture(i)))}function te(e){var t=new y.Vector3;function n(e){return e.filter((function(e){return["Move","Over","Enter","Out","Leave"].some((function(t){var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}))}function r(n,r,s,l){var u=e.getState(),c=u.raycaster,h=u.pointer,p=u.camera,f=u.internal;if(n.length){var g,m=t.set(h.x,h.y,0).unproject(p),y={stopped:!1},v=(0,i.Z)(n);try{var x=function(){function e(e){return null!=(e=null==(e=f.capturedMap.get(e))?void 0:e.has(v.eventObject))&&e}function t(e){var t={intersection:v,target:r.target};f.capturedMap.has(e)?f.capturedMap.get(e).set(v.eventObject,t):f.capturedMap.set(e,new Map([[v.eventObject,t]])),r.target.setPointerCapture(e)}function i(e){var t=f.capturedMap.get(e);t&&ee(f.capturedMap,v.eventObject,t,e)}var u,v=g.value,x={};for(u in r){var _=r[u];"function"!=typeof _&&(x[u]=_)}var b=(0,d.Z)((0,d.Z)((0,d.Z)({},v),x),{},{pointer:h,intersections:n,stopped:y.stopped,delta:s,unprojectedPoint:m,ray:c.ray,camera:p,stopPropagation:function(){var e="pointerId"in r&&f.capturedMap.get(r.pointerId);e&&!e.has(v.eventObject)||(b.stopped=y.stopped=!0,f.hovered.size&&Array.from(f.hovered.values()).find((function(e){return e.eventObject===v.eventObject}))&&(e=n.slice(0,n.indexOf(v)),a([].concat((0,o.Z)(e),[v]))))},target:{hasPointerCapture:e,setPointerCapture:t,releasePointerCapture:i},currentTarget:{hasPointerCapture:e,setPointerCapture:t,releasePointerCapture:i},nativeEvent:r});if(l(b),!0===y.stopped)return"break"};for(v.s();!(g=v.n()).done&&"break"!==x(););}catch(u){v.e(u)}finally{v.f()}}}function a(t){var n=e.getState().internal;Array.from(n.hovered.values()).forEach((function(e){var i,r;t.length&&t.find((function(t){return t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId}))||(i=null==(r=e.eventObject.__r3f)?void 0:r.handlers,n.hovered.delete($(e)),null!=r&&r.eventCount&&(r=(0,d.Z)((0,d.Z)({},e),{},{intersections:t||[]}),null!=i.onPointerOut&&i.onPointerOut(r),null!=i.onPointerLeave&&i.onPointerLeave(r)))}))}function s(e,t){t.forEach((function(t){return null==(t=t.__r3f)||null==t.handlers.onPointerMissed?void 0:t.handlers.onPointerMissed(e)}))}return{handlePointer:function(t){switch(t){case"onPointerLeave":case"onPointerCancel":return function(){return a([])};case"onLostPointerCapture":return function(t){var n=e.getState().internal;"pointerId"in t&&!n.capturedMap.has(t.pointerId)&&(n.capturedMap.delete(t.pointerId),a([]))}}return function(o){var l,u,c=(g=e.getState()).onPointerMissed,h=g.internal,p=(h.lastEvent.current=o,"onPointerMove"===t),f="onClick"===t||"onContextMenu"===t||"onDoubleClick"===t,g=function(t,n){var r,o=e.getState(),a=new Set,s=[],l=(n=((n=n?n(o.internal.interaction):o.internal.interaction).forEach((function(e){(e=G(e))&&(e.raycaster.camera=void 0)})),o.previousRoot||null!=o.events.compute&&o.events.compute(t,o),n.flatMap((function(e){var n,i=G(e);return i&&i.events.enabled&&null!==i.raycaster.camera?(void 0===i.raycaster.camera&&(null!=i.events.compute&&i.events.compute(t,i,null==(n=i.previousRoot)?void 0:n.getState()),void 0===i.raycaster.camera&&(i.raycaster.camera=null)),i.raycaster.camera?i.raycaster.intersectObject(e,!0):[]):[]})).sort((function(e,t){var n=G(e.object),i=G(t.object);return n&&i?i.events.priority-n.events.priority||e.distance-t.distance:0})).filter((function(e){return e=$(e),!a.has(e)&&(a.add(e),!0)}))),o.events.filter&&(n=o.events.filter(n,o)),(0,i.Z)(n));try{for(l.s();!(r=l.n()).done;)for(var u,c=r.value,h=c.object;h;)null!=(u=h.__r3f)&&u.eventCount&&s.push((0,d.Z)((0,d.Z)({},c),{},{eventObject:h})),h=h.parent}catch(n){l.e(n)}finally{l.f()}if("pointerId"in t&&o.internal.capturedMap.has(t.pointerId)){var p,f=(0,i.Z)(o.internal.capturedMap.get(t.pointerId).values());try{for(f.s();!(p=f.n()).done;){var g=p.value;s.push(g.intersection)}}catch(n){f.e(n)}finally{f.f()}}return s}(o,p?n:void 0),m=f?(l=o,m=e.getState().internal,u=l.offsetX-m.initialClick[0],l=l.offsetY-m.initialClick[1],Math.round(Math.sqrt(u*u+l*l))):0;"onPointerDown"===t&&(h.initialClick=[o.offsetX,o.offsetY],h.initialHits=g.map((function(e){return e.eventObject}))),f&&!g.length&&m<=2&&(s(o,h.interaction),c&&c(o)),p&&a(g),r(g,o,m,(function(e){var n,i=e.eventObject,r=i.__r3f,a=null==r?void 0:r.handlers;null!=r&&r.eventCount&&(p?((a.onPointerOver||a.onPointerEnter||a.onPointerOut||a.onPointerLeave)&&(r=$(e),(n=h.hovered.get(r))?n.stopped&&e.stopPropagation():(h.hovered.set(r,e),null!=a.onPointerOver&&a.onPointerOver(e),null!=a.onPointerEnter&&a.onPointerEnter(e))),null!=a.onPointerMove&&a.onPointerMove(e)):(n=a[t])?f&&!h.initialHits.includes(i)||(s(o,h.interaction.filter((function(e){return!h.initialHits.includes(e)}))),n(e)):f&&h.initialHits.includes(i)&&s(o,h.interaction.filter((function(e){return!h.initialHits.includes(e)}))))}))}}}}var ne,ie={},re=function(e){ie=(0,d.Z)((0,d.Z)({},ie),e)},oe=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],ae=function(e){return!(null==e||!e.render)},se=v.createContext(null),le=function(e,t){var n=b((function(n,i){var r=new y.Vector3,a=new y.Vector3,s=new y.Vector3;function l(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:i().camera,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,l=(e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:i().size).width,u=l/(e=e.height);n instanceof y.Vector3?s.copy(n):s.set.apply(s,(0,o.Z)(n)),n=t.getWorldPosition(r).distanceTo(s);return P(t)?{width:l/t.zoom,height:e/t.zoom,factor:1,distance:n,aspect:u}:(t=t.fov*Math.PI/180,{width:t=l/e*(e=2*Math.tan(t/2)*n),height:e,factor:l/t,distance:n,aspect:u})}function u(e){return n((function(t){return{performance:(0,d.Z)((0,d.Z)({},t.performance),{},{current:e})}}))}var c=void 0,h=new y.Vector2;return{set:n,get:i,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return e(i(),t)},advance:function(e,n){return t(e,n,i())},legacy:!1,linear:!1,flat:!1,scene:U(new y.Scene),controls:null,clock:new y.Clock,pointer:h,mouse:h,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:function(){var e=i();c&&clearTimeout(c),e.performance.current!==e.performance.min&&u(e.performance.min),c=setTimeout((function(){return u(i().performance.max)}),e.performance.debounce)}},size:{width:0,height:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,aspect:0,distance:0,factor:0,getCurrentViewport:l},setEvents:function(e){return n((function(t){return(0,d.Z)((0,d.Z)({},t),{},{events:(0,d.Z)((0,d.Z)({},t.events),e)})}))},setSize:function(e,t){var r=i().camera,o={width:e,height:t};n((function(e){return{size:o,viewport:(0,d.Z)((0,d.Z)({},e.viewport),l(r,a,o))}}))},setDpr:function(e){return n((function(t){var n=z(e);return{viewport:(0,d.Z)((0,d.Z)({},t.viewport),{},{dpr:n,initialDpr:t.viewport.initialDpr||n})}}))},setFrameloop:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"always",t=i().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n((function(){return{frameloop:e}}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:v.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:function(e,t,i){return n((function(n){return n=n.internal,{internal:(0,d.Z)((0,d.Z)({},n),{},{priority:n.priority+(0<t?1:0),subscribers:[].concat((0,o.Z)(n.subscribers),[{ref:e,priority:t,store:i}]).sort((function(e,t){return e.priority-t.priority}))})}})),function(){n((function(n){return n=n.internal,{internal:(0,d.Z)((0,d.Z)({},n),{},{priority:n.priority-(0<t?1:0),subscribers:n.subscribers.filter((function(t){return t.ref!==e}))})}}))}}}}})),i=n.getState(),r=i.size,a=i.viewport.dpr;return n.subscribe((function(){var e=(o=n.getState()).camera,t=o.size,i=o.viewport,o=o.gl;t===r&&i.dpr===a||(q(e,t),o.setPixelRatio(i.dpr),o.setSize(t.width,t.height),r=t,a=i.dpr)})),n.subscribe((function(t){return e(t)})),n};function ue(e,t){var n=t.length;return t.push(e),function(){t.splice(n,1)}}var ce,he,de=[],pe=[],fe=[],ge=function(e){return ue(e,de)},me=function(e){return ue(e,pe)};function ye(e,t){for(ne=0;ne<e.length;ne++)e[ne](t)}function ve(e,t,n){var i=t.clock.getDelta();for("never"===t.frameloop&&"number"==typeof e&&(i=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),ce=t.internal.subscribers,ne=0;ne<ce.length;ne++)(he=ce[ne]).ref.current(he.store.getState(),i,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function xe(){var e=v.useContext(se);if(e)return e;throw"R3F hooks can only be used within the Canvas component!"}function _e(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=1<arguments.length?arguments[1]:void 0;return xe()(e,t)}function be(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=xe(),i=n.getState().internal.subscribe,r=R(e);return L((function(){return i(r,t,n)}),[t,i,n]),null}function we(e,t){return function(n){var i=new n;e&&e(i);for(var r=arguments.length,o=new Array(1<r?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return Promise.all(o.map((function(e){return new Promise((function(n,r){return i.load(e,(function(e){e.scene&&Object.assign(e,V(e.scene)),n(e)}),t,(function(t){return r("Could not load ".concat(e,": ").concat(t.message))}))}))})))}}function Se(e,t,n,i){var r=Array.isArray(t)?t:[t];n=function(e,t,n){return M(e,t,!1,n)}(we(n,i),[e].concat((0,o.Z)(r)),{equal:H.equ});return Array.isArray(t)?n:n[0]}Se.preload=function(e,t,n){t=Array.isArray(t)?t:[t];M(n=we(n),e=[e].concat((0,o.Z)(t)),!0,undefined)},Se.clear=function(e,t){var n;t=Array.isArray(t)?t:[t];void 0===(n=[e].concat((0,o.Z)(t)))||0===n.length?A.splice(0,A.length):(e=A.find((function(e){return S(n,e.keys,e.equal)})))&&-1!==(e=A.indexOf(e))&&A.splice(e,1)};var Ae,Me,Ce,Te,Ie,ke=new Map,De=(n=(Ae=ke,Ie=!1,{loop:Ee,invalidate:function e(t){var n,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(!t)return Ae.forEach((function(t){return e(t.store.getState())}),i);null!=(n=t.gl.xr)&&n.isPresenting||!t.internal.active||"never"===t.frameloop||(t.internal.frames=Math.min(60,t.internal.frames+i),Ie||(Ie=!0,requestAnimationFrame(Ee)))},advance:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0;t&&ye(de,e),n?ve(e,n,i):Ae.forEach((function(t){return ve(e,t.store.getState())})),t&&ye(pe,e)}}),n.invalidate),Be=n.advance;function Ee(e){if(Ce=requestAnimationFrame(Ee),Ie=!0,Me=0,de.length&&ye(de,e),Ae.forEach((function(t){!(Te=t.store.getState()).internal.active||!("always"===Te.frameloop||0<Te.internal.frames)||null!=(t=Te.gl.xr)&&t.isPresenting||(Me+=ve(e,Te))})),pe.length&&ye(pe,e),0===Me)return fe.length&&ye(fe,e),Ie=!1,cancelAnimationFrame(Ce)}Pe=function(){var e;switch(null==(e=window)||null==(e=e.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return x.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return x.ContinuousEventPriority;default:return x.DefaultEventPriority}};n={reconciler:t()({createInstance:Oe,removeChild:Ge,appendChild:Fe,appendInitialChild:Fe,insertBefore:Ne,supportsMicrotask:!0,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,noTimeout:-1,appendChildToContainer:function(e,t){var n=e.getState().scene;n.__r3f.root=e,Fe(n,t)},removeChildFromContainer:function(e,t){return Ge(e.getState().scene,t)},insertInContainerBefore:function(e,t,n){return Ne(e.getState().scene,t,n)},getRootHostContext:function(){return null},getChildHostContext:function(e){return e},finalizeInitialChildren:function(e){return!!(null!=(e=null==e?void 0:e.__r3f)?e:{}).handlers},prepareUpdate:function(e,t,n,i){if(e.__r3f.primitive&&i.object&&i.object!==e)return[!0];var r=void 0===(r=i.args)?[]:r,o=(i=(i.children,(0,h.Z)(i,k)),void 0===(a=n.args)?[]:a),a=(n.children,(0,h.Z)(n,D));if(!Array.isArray(r))throw"The args prop must be an array!";return r.some((function(e,t){return e!==o[t]}))?[!0]:(n=Y(e,i,a,!0)).changes.length?[!1,n]:null},commitUpdate:function(e,t,n,i,r,o){var a,s,l=(t=(0,c.Z)(t,2))[0];t=t[1];l?(l=n,n=r,r=o,(s=null==(s=(o=e).__r3f)?void 0:s.parent)&&(a=Oe(l,n,null==(n=o.__r3f)?void 0:n.root),"primitive"!==l&&o.children&&(o.children.forEach((function(e){return Fe(a,e)})),o.children=[]),o.__r3f.objects.forEach((function(e){return Fe(a,e)})),o.__r3f.objects=[],Ge(s,o),Fe(s,a),a.raycast&&a.__r3f.eventCount&&a.__r3f.root.getState().internal.interaction.push(a),[r,r.alternate].forEach((function(e){null!==e&&(e.stateNode=a,e.ref&&("function"==typeof e.ref?e.ref(a):e.ref.current=a))})))):J(e,t)},commitMount:function(e,t,n,i){var r=null!=(r=null==e?void 0:e.__r3f)?r:{};e.raycast&&r.handlers&&r.eventCount&&e.__r3f.root.getState().internal.interaction.push(e)},getPublicInstance:function(e){return e},shouldDeprioritizeSubtree:function(){return!1},prepareForCommit:function(){return null},preparePortalMount:function(e){return U(e.getState().scene)},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},clearContainer:function(){return!1},detachDeletedInstance:function(){},hideInstance:function(e){var t=(n=null!=(n=null==e?void 0:e.__r3f)?n:{}).attach,n=n.parent;t&&n&&X(n,e,t),e.isObject3D&&(e.visible=!1),K(e)},unhideInstance:function(e,t){var n=(i=null!=(i=null==e?void 0:e.__r3f)?i:{}).attach,i=i.parent;n&&i&&j(i,e,n),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),K(e)},createTextInstance:function(){},hideTextInstance:function(){throw new Error("Text is not allowed in the R3F tree.")},unhideTextInstance:function(){},getCurrentEventPriority:function(){return Pe?Pe():x.DefaultEventPriority},now:"undefined"!=typeof performance&&H.fun(performance.now)?performance.now:H.fun(Date.now)?Date.now:void 0,scheduleTimeout:H.fun(setTimeout)?setTimeout:void 0,cancelTimeout:H.fun(clearTimeout)?clearTimeout:void 0,setTimeout:H.fun(setTimeout)?setTimeout:void 0,clearTimeout:H.fun(clearTimeout)?clearTimeout:void 0}),applyProps:J};var Pe,Le=n.reconciler,Re=n.applyProps;function Oe(e,t,n){var i=void 0===(i=t.args)?[]:i,a=t.attach,s=(t=(0,h.Z)(t,I),"".concat(e[0].toUpperCase()).concat(e.slice(1)));if(void 0===a&&(s.endsWith("Geometry")?a="geometry":s.endsWith("Material")&&(a="material")),"primitive"===e){if(void 0===t.object)throw"Primitives without 'object' are invalid!";var l=U(t.object,{type:e,root:n,attach:a,primitive:!0})}else{var u=ie[s];if(!u)throw"".concat(s," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively");if(!Array.isArray(i))throw"The args prop must be an array!";l=U((0,r.Z)(u,(0,o.Z)(i)),{type:e,root:n,attach:a,memoizedProps:{args:i}})}return"inject"!==s&&J(l,t),l}function Fe(e,t){var n,i=!1;t&&(null!=(n=t.__r3f)&&n.attach?j(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),i=!0),i||null!=(n=e.__r3f)&&n.objects.push(t),t.__r3f||U(t,{}),t.__r3f.parent=e,Q(t),K(t))}function Ne(e,t,n){var i,r=!1;t&&(null!=(i=t.__r3f)&&i.attach?j(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(t.parent=e,t.dispatchEvent({type:"added"}),n=(i=e.children.filter((function(e){return e!==t}))).indexOf(n),e.children=[].concat((0,o.Z)(i.slice(0,n)),[t],(0,o.Z)(i.slice(n))),r=!0),r||null!=(i=e.__r3f)&&i.objects.push(t),t.__r3f||U(t,{}),t.__r3f.parent=e,Q(t),K(t))}function ze(e,t,n){var i=2<arguments.length&&void 0!==n&&n;e&&(0,o.Z)(e).forEach((function(e){return Ge(t,e,i)}))}function Ge(e,t,n){var i,r,o,a;t&&(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((function(e){return e!==t}))),null!=(r=t.__r3f)&&r.attach?X(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.remove(t),null!=(r=t.__r3f)&&r.root&&(r=t.__r3f.root,o=t,(r=r.getState()).events,(a=r.internal).interaction=a.interaction.filter((function(e){return e!==o})),a.initialHits=a.initialHits.filter((function(e){return e!==o})),a.hovered.forEach((function(e,t){e.eventObject!==o&&e.object!==o||a.hovered.delete(t)})),a.capturedMap.forEach((function(e,t){ee(a.capturedMap,o,e,t)})))),r=null==(r=t.__r3f)?void 0:r.primitive,n=void 0===n?null!==t.dispose&&!r:n,r||(ze(null==(i=t.__r3f)?void 0:i.objects,t,n),ze(t.children,t,n)),t.__r3f&&(delete t.__r3f.root,delete t.__r3f.objects,delete t.__r3f.handlers,delete t.__r3f.memoizedProps,r||delete t.__r3f),n&&t.dispose&&"Scene"!==t.type&&(0,w.unstable_scheduleCallback)(w.unstable_IdlePriority,(function(){try{t.dispose()}catch(e){}})),K(e))}var He={objects:"shallow",strict:!1},Ve=function(e,t){var n="function"==typeof e?e(t):e;return ae(n)?n:new y.WebGLRenderer((0,d.Z)({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0},e))};function Ue(e){var t,n=ke.get(e),i=null==n?void 0:n.fiber,r=null==n?void 0:n.store,o="function"==typeof reportError?reportError:console.error,a=r||le(De,Be),s=i||Le.createContainer(a,x.ConcurrentRoot,null,!1,null,"",o,null),l=(n||ke.set(e,{fiber:s,store:a}),!1);return{configure:function(){var n,i,r=(S=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).gl,o=S.size,s=S.events,u=S.onCreated,c=void 0!==(c=S.shadows)&&c,p=void 0!==(m=S.linear)&&m,f=void 0!==(m=S.flat)&&m,g=void 0!==(m=S.legacy)&&m,m=void 0!==(m=S.orthographic)&&m,v=void 0===(v=S.frameloop)?"always":v,x=void 0===(x=S.dpr)?[1,2]:x,_=S.performance,b=S.raycaster,w=S.camera,S=S.onPointerMissed,A=a.getState(),M=A.gl,C=(b=((T=(A.gl||A.set({gl:M=Ve(r,e)}),A.raycaster))||A.set({raycaster:T=new y.Raycaster}),b||{})).params,T=(b=(0,h.Z)(b,B),w=(H.equ(b,T,He)||Re(T,(0,d.Z)({},b)),H.equ(C,T.params,He)||Re(T,{params:(0,d.Z)((0,d.Z)({},T.params),C)}),A.camera||(T=(b=w instanceof y.Camera)?w:m?new y.OrthographicCamera(0,0,0,0,.1,1e3):new y.PerspectiveCamera(75,0,.1,1e3),b||(T.position.z=5,w&&Re(T,w),null!=w&&w.rotation||T.lookAt(0,0,0)),A.set({camera:T})),A.xr||(n=function(e,t){var n=a.getState();"never"!==n.frameloop&&Be(e,!0,n,t)},i=function(){var e=a.getState().gl;e.xr.enabled=e.xr.isPresenting,e.xr.setAnimationLoop(e.xr.isPresenting?n:null)},C={connect:function(){var e=a.getState().gl;e.xr.addEventListener("sessionstart",i),e.xr.addEventListener("sessionend",i)},disconnect:function(){var e=a.getState().gl;e.xr.removeEventListener("sessionstart",i),e.xr.removeEventListener("sessionend",i)}},M.xr&&C.connect(),A.set({xr:C})),!M.shadowMap||((m=H.boo(c))&&M.shadowMap.enabled!==c||!H.equ(c,M.shadowMap,He))&&(b=M.shadowMap.enabled,M.shadowMap.enabled=!!c,m?M.shadowMap.type=y.PCFSoftShadowMap:Object.assign(M.shadowMap,c),b!==M.shadowMap.enabled&&(M.shadowMap.needsUpdate=!0)),y.ColorManagement&&(y.ColorManagement.legacyMode=g),p?y.LinearEncoding:y.sRGBEncoding),f?y.NoToneMapping:y.ACESFilmicToneMapping);return M.outputEncoding!==w&&(M.outputEncoding=w),M.toneMapping!==T&&(M.toneMapping=T),A.legacy!==g&&A.set((function(){return{legacy:g}})),A.linear!==p&&A.set((function(){return{linear:p}})),A.flat!==f&&A.set((function(){return{flat:f}})),!r||H.fun(r)||ae(r)||H.equ(r,M,He)||Re(M,r),s&&!A.events.handlers&&A.set({events:s(a)}),x&&A.viewport.dpr!==z(x)&&A.setDpr(x),o=o||{width:null!=(m=null==(C=e.parentElement)?void 0:C.clientWidth)?m:0,height:null!=(b=null==(c=e.parentElement)?void 0:c.clientHeight)?b:0},H.equ(o,A.size,He)||A.setSize(o.width,o.height),A.frameloop!==v&&A.setFrameloop(v),A.onPointerMissed||A.set({onPointerMissed:S}),_&&!H.equ(_,A.performance,He)&&A.set((function(e){return{performance:(0,d.Z)((0,d.Z)({},e.performance),_)}})),t=u,l=!0,this},render:function(n){return l||this.configure(),Le.updateContainer(v.createElement(Ze,{store:a,children:n,onCreated:t,rootElement:e}),s,null,(function(){})),a},unmount:function(){We(e)}}}function Ze(e){var t=e.store,n=e.children,i=e.onCreated,r=e.rootElement;return L((function(){var e=t.getState();e.set((function(e){return{internal:(0,d.Z)((0,d.Z)({},e.internal),{},{active:!0})}})),i&&i(e),t.getState().events.connected||null!=e.events.connect&&e.events.connect(r)}),[]),v.createElement(se.Provider,{value:t},n)}function We(e,t){var n,i=ke.get(e),r=null==i?void 0:i.fiber;r&&((n=null==i?void 0:i.store.getState())&&(n.internal.active=!1),Le.updateContainer(null,r,null,(function(){n&&setTimeout((function(){try{null!=n.events.disconnect&&n.events.disconnect(),null==(i=n.gl)||null!=(r=i.renderLists)&&null!=r.dispose&&r.dispose(),null==(o=n.gl)||null!=o.forceContextLoss&&o.forceContextLoss(),null!=(a=n.gl)&&a.xr&&n.xr.disconnect();var i,r,o,a,s,l=n;for(s in l.dispose&&"Scene"!==l.type&&l.dispose(),l)null!=s.dispose&&s.dispose(),delete l[s];ke.delete(e),t&&t(e)}catch(i){}}),500)})))}function je(e,t,n){return v.createElement(Xe,{key:t.uuid,children:e,container:t,state:n})}function Xe(e){var t=void 0===(t=e.state)?{}:t,n=e.children,i=e.container,r=t.events,o=t.size,a=(0,h.Z)(t,E),s=xe(),l=(e=v.useState((function(){return new y.Raycaster})),(0,c.Z)(e,1)[0]),u=(e=v.useState((function(){return new y.Vector2})),(0,c.Z)(e,1)[0]),p=v.useCallback((function(e,t){var n,c=(0,d.Z)({},e),h=void Object.keys(e).forEach((function(n){!oe.includes(n)&&e[n]===t[n]||delete c[n]}));return t&&o&&(n=t.camera,h=e.viewport.getCurrentViewport(n,new y.Vector3,o),n!==e.camera&&q(n,o)),(0,d.Z)((0,d.Z)({},c),{},{scene:i,raycaster:l,pointer:u,mouse:u,previousRoot:s,events:(0,d.Z)((0,d.Z)((0,d.Z)({},e.events),null==t?void 0:t.events),r),size:(0,d.Z)((0,d.Z)({},e.size),o),viewport:(0,d.Z)((0,d.Z)({},e.viewport),h)},a)}),[t]),f=(e=v.useState((function(){var e=s.getState();return b((function(t,n){return(0,d.Z)((0,d.Z)((0,d.Z)({},e),{},{scene:i,raycaster:l,pointer:u,mouse:u,previousRoot:s,events:(0,d.Z)((0,d.Z)({},e.events),r),size:(0,d.Z)((0,d.Z)({},e.size),o)},a),{},{set:t,get:n,setEvents:function(e){return t((function(t){return(0,d.Z)((0,d.Z)({},t),{},{events:(0,d.Z)((0,d.Z)({},t.events),e)})}))}})}))})),(0,c.Z)(e,1)[0]);return v.useEffect((function(){var e=s.subscribe((function(e){return f.setState((function(t){return p(e,t)}))}));return function(){e(),f.destroy()}}),[]),v.useEffect((function(){f.setState((function(e){return p(s.getState(),e)}))}),[p]),v.createElement(v.Fragment,null,Le.createPortal(v.createElement(se.Provider,{value:f},n),f,null))}Le.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:"18.0.0"}),v.unstable_act},9127:function(e,t,n){"use strict";n.d(t,{Xz:function(){return b}});var i=n(4925),r=n(9439),o=n(4942),a=n(1413),s=n(1141),l=n(7462),u=n(9867),c=n(3391),h=n(3433),d=n(3144),p=n(5671),f=(t=n(1488),n.n(t));function g(e){var t=(e=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e).debounce,n=e.scroll,i=e.polyfill,o=e.offsetSize,a=i||("undefined"==typeof window?(0,d.Z)((function e(){(0,p.Z)(this,e)})):window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");e=(0,u.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),e=(i=(0,r.Z)(e,2))[0];var s,l,c,g=i[1],y=(0,u.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:e}),v=t?"number"==typeof t?t:t.scroll:null,x=t?"number"==typeof t?t:t.resize:null,_=(0,u.useRef)(!1),b=(i=((0,u.useEffect)((function(){return _.current=!0,function(){_.current=!1}})),(0,u.useMemo)((function(){function e(){var e;y.current.element&&(e={left:(e=y.current.element.getBoundingClientRect()).left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y},y.current.element instanceof HTMLElement&&o&&(e.height=y.current.element.offsetHeight,e.width=y.current.element.offsetWidth),Object.freeze(e),_.current&&!m(y.current.lastBounds,e)&&g(y.current.lastBounds=e))}return[e,x?f()(e,x):e,v?f()(e,v):e]}),[g,o,v,x])),i=(t=(0,r.Z)(i,3))[0],t[1]),w=t[2];function S(){y.current.scrollContainers&&(y.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",w,!0)})),y.current.scrollContainers=null),y.current.resizeObserver&&(y.current.resizeObserver.disconnect(),y.current.resizeObserver=null)}function A(){y.current.element&&(y.current.resizeObserver=new a(w),y.current.resizeObserver.observe(y.current.element),n&&y.current.scrollContainers&&y.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",w,{capture:!0,passive:!0})})))}return s=w,l=Boolean(n),(0,u.useEffect)((function(){var e;if(l)return e=s,window.addEventListener("scroll",e,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",e,!0)}}),[s,l]),c=b,(0,u.useEffect)((function(){var e=c;return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[c]),(0,u.useEffect)((function(){S(),A()}),[n,w,b]),(0,u.useEffect)((function(){return S}),[]),[function(e){e&&e!==y.current.element&&(S(),y.current.element=e,y.current.scrollContainers=function e(t){var n,i=[];return t&&t!==document.body?([(n=window.getComputedStyle(t)).overflow,n.overflowX,n=n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&i.push(t),[].concat(i,(0,h.Z)(e(t.parentElement)))):i}(e),A())},e,i]}function m(e,t){return y.every((function(n){return e[n]===t[n]}))}var y=["x","y","top","bottom","left","right","width","height"],v=(n(7276),n(7787),n(7304),["children","fallback","resize","style","gl","events","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"]),x={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function _(e){var t=(0,s.c)(e).handlePointer;return{priority:1,enabled:!0,compute:function(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(x).reduce((function(e,n){return(0,a.Z)((0,a.Z)({},e),{},(0,o.Z)({},n,t(n)))}),{}),connect:function(t){var n,i=(n=e.getState()).set;null!=(n=n.events).disconnect&&n.disconnect(),i((function(e){return{events:(0,a.Z)((0,a.Z)({},e.events),{},{connected:t})}})),Object.entries(null!=(i=null==n?void 0:n.handlers)?i:[]).forEach((function(e){var n=(e=(0,r.Z)(e,2))[0],i=(e=e[1],(n=(0,r.Z)(x[n],2))[0]);n=n[1];t.addEventListener(i,e,{passive:n})}))},disconnect:function(){var t=e.getState(),n=t.set,i=t.events;i.connected&&(Object.entries(null!=(t=i.handlers)?t:[]).forEach((function(e){var t=(e=(0,r.Z)(e,2))[0];e=e[1];i&&i.connected instanceof HTMLElement&&(t=(0,r.Z)(x[t],1)[0],i.connected.removeEventListener(t,e))})),n((function(e){return{events:(0,a.Z)((0,a.Z)({},e.events),{},{connected:void 0})}})))}}}var b=u.forwardRef((function(e,t){var n=e.children,o=e.fallback,h=e.resize,d=e.style,p=e.gl,f=void 0===(f=e.events)?_:f,m=e.shadows,y=e.linear,x=e.flat,b=e.legacy,w=e.orthographic,S=e.frameloop,A=e.dpr,M=e.performance,C=e.raycaster,T=e.camera,I=e.onPointerMissed,k=e.onCreated,D=(e=(0,i.Z)(e,v),h=(u.useMemo((function(){return(0,s.e)(c)}),[]),g((0,a.Z)({scroll:!0,debounce:{scroll:50,resize:0}},h))),(h=(0,r.Z)(h,2))[0]),B=(h=h[1]).width,E=(h=h.height,u.useRef(null)),P=u.useRef(null),L=u.useState(null),R=(L=(0,r.Z)(L,2))[0],O=L[1],F=(u.useImperativeHandle(t,(function(){return E.current})),(0,s.u)(I)),N=(L=u.useState(!1),I=(t=(0,r.Z)(L,2))[0],L=t[1],t=u.useState(!1),(t=(0,r.Z)(t,2))[0]);t=t[1];if(I)throw I;if(N)throw N;return I=u.useRef(null),0<B&&0<h&&R&&(I.current||(I.current=(0,s.a)(R)),I.current.configure({gl:p,events:f,shadows:m,linear:y,flat:x,legacy:b,orthographic:w,frameloop:S,dpr:A,performance:M,raycaster:C,camera:T,size:{width:B,height:h},onPointerMissed:function(){return null==F.current?void 0:F.current.apply(F,arguments)},onCreated:function(e){null!=e.events.connect&&e.events.connect(P.current),null!=k&&k(e)}}),I.current.render(u.createElement(s.E,{set:t},u.createElement(u.Suspense,{fallback:u.createElement(s.B,{set:L})},n)))),(0,s.b)((function(){O(E.current)}),[]),u.useEffect((function(){if(R)return function(){return(0,s.d)(R)}}),[R]),u.createElement("div",(0,l.Z)({ref:P,style:(0,a.Z)({position:"relative",width:"100%",height:"100%",overflow:"hidden"},d)},e),u.createElement("div",{ref:D,style:{width:"100%",height:"100%"}},u.createElement("canvas",{ref:E,style:{display:"block"}},o)))}))},4401:function(e,t){"use strict";function n(e,t){var n=e.length;for(e.push(t);0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0!==e.length){var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var i=0,r=e.length,a=r>>>1;i<a;){var s=2*(i+1)-1,l=e[s],u=1+s,c=e[u];if(o(l,n)<0)i=u<r&&o(c,l)<0?(e[i]=c,e[u]=n,u):(e[i]=l,e[s]=n,s);else{if(!(u<r&&o(c,n)<0))break;e[i]=c,e[u]=n,i=u}}}}}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!=n?n:e.id-t.id}"object"==typeof performance&&"function"==typeof performance.now?(a=performance,t.unstable_now=function(){return a.now()}):(s=Date,l=s.now(),t.unstable_now=function(){return s.now()-l});var a,s,l,u=[],c=[],h=1,d=null,p=3,f=!1,g=!1,m=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,x="undefined"!=typeof setImmediate?setImmediate:null;function _(e){for(var t=i(c);null!==t;){if(null===t.callback)r(c);else{if(!(t.startTime<=e))break;r(c),t.sortIndex=t.expirationTime,n(u,t)}t=i(c)}}function b(e){var t;m=!1,_(e),g||(null!==i(u)?(g=!0,P(w)):null!==(t=i(c))&&L(b,t.startTime-e))}function w(e,n){g=!1,m&&(m=!1,v(I),I=-1),f=!0;var o=p;try{for(_(n),d=i(u);null!==d&&(!(d.expirationTime>n)||e&&!B());){var a,s=d.callback;"function"==typeof s?(d.callback=null,p=d.priorityLevel,a=s(d.expirationTime<=n),n=t.unstable_now(),"function"==typeof a?d.callback=a:d===i(u)&&r(u),_(n)):r(u),d=i(u)}var l;return null!==d||(null!==(l=i(c))&&L(b,l.startTime-n),!1)}finally{d=null,p=o,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,A,M,C=!1,T=null,I=-1,k=5,D=-1;function B(){return!(t.unstable_now()-D<k)}function E(){if(null!==T){var e=t.unstable_now(),n=(D=e,!0);try{n=T(!0,e)}finally{n?S():(C=!1,T=null)}}else C=!1}function P(e){T=e,C||(C=!0,S())}function L(e,n){I=y((function(){e(t.unstable_now())}),n)}S="function"==typeof x?function(){x(E)}:"undefined"!=typeof MessageChannel?(A=new MessageChannel,M=A.port2,A.port1.onmessage=E,function(){M.postMessage(null)}):function(){y(E,0)},t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,P(w))},t.unstable_forceFrameRate=function(e){e<0||125<e||(k=0<e?Math.floor(1e3/e):5)},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:r,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},a<o?(e.sortIndex=o,n(c,e),null===i(u)&&e===i(c)&&(m?(v(I),I=-1):m=!0,L(b,o-a))):(e.sortIndex=s,n(u,e),g||f||(g=!0,P(w))),e},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},7304:function(e,t,n){"use strict";e.exports=n(4401)},1139:function(e,t,n){"use strict";n.d(t,{dp:function(){return Pe},V2:function(){return Le},y8:function(){return Fe},xC:function(){return Oe}});var i=n(5647),r=n(3433),o=n(1413),a=n(9439),s=n(4925),l=(n(8664),n(7326)),u=n(8415),c=n(4942);function h(e,t,n,i){return(h="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,i){var r;if(e=(0,u.Z)(e,t)){if((r=Object.getOwnPropertyDescriptor(e,t)).set)return r.set.call(i,n),!0;if(!r.writable)return!1}if(r=Object.getOwnPropertyDescriptor(i,t)){if(!r.writable)return!1;r.value=n,Object.defineProperty(i,t,r)}else(0,c.Z)(i,t,n);return!0})(e,t,n,i)}var d=n(8301),p=n(1120),f=n(7762),g=n(136),m=n(9388),y=n(5671),v=n(3144),x=n(3391),_="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",b=function(e){(0,g.Z)(n,e);var t=(0,m.Z)(n);function n(){var e;return(0,y.Z)(this,n),(e=t.call(this,{name:"AdaptiveLuminanceMaterial",defines:{MIP_LEVEL_1X1:"0.0"},uniforms:{luminanceBuffer0:new x.Uniform(null),luminanceBuffer1:new x.Uniform(null),minLuminance:new x.Uniform(.01),deltaTime:new x.Uniform(0),tau:new x.Uniform(1)},extensions:{shaderTextureLOD:!0},blending:x.NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:"#include <packing>\n#define packFloatToRGBA(v) packDepthToRGBA(v)\n#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)\nuniform lowp sampler2D luminanceBuffer0;uniform lowp sampler2D luminanceBuffer1;uniform float minLuminance;uniform float deltaTime;uniform float tau;varying vec2 vUv;void main(){float l0=unpackRGBAToFloat(texture2D(luminanceBuffer0,vUv));\n#if __VERSION__ < 300\nfloat l1=texture2DLodEXT(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;\n#else\nfloat l1=textureLod(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;\n#endif\nl0=max(minLuminance,l0);l1=max(minLuminance,l1);float adaptedLum=l0+(l1-l0)*(1.0-exp(-deltaTime*tau));gl_FragColor=(adaptedLum==1.0)?vec4(1.0):packFloatToRGBA(adaptedLum);}",vertexShader:_})).toneMapped=!1,e}return(0,v.Z)(n,[{key:"luminanceBuffer0",set:function(e){this.uniforms.luminanceBuffer0.value=e}},{key:"setLuminanceBuffer0",value:function(e){this.uniforms.luminanceBuffer0.value=e}},{key:"luminanceBuffer1",set:function(e){this.uniforms.luminanceBuffer1.value=e}},{key:"setLuminanceBuffer1",value:function(e){this.uniforms.luminanceBuffer1.value=e}},{key:"mipLevel1x1",set:function(e){this.defines.MIP_LEVEL_1X1=e.toFixed(1),this.needsUpdate=!0}},{key:"setMipLevel1x1",value:function(e){this.mipLevel1x1=e}},{key:"deltaTime",set:function(e){this.uniforms.deltaTime.value=e}},{key:"setDeltaTime",value:function(e){this.uniforms.deltaTime.value=e}},{key:"minLuminance",get:function(){return this.uniforms.minLuminance.value},set:function(e){this.uniforms.minLuminance.value=e}},{key:"getMinLuminance",value:function(){return this.uniforms.minLuminance.value}},{key:"setMinLuminance",value:function(e){this.uniforms.minLuminance.value=e}},{key:"adaptationRate",get:function(){return this.uniforms.tau.value},set:function(e){this.uniforms.tau.value=e}},{key:"getAdaptationRate",value:function(){return this.uniforms.tau.value}},{key:"setAdaptationRate",value:function(e){this.uniforms.tau.value=e}}]),n}(x.ShaderMaterial),w=function(e){(0,g.Z)(n,e);var t=(0,m.Z)(n);function n(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],i=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return(0,y.Z)(this,n),(e=t.call(this,{name:"BokehMaterial",defines:{PASS:e?"2":"1"},uniforms:{kernel64:new x.Uniform(null),kernel16:new x.Uniform(null),inputBuffer:new x.Uniform(null),cocBuffer:new x.Uniform(null),texelSize:new x.Uniform(new x.Vector2),scale:new x.Uniform(1)},blending:x.NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform lowp sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;\n#if PASS == 1\nuniform vec4 kernel64[32];\n#else\nuniform vec4 kernel16[8];\n#endif\nvarying vec2 vUv;void main(){\n#ifdef FOREGROUND\nvec2 CoCNearFar=texture2D(cocBuffer,vUv).rg;float CoC=CoCNearFar.r*scale;\n#else\nfloat CoC=texture2D(cocBuffer,vUv).g*scale;\n#endif\nif(CoC==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{\n#ifdef FOREGROUND\nvec2 step=texelSize*max(CoC,CoCNearFar.g*scale);\n#else\nvec2 step=texelSize*CoC;\n#endif\n#if PASS == 1\nvec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;\n#else\nvec4 maxValue=texture2D(inputBuffer,vUv);for(int i=0;i<8;++i){vec4 kernel=kernel16[i];vec2 uv=step*kernel.xy+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);uv=step*kernel.zw+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);}gl_FragColor=maxValue;\n#endif\n}}",vertexShader:_})).toneMapped=!1,i&&(e.defines.FOREGROUND="1"),e.generateKernel(),e}return(0,v.Z)(n,[{key:"inputBuffer",set:function(e){this.uniforms.inputBuffer.value=e}},{key:"setInputBuffer",value:function(e){this.uniforms.inputBuffer.value=e}},{key:"cocBuffer",set:function(e){this.uniforms.cocBuffer.value=e}},{key:"setCoCBuffer",value:function(e){this.uniforms.cocBuffer.value=e}},{key:"scale",get:function(){return this.uniforms.scale.value},set:function(e){this.uniforms.scale.value=e}},{key:"getScale",value:function(e){return this.uniforms.scale.value=e}},{key:"setScale",value:function(e){this.uniforms.scale.value=e}},{key:"generateKernel",value:function(){for(var e=new Float32Array(128),t=new Float32Array(32),n=0,i=0,r=0;r<80;++r){var o=2.39996323*r,a=(s=Math.sqrt(r)/Math.sqrt(80))*Math.cos(o),s=s*Math.sin(o);r%5==0?(t[i++]=a,t[i++]=s):(e[n++]=a,e[n++]=s)}for(var l=[],u=[],c=0;c<128;)l.push(new x.Vector4(e[c++],e[c++],e[c++],e[c++]));for(var h=0;h<32;)u.push(new x.Vector4(t[h++],t[h++],t[h++],t[h++]));this.uniforms.kernel64.value=l,this.uniforms.kernel16.value=u}},{key:"setTexelSize",value:function(e,t){this.uniforms.texelSize.value.set(e,t)}},{key:"setSize",value:function(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}}]),n}(x.ShaderMaterial);function S(e,t,n){return e*(t-n)-t}function A(e,t,n){return Math.min(Math.max((e+t)/(t-n),0),1)}var M=function(e){(0,g.Z)(n,e);var t=(0,m.Z)(n);function n(e){var i;return(0,y.Z)(this,n),(i=t.call(this,{name:"CircleOfConfusionMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new x.Uniform(null),focusDistance:new x.Uniform(0),focusRange:new x.Uniform(0),cameraNear:new x.Uniform(.3),cameraFar:new x.Uniform(1e3)},blending:x.NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <packing>\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform float focusDistance;uniform float focusRange;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}void main(){float depth=readDepth(vUv);\n#ifdef PERSPECTIVE_CAMERA\nfloat viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);\n#else\nfloat linearDepth=depth;\n#endif\nfloat signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focusRange,abs(signedDistance));gl_FragColor.rg=magnitude*vec2(step(signedDistance,0.0),step(0.0,signedDistance));}",vertexShader:_})).toneMapped=!1,i.uniforms.focalLength=i.uniforms.focusRange,i.adoptCameraSettings(e),i}return(0,v.Z)(n,[{key:"near",get:function(){return this.uniforms.cameraNear.value}},{key:"far",get:function(){return this.uniforms.cameraFar.value}},{key:"depthBuffer",set:function(e){this.uniforms.depthBuffer.value=e}},{key:"depthPacking",set:function(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}},{key:"setDepthBuffer",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:x.BasicDepthPacking;this.depthBuffer=e,this.depthPacking=t}},{key:"focusDistance",get:function(){return this.uniforms.focusDistance.value},set:function(e){this.uniforms.focusDistance.value=e}},{key:"worldFocusDistance",get:function(){return-S(this.focusDistance,this.near,this.far)},set:function(e){this.focusDistance=A(-e,this.near,this.far)}},{key:"getFocusDistance",value:function(e){this.uniforms.focusDistance.value=e}},{key:"setFocusDistance",value:function(e){this.uniforms.focusDistance.value=e}},{key:"focalLength",get:function(){return this.focusRange},set:function(e){this.focusRange=e}},{key:"focusRange",get:function(){return this.uniforms.focusRange.value},set:function(e){this.uniforms.focusRange.value=e}},{key:"worldFocusRange",get:function(){return-S(this.focusRange,this.near,this.far)},set:function(e){this.focusRange=A(-e,this.near,this.far)}},{key:"getFocalLength",value:function(e){return this.focusRange}},{key:"setFocalLength",value:function(e){this.focusRange=e}},{key:"adoptCameraSettings",value:function(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof x.PerspectiveCamera?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}}]),n}(x.ShaderMaterial),C=function(e){(0,g.Z)(n,e);var t=(0,m.Z)(n);function n(){var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new x.Vector2;return(0,y.Z)(this,n),(e=t.call(this,{name:"KawaseBlurMaterial",uniforms:{inputBuffer:new x.Uniform(null),texelSize:new x.Uniform(new x.Vector2),halfTexelSize:new x.Uniform(new x.Vector2),kernel:new x.Uniform(0),scale:new x.Uniform(1)},blending:x.NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <dithering_pars_fragment>\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nvarying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;\n#include <encodings_fragment>\n#include <dithering_fragment>\n}",vertexShader:"uniform vec2 texelSize;uniform vec2 halfTexelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize*vec2(kernel)+halfTexelSize)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}"})).toneMapped=!1,e.setTexelSize(i.x,i.y),e}return(0,v.Z)(n,[{key:"inputBuffer",set:function(e){this.uniforms.inputBuffer.value=e}},{key:"setInputBuffer",value:function(e){this.inputBuffer=e}},{key:"scale",get:function(){return this.uniforms.scale.value},set:function(e){this.uniforms.scale.value=e}},{key:"getScale",value:function(){return this.uniforms.scale.value}},{key:"setScale",value:function(e){this.uniforms.scale.value=e}},{key:"getKernel",value:function(){return null}},{key:"kernel",get:function(){return this.uniforms.kernel.value},set:function(e){this.uniforms.kernel.value=e}},{key:"setKernel",value:function(e){this.kernel=e}},{key:"setTexelSize",value:function(e,t){this.uniforms.texelSize.value.set(e,t),this.uniforms.halfTexelSize.value.set(e,t).multiplyScalar(.5)}},{key:"setSize",value:function(e,t){var n=this.uniforms;n.texelSize.value.set(1/e,1/t),n.halfTexelSize.value.copy(n.texelSize.value).multiplyScalar(.5)}}]),n}(x.ShaderMaterial),T=function(e){(0,g.Z)(n,e);var t=(0,m.Z)(n);function n(){var e;return(0,y.Z)(this,n),(e=t.call(this,{name:"CopyMaterial",uniforms:{inputBuffer:new x.Uniform(null),opacity:new x.Uniform(1)},blending:x.NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;\n#include <encodings_fragment>\n}",vertexShader:_})).toneMapped=!1,e}return(0,v.Z)(n,[{key:"inputBuffer",set:function(e){this.uniforms.inputBuffer.value=e}},{key:"setInputBuffer",value:function(e){this.uniforms.inputBuffer.value=e}},{key:"getOpacity",value:function(e){return this.uniforms.opacity.value}},{key:"setOpacity",value:function(e){this.uniforms.opacity.value=e}}]),n}(x.ShaderMaterial),I=(x.ShaderMaterial,x.ShaderMaterial,function(e){(0,g.Z)(n,e);var t=(0,m.Z)(n);function n(){var e;return(0,y.Z)(this,n),(e=t.call(this,{name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new x.Uniform(null),normalBuffer:new x.Uniform(null),texelSize:new x.Uniform(new x.Vector2)},blending:x.NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:"#include <packing>\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\n#ifdef DOWNSAMPLE_NORMALS\nuniform lowp sampler2D normalBuffer;\n#endif\nvarying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])/4.0;float distances[4];distances[0]=abs(c-samples[0]);distances[1]=abs(c-samples[1]);distances[2]=abs(c-samples[2]);distances[3]=abs(c-samples[3]);float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[4];d[0]=readDepth(vUv0);d[1]=readDepth(vUv1);d[2]=readDepth(vUv2);d[3]=readDepth(vUv3);int index=findBestDepth(d);\n#ifdef DOWNSAMPLE_NORMALS\nvec2 uvs[4];uvs[0]=vUv0;uvs[1]=vUv1;uvs[2]=vUv2;uvs[3]=vUv3;vec3 n=texture2D(normalBuffer,uvs[index]).rgb;\n#else\nvec3 n=vec3(0.0);\n#endif\ngl_FragColor=vec4(n,d[index]);}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}"})).toneMapped=!1,e}return(0,v.Z)(n,[{key:"depthBuffer",set:function(e){this.uniforms.depthBuffer.value=e}},{key:"depthPacking",set:function(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}},{key:"setDepthBuffer",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:x.BasicDepthPacking;this.depthBuffer=e,this.depthPacking=t}},{key:"normalBuffer",set:function(e){null!==(this.uniforms.normalBuffer.value=e)?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}},{key:"setNormalBuffer",value:function(e){this.normalBuffer=e}},{key:"setTexelSize",value:function(e,t){this.uniforms.texelSize.value.set(e,t)}},{key:"setSize",value:function(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}}]),n}(x.ShaderMaterial)),k=(x.ShaderMaterial,x.ShaderMaterial,{FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"}),D=function(e){(0,g.Z)(n,e);var t=(0,m.Z)(n);function n(e,i,r,o){var a=4<arguments.length&&void 0!==arguments[4]&&arguments[4];return(0,y.Z)(this,n),(a=t.call(this,{name:"EffectMaterial",defines:{THREE_REVISION:x.REVISION.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new x.Uniform(null),depthBuffer:new x.Uniform(null),resolution:new x.Uniform(new x.Vector2),texelSize:new x.Uniform(new x.Vector2),cameraNear:new x.Uniform(.3),cameraFar:new x.Uniform(1e3),aspect:new x.Uniform(1),time:new x.Uniform(0)},blending:x.NoBlending,depthWrite:!1,depthTest:!1,dithering:a})).toneMapped=!1,e&&a.setShaderParts(e),i&&a.setDefines(i),r&&a.setUniforms(r),a.adoptCameraSettings(o),a}return(0,v.Z)(n,[{key:"inputBuffer",set:function(e){this.uniforms.inputBuffer.value=e}},{key:"setInputBuffer",value:function(e){this.uniforms.inputBuffer.value=e}},{key:"depthBuffer",get:function(){return this.uniforms.depthBuffer.value},set:function(e){this.uniforms.depthBuffer.value=e}},{key:"depthPacking",get:function(){return Number(this.defines.DEPTH_PACKING)},set:function(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}},{key:"setDepthBuffer",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:x.BasicDepthPacking;this.depthBuffer=e,this.depthPacking=t}},{key:"setShaderParts",value:function(e){return this.fragmentShader="#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#define packFloatToRGBA(v) packDepthToRGBA(v)\n#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;\n#if THREE_REVISION >= 137\nvec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}float getViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn perspectiveDepthToViewZ(depth,cameraNear,cameraFar);\n#else\nreturn orthographicDepthToViewZ(depth,cameraNear,cameraFar);\n#endif\n}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;\n#ifdef ENCODE_OUTPUT\n#include <encodings_fragment>\n#endif\n#include <dithering_fragment>\n}".replace(k.FRAGMENT_HEAD,e.get(k.FRAGMENT_HEAD)).replace(k.FRAGMENT_MAIN_UV,e.get(k.FRAGMENT_MAIN_UV)).replace(k.FRAGMENT_MAIN_IMAGE,e.get(k.FRAGMENT_MAIN_IMAGE)),this.vertexShader="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}".replace(k.VERTEX_HEAD,e.get(k.VERTEX_HEAD)).replace(k.VERTEX_MAIN_SUPPORT,e.get(k.VERTEX_MAIN_SUPPORT)),this.needsUpdate=!0,this}},{key:"setDefines",value:function(e){var t,n=(0,f.Z)(e.entries());try{for(n.s();!(t=n.n()).done;){var i=t.value;this.defines[i[0]]=i[1]}}catch(e){n.e(e)}finally{n.f()}return this.needsUpdate=!0,this}},{key:"setUniforms",value:function(e){var t,n=(0,f.Z)(e.entries());try{for(n.s();!(t=n.n()).done;){var i=t.value;this.uniforms[i[0]]=i[1]}}catch(e){n.e(e)}finally{n.f()}return this}},{key:"setExtensions",value:function(e){this.extensions={};var t,n=(0,f.Z)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.extensions[i]=!0}}catch(e){n.e(e)}finally{n.f()}return this}},{key:"encodeOutput",get:function(){return void 0!==this.defines.ENCODE_OUTPUT},set:function(e){this.encodeOutput!==e&&(e?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}},{key:"isOutputEncodingEnabled",value:function(e){return this.encodeOutput}},{key:"setOutputEncodingEnabled",value:function(e){this.encodeOutput=e}},{key:"time",get:function(){return this.uniforms.time.value},set:function(e){this.uniforms.time.value=e}},{key:"setDeltaTime",value:function(e){this.uniforms.time.value+=e}},{key:"adoptCameraSettings",value:function(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof x.PerspectiveCamera?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},{key:"setSize",value:function(e,t){var n=this.uniforms;n.resolution.value.set(e,t),n.texelSize.value.set(1/e,1/t),n.aspect.value=e/t}}],[{key:"Section",get:function(){return k}}]),n}(x.ShaderMaterial),B=(x.ShaderMaterial,function(e){(0,g.Z)(n,e);var t=(0,m.Z)(n);function n(){var e,i=0<arguments.length&&void 0!==arguments[0]&&arguments[0],r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return(0,y.Z)(this,n),(e=t.call(this,{name:"LuminanceMaterial",uniforms:{inputBuffer:new x.Uniform(null),threshold:new x.Uniform(0),smoothing:new x.Uniform(1),range:new x.Uniform(null)},blending:x.NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef RANGE\nuniform vec2 range;\n#elif defined(THRESHOLD)\nuniform float threshold;uniform float smoothing;\n#endif\nvarying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=linearToRelativeLuminance(texel.rgb);\n#ifdef RANGE\nfloat low=step(range.x,l);float high=step(l,range.y);l*=low*high;\n#elif defined(THRESHOLD)\nl=smoothstep(threshold,threshold+smoothing,l);\n#endif\n#ifdef COLOR\ngl_FragColor=vec4(texel.rgb*l,l);\n#else\ngl_FragColor=vec4(l);\n#endif\n}",vertexShader:_})).toneMapped=!1,e.colorOutput=i,e.luminanceRange=r,e}return(0,v.Z)(n,[{key:"inputBuffer",set:function(e){this.uniforms.inputBuffer.value=e}},{key:"setInputBuffer",value:function(e){this.uniforms.inputBuffer.value=e}},{key:"threshold",get:function(){return this.uniforms.threshold.value},set:function(e){0<this.smoothing||0<e?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=e}},{key:"getThreshold",value:function(){return this.threshold}},{key:"setThreshold",value:function(e){this.threshold=e}},{key:"smoothing",get:function(){return this.uniforms.smoothing.value},set:function(e){0<this.threshold||0<e?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=e}},{key:"getSmoothingFactor",value:function(){return this.smoothing}},{key:"setSmoothingFactor",value:function(e){this.smoothing=e}},{key:"useThreshold",get:function(){return 0<this.threshold||0<this.smoothing},set:function(e){}},{key:"colorOutput",get:function(){return void 0!==this.defines.COLOR},set:function(e){e?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}},{key:"isColorOutputEnabled",value:function(e){return this.colorOutput}},{key:"setColorOutputEnabled",value:function(e){this.colorOutput=e}},{key:"useRange",get:function(){return null!==this.luminanceRange},set:function(e){this.luminanceRange=null}},{key:"luminanceRange",get:function(){return this.uniforms.range.value},set:function(e){null!==e?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=e,this.needsUpdate=!0}},{key:"getLuminanceRange",value:function(){return this.luminanceRange}},{key:"setLuminanceRange",value:function(e){this.luminanceRange=e}}]),n}(x.ShaderMaterial)),E=function(e){(0,g.Z)(n,e);var t=(0,m.Z)(n);function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return(0,y.Z)(this,n),(e=t.call(this,{name:"MaskMaterial",uniforms:{maskTexture:new x.Uniform(e),inputBuffer:new x.Uniform(null),strength:new x.Uniform(1)},blending:x.NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef MASK_PRECISION_HIGH\nuniform mediump sampler2D maskTexture;\n#else\nuniform lowp sampler2D maskTexture;\n#endif\n#if MASK_FUNCTION != 0\nuniform float strength;\n#endif\nvarying vec2 vUv;void main(){\n#if COLOR_CHANNEL == 0\nfloat mask=texture2D(maskTexture,vUv).r;\n#elif COLOR_CHANNEL == 1\nfloat mask=texture2D(maskTexture,vUv).g;\n#elif COLOR_CHANNEL == 2\nfloat mask=texture2D(maskTexture,vUv).b;\n#else\nfloat mask=texture2D(maskTexture,vUv).a;\n#endif\n#if MASK_FUNCTION == 0\n#ifdef INVERTED\nmask=step(mask,0.0);\n#else\nmask=1.0-step(mask,0.0);\n#endif\n#else\nmask=clamp(mask*strength,0.0,1.0);\n#ifdef INVERTED\nmask=1.0-mask;\n#endif\n#endif\n#if MASK_FUNCTION == 2\ngl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);\n#else\ngl_FragColor=mask*texture2D(inputBuffer,vUv);\n#endif\n}",vertexShader:_})).toneMapped=!1,e.setColorChannel(0),e.setMaskFunction(0),e}return(0,v.Z)(n,[{key:"inputBuffer",set:function(e){this.uniforms.inputBuffer.value=e}},{key:"setInputBuffer",value:function(e){this.uniforms.inputBuffer.value=e}},{key:"maskTexture",set:function(e){this.uniforms.maskTexture.value=e,delete this.defines.MASK_PRECISION_HIGH,e.type!==x.UnsignedByteType&&(this.defines.MASK_PRECISION_HIGH="1"),this.needsUpdate=!0}},{key:"setMaskTexture",value:function(e){this.maskTexture=e}},{key:"colorChannel",set:function(e){this.defines.COLOR_CHANNEL=e.toFixed(0),this.needsUpdate=!0}},{key:"setColorChannel",value:function(e){this.colorChannel=e}},{key:"maskFunction",set:function(e){this.defines.MASK_FUNCTION=e.toFixed(0),this.needsUpdate=!0}},{key:"setMaskFunction",value:function(e){this.maskFunction=e}},{key:"inverted",get:function(){return void 0!==this.defines.INVERTED},set:function(e){this.inverted&&!e?delete this.defines.INVERTED:e&&(this.defines.INVERTED="1"),this.needsUpdate=!0}},{key:"isInverted",value:function(){return this.inverted}},{key:"setInverted",value:function(e){this.inverted=e}},{key:"strength",get:function(){return this.uniforms.strength.value},set:function(e){this.uniforms.strength.value=e}},{key:"getStrength",value:function(){return this.strength}},{key:"setStrength",value:function(e){this.strength=e}}]),n}(x.ShaderMaterial),P=(x.ShaderMaterial,x.ShaderMaterial,x.ShaderMaterial,new x.Camera),L=null,R=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Pass",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new x.Scene,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:P;(0,y.Z)(this,e),this.name=t,this.renderer=null,this.scene=n,this.camera=i,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}return(0,v.Z)(e,[{key:"renderToScreen",get:function(){return!this.rtt},set:function(e){var t;this.rtt===e&&(null!==(t=this.getFullscreenMaterial())&&(t.needsUpdate=!0),this.rtt=!e)}},{key:"setRenderer",value:function(e){this.renderer=e}},{key:"isEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(e){this.enabled=e}},{key:"fullscreenMaterial",get:function(){return null!==this.screen?this.screen.material:null},set:function(e){var t,n,i=this.screen;null!==i?i.material=e:((i=new x.Mesh((null===L&&(t=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),n=new Float32Array([0,0,2,0,0,2]),void 0!==(L=new x.BufferGeometry).setAttribute?(L.setAttribute("position",new x.BufferAttribute(t,3)),L.setAttribute("uv",new x.BufferAttribute(n,2))):(L.addAttribute("position",new x.BufferAttribute(t,3)),L.addAttribute("uv",new x.BufferAttribute(n,2)))),L),e)).frustumCulled=!1,null===this.scene&&(this.scene=new x.Scene),this.scene.add(i),this.screen=i)}},{key:"getFullscreenMaterial",value:function(){return this.fullscreenMaterial}},{key:"setFullscreenMaterial",value:function(e){this.fullscreenMaterial=e}},{key:"getDepthTexture",value:function(){return null}},{key:"setDepthTexture",value:function(e){1<arguments.length&&void 0!==arguments[1]||x.BasicDepthPacking}},{key:"render",value:function(e,t,n,i,r){throw new Error("Render method not implemented!")}},{key:"setSize",value:function(e,t){}},{key:"initialize",value:function(e,t,n){}},{key:"dispose",value:function(){for(var e=0,t=Object.keys(this);e<t.length;e++){var n=t[e],i=this[n];null===i||"function"!=typeof i.dispose||i instanceof x.Scene||i===this.renderer||this[n].dispose()}}}]),e}(),O=function(){(0,g.Z)(t,R);var e=(0,m.Z)(t);function t(n){var i,r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return(0,y.Z)(this,t),(i=e.call(this,"CopyPass")).fullscreenMaterial=new T,i.needsSwap=!1,void 0===(i.renderTarget=n)&&(i.renderTarget=new x.WebGLRenderTarget(1,1,{minFilter:x.LinearFilter,magFilter:x.LinearFilter,stencilBuffer:!1,depthBuffer:!1}),i.renderTarget.texture.name="CopyPass.Target"),i.autoResize=r,i}return(0,v.Z)(t,[{key:"resize",get:function(){return this.autoResize},set:function(e){this.autoResize=e}},{key:"texture",get:function(){return this.renderTarget.texture}},{key:"getTexture",value:function(){return this.renderTarget.texture}},{key:"setAutoResizeEnabled",value:function(e){this.autoResize=e}},{key:"render",value:function(e,t,n,i,r){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}},{key:"setSize",value:function(e,t){this.autoResize&&this.renderTarget.setSize(e,t)}},{key:"initialize",value:function(e,t,n){void 0!==n&&((this.renderTarget.texture.type=n)!==x.UnsignedByteType?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":e.outputEncoding===x.sRGBEncoding&&(this.renderTarget.texture.encoding=x.sRGBEncoding))}}]),t}(),F=function(){(0,g.Z)(t,R);var e=(0,m.Z)(t);function t(n){var i,r=void 0===(r=(o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).minLuminance)?.01:r,o=void 0===(o=o.adaptationRate)?1:o,a=((0,y.Z)(this,t),(i=e.call(this,"AdaptiveLuminancePass")).fullscreenMaterial=new b,i.needsSwap=!1,i.renderTargetPrevious=new x.WebGLRenderTarget(1,1,{minFilter:x.NearestFilter,magFilter:x.NearestFilter,stencilBuffer:!1,depthBuffer:!1}),i.renderTargetPrevious.texture.name="Luminance.Previous",i.fullscreenMaterial);return a.luminanceBuffer0=i.renderTargetPrevious.texture,a.luminanceBuffer1=n,a.minLuminance=r,a.adaptationRate=o,i.renderTargetAdapted=i.renderTargetPrevious.clone(),i.renderTargetAdapted.texture.name="Luminance.Adapted",i.copyPass=new O(i.renderTargetPrevious,!1),i}return(0,v.Z)(t,[{key:"texture",get:function(){return this.renderTargetAdapted.texture}},{key:"getTexture",value:function(){return this.renderTargetAdapted.texture}},{key:"mipLevel1x1",set:function(e){this.fullscreenMaterial.mipLevel1x1=e}},{key:"adaptationRate",get:function(){return this.fullscreenMaterial.adaptationRate},set:function(e){this.fullscreenMaterial.adaptationRate=e}},{key:"render",value:function(e,t,n,i,r){this.fullscreenMaterial.deltaTime=i,e.setRenderTarget(this.renderToScreen?null:this.renderTargetAdapted),e.render(this.scene,this.camera),this.copyPass.render(e,this.renderTargetAdapted)}}]),t}(),N=function(){(0,g.Z)(t,R);var e=(0,m.Z)(t);function t(){var n;return(0,y.Z)(this,t),(n=e.call(this,"ClearMaskPass",null,null)).needsSwap=!1,n}return(0,v.Z)(t,[{key:"render",value:function(e,t,n,i,r){(e=e.state.buffers.stencil).setLocked(!1),e.setTest(!1)}}]),t}(),z=new x.Color,G=function(){(0,g.Z)(t,R);var e=(0,m.Z)(t);function t(){var n,i=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return(0,y.Z)(this,t),(n=e.call(this,"ClearPass",null,null)).needsSwap=!1,n.color=i,n.depth=r,n.stencil=o,n.overrideClearColor=null,n.overrideClearAlpha=-1,n}return(0,v.Z)(t,[{key:"setClearFlags",value:function(e,t,n){this.color=e,this.depth=t,this.stencil=n}},{key:"getOverrideClearColor",value:function(){return this.overrideClearColor}},{key:"setOverrideClearColor",value:function(e){this.overrideClearColor=e}},{key:"getOverrideClearAlpha",value:function(){return this.overrideClearAlpha}},{key:"setOverrideClearAlpha",value:function(e){this.overrideClearAlpha=e}},{key:"render",value:function(e,t,n,i,r){var o=this.overrideClearColor,a=this.overrideClearAlpha,s=e.getClearAlpha(),l=null!==o,u=0<=a;l?(z.copy(e.getClearColor(z)),e.setClearColor(o,u?a:s)):u&&e.setClearAlpha(a),e.setRenderTarget(this.renderToScreen?null:t),e.clear(this.color,this.depth,this.stencil),l?e.setClearColor(z,s):u&&e.setClearAlpha(s)}}]),t}(),H=function(e){(0,g.Z)(n,e);var t=(0,m.Z)(n);function n(e){var i,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;return(0,y.Z)(this,n),(i=t.call(this)).resizable=e,i.base=new x.Vector2(1,1),i.preferred=new x.Vector2(r,o),i.target=i.preferred,i.s=a,i}return(0,v.Z)(n,[{key:"width",get:function(){var e=this.base,t=this.preferred,n=this.scale;return t=-1!==t.width?t.width:-1!==t.height?Math.round(t.height*(e.width/Math.max(e.height,1))):Math.round(e.width*n)},set:function(e){this.preferredWidth=e}},{key:"height",get:function(){var e=this.base,t=this.preferred,n=this.scale;return t=-1!==t.height?t.height:-1!==t.width?Math.round(t.width/Math.max(e.width/Math.max(e.height,1),1)):Math.round(e.height*n)},set:function(e){this.preferredHeight=e}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"scale",get:function(){return this.s},set:function(e){this.s!==e&&(this.s=e,this.preferred.setScalar(-1),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}},{key:"getScale",value:function(){return this.scale}},{key:"setScale",value:function(e){this.scale=e}},{key:"baseWidth",get:function(){return this.base.width},set:function(e){this.base.width!==e&&(this.base.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}},{key:"getBaseWidth",value:function(){return this.base.width}},{key:"setBaseWidth",value:function(e){this.base.width!==e&&(this.base.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}},{key:"baseHeight",get:function(){return this.base.height},set:function(e){this.base.height!==e&&(this.base.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}},{key:"getBaseHeight",value:function(){return this.baseHeight}},{key:"setBaseHeight",value:function(e){this.baseHeight=e}},{key:"setBaseSize",value:function(e,t){this.base.width===e&&this.base.height===t||(this.base.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}},{key:"preferredWidth",get:function(){return this.preferred.width},set:function(e){this.preferred.width!==e&&(this.preferred.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}},{key:"getPreferredWidth",value:function(){return this.preferredWidth}},{key:"setPreferredWidth",value:function(e){this.preferredWidth=e}},{key:"preferredHeight",get:function(){return this.preferred.height},set:function(e){this.preferred.height!==e&&(this.preferred.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}},{key:"getPreferredHeight",value:function(){return this.preferredHeight}},{key:"setPreferredHeight",value:function(e){this.preferredHeight=e}},{key:"setPreferredSize",value:function(e,t){this.preferred.width===e&&this.preferred.height===t||(this.preferred.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}},{key:"copy",value:function(e){this.base.set(e.getBaseWidth(),e.getBaseHeight()),this.preferred.set(e.getPreferredWidth(),e.getPreferredHeight()),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height)}}],[{key:"AUTO_SIZE",get:function(){return-1}}]),n}(x.EventDispatcher),V=!1,U=function(){function e(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;(0,y.Z)(this,e),this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(n),this.meshCount=0,this.replaceMaterial=function(e){if(e.isMesh){var n;if(e.material.flatShading)switch(e.material.side){case x.DoubleSide:n=t.materialsFlatShadedDoubleSide;break;case x.BackSide:n=t.materialsFlatShadedBackSide;break;default:n=t.materialsFlatShaded}else switch(e.material.side){case x.DoubleSide:n=t.materialsDoubleSide;break;case x.BackSide:n=t.materialsBackSide;break;default:n=t.materials}t.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=n[2]:e.isInstancedMesh?e.material=n[1]:e.material=n[0],++t.meshCount}}}return(0,v.Z)(e,[{key:"setMaterial",value:function(e){if(this.disposeMaterials(),null!==(this.material=e)){for(var t=this.materials=[e.clone(),e.clone(),e.clone()],n=0,i=t;n<i.length;n++){var r=i[n];r.uniforms=Object.assign({},e.uniforms),r.side=x.FrontSide}t[2].skinning=!0,this.materialsBackSide=t.map((function(t){return(t=t.clone()).uniforms=Object.assign({},e.uniforms),t.side=x.BackSide,t})),this.materialsDoubleSide=t.map((function(t){return(t=t.clone()).uniforms=Object.assign({},e.uniforms),t.side=x.DoubleSide,t})),this.materialsFlatShaded=t.map((function(t){return(t=t.clone()).uniforms=Object.assign({},e.uniforms),t.flatShading=!0,t})),this.materialsFlatShadedBackSide=t.map((function(t){return(t=t.clone()).uniforms=Object.assign({},e.uniforms),t.flatShading=!0,t.side=x.BackSide,t})),this.materialsFlatShadedDoubleSide=t.map((function(t){return(t=t.clone()).uniforms=Object.assign({},e.uniforms),t.flatShading=!0,t.side=x.DoubleSide,t}))}}},{key:"render",value:function(e,t,n){var i=e.shadowMap.enabled;if(e.shadowMap.enabled=!1,V){var r,o=this.originalMaterials,a=(this.meshCount=0,t.traverse(this.replaceMaterial),e.render(t,n),(0,f.Z)(o));try{for(a.s();!(r=a.n()).done;){var s=r.value;s[0].material=s[1]}}catch(e){a.e(e)}finally{a.f()}this.meshCount!==o.size&&o.clear()}else o=t.overrideMaterial,t.overrideMaterial=this.material,e.render(t,n),t.overrideMaterial=o;e.shadowMap.enabled=i}},{key:"disposeMaterials",value:function(){if(null!==this.material){var e,t=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide),n=(0,f.Z)(t);try{for(n.s();!(e=n.n()).done;)e.value.dispose()}catch(e){n.e(e)}finally{n.f()}}}},{key:"dispose",value:function(){this.originalMaterials.clear(),this.disposeMaterials()}}],[{key:"workaroundEnabled",get:function(){return V},set:function(e){V=e}}]),e}(),Z=function(){(0,g.Z)(t,R);var e=(0,m.Z)(t);function t(n,i){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return(0,y.Z)(this,t),(n=e.call(this,"RenderPass",n,i)).needsSwap=!1,n.clearPass=new G,n.overrideMaterialManager=null===r?null:new U(r),n.ignoreBackground=!1,n.skipShadowMapUpdate=!1,n.selection=null,n}return(0,v.Z)(t,[{key:"renderToScreen",get:function(){return(0,d.Z)((0,p.Z)(t.prototype),"renderToScreen",this)},set:function(e){var n=(0,p.Z)(t.prototype);if(!h(n,"renderToScreen",e,this||n))throw new Error("failed to set property");this.clearPass.renderToScreen=e}},{key:"overrideMaterial",get:function(){var e=this.overrideMaterialManager;return null!==e?e.material:null},set:function(e){var t=this.overrideMaterialManager;null!==e?null!==t?t.setMaterial(e):this.overrideMaterialManager=new U(e):null!==t&&(t.dispose(),this.overrideMaterialManager=null)}},{key:"getOverrideMaterial",value:function(){return this.overrideMaterial}},{key:"setOverrideMaterial",value:function(e){this.overrideMaterial=e}},{key:"clear",get:function(){return this.clearPass.enabled},set:function(e){this.clearPass.enabled=e}},{key:"getSelection",value:function(){return this.selection}},{key:"setSelection",value:function(e){this.selection=e}},{key:"isBackgroundDisabled",value:function(){return this.ignoreBackground}},{key:"setBackgroundDisabled",value:function(e){this.ignoreBackground=e}},{key:"isShadowMapDisabled",value:function(){return this.skipShadowMapUpdate}},{key:"setShadowMapDisabled",value:function(e){this.skipShadowMapUpdate=e}},{key:"getClearPass",value:function(){return this.clearPass}},{key:"render",value:function(e,t,n,i,r){var o=this.scene,a=this.camera,s=this.selection,l=a.layers.mask,u=o.background,c=e.shadowMap.autoUpdate,h=this.renderToScreen?null:t;null!==s&&a.layers.set(s.getLayer()),this.skipShadowMapUpdate&&(e.shadowMap.autoUpdate=!1),!this.ignoreBackground&&null===this.clearPass.overrideClearColor||(o.background=null),this.clearPass.enabled&&this.clearPass.render(e,t),e.setRenderTarget(h),null!==this.overrideMaterialManager?this.overrideMaterialManager.render(e,o,a):e.render(o,a),a.layers.mask=l,o.background=u,e.shadowMap.autoUpdate=c}}]),t}(),W=function(){(0,g.Z)(t,R);var e=(0,m.Z)(t);function t(){var n,i=void 0===(i=(a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).normalBuffer)?null:i,r=void 0===(r=a.resolutionScale)?.5:r,o=void 0===(o=a.width)?H.AUTO_SIZE:o,a=void 0===(a=a.height)?H.AUTO_SIZE:a,s=((0,y.Z)(this,t),n=e.call(this,"DepthDownsamplingPass"),new I),u=(s.normalBuffer=i,n.fullscreenMaterial=s,n.needsDepthTexture=!0,n.needsSwap=!1,n.renderTarget=new x.WebGLRenderTarget(1,1,{minFilter:x.NearestFilter,magFilter:x.NearestFilter,stencilBuffer:!1,depthBuffer:!1,type:x.FloatType}),n.renderTarget.texture.name="DepthDownsamplingPass.Target",n.renderTarget.texture.generateMipmaps=!1,n.resolution=new H((0,l.Z)(n),o,a,r));return u.addEventListener("change",(function(e){return n.setSize(u.baseWidth,u.baseHeight)})),n}return(0,v.Z)(t,[{key:"texture",get:function(){return this.renderTarget.texture}},{key:"getTexture",value:function(){return this.renderTarget.texture}},{key:"getResolution",value:function(){return this.resolution}},{key:"setDepthTexture",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:x.BasicDepthPacking;this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=t}},{key:"render",value:function(e,t,n,i,r){e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}},{key:"setSize",value:function(e,t){this.fullscreenMaterial.setSize(e,t);var n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height)}},{key:"initialize",value:function(e,t,n){e.capabilities.isWebGL2}}]),t}();new Float32Array([255/256/Math.pow(256,3),255/256/Math.pow(256,2),255/256/256,255/256]);t=2;var j=10,X=13,Y=16,J=new Map([[0,null],[1,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}"],[t,"vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}"],[3,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}"],[4,"float blend(const in float x,const in float y){return(y==0.0)?y:max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[5,"float blend(const in float x,const in float y){return(y==1.0)?y:min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[6,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}"],[7,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}"],[8,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}"],[9,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}"],[j,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}"],[11,"float blend(const in float x,const in float y){return(y>0.0)?min(x/y,1.0):1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[12,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}"],[X,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}"],[14,"float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[15,"float blend(const in float x,const in float y){return(y==1.0)?y:min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[Y,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}"],[17,"float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[18,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}"]]),K=function(e){(0,g.Z)(n,e);var t=(0,m.Z)(n);function n(e){var i,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return(0,y.Z)(this,n),(i=t.call(this)).f=e,i.opacity=new x.Uniform(r),i}return(0,v.Z)(n,[{key:"getOpacity",value:function(){return this.opacity.value}},{key:"setOpacity",value:function(e){this.opacity.value=e}},{key:"blendFunction",get:function(){return this.f},set:function(e){this.f=e,this.dispatchEvent({type:"change"})}},{key:"getBlendFunction",value:function(){return this.blendFunction}},{key:"setBlendFunction",value:function(e){this.blendFunction=e}},{key:"getShaderCode",value:function(){return J.get(this.blendFunction)}}]),n}(x.EventDispatcher),Q=function(e){(0,g.Z)(n,e);var t=(0,m.Z)(n);function n(e,i){var r,o=void 0===(o=(c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).attributes)?0:o,a=void 0===(a=c.blendFunction)?Y:a,s=void 0===(s=c.defines)?new Map:s,l=void 0===(l=c.uniforms)?new Map:l,u=void 0===(u=c.extensions)?null:u,c=void 0===(c=c.vertexShader)?null:c;return(0,y.Z)(this,n),(r=t.call(this)).name=e,r.renderer=null,r.attributes=o,r.fragmentShader=i,r.vertexShader=c,r.defines=s,r.uniforms=l,r.extensions=u,r.blendMode=new K(a),r.blendMode.addEventListener("change",(function(e){return r.setChanged()})),r}return(0,v.Z)(n,[{key:"getName",value:function(){return this.name}},{key:"setRenderer",value:function(e){this.renderer=e}},{key:"getDefines",value:function(){return this.defines}},{key:"getUniforms",value:function(){return this.uniforms}},{key:"getExtensions",value:function(){return this.extensions}},{key:"getBlendMode",value:function(){return this.blendMode}},{key:"getAttributes",value:function(){return this.attributes}},{key:"setAttributes",value:function(e){this.attributes=e,this.setChanged()}},{key:"getFragmentShader",value:function(){return this.fragmentShader}},{key:"setFragmentShader",value:function(e){this.fragmentShader=e,this.setChanged()}},{key:"getVertexShader",value:function(){return this.vertexShader}},{key:"setVertexShader",value:function(e){this.vertexShader=e,this.setChanged()}},{key:"setChanged",value:function(){this.dispatchEvent({type:"change"})}},{key:"setDepthTexture",value:function(e){1<arguments.length&&void 0!==arguments[1]||x.BasicDepthPacking}},{key:"update",value:function(e,t,n){}},{key:"setSize",value:function(e,t){}},{key:"initialize",value:function(e,t,n){}},{key:"dispose",value:function(){for(var e=0,t=Object.keys(this);e<t.length;e++){var n=t[e],i=this[n];null===i||"function"!=typeof i.dispose||i instanceof x.Scene||i===this.renderer||this[n].dispose()}}}]),n}(x.EventDispatcher);function q(e,t,n){var i,r=(0,f.Z)(t);try{for(r.s();!(i=r.n()).done;){var o,a=i.value,s="$1"+e+a.charAt(0).toUpperCase()+a.slice(1),l=new RegExp("([^\\.])(\\b"+a+"\\b)","g"),u=(0,f.Z)(n.entries());try{for(u.s();!(o=u.n()).done;){var c=o.value;null!==c[1]&&n.set(c[0],c[1].replace(l,s))}}catch(e){u.e(e)}finally{u.f()}}}catch(e){r.e(e)}finally{r.f()}}var $=function(){(0,g.Z)(t,R);var e=(0,m.Z)(t);function t(n){var i;(0,y.Z)(this,t),(i=e.call(this,"EffectPass")).fullscreenMaterial=new D(null,null,null,n);for(var r=arguments.length,o=new Array(1<r?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return i.effects=o.sort((function(e,t){return t.attributes-e.attributes})),i.skipRendering=!1,i.uniformCount=0,i.varyingCount=0,i.minTime=1,i.maxTime=Number.POSITIVE_INFINITY,i}return(0,v.Z)(t,[{key:"encodeOutput",get:function(){return this.fullscreenMaterial.encodeOutput},set:function(e){this.fullscreenMaterial.encodeOutput=e}},{key:"dithering",get:function(){return this.fullscreenMaterial.dithering},set:function(e){var t=this.fullscreenMaterial;t.dithering=e,t.needsUpdate=!0}},{key:"verifyResources",value:function(){var e=this.renderer.capabilities;Math.min(e.maxFragmentUniforms,e.maxVertexUniforms),this.uniformCount,e.maxVaryings,this.varyingCount}},{key:"updateMaterial",value:function(){var e,t=D.Section,n=new Map([[t.FRAGMENT_HEAD,""],[t.FRAGMENT_MAIN_UV,""],[t.FRAGMENT_MAIN_IMAGE,""],[t.VERTEX_HEAD,""],[t.VERTEX_MAIN_SUPPORT,""]]),i=new Map,o=new Map,a=new Map,s=new Set,l=0,u=0,c=0,h=!1,d=!1,p=(0,f.Z)(this.effects);try{for(p.s();!(e=p.n()).done;){var g=e.value;if(0===g.blendMode.blendFunction)c|=1&g.getAttributes();else if(0==(c&g.getAttributes()&2)){c|=g.getAttributes();var m=function(e,t,n,i,o,a,s){var l,u,c=new Map([["fragment",t.getFragmentShader()],["vertex",t.getVertexShader()]]),h=void 0!==c.get("fragment")&&/mainImage/.test(c.get("fragment")),d=void 0!==c.get("fragment")&&/mainUv/.test(c.get("fragment")),p=[],f=[],g=!1,m=!1;return void 0===c.get("fragment")||d&&0!=(2&s)||(h||d)&&(u=/(?:\w+\s+(\w+)\([\w\s,]*\)\s*{[^}]+})/g,l=D.Section,d&&(d="\t".concat(e,"MainUv(UV);\n"),n.set(l.FRAGMENT_MAIN_UV,n.get(l.FRAGMENT_MAIN_UV)+d),g=!0),null!==c.get("vertex")&&/mainSupport/.test(c.get("vertex"))&&(d="\t".concat(e,"MainSupport("),d+=/mainSupport *\([\w\s]*?uv\s*?\)/.test(c.get("vertex"))?"vUv);\n":");\n",n.set(l.VERTEX_MAIN_SUPPORT,n.get(l.VERTEX_MAIN_SUPPORT)+d),p=p.concat((0,r.Z)(c.get("vertex").matchAll(/(?:varying\s+\w+\s+(\w*))/g)).map((function(e){return e[1]}))),f=f.concat(p).concat((0,r.Z)(c.get("vertex").matchAll(u)).map((function(e){return e[1]})))),f=(f=(f=f.concat((0,r.Z)(c.get("fragment").matchAll(u)).map((function(e){return e[1]})))).concat((0,r.Z)(t.defines.keys()).map((function(e){return e.replace(/\([\w\s,]*\)/g,"")})))).concat((0,r.Z)(t.uniforms.keys())),t.uniforms.forEach((function(t,n){return a.set(e+n.charAt(0).toUpperCase()+n.slice(1),t)})),t.defines.forEach((function(t,n){return o.set(e+n.charAt(0).toUpperCase()+n.slice(1),t)})),q(e,f,o),q(e,f,c),d=t.blendMode,i.set(d.blendFunction,d),h&&(u="".concat(e,"MainImage(color0, UV, "),0!=(1&s)&&/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/.test(c.get("fragment"))&&(u+="depth, ",m=!0),u+="color1);\n\t",a.set(f=e+"BlendOpacity",d.opacity),u+="color0 = blend".concat(d.blendFunction,"(color0, color1, ").concat(f,");\n\n\t"),n.set(l.FRAGMENT_MAIN_IMAGE,n.get(l.FRAGMENT_MAIN_IMAGE)+u),u="uniform float ".concat(f,";\n\n"),n.set(l.FRAGMENT_HEAD,n.get(l.FRAGMENT_HEAD)+u)),n.set(l.FRAGMENT_HEAD,n.get(l.FRAGMENT_HEAD)+c.get("fragment")+"\n"),null!==c.get("vertex")&&n.set(l.VERTEX_HEAD,n.get(l.VERTEX_HEAD)+c.get("vertex")+"\n")),{varyings:p,transformedUv:g,readDepth:m}}("e"+l++,g,n,i,o,a,c);if(u+=m.varyings.length,h=h||m.transformedUv,d=d||m.readDepth,null!==g.extensions){var y,v=(0,f.Z)(g.extensions);try{for(v.s();!(y=v.n()).done;){var x=y.value;s.add(x)}}catch(e){v.e(e)}finally{v.f()}}}}}catch(e){p.e(e)}finally{p.f()}var _,b=/\bblend\b/g,w=(0,f.Z)(i.values());try{for(w.s();!(_=w.n()).done;){var S=_.value,A=S.getShaderCode().replace(b,"blend".concat(S.blendFunction));n.set(t.FRAGMENT_HEAD,n.get(t.FRAGMENT_HEAD)+A+"\n")}}catch(e){w.e(e)}finally{w.f()}0!=(1&c)?(d&&n.set(t.FRAGMENT_MAIN_IMAGE,"float depth = readDepth(UV);\n\n\t"+n.get(t.FRAGMENT_MAIN_IMAGE)),this.needsDepthTexture=null===this.getDepthTexture()):this.needsDepthTexture=!1,h?(n.set(t.FRAGMENT_MAIN_UV,"vec2 transformedUv = vUv;\n"+n.get(t.FRAGMENT_MAIN_UV)),o.set("UV","transformedUv")):o.set("UV","vUv"),n.forEach((function(e,t,n){return n.set(t,e.trim().replace(/^#/,"\n#"))})),this.uniformCount=a.size,this.varyingCount=u,this.skipRendering=0===l,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderParts(n).setExtensions(s).setUniforms(a).setDefines(o)}},{key:"recompile",value:function(){this.updateMaterial(),this.verifyResources()}},{key:"getDepthTexture",value:function(){return this.fullscreenMaterial.depthBuffer}},{key:"setDepthTexture",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:x.BasicDepthPacking,i=(this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=n,(0,f.Z)(this.effects));try{for(i.s();!(t=i.n()).done;)t.value.setDepthTexture(e,n)}catch(e){i.e(e)}finally{i.f()}}},{key:"render",value:function(e,t,n,i,r){var o,a,s=(0,f.Z)(this.effects);try{for(s.s();!(o=s.n()).done;)o.value.update(e,t,i)}catch(e){s.e(e)}finally{s.f()}this.skipRendering&&!this.renderToScreen||((a=this.fullscreenMaterial).inputBuffer=t.texture,a.time+=i,e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera))}},{key:"setSize",value:function(e,t){this.fullscreenMaterial.setSize(e,t);var n,i=(0,f.Z)(this.effects);try{for(i.s();!(n=i.n()).done;)n.value.setSize(e,t)}catch(e){i.e(e)}finally{i.f()}}},{key:"initialize",value:function(e,t,n){var i,r=this,o=(this.renderer=e,(0,f.Z)(this.effects));try{for(o.s();!(i=o.n()).done;){var a=i.value;a.initialize(e,t,n),a.addEventListener("change",(function(e){return r.handleEvent(e)}))}}catch(e){o.e(e)}finally{o.f()}this.updateMaterial(),this.verifyResources(),void 0!==n&&n!==x.UnsignedByteType&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},{key:"dispose",value:function(){(0,d.Z)((0,p.Z)(t.prototype),"dispose",this).call(this);var e,n=(0,f.Z)(this.effects);try{for(n.s();!(e=n.n()).done;)e.value.dispose()}catch(e){n.e(e)}finally{n.f()}}},{key:"handleEvent",value:function(e){"change"===e.type&&this.recompile()}}]),t}(),ee=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],te=function(){(0,g.Z)(t,R);var e=(0,m.Z)(t);function t(){var n,i=void 0===(i=(a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).resolutionScale)?.5:i,r=void 0===(r=a.width)?H.AUTO_SIZE:r,o=void 0===(o=a.height)?H.AUTO_SIZE:o,a=void 0===(a=a.kernelSize)?le.LARGE:a,s=((0,y.Z)(this,t),(n=e.call(this,"KawaseBlurPass")).renderTargetA=new x.WebGLRenderTarget(1,1,{minFilter:x.LinearFilter,magFilter:x.LinearFilter,stencilBuffer:!1,depthBuffer:!1}),n.renderTargetA.texture.name="Blur.Target.A",n.renderTargetB=n.renderTargetA.clone(),n.renderTargetB.texture.name="Blur.Target.B",n.resolution=new H((0,l.Z)(n),r,o,i));return s.addEventListener("change",(function(e){return n.setSize(s.baseWidth,s.baseHeight)})),n.blurMaterial=new C,n.ditheredBlurMaterial=new C,n.ditheredBlurMaterial.uniforms.scale=n.blurMaterial.uniforms.scale,n.ditheredBlurMaterial.dithering=!0,n.dithering=!1,n.kernelSize=a,n}return(0,v.Z)(t,[{key:"getResolution",value:function(){return this.resolution}},{key:"width",get:function(){return this.resolution.width},set:function(e){this.resolution.preferredWidth=e}},{key:"height",get:function(){return this.resolution.height},set:function(e){this.resolution.preferredHeight=e}},{key:"scale",get:function(){return this.blurMaterial.scale},set:function(e){this.blurMaterial.scale=e}},{key:"getScale",value:function(){return this.blurMaterial.scale}},{key:"setScale",value:function(e){this.blurMaterial.scale=e}},{key:"getKernelSize",value:function(){return this.kernelSize}},{key:"setKernelSize",value:function(e){this.kernelSize=e}},{key:"getResolutionScale",value:function(){return this.resolution.scale}},{key:"setResolutionScale",value:function(e){this.resolution.scale=e}},{key:"render",value:function(e,t,n,i,r){var o,a,s=this.scene,l=this.camera,u=this.renderTargetA,c=this.renderTargetB,h=ee[this.kernelSize],d=this.blurMaterial,p=t;for(this.fullscreenMaterial=d,o=0,a=h.length-1;o<a;++o){var f=0==(1&o)?u:c;d.kernel=h[o],d.inputBuffer=p.texture,e.setRenderTarget(f),e.render(s,l),p=f}this.dithering&&(d=this.ditheredBlurMaterial,this.fullscreenMaterial=d),d.kernel=h[o],d.inputBuffer=p.texture,e.setRenderTarget(this.renderToScreen?null:n),e.render(s,l)}},{key:"setSize",value:function(e,t){var n=this.resolution;n.setBaseSize(e,t),e=n.width,t=n.height;this.renderTargetA.setSize(e,t),this.renderTargetB.setSize(e,t),this.blurMaterial.setSize(e,t),this.ditheredBlurMaterial.setSize(e,t)}},{key:"initialize",value:function(e,t,n){void 0!==n&&(this.renderTargetA.texture.type=n,(this.renderTargetB.texture.type=n)!==x.UnsignedByteType?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.ditheredBlurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):e.outputEncoding===x.sRGBEncoding&&(this.renderTargetA.texture.encoding=x.sRGBEncoding,this.renderTargetB.texture.encoding=x.sRGBEncoding))}}],[{key:"AUTO_SIZE",get:function(){return H.AUTO_SIZE}}]),t}(),ne=function(){(0,g.Z)(t,R);var e=(0,m.Z)(t);function t(){var n,i=void 0===(i=(s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).width)?H.AUTO_SIZE:i,r=void 0===(r=s.height)?H.AUTO_SIZE:r,o=s.renderTarget,a=s.luminanceRange,s=s.colorOutput,u=((0,y.Z)(this,t),(n=e.call(this,"LuminancePass")).fullscreenMaterial=new B(s,a),n.needsSwap=!1,n.renderTarget=o,void 0===n.renderTarget&&(n.renderTarget=new x.WebGLRenderTarget(1,1,{minFilter:x.LinearFilter,magFilter:x.LinearFilter,stencilBuffer:!1,depthBuffer:!1}),n.renderTarget.texture.name="LuminancePass.Target",n.renderTarget.texture.generateMipmaps=!1),n.resolution=new H((0,l.Z)(n),i,r));return u.addEventListener("change",(function(e){return n.setSize(u.baseWidth,u.baseHeight)})),n}return(0,v.Z)(t,[{key:"texture",get:function(){return this.renderTarget.texture}},{key:"getTexture",value:function(){return this.renderTarget.texture}},{key:"getResolution",value:function(){return this.resolution}},{key:"render",value:function(e,t,n,i,r){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}},{key:"setSize",value:function(e,t){var n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height)}},{key:"initialize",value:function(e,t,n){void 0!==n&&n!==x.UnsignedByteType&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}}]),t}(),ie=function(){(0,g.Z)(t,R);var e=(0,m.Z)(t);function t(n,i){return(0,y.Z)(this,t),(n=e.call(this,"MaskPass",n,i)).needsSwap=!1,n.clearPass=new G(!1,!1,!0),n.inverse=!1,n}return(0,v.Z)(t,[{key:"inverted",get:function(){return this.inverse},set:function(e){this.inverse=e}},{key:"clear",get:function(){return this.clearPass.enabled},set:function(e){this.clearPass.enabled=e}},{key:"getClearPass",value:function(){return this.clearPass}},{key:"isInverted",value:function(){return this.inverted}},{key:"setInverted",value:function(e){this.inverted=e}},{key:"render",value:function(e,t,n,i,r){var o=e.getContext(),a=e.state.buffers,s=this.scene,l=this.camera,u=this.clearPass,c=this.inverted?0:1,h=1-c;a.color.setMask(!1),a.depth.setMask(!1),a.color.setLocked(!0),a.depth.setLocked(!0),a.stencil.setTest(!0),a.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),a.stencil.setFunc(o.ALWAYS,c,4294967295),a.stencil.setClear(h),a.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?u.render(e,null):(u.render(e,t),u.render(e,n))),this.renderToScreen?e.setRenderTarget(null):(e.setRenderTarget(t),e.render(s,l),e.setRenderTarget(n)),e.render(s,l),a.color.setLocked(!1),a.depth.setLocked(!1),a.stencil.setLocked(!1),a.stencil.setFunc(o.EQUAL,1,4294967295),a.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),a.stencil.setLocked(!0)}}]),t}(),re=function(){(0,g.Z)(t,R);var e=(0,m.Z)(t);function t(n,i){var r,o=void 0===(o=(u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).resolutionScale)?1:o,a=void 0===(a=u.width)?H.AUTO_SIZE:a,s=void 0===(s=u.height)?H.AUTO_SIZE:s,u=u.renderTarget,c=((i=((n=((0,y.Z)(this,t),(r=e.call(this,"NormalPass")).needsSwap=!1,r.renderPass=new Z(n,i,new x.MeshNormalMaterial),r.renderPass)).setBackgroundDisabled(!0),n.setShadowMapDisabled(!0),n.getClearPass())).setOverrideClearColor(new x.Color(7829503)),i.setOverrideClearAlpha(1),r.renderTarget=u,void 0===r.renderTarget&&(r.renderTarget=new x.WebGLRenderTarget(1,1,{minFilter:x.NearestFilter,magFilter:x.NearestFilter,stencilBuffer:!1}),r.renderTarget.texture.name="NormalPass.Target"),r.resolution=new H((0,l.Z)(r),a,s,o));return c.addEventListener("change",(function(e){return r.setSize(c.baseWidth,c.baseHeight)})),r}return(0,v.Z)(t,[{key:"texture",get:function(){return this.renderTarget.texture}},{key:"getTexture",value:function(){return this.renderTarget.texture}},{key:"getResolution",value:function(){return this.resolution}},{key:"getResolutionScale",value:function(){return this.resolution.scale}},{key:"setResolutionScale",value:function(e){this.resolution.scale=e}},{key:"render",value:function(e,t,n,i,r){var o=this.renderToScreen?null:this.renderTarget;this.renderPass.render(e,o,o)}},{key:"setSize",value:function(e,t){var n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height)}}]),t}(),oe=function(){(0,g.Z)(t,R);var e=(0,m.Z)(t);function t(n){var i,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"inputBuffer";return(0,y.Z)(this,t),(i=e.call(this,"ShaderPass")).fullscreenMaterial=n,i.inputBufferUniform=null,i.setInput(r),i}return(0,v.Z)(t,[{key:"setInput",value:function(e){var t;(this.inputBufferUniform=null)!==this.fullscreenMaterial&&void 0!==(t=this.fullscreenMaterial.uniforms)&&void 0!==t[e]&&(this.inputBufferUniform=t[e])}},{key:"render",value:function(e,t,n,i,r){null!==this.inputBufferUniform&&null!==t&&(this.inputBufferUniform.value=t.texture),e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera)}},{key:"initialize",value:function(e,t,n){void 0!==n&&n!==x.UnsignedByteType&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}}]),t}(),ae=function(){function e(){(0,y.Z)(this,e),this.previousTime=0,this.currentTime=0,this.delta=0,this.fixedDelta=1e3/60,this.elapsed=0,this.timescale=1,this.fixedDeltaEnabled=!1,this.autoReset=!1}return(0,v.Z)(e,[{key:"setFixedDeltaEnabled",value:function(e){return this.fixedDeltaEnabled=e,this}},{key:"isAutoResetEnabled",value:function(e){return this.autoReset}},{key:"setAutoResetEnabled",value:function(e){return"undefined"!=typeof document&&void 0!==document.hidden&&(e?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this.autoReset=e),this}},{key:"getDelta",value:function(){return.001*this.delta}},{key:"getFixedDelta",value:function(){return.001*this.fixedDelta}},{key:"setFixedDelta",value:function(e){return this.fixedDelta=1e3*e,this}},{key:"getElapsed",value:function(){return.001*this.elapsed}},{key:"getTimescale",value:function(){return this.timescale}},{key:"setTimescale",value:function(e){return this.timescale=e,this}},{key:"update",value:function(e){return this.fixedDeltaEnabled?this.delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=void 0!==e?e:performance.now(),this.delta=this.currentTime-this.previousTime),this.delta*=this.timescale,this.elapsed+=this.delta,this}},{key:"reset",value:function(){return this.delta=0,this.elapsed=0,this.currentTime=performance.now(),this}},{key:"handleEvent",value:function(e){document.hidden||(this.currentTime=performance.now())}},{key:"dispose",value:function(){this.setAutoResetEnabled(!1)}}]),e}(),se=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,n=void 0===(n=(o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).depthBuffer)||n,i=void 0!==(i=o.stencilBuffer)&&i,r=void 0===(r=o.multisampling)?0:r,o=o.frameBufferType;(0,y.Z)(this,e),this.renderer=null,this.inputBuffer=this.createBuffer(n,i,o,r),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new O,this.depthTexture=null,this.passes=[],this.timer=new ae,this.autoRenderToScreen=!0,this.setRenderer(t)}return(0,v.Z)(e,[{key:"multisampling",get:function(){return this.inputBuffer.samples||0},set:function(e){var t=this.inputBuffer,n=this.multisampling;0<n&&0<e?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):n!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}},{key:"getTimer",value:function(){return this.timer}},{key:"getRenderer",value:function(){return this.renderer}},{key:"setRenderer",value:function(e){if(null!==(this.renderer=e)){var t,n=e.getSize(new x.Vector2),i=e.getContext().getContextAttributes().alpha,r=this.inputBuffer.texture.type,o=(r===x.UnsignedByteType&&e.outputEncoding===x.sRGBEncoding&&(this.inputBuffer.texture.encoding=x.sRGBEncoding,this.outputBuffer.texture.encoding=x.sRGBEncoding,this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(n.width,n.height),(0,f.Z)(this.passes));try{for(o.s();!(t=o.n()).done;)t.value.initialize(e,i,r)}catch(e){o.e(e)}finally{o.f()}}}},{key:"replaceRenderer",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this.renderer,i=n.domElement.parentNode;return this.setRenderer(e),t&&null!==i&&(i.removeChild(n.domElement),i.appendChild(e.domElement)),n}},{key:"createDepthTexture",value:function(){var e=this.depthTexture=new x.DepthTexture;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=x.DepthStencilFormat,e.type=x.UnsignedInt248Type):e.type=x.UnsignedIntType,e}},{key:"deleteDepthTexture",value:function(){if(null!==this.depthTexture){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();var e,t=(0,f.Z)(this.passes);try{for(t.s();!(e=t.n()).done;)e.value.setDepthTexture(null)}catch(e){t.e(e)}finally{t.f()}}}},{key:"createBuffer",value:function(e,t,n,i){var r,o=this.renderer,a=null===o?new x.Vector2:o.getDrawingBufferSize(new x.Vector2);t={minFilter:x.LinearFilter,magFilter:x.LinearFilter,stencilBuffer:t,depthBuffer:e,type:n};return 0<i?((r=new(Number(x.REVISION.replace(/\D+/g,""))<138?x.WebGLMultisampleRenderTarget:x.WebGLRenderTarget)(a.width,a.height,t)).ignoreDepthForMultisampleCopy=!1,r.samples=i):r=new x.WebGLRenderTarget(a.width,a.height,t),n===x.UnsignedByteType&&null!==o&&o.outputEncoding===x.sRGBEncoding&&(r.texture.encoding=x.sRGBEncoding),r.texture.name="EffectComposer.Buffer",r.texture.generateMipmaps=!1,r}},{key:"addPass",value:function(e,t){var n=this.passes,i=this.renderer,r=i.getDrawingBufferSize(new x.Vector2),o=i.getContext().getContextAttributes().alpha,a=this.inputBuffer.texture.type;if(e.setRenderer(i),e.setSize(r.width,r.height),e.initialize(i,o,a),this.autoRenderToScreen&&(0<n.length&&(n[n.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),void 0!==t?n.splice(t,0,e):n.push(e),this.autoRenderToScreen&&(n[n.length-1].renderToScreen=!0),e.needsDepthTexture||null!==this.depthTexture)if(null===this.depthTexture){var s,l=this.createDepthTexture(),u=(0,f.Z)(n);try{for(u.s();!(s=u.n()).done;)(e=s.value).setDepthTexture(l)}catch(e){u.e(e)}finally{u.f()}}else e.setDepthTexture(this.depthTexture)}},{key:"removePass",value:function(e){var t=this.passes,n=t.indexOf(e);-1!==n&&0<t.splice(n,1).length&&(null===this.depthTexture||t.reduce((function(e,t){return e||t.needsDepthTexture}),!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture()),this.autoRenderToScreen&&n===t.length&&(e.renderToScreen=!1,0<t.length&&(t[t.length-1].renderToScreen=!0)))}},{key:"removeAllPasses",value:function(){var e=this.passes;this.deleteDepthTexture(),0<e.length&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}},{key:"render",value:function(e){var t,n,i,r,o=this.renderer,a=this.copyPass,s=this.inputBuffer,l=this.outputBuffer,u=!1,c=(void 0===e&&(e=this.timer.update().getDelta()),(0,f.Z)(this.passes));try{for(c.s();!(r=c.n()).done;){var h=r.value;h.enabled&&(h.render(o,s,l,e,u),h.needsSwap&&(u&&(a.renderToScreen=h.renderToScreen,t=o.getContext(),(n=o.state.buffers.stencil).setFunc(t.NOTEQUAL,1,4294967295),a.render(o,s,l,e,u),n.setFunc(t.EQUAL,1,4294967295)),i=s,s=l,l=i),h instanceof ie?u=!0:h instanceof N&&(u=!1))}}catch(e){c.e(e)}finally{c.f()}}},{key:"setSize",value:function(e,t,n){var i,r,o=this.renderer,a=(void 0!==e&&void 0!==t||(e=(i=o.getSize(new x.Vector2)).width,t=i.height),o.setSize(e,t,n),o.getDrawingBufferSize(new x.Vector2)),s=(this.inputBuffer.setSize(a.width,a.height),this.outputBuffer.setSize(a.width,a.height),(0,f.Z)(this.passes));try{for(s.s();!(r=s.n()).done;)r.value.setSize(a.width,a.height)}catch(e){s.e(e)}finally{s.f()}}},{key:"reset",value:function(){var e=this.timer.isAutoResetEnabled();this.dispose(),this.autoRenderToScreen=!0,this.timer.setAutoResetEnabled(e)}},{key:"dispose",value:function(){var e,t=(0,f.Z)(this.passes);try{for(t.s();!(e=t.n()).done;)e.value.dispose()}catch(e){t.e(e)}finally{t.f()}this.passes=[],null!==this.inputBuffer&&this.inputBuffer.dispose(),null!==this.outputBuffer&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}}]),e}(),le={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5};Set,t=function(){(0,g.Z)(t,Q);var e=(0,m.Z)(t);function t(){var n,i=void 0===(i=(c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).blendFunction)?Y:i,r=void 0===(r=c.luminanceThreshold)?.9:r,o=void 0===(o=c.luminanceSmoothing)?.025:o,a=void 0===(a=c.resolutionScale)?.5:a,s=void 0===(s=c.intensity)?1:s,l=void 0===(l=c.width)?H.AUTO_SIZE:l,u=void 0===(u=c.height)?H.AUTO_SIZE:u,c=void 0===(c=c.kernelSize)?le.LARGE:c,h=((0,y.Z)(this,t),(n=e.call(this,"BloomEffect","#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D map;\n#else\nuniform lowp sampler2D map;\n#endif\nuniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=clamp(texture2D(map,uv)*intensity,0.0,1.0);}",{blendFunction:i,uniforms:new Map([["map",new x.Uniform(null)],["intensity",new x.Uniform(s)]])})).renderTarget=new x.WebGLRenderTarget(1,1,{minFilter:x.LinearFilter,magFilter:x.LinearFilter,stencilBuffer:!1,depthBuffer:!1}),n.renderTarget.texture.name="Bloom.Target",n.renderTarget.texture.generateMipmaps=!1,n.uniforms.get("map").value=n.renderTarget.texture,n.luminancePass=new ne({renderTarget:n.renderTarget,colorOutput:!0}),n.luminanceMaterial.threshold=r,n.luminanceMaterial.smoothingFactor=o,n.blurPass=new te({resolutionScale:a,width:l,height:u,kernelSize:c}),n.blurPass.getResolution());return h.addEventListener("change",(function(e){return n.setSize(h.baseWidth,h.baseHeight)})),n}return(0,v.Z)(t,[{key:"texture",get:function(){return this.renderTarget.texture}},{key:"getTexture",value:function(){return this.renderTarget.texture}},{key:"resolution",get:function(){return this.blurPass.resolution}},{key:"getResolution",value:function(){return this.blurPass.resolution}},{key:"getBlurPass",value:function(){return this.blurPass}},{key:"getLuminancePass",value:function(){return this.luminancePass}},{key:"luminanceMaterial",get:function(){return this.luminancePass.fullscreenMaterial}},{key:"getLuminanceMaterial",value:function(){return this.luminancePass.fullscreenMaterial}},{key:"width",get:function(){return this.resolution.width},set:function(e){this.resolution.preferredWidth=e}},{key:"height",get:function(){return this.resolution.height},set:function(e){this.resolution.preferredHeight=e}},{key:"dithering",get:function(){return this.blurPass.dithering},set:function(e){this.blurPass.dithering=e}},{key:"kernelSize",get:function(){return this.blurPass.kernelSize},set:function(e){this.blurPass.kernelSize=e}},{key:"distinction",get:function(){return 1},set:function(e){}},{key:"intensity",get:function(){return this.uniforms.get("intensity").value},set:function(e){this.uniforms.get("intensity").value=e}},{key:"getIntensity",value:function(){return this.intensity}},{key:"setIntensity",value:function(e){this.intensity=e}},{key:"getResolutionScale",value:function(){return this.resolution.scale}},{key:"setResolutionScale",value:function(e){this.resolution.scale=e}},{key:"update",value:function(e,t,n){var i=this.renderTarget;this.luminancePass.enabled?(this.luminancePass.render(e,t,i),this.blurPass.render(e,i,i)):this.blurPass.render(e,t,i)}},{key:"setSize",value:function(e,t){var n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height),this.luminancePass.resolution.copy(n)}},{key:"initialize",value:function(e,t,n){this.blurPass.initialize(e,t,n),void 0!==n&&(this.renderTarget.texture.type=n,e.outputEncoding===x.sRGBEncoding&&(this.renderTarget.texture.encoding=x.sRGBEncoding))}}]),t}(),j=function(){(0,g.Z)(t,Q);var e=(0,m.Z)(t);function t(){var n=void 0===(n=(r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).blendFunction)?X:n,i=void 0===(i=r.brightness)?0:i,r=void 0===(r=r.contrast)?0:r;return(0,y.Z)(this,t),e.call(this,"BrightnessContrastEffect","uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(min(color+vec3(0.5),1.0),inputColor.a);}",{blendFunction:n,uniforms:new Map([["brightness",new x.Uniform(i)],["contrast",new x.Uniform(r)]])})}return(0,v.Z)(t,[{key:"brightness",get:function(){return this.uniforms.get("brightness").value},set:function(e){this.uniforms.get("brightness").value=e}},{key:"getBrightness",value:function(e){return this.brightness}},{key:"setBrightness",value:function(e){this.brightness=e}},{key:"contrast",get:function(){return this.uniforms.get("contrast").value},set:function(e){this.uniforms.get("contrast").value=e}},{key:"getContrast",value:function(e){return this.contrast}},{key:"setContrast",value:function(e){this.contrast=e}}]),t}();var ue=function(){(0,g.Z)(t,Q);var e=(0,m.Z)(t);function t(){var n=void 0===(n=(i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).blendFunction)?X:n,i=void 0===(i=i.bits)?16:i;return(0,y.Z)(this,t),(n=e.call(this,"ColorDepthEffect","uniform float factor;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(floor(inputColor.rgb*factor+0.5)/factor,inputColor.a);}",{blendFunction:n,uniforms:new Map([["factor",new x.Uniform(1)]])})).bits=0,n.bitDepth=i,n}return(0,v.Z)(t,[{key:"bitDepth",get:function(){return this.bits},set:function(e){this.bits=e,this.uniforms.get("factor").value=Math.pow(2,e/3)}},{key:"getBitDepth",value:function(){return this.bitDepth}},{key:"setBitDepth",value:function(e){this.bitDepth=e}}]),t}(),ce=function(){(0,g.Z)(t,Q);var e=(0,m.Z)(t);function t(){var n=void 0===(n=(i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).blendFunction)?X:n,i=void 0===(i=i.offset)?new x.Vector2(.001,5e-4):i;return(0,y.Z)(this,t),e.call(this,"ChromaticAberrationEffect","varying vec2 vUvR;varying vec2 vUvB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 ra=texture2D(inputBuffer,vUvR).ra;vec2 ba=texture2D(inputBuffer,vUvB).ba;outputColor=vec4(ra.x,inputColor.g,ba.x,max(max(ra.y,ba.y),inputColor.a));}",{vertexShader:"uniform vec2 offset;varying vec2 vUvR;varying vec2 vUvB;void mainSupport(const in vec2 uv){vec2 shift=offset*vec2(1.0,aspect);vUvR=uv+shift;vUvB=uv-shift;}",blendFunction:n,attributes:2,uniforms:new Map([["offset",new x.Uniform(i)]])})}return(0,v.Z)(t,[{key:"offset",get:function(){return this.uniforms.get("offset").value},set:function(e){this.uniforms.get("offset").value=e}},{key:"getOffset",value:function(){return this.offset}},{key:"setOffset",value:function(e){this.offset=e}}]),t}(),he=function(){(0,g.Z)(t,Q);var e=(0,m.Z)(t);function t(){var n=void 0===(n=(i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).blendFunction)?X:n,i=void 0!==(i=i.inverted)&&i;return(0,y.Z)(this,t),(n=e.call(this,"DepthEffect","void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){\n#ifdef INVERTED\nvec3 color=vec3(1.0-depth);\n#else\nvec3 color=vec3(depth);\n#endif\noutputColor=vec4(color,inputColor.a);}",{blendFunction:n,attributes:1})).inverted=i,n}return(0,v.Z)(t,[{key:"inverted",get:function(){return this.defines.has("INVERTED")},set:function(e){this.inverted!==e&&(e?this.defines.set("INVERTED","1"):this.defines.delete("INVERTED"),this.setChanged())}},{key:"isInverted",value:function(){return this.inverted}},{key:"setInverted",value:function(e){this.inverted=e}}]),t}(),de=function(){(0,g.Z)(t,Q);var e=(0,m.Z)(t);function t(n){var i,r=void 0===(r=(h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).blendFunction)?X:r,o=h.worldFocusDistance,a=h.worldFocusRange,s=void 0===(s=h.focusDistance)?0:s,l=h.focalLength,u=(l=void 0===(u=h.focusRange)?void 0===l?.1:l:u,void 0===(u=h.bokehScale)?1:u),c=void 0===(c=h.width)?H.AUTO_SIZE:c,h=void 0===(h=h.height)?H.AUTO_SIZE:h,d=((r=((0,y.Z)(this,t),(i=e.call(this,"DepthOfFieldEffect","#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D nearColorBuffer;uniform mediump sampler2D farColorBuffer;\n#else\nuniform lowp sampler2D nearColorBuffer;uniform lowp sampler2D farColorBuffer;\n#endif\nuniform lowp sampler2D nearCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);float CoCNear=texture2D(nearCoCBuffer,uv).r;CoCNear=min(CoCNear*scale,1.0);vec4 result=inputColor*(1.0-colorFar.a)+colorFar;result=mix(result,colorNear,CoCNear);outputColor=result;}",{blendFunction:r,attributes:1,uniforms:new Map([["nearColorBuffer",new x.Uniform(null)],["farColorBuffer",new x.Uniform(null)],["nearCoCBuffer",new x.Uniform(null)],["scale",new x.Uniform(1)]])})).camera=n,i.renderTarget=new x.WebGLRenderTarget(1,1,{minFilter:x.LinearFilter,magFilter:x.LinearFilter,stencilBuffer:!1,depthBuffer:!1}),i.renderTarget.texture.name="DoF.Intermediate",i.renderTarget.texture.generateMipmaps=!1,i.renderTargetMasked=i.renderTarget.clone(),i.renderTargetMasked.texture.name="DoF.Masked.Far",i.renderTargetNear=i.renderTarget.clone(),i.renderTargetNear.texture.name="DoF.Bokeh.Near",i.uniforms.get("nearColorBuffer").value=i.renderTargetNear.texture,i.renderTargetFar=i.renderTarget.clone(),i.renderTargetFar.texture.name="DoF.Bokeh.Far",i.uniforms.get("farColorBuffer").value=i.renderTargetFar.texture,i.renderTargetCoC=i.renderTarget.clone(),i.renderTargetCoC.texture.name="DoF.CoC",i.renderTargetCoCBlurred=i.renderTargetCoC.clone(),i.renderTargetCoCBlurred.texture.name="DoF.CoC.Blurred",i.uniforms.get("nearCoCBuffer").value=i.renderTargetCoCBlurred.texture,i.cocPass=new oe(new M(n)),i.cocMaterial)).focusDistance=s,r.focusRange=l,void 0!==o&&(r.worldFocusDistance=o),void 0!==a&&(r.worldFocusRange=a),i.blurPass=new te({kernelSize:le.MEDIUM,width:c,height:h}),i.blurPass.getResolution());return(n=(d.addEventListener("change",(function(e){return i.setSize(d.getBaseWidth(),d.getBaseHeight())})),i.maskPass=new oe(new E(i.renderTargetCoC.texture)),i.maskPass.fullscreenMaterial)).maskFunction=1,n.colorChannel=1,i.bokehNearBasePass=new oe(new w(!1,!0)),i.bokehNearBasePass.fullscreenMaterial.cocBuffer=i.renderTargetCoCBlurred.texture,i.bokehNearFillPass=new oe(new w(!0,!0)),i.bokehNearFillPass.fullscreenMaterial.cocBuffer=i.renderTargetCoCBlurred.texture,i.bokehFarBasePass=new oe(new w(!1,!1)),i.bokehFarBasePass.fullscreenMaterial.cocBuffer=i.renderTargetCoC.texture,i.bokehFarFillPass=new oe(new w(!0,!1)),i.bokehFarFillPass.fullscreenMaterial.cocBuffer=i.renderTargetCoC.texture,i.target=null,i.bokehScale=u,i}return(0,v.Z)(t,[{key:"cocTexture",get:function(){return this.renderTargetCoC.texture}},{key:"cocMaterial",get:function(){return this.cocPass.fullscreenMaterial}},{key:"circleOfConfusionMaterial",get:function(){return this.cocMaterial}},{key:"getCircleOfConfusionMaterial",value:function(){return this.circleOfConfusionMaterial}},{key:"getBlurPass",value:function(){return this.blurPass}},{key:"resolution",get:function(){return this.blurPass.getResolution()}},{key:"getResolution",value:function(){return this.blurPass.getResolution()}},{key:"bokehScale",get:function(){return this.uniforms.get("scale").value},set:function(e){for(var t=0,n=[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];t<n.length;t++)n[t].fullscreenMaterial.setScale(e);this.maskPass.fullscreenMaterial.setStrength(e),this.uniforms.get("scale").value=e}},{key:"getBokehScale",value:function(){return this.bokehScale}},{key:"setBokehScale",value:function(e){this.bokehScale=e}},{key:"getTarget",value:function(){return this.target}},{key:"setTarget",value:function(e){this.target=e}},{key:"calculateFocusDistance",value:function(e){var t=this.camera;return A(-t.position.distanceTo(e),t.near,t.far)}},{key:"setDepthTexture",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:x.BasicDepthPacking;this.circleOfConfusionMaterial.depthBuffer=e,this.circleOfConfusionMaterial.depthPacking=t}},{key:"update",value:function(e,t,n){var i,r=this.renderTarget,o=this.renderTargetCoC,a=this.renderTargetCoCBlurred,s=this.renderTargetMasked;null!==this.target&&(i=this.calculateFocusDistance(this.target),this.circleOfConfusionMaterial.focusDistance=i),this.cocPass.render(e,null,o),this.blurPass.render(e,o,a),this.maskPass.render(e,t,s),this.bokehFarBasePass.render(e,s,r),this.bokehFarFillPass.render(e,r,this.renderTargetFar),this.bokehNearBasePass.render(e,t,r),this.bokehNearFillPass.render(e,r,this.renderTargetNear)}},{key:"setSize",value:function(e,t){var n,i=((n=this.resolution).setBaseSize(e,t),n.width),r=n.height;(n=[this.cocPass,this.blurPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass]).push(this.renderTargetCoC,this.renderTargetMasked),n.forEach((function(n){return n.setSize(e,t)})),(n=[this.renderTarget,this.renderTargetNear,this.renderTargetFar,this.renderTargetCoCBlurred]).forEach((function(e){return e.setSize(i,r)})),[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach((function(e){return e.fullscreenMaterial.setSize(i,r)}))}},{key:"initialize",value:function(e,t,n){[this.cocPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach((function(i){return i.initialize(e,t,n)})),this.blurPass.initialize(e,t,x.UnsignedByteType),void 0!==n&&(this.renderTarget.texture.type=n,this.renderTargetNear.texture.type=n,this.renderTargetFar.texture.type=n,this.renderTargetMasked.texture.type=n,e.outputEncoding===x.sRGBEncoding&&(this.renderTarget.texture.encoding=x.sRGBEncoding,this.renderTargetNear.texture.encoding=x.sRGBEncoding,this.renderTargetFar.texture.encoding=x.sRGBEncoding,this.renderTargetMasked.texture.encoding=x.sRGBEncoding))}}]),t}(),pe=function(){(0,g.Z)(t,Q);var e=(0,m.Z)(t);function t(){var n=void 0===(n=(r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).blendFunction)?X:n,i=void 0===(i=r.angle)?.5*Math.PI:i,r=void 0===(r=r.scale)?1:r;return(0,y.Z)(this,t),(n=e.call(this,"DotScreenEffect","uniform vec2 angle;uniform float scale;float pattern(const in vec2 uv){vec2 point=scale*vec2(dot(angle.yx,vec2(uv.x,-uv.y)),dot(angle,uv));return(sin(point.x)*sin(point.y))*4.0;}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(inputColor.rgb*10.0-5.0+pattern(uv*resolution));outputColor=vec4(color,inputColor.a);}",{blendFunction:n,uniforms:new Map([["angle",new x.Uniform(new x.Vector2)],["scale",new x.Uniform(r)]])})).angle=i,n}return(0,v.Z)(t,[{key:"angle",get:function(){return Math.acos(this.uniforms.get("angle").value.y)},set:function(e){this.uniforms.get("angle").value.set(Math.sin(e),Math.cos(e))}},{key:"getAngle",value:function(){return this.angle}},{key:"setAngle",value:function(e){this.angle=e}},{key:"scale",get:function(){return this.uniforms.get("scale").value},set:function(e){this.uniforms.get("scale").value=e}}]),t}();x.DataTexture,new x.Vector3,new x.Matrix4;var fe=function(){(0,g.Z)(t,Q);var e=(0,m.Z)(t);function t(){var n=void 0===(n=(r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).blendFunction)?X:n,i=void 0===(i=r.hue)?0:i,r=void 0===(r=r.saturation)?0:r;return(0,y.Z)(this,t),(n=e.call(this,"HueSaturationEffect","uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}",{blendFunction:n,uniforms:new Map([["hue",new x.Uniform(new x.Vector3)],["saturation",new x.Uniform(r)]])})).hue=i,n}return(0,v.Z)(t,[{key:"saturation",get:function(){return this.uniforms.get("saturation").value},set:function(e){this.uniforms.get("saturation").value=e}},{key:"getSaturation",value:function(){return this.saturation}},{key:"setSaturation",value:function(e){this.saturation=e}},{key:"hue",get:function(){var e=this.uniforms.get("hue").value;return Math.acos((3*e.x-1)/2)},set:function(e){var t=Math.sin(e);e=Math.cos(e);this.uniforms.get("hue").value.set((2*e+1)/3,(-Math.sqrt(3)*t-e+1)/3,(Math.sqrt(3)*t-e+1)/3)}},{key:"getHue",value:function(){return this.hue}},{key:"setHue",value:function(e){this.hue=e}}]),t}();function ge(e,t,n){var i=document.createElement("canvas"),r=i.getContext("2d");return i.width=e,i.height=t,n instanceof Image?r.drawImage(n,0,0):((e=r.createImageData(e,t)).data.set(n),r.putImageData(e,0,0)),i}(function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;(0,y.Z)(this,e),this.width=t,this.height=n,this.data=i}(0,v.Z)(e,[{key:"toCanvas",value:function(){return"undefined"==typeof document?null:ge(this.width,this.height,this.data)}}],[{key:"from",value:function(t){var n,i,r=t.width,o=t.height;return t instanceof Image?null!==(n=ge(r,o,t))&&(i=n.getContext("2d").getImageData(0,0,r,o).data):i=t.data,new e(r,o,i)}}])})(),new x.Color;x.DataTexture3D;var me=function(){(0,g.Z)(t,Q);var e=(0,m.Z)(t);function t(){var n=void 0===(n=(i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).blendFunction)?Y:n,i=void 0!==(i=i.premultiply)&&i;return(0,y.Z)(this,t),(n=e.call(this,"NoiseEffect","void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));\n#ifdef PREMULTIPLY\noutputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);\n#else\noutputColor=vec4(noise,inputColor.a);\n#endif\n}",{blendFunction:n})).premultiply=i,n}return(0,v.Z)(t,[{key:"premultiply",get:function(){return this.defines.has("PREMULTIPLY")},set:function(e){this.premultiply!==e&&(e?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}},{key:"isPremultiplied",value:function(){return this.premultiply}},{key:"setPremultiplied",value:function(e){this.premultiply=e}}]),t}(),ye=function(){(0,g.Z)(t,Q);var e=(0,m.Z)(t);function t(){var n=void 0===(n=(r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).blendFunction)?14:n,i=void 0===(i=r.density)?1.25:i,r=void 0===(r=r.scrollSpeed)?0:r;return(0,y.Z)(this,t),(n=e.call(this,"ScanlineEffect","uniform float count;\n#ifdef SCROLL\nuniform float scrollSpeed;\n#endif\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float y=uv.y;\n#ifdef SCROLL\ny+=time*scrollSpeed;\n#endif\nvec2 sl=vec2(sin(y*count),cos(y*count));outputColor=vec4(sl.xyx,inputColor.a);}",{blendFunction:n,uniforms:new Map([["count",new x.Uniform(0)],["scrollSpeed",new x.Uniform(0)]])})).resolution=new x.Vector2,n.d=i,n.scrollSpeed=r,n}return(0,v.Z)(t,[{key:"density",get:function(){return this.d},set:function(e){this.d=e,this.setSize(this.resolution.width,this.resolution.height)}},{key:"getDensity",value:function(){return this.density}},{key:"setDensity",value:function(e){this.density=e}},{key:"scrollSpeed",get:function(){return this.uniforms.get("scrollSpeed").value},set:function(e){0===(this.uniforms.get("scrollSpeed").value=e)?this.defines.delete("SCROLL")&&this.setChanged():this.defines.has("SCROLL")||(this.defines.set("SCROLL","1"),this.setChanged())}},{key:"setSize",value:function(e,t){this.resolution.set(e,t),this.uniforms.get("count").value=Math.round(t*this.density)}}]),t}(),ve=.5*Math.PI,xe=new x.Vector3,_e=new x.Vector3,be=function(){(0,g.Z)(t,Q);var e=(0,m.Z)(t);function t(n){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new x.Vector3,r=void 0===(r=(s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).speed)?2:r,o=void 0===(o=s.maxRadius)?1:o,a=void 0===(a=s.waveSize)?.2:a,s=void 0===(s=s.amplitude)?.05:s;return(0,y.Z)(this,t),(o=e.call(this,"ShockWaveEffect","uniform bool active;uniform vec2 center;uniform float waveSize;uniform float radius;uniform float maxRadius;uniform float amplitude;varying float vSize;void mainUv(inout vec2 uv){if(active){vec2 aspectCorrection=vec2(aspect,1.0);vec2 difference=uv*aspectCorrection-center*aspectCorrection;float distance=sqrt(dot(difference,difference))*vSize;if(distance>radius){if(distance<radius+waveSize){float angle=(distance-radius)*PI2/waveSize;float cosSin=(1.0-cos(angle))*0.5;float extent=maxRadius+waveSize;float decay=max(extent-distance*distance,0.0)/extent;uv-=((cosSin*amplitude*difference)/distance)*decay;}}}}",{vertexShader:"uniform float size;uniform float cameraDistance;varying float vSize;void mainSupport(){vSize=(0.1*cameraDistance)/size;}",uniforms:new Map([["active",new x.Uniform(!1)],["center",new x.Uniform(new x.Vector2(.5,.5))],["cameraDistance",new x.Uniform(1)],["size",new x.Uniform(1)],["radius",new x.Uniform(-a)],["maxRadius",new x.Uniform(o)],["waveSize",new x.Uniform(a)],["amplitude",new x.Uniform(s)]])})).position=i,o.speed=r,o.camera=n,o.screenPosition=o.uniforms.get("center").value,o.time=0,o.active=!1,o}return(0,v.Z)(t,[{key:"amplitude",get:function(){return this.uniforms.get("amplitude").value},set:function(e){this.uniforms.get("amplitude").value=e}},{key:"waveSize",get:function(){return this.uniforms.get("waveSize").value},set:function(e){this.uniforms.get("waveSize").value=e}},{key:"maxRadius",get:function(){return this.uniforms.get("maxRadius").value},set:function(e){this.uniforms.get("maxRadius").value=e}},{key:"epicenter",get:function(){return this.position},set:function(e){this.position=e}},{key:"getPosition",value:function(){return this.position}},{key:"setPosition",value:function(e){this.position=e}},{key:"getSpeed",value:function(){return this.speed}},{key:"setSpeed",value:function(e){this.speed=e}},{key:"explode",value:function(){this.time=0,this.active=!0,this.uniforms.get("active").value=!0}},{key:"update",value:function(e,t,n){var i,r=this.position,o=this.camera,a=this.uniforms,s=a.get("active");this.active&&(i=a.get("waveSize").value,o.getWorldDirection(xe),_e.copy(o.position).sub(r),s.value=xe.angleTo(_e)>ve,s.value&&(a.get("cameraDistance").value=o.position.distanceTo(r),xe.copy(r).project(o),this.screenPosition.set(.5*(xe.x+1),.5*(xe.y+1))),this.time+=n*this.speed,r=this.time-i,(a.get("radius").value=r)>=2*(a.get("maxRadius").value+i)&&(this.active=!1,s.value=!1))}}]),t}(),we=function(){(0,g.Z)(t,Q);var e=(0,m.Z)(t);function t(){var n=void 0===(n=(i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).blendFunction)?X:n,i=void 0===(i=i.intensity)?1:i;return(0,y.Z)(this,t),e.call(this,"SepiaEffect","uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,vec3(1.0,0.0,0.0)+vec3(-0.607,0.769,0.189)*intensity),dot(inputColor.rgb,vec3(0.0,1.0,0.0)+vec3(0.349,-0.314,0.168)*intensity),dot(inputColor.rgb,vec3(0.0,0.0,1.0)+vec3(0.272,0.534,-0.869)*intensity));outputColor=vec4(color,inputColor.a);}",{blendFunction:n,uniforms:new Map([["intensity",new x.Uniform(i)]])})}return(0,v.Z)(t,[{key:"intensity",get:function(){return this.uniforms.get("intensity").value},set:function(e){this.uniforms.get("intensity").value=e}},{key:"getIntensity",value:function(){return this.intensity}},{key:"setIntensity",value:function(e){this.intensity=e}}]),t}(),Se=function(){(0,g.Z)(t,Q);var e=(0,m.Z)(t);function t(){var n=void 0===(n=(c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).blendFunction)?X:n,i=c.adaptive,r=(i=void 0===(r=c.mode)?void 0===i||i?2:1:r,void 0===(r=c.resolution)?256:r),o=void 0===(o=c.maxLuminance)?16:o,a=void 0===(a=c.whitePoint)?o:a,s=void 0===(s=c.middleGrey)?.6:s,l=void 0===(l=c.minLuminance)?.01:l,u=void 0===(u=c.averageLuminance)?1:u,c=void 0===(c=c.adaptationRate)?1:c;return(0,y.Z)(this,t),(n=e.call(this,"ToneMappingEffect","#include <tonemapping_pars_fragment>\nuniform lowp sampler2D luminanceBuffer;uniform float whitePoint;uniform float middleGrey;\n#if TONE_MAPPING_MODE != 2\nuniform float averageLuminance;\n#endif\nvec3 Reinhard2ToneMapping(vec3 color){color*=toneMappingExposure;float l=linearToRelativeLuminance(color);\n#if TONE_MAPPING_MODE == 2\nfloat lumAvg=unpackRGBAToFloat(texture2D(luminanceBuffer,vec2(0.5)));\n#else\nfloat lumAvg=averageLuminance;\n#endif\nfloat lumScaled=(l*middleGrey)/max(lumAvg,1e-6);float lumCompressed=lumScaled*(1.0+lumScaled/(whitePoint*whitePoint));lumCompressed/=(1.0+lumScaled);return clamp(lumCompressed*color,0.0,1.0);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){\n#if TONE_MAPPING_MODE == 1 || TONE_MAPPING_MODE == 2\noutputColor=vec4(Reinhard2ToneMapping(inputColor.rgb),inputColor.a);\n#else\noutputColor=vec4(toneMapping(inputColor.rgb),inputColor.a);\n#endif\n}",{blendFunction:n,uniforms:new Map([["luminanceBuffer",new x.Uniform(null)],["maxLuminance",new x.Uniform(o)],["whitePoint",new x.Uniform(a)],["middleGrey",new x.Uniform(s)],["averageLuminance",new x.Uniform(u)]])})).renderTargetLuminance=new x.WebGLRenderTarget(1,1,{minFilter:x.LinearMipmapLinearFilter,magFilter:x.LinearFilter,stencilBuffer:!1,depthBuffer:!1}),n.renderTargetLuminance.texture.name="Luminance",n.renderTargetLuminance.texture.generateMipmaps=!0,n.luminancePass=new ne({renderTarget:n.renderTargetLuminance}),n.adaptiveLuminancePass=new F(n.luminancePass.texture,{minLuminance:l,adaptationRate:c}),n.uniforms.get("luminanceBuffer").value=n.adaptiveLuminancePass.texture,n.resolution=r,n.mode=i,n}return(0,v.Z)(t,[{key:"mode",get:function(){return Number(this.defines.get("TONE_MAPPING_MODE"))},set:function(e){if(this.mode!==e){switch(this.defines.clear(),this.defines.set("TONE_MAPPING_MODE",e.toFixed(0)),e){case 0:this.defines.set("toneMapping(texel)","ReinhardToneMapping(texel)");break;case 3:this.defines.set("toneMapping(texel)","OptimizedCineonToneMapping(texel)");break;case 4:this.defines.set("toneMapping(texel)","ACESFilmicToneMapping(texel)");break;default:this.defines.set("toneMapping(texel)","texel")}this.adaptiveLuminancePass.enabled=2===e,this.setChanged()}}},{key:"getMode",value:function(){return this.mode}},{key:"setMode",value:function(e){this.mode=e}},{key:"adaptiveLuminanceMaterial",get:function(){return this.adaptiveLuminancePass.fullscreenMaterial}},{key:"getAdaptiveLuminanceMaterial",value:function(){return this.adaptiveLuminanceMaterial}},{key:"resolution",get:function(){return this.luminancePass.resolution.width},set:function(e){e=Math.max(0,Math.ceil(Math.log2(e)));var t=Math.pow(2,e);this.luminancePass.resolution.setPreferredSize(t,t),this.adaptiveLuminanceMaterial.mipLevel1x1=e}},{key:"getResolution",value:function(){return this.resolution}},{key:"setResolution",value:function(e){this.resolution=e}},{key:"adaptive",get:function(){return 2===this.mode},set:function(e){this.mode=e?2:1}},{key:"adaptationRate",get:function(){return this.adaptiveLuminanceMaterial.adaptationRate},set:function(e){this.adaptiveLuminanceMaterial.adaptationRate=e}},{key:"distinction",get:function(){return 1},set:function(e){}},{key:"update",value:function(e,t,n){this.adaptiveLuminancePass.enabled&&(this.luminancePass.render(e,t),this.adaptiveLuminancePass.render(e,null,null,n))}},{key:"initialize",value:function(e,t,n){this.adaptiveLuminancePass.initialize(e,t,n)}}]),t}(),Ae=function(){(0,g.Z)(t,Q);var e=(0,m.Z)(t);function t(){var n=void 0===(n=(o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).blendFunction)?X:n,i=void 0===(i=o.technique)?0:i,r=void 0===(r=(o.eskil,o.offset))?.5:r,o=void 0===(o=o.darkness)?.5:o;return(0,y.Z)(this,t),e.call(this,"VignetteEffect","uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;\n#if VIGNETTE_TECHNIQUE == 0\nfloat d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));\n#else\nvec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));\n#endif\noutputColor=vec4(color,inputColor.a);}",{blendFunction:n,defines:new Map([["VIGNETTE_TECHNIQUE",i.toFixed(0)]]),uniforms:new Map([["offset",new x.Uniform(r)],["darkness",new x.Uniform(o)]])})}return(0,v.Z)(t,[{key:"technique",get:function(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))},set:function(e){this.technique!==e&&(this.defines.set("VIGNETTE_TECHNIQUE",e.toFixed(0)),this.setChanged())}},{key:"eskil",get:function(){return 1===this.technique},set:function(e){this.technique=e?1:0}},{key:"getTechnique",value:function(){return this.technique}},{key:"setTechnique",value:function(e){this.technique=e}},{key:"offset",get:function(){return this.uniforms.get("offset").value},set:function(e){this.uniforms.get("offset").value=e}},{key:"getOffset",value:function(){return this.offset}},{key:"setOffset",value:function(e){this.offset=e}},{key:"darkness",get:function(){return this.uniforms.get("darkness").value},set:function(e){this.uniforms.get("darkness").value=e}},{key:"getDarkness",value:function(){return this.darkness}},{key:"setDarkness",value:function(e){this.darkness=e}}]),t}();function Me(e,t,n){return e+(t-e)*n}function Ce(e,t,n,i){return e=Me(e,t,.75),t=Me(n,i,.75),Me(e,t,.875)}new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1]),new Float32Array(2),new Float32Array(2),new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125]),new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4]),new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3]),Ce(0,0,0,0),new Float32Array([0,0,0,0]),Ce(0,0,0,1),new Float32Array([0,0,0,1]),Ce(0,0,1,0),new Float32Array([0,0,1,0]),Ce(0,0,1,1),new Float32Array([0,0,1,1]),Ce(0,1,0,0),new Float32Array([0,1,0,0]),Ce(0,1,0,1),new Float32Array([0,1,0,1]),Ce(0,1,1,0),new Float32Array([0,1,1,0]),Ce(0,1,1,1),new Float32Array([0,1,1,1]),Ce(1,0,0,0),new Float32Array([1,0,0,0]),Ce(1,0,0,1),new Float32Array([1,0,0,1]),Ce(1,0,1,0),new Float32Array([1,0,1,0]),Ce(1,0,1,1),new Float32Array([1,0,1,1]),Ce(1,1,0,0),new Float32Array([1,1,0,0]),Ce(1,1,0,1),new Float32Array([1,1,0,1]),Ce(1,1,1,0),new Float32Array([1,1,1,0]),Ce(1,1,1,1),new Float32Array([1,1,1,1]),x.Loader,x.Loader,x.Loader;var Te,Ie=n(9867),ke=n(1141);function De(e,t){return void 0===t&&(t=X),(0,Ie.forwardRef)((function(n,i){var r=n.blendFunction,o=n.opacity,a=(0,s.Z)(n,Be),l=(0,ke.w)((function(e){return e.invalidate})),u=(0,Ie.useMemo)((function(){return new e(a)}),[a]);return(0,Ie.useLayoutEffect)((function(){u.blendMode.blendFunction=r||0===r?r:t,void 0!==o&&(u.blendMode.opacity.value=o),l()}),[r,u.blendMode,o]),Ie.createElement("primitive",{ref:i,object:u,dispose:null})}))}var Be=["blendFunction","opacity"],Ee=["target","depthTexture"],Pe=De(t,Y),Le=(De(j),(0,Ie.forwardRef)((function(e,t){var n=function(e,t){var n=e[t];return(0,Ie.useMemo)((function(){return n instanceof x.Vector2?(new x.Vector2).set(n.x,n.y):Array.isArray(n)?(e=(t=(0,a.Z)(n,2))[0],t=t[1],(new x.Vector2).set(e,t)):void 0;var e,t}),[n])}(e,"offset"),i=(0,Ie.useMemo)((function(){return new ce((0,o.Z)((0,o.Z)({},e),{},{offset:n}))}),[n,e]);return Ie.createElement("primitive",{ref:t,object:i,dispose:null})}))),Re=(De(ue),De(he),(0,Ie.createContext)(null)),Oe=Ie.memo((0,Ie.forwardRef)((function(e,t){var n=e.children,o=e.camera,s=e.scene,l=e.resolutionScale,u=void 0===(c=e.enabled)||c,c=void 0===(c=e.renderPriority)?1:c,h=void 0===(v=e.autoClear)||v,d=e.depthBuffer,p=e.disableNormalPass,f=e.stencilBuffer,g=void 0===(v=e.multisampling)?8:v,m=void 0===(v=e.frameBufferType)?x.HalfFloatType:v,y=(e=(0,ke.w)()).gl,v=e.scene,_=e.camera,b=e.size,w=(o=o||_,e=(0,Ie.useMemo)((function(){var e=function(){if(void 0!==Te)return Te;try{var e,t,n=document.createElement("canvas");return Te=!(!window.WebGL2RenderingContext||!(t=n.getContext("webgl2"))),t&&null!=(e=t.getExtension("WEBGL_lose_context"))&&e.loseContext(),Te}catch(e){return Te=!1}}(),t=new se(y,{depthBuffer:d,stencilBuffer:f,multisampling:0<g&&e?g:0,frameBufferType:m}),n=(t.addPass(new Z(s,o)),null),i=null;return p||((i=new re(s,o)).enabled=!1,t.addPass(i),void 0!==l&&e&&((n=new W({normalBuffer:i.texture,resolutionScale:l})).enabled=!1,t.addPass(n))),[t,i,n]}),[o,y,d,f,g,m,s=s||v,p,l]),(_=(0,a.Z)(e,3))[0]),S=_[1],A=_[2],M=((0,Ie.useEffect)((function(){return null==w?void 0:w.setSize(b.width,b.height)}),[w,b]),(0,ke.x)((function(e,t){u&&(y.autoClear=h,w.render(t))}),u?c:0),(0,Ie.useRef)(null));(0,Ie.useLayoutEffect)((function(){var e;return M.current&&M.current.__r3f&&w&&((e=(0,i.Z)($,[o].concat((0,r.Z)(M.current.__r3f.objects)))).renderToScreen=!0,w.addPass(e),S&&(S.enabled=!0),A&&(A.enabled=!0)),function(){e&&null!=w&&w.removePass(e),S&&(S.enabled=!1),A&&(A.enabled=!1)}}),[w,n,o,S,A]),v=(0,Ie.useMemo)((function(){return{composer:w,normalPass:S,downSamplingPass:A,resolutionScale:l,camera:o,scene:s}}),[w,S,A,l,o,s]);return(0,Ie.useImperativeHandle)(t,(function(){return w}),[w]),Ie.createElement(Re.Provider,{value:v},Ie.createElement("group",{ref:M},n))}))),Fe=(0,Ie.forwardRef)((function(e,t){var n=e.target,i=e.depthTexture,r=(0,s.Z)(e,Ee),o=(0,ke.w)((function(e){return e.invalidate})),a=(0,Ie.useContext)(Re).camera,l=(0,Ie.useMemo)((function(){return new de(a,r)}),[a,r]);return(0,Ie.useLayoutEffect)((function(){var e;n&&(e=n instanceof x.Vector3?(new x.Vector3).set(n.x,n.y,n.z):(new x.Vector3).set(n[0],n[1],n[2]),l.target=e),i&&l.setDepthTexture(i.texture,i.packing),o()}),[n,i,l]),Ie.createElement("primitive",{ref:t,object:l,dispose:null})}));De(pe),De(fe),De(me,5),De(ye,14),De(we),De(Se),De(Ae),De(be)},9015:function(e,t,n){"use strict";n.d(t,{Z:function(){return Ze}});var i=n(7462),r=n(4942),o=n(9439),a=n(1002),s=n(9867),l=(t=n(4758),n.n(t)),u=n(1413),c=n(5671),h=n(3144),d=n(136),p=n(9388),f=(t={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},"${label} is not a valid ${type}"),g={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:ne={lang:(0,i.Z)({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:(0,i.Z)({},t)},TimePicker:t,Calendar:ne,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:f,method:f,array:f,object:f,number:f,date:f,boolean:f,integer:f,float:f,regexp:f,email:f,url:f,hex:f},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},m=(t=(0,s.createContext)(void 0),function(e){(0,d.Z)(n,e);var t=(0,p.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"getLocale",value:function(){var e=(t=this.props).componentName,t=t.defaultLocale||g[null!=e?e:"global"],n=this.context;n=e&&n?n[e]:{};return(0,i.Z)((0,i.Z)({},t instanceof Function?t():t),n||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?g.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(s.Component));function y(e){var t=e.className,n=e.prefixCls,o=e.image,a=void 0===o?x:o,u=e.description,c=e.children,h=e.imageStyle,d=v(e,["className","prefixCls","image","description","children","imageStyle"]),p=(o=s.useContext(w)).getPrefixCls,f=o.direction;return s.createElement(m,{componentName:"Empty"},(function(e){var o,g=p("empty",n),m=(e=void 0!==u?u:e.description,"string"==typeof a?s.createElement("img",{alt:"string"==typeof e?e:"empty",src:a}):a);return s.createElement("div",(0,i.Z)({className:l()(g,((0,r.Z)(o={},"".concat(g,"-normal"),a===_),(0,r.Z)(o,"".concat(g,"-rtl"),"rtl"===f),o),t)},d),s.createElement("div",{className:"".concat(g,"-image"),style:h},m),e&&s.createElement("div",{className:"".concat(g,"-description")},e),c&&s.createElement("div",{className:"".concat(g,"-footer")},c))}))}m.defaultProps={componentName:"global"},m.contextType=t;var v=function(e,t){var n={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},x=s.createElement((function(){var e=(0,s.useContext(w).getPrefixCls)("empty-img-default");return s.createElement("svg",{className:e,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("g",{transform:"translate(24 31.67)"},s.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),s.createElement("path",{className:"".concat(e,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),s.createElement("path",{className:"".concat(e,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),s.createElement("path",{className:"".concat(e,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),s.createElement("path",{className:"".concat(e,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),s.createElement("path",{className:"".concat(e,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),s.createElement("g",{className:"".concat(e,"-g"),transform:"translate(149.65 15.383)"},s.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),s.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))}),null),_=s.createElement((function(){var e=(0,s.useContext(w).getPrefixCls)("empty-img-simple");return s.createElement("svg",{className:e,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},s.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},s.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),s.createElement("g",{className:"".concat(e,"-g"),fillRule:"nonzero"},s.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),s.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(e,"-path")}))))}),null),b=(y.PRESENTED_IMAGE_DEFAULT=x,y.PRESENTED_IMAGE_SIMPLE=_,y),w=s.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")},renderEmpty:function(e){return s.createElement(S,null,(function(t){var n=(0,t.getPrefixCls)("empty");switch(e){case"Table":case"List":return s.createElement(b,{image:b.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return s.createElement(b,{image:b.PRESENTED_IMAGE_SIMPLE,className:"".concat(n,"-small")});default:return s.createElement(b,null)}}))}}),S=w.Consumer;function A(e,t,n){(0,M.ZP)(e,"[antd: ".concat(t,"] ").concat(n))}var M=n(2359),C=function(e,t){var n={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},T=s.createContext(void 0),I=n(7326),k=n(1172),D=n(4623);function B(e,t){"function"==typeof e?e(t):"object"===(0,a.Z)(e)&&e&&"current"in e&&(e.current=t)}function E(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.filter((function(e){return e}));return i.length<=1?i[0]:function(e){t.forEach((function(t){B(t,e)}))}}function P(e){var t=((0,D.isMemo)(e)?e.type:e).type;return("function"!=typeof t||null!=(t=t.prototype)&&t.render)&&!!("function"!=typeof e||null!=(t=e.prototype)&&t.render)}var L=function(e){return+setTimeout(e,16)},R=function(e){return clearTimeout(e)},O=("undefined"!=typeof window&&"requestAnimationFrame"in window&&(L=function(e){return window.requestAnimationFrame(e)},R=function(e){return window.cancelAnimationFrame(e)}),0),F=new Map;function N(e){F.delete(e)}function z(e){var t=O+=1;return function n(i){var r;0===i?(N(t),e()):(r=L((function(){n(i-1)})),F.set(t,r))}(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1),t}z.cancel=function(e){return N(e=F.get(e)),R(e)};var G=0,H={};function V(e){var t=G++,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return H[t]=z((function i(){--n<=0?(e(),delete H[t]):H[t]=z(i)})),t}V.cancel=function(e){void 0!==e&&(z.cancel(H[e]),delete H[e])},V.ids=H;var U,Z=s.isValidElement;function W(e,t){return n=e,Z(e)?s.cloneElement(e,"function"==typeof t?t(e.props||{}):t):n;var n}function j(e){return!e||null===e.offsetParent||e.hidden}function X(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}var Y=function(e){(0,d.Z)(n,e);var t=(0,p.Z)(n);function n(){var e;return(0,c.Z)(this,n),(e=t.apply(this,arguments)).containerRef=s.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){var i,r,o,a=e.props,s=a.insertExtraNode;a.disabled||!t||j(t)||0<=t.className.indexOf("-leave")||(e.extraNode=document.createElement("div"),a=(0,I.Z)(e).extraNode,i=e.context.getPrefixCls,a.className="".concat(i(""),"-click-animating-node"),o=e.getAttributeName(),t.setAttribute(o,"true"),!n||"#ffffff"===n||"rgb(255, 255, 255)"===n||(o=((o=n)||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/))&&o[1]&&o[2]&&o[3]&&o[1]===o[2]&&o[2]===o[3]||/rgba\((?:\d*, ){3}0\)/.test(n)||"transparent"===n||(a.style.borderColor=n,r=(o=(null==(o=t.getRootNode)?void 0:o.call(t))||t.ownerDocument)instanceof Document?o.body:null!=(r=o.firstChild)?r:o,U=(0,k.hq)("\n      [".concat(i(""),"-click-animating-without-extra-node='true']::after, .").concat(i(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:e.csp,attachTo:r})),s&&t.appendChild(a),["transition","animation"].forEach((function(n){t.addEventListener("".concat(n,"start"),e.onTransitionStart),t.addEventListener("".concat(n,"end"),e.onTransitionEnd)})))},e.onTransitionStart=function(t){var n;e.destroyed||(n=e.containerRef.current,t&&t.target===n&&!e.animationStart&&e.resetEffect(n))},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){var n;if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(0<=t.className.indexOf("disabled")))return n=function(n){var i;"INPUT"===n.target.tagName||j(n.target)||(e.resetEffect(t),i=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color"),e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,i)}),0),V.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=V((function(){e.animationStart=!1}),10))},t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}},e.renderWave=function(t){t=t.csp;var n=e.props.children;return e.csp=t,s.isValidElement(n)?(t=e.containerRef,W(n,{ref:t=P(n)?E(n.ref,e.containerRef):t})):n},e}return(0,h.Z)(n,[{key:"componentDidMount",value:function(){var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t,n,i=this;e&&e!==this.extraNode&&e instanceof Element&&(t=this.props.insertExtraNode,n=this.getAttributeName(),e.setAttribute(n,"false"),U&&(U.innerHTML=""),t&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(t){e.removeEventListener("".concat(t,"start"),i.onTransitionStart),e.removeEventListener("".concat(t,"end"),i.onTransitionEnd)})))}},{key:"render",value:function(){return s.createElement(S,null,this.renderWave)}}]),n}(s.Component),J=ne=(Y.contextType=w,s.createContext(void 0)),K=n(8544);function Q(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}t=(0,(f=n(1223)).Z)(),ne="undefined"!=typeof window?window:{},ie={animationend:Q("Animation","AnimationEnd"),transitionend:Q("Transition","TransitionEnd")},t&&("AnimationEvent"in ne||delete ie.animationend.animation,"TransitionEvent"in ne||delete ie.transitionend.transition);var q=ie,$={},ee=((0,f.Z)()&&($=document.createElement("div").style),{});function te(e){if(ee[e])return ee[e];var t=q[e];if(t)for(var n=Object.keys(t),i=n.length,r=0;r<i;r+=1){var o=n[r];if(Object.prototype.hasOwnProperty.call(t,o)&&o in $)return ee[e]=t[o],ee[e]}return""}t=te("animationend");var ne=te("transitionend"),ie=!(!t||!ne),re=t||"animationend",oe=ne||"transitionend";function ae(e,t){return e?"object"===(0,a.Z)(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var se="none",le="appear",ue="enter",ce="leave",he="prepare",de="start",pe="active",fe="end";function ge(e){var t=s.useRef(!1),n=(e=s.useState(e),(e=(0,o.Z)(e,2))[0]),i=e[1];return s.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[n,function(e,n){n&&t.current||i(e)}]}var me=(0,f.Z)()?s.useLayoutEffect:s.useEffect,ye=[he,de,pe,fe];function ve(e){return e===pe||e===fe}var xe=function(e,t){var n=ge("none"),i=(n=(0,o.Z)(n,2))[0],r=n[1],a=(n=function(){var e=s.useRef(null);function t(){z.cancel(e.current)}return s.useEffect((function(){return function(){t()}}),[]),[function n(i){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,o=(t(),z((function(){r<=1?i({isCanceled:function(){return o!==e.current}}):n(i,r-1)})));e.current=o},t]}(),(n=(0,o.Z)(n,2))[0]),l=n[1];return me((function(){var e,n,o;"none"!==i&&i!==fe&&(e=ye.indexOf(i),n=ye[e+1],false===(o=t(i))?r(n,!0):a((function(e){function t(){e.isCanceled()||r(n,!0)}!0===o?t():Promise.resolve(o).then(t)})))}),[e,i]),s.useEffect((function(){return function(){l()}}),[]),[function(){r(he,!0)},i]},_e=function(e){(0,d.Z)(n,e);var t=(0,p.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(s.Component);be=t=ie,"object"===(0,a.Z)(t)&&(be=t.transitionSupport),(t=s.forwardRef((function(e,t){var n=void 0===(n=e.visible)||n,i=void 0===(i=e.removeOnLeave)||i,a=e.forceRender,c=e.children,h=e.motionName,d=e.leavedClassName,p=e.eventProps,f=Se(e),g=(0,s.useRef)(),m=(0,s.useRef)();y=f,v=n,x=function(){try{return g.current instanceof HTMLElement?g.current:(e=m.current)instanceof HTMLElement?e:K.findDOMNode(e)}catch(e){return null}var e},_=void 0===($=(f=e).motionEnter)||$,b=void 0===($=f.motionAppear)||$,w=void 0===($=f.motionLeave)||$,S=f.motionDeadline,A=f.motionLeaveImmediately,M=f.onAppearPrepare,C=f.onEnterPrepare,T=f.onLeavePrepare,I=f.onAppearStart,k=f.onEnterStart,D=f.onLeaveStart,E=f.onAppearActive,L=f.onEnterActive,R=f.onLeaveActive,O=f.onAppearEnd,F=f.onEnterEnd,N=f.onLeaveEnd,z=f.onVisibleChanged,$=ge(),G=(f=(0,o.Z)($,2))[0],H=f[1],$=ge(se),V=(f=(0,o.Z)($,2))[0],U=f[1],$=ge(null),$=(f=(0,o.Z)($,2))[0],Z=f[1],W=(0,s.useRef)(!1),j=(0,s.useRef)(null),X=(0,s.useRef)(!1),f=function(e){var t=(0,s.useRef)(),n=(0,s.useRef)(e),i=(n.current=e,s.useCallback((function(e){n.current(e)}),[]));function r(e){e&&(e.removeEventListener(oe,i),e.removeEventListener(re,i))}return s.useEffect((function(){return function(){r(t.current)}}),[]),[function(e){t.current&&t.current!==e&&r(t.current),e&&e!==t.current&&(e.addEventListener(oe,i),e.addEventListener(re,i),t.current=e)},r]}(ne),Y=(0,o.Z)(f,1)[0],J=s.useMemo((function(){var e;switch(V){case le:return(0,r.Z)(e={},he,M),(0,r.Z)(e,de,I),(0,r.Z)(e,pe,E),e;case ue:return(0,r.Z)(e={},he,C),(0,r.Z)(e,de,k),(0,r.Z)(e,pe,L),e;case ce:return(0,r.Z)(e={},he,T),(0,r.Z)(e,de,D),(0,r.Z)(e,pe,R),e;default:return{}}}),[V]),f=xe(V,(function(e){return e===he?!!(e=J[he])&&e(x()):(q in J&&Z((null==(e=J[q])?void 0:e.call(J,x(),null))||null),q===pe&&(Y(x()),0<S&&(clearTimeout(j.current),j.current=setTimeout((function(){ne({deadline:!0})}),S))),true)})),Q=(f=(0,o.Z)(f,2))[0],f=ve(q=f[1]),X.current=f,me((function(){H(v);var e,t=W.current;W.current=!0,y&&(!t&&v&&b&&(e=le),t&&v&&_&&(e=ue),(e=t&&!v&&w||!t&&A&&!v&&w?ce:e)&&(U(e),Q()))}),[v]),(0,s.useEffect)((function(){(V===le&&!b||V===ue&&!_||V===ce&&!w)&&U(se)}),[b,_,w]),(0,s.useEffect)((function(){return function(){W.current=!1,clearTimeout(j.current)}}),[]),(0,s.useEffect)((function(){void 0!==G&&V===se&&null!=z&&z(G)}),[G,V]),f=$,J[he]&&q===de&&(f=(0,u.Z)({transition:"none"},f));var y,v,x,_,b,w,S,A,M,C,T,I,k,D,E,L,R,O,F,N,z,G,H,V,U,Z,W,j,X,Y,J,Q,q,$=[V,q,f,null!=G?G:v],ee=($=(f=(0,o.Z)($,4))[0],f[1]),te=f[2];f=f[3];function ne(e){var t,n,i=x();e&&!e.deadline&&e.target!==i||(t=X.current,V===le&&t?n=null==O?void 0:O(i,e):V===ue&&t?n=null==F?void 0:F(i,e):V===ce&&t&&(n=null==N?void 0:N(i,e)),V!==se&&t&&!1!==n&&(U(se,!0),Z(null,!0)))}var ie,fe=s.useRef(f),ye=(f&&(fe.current=!0),s.useCallback((function(e){g.current=e,B(t,e)}),[t]));p=(0,u.Z)((0,u.Z)({},p),{},{visible:n}),e=c?$!==se&&Se(e)?(ee===he?ie="prepare":ve(ee)?ie="active":ee===de&&(ie="start"),c((0,u.Z)((0,u.Z)({},p),{},{className:l()(ae(h,$),((0,r.Z)(n={},ae(h,"".concat($,"-").concat(ie)),ie),(0,r.Z)(n,h,"string"==typeof h),n)),style:te}),ye)):f?c((0,u.Z)({},p),ye):!i&&fe.current?c((0,u.Z)((0,u.Z)({},p),{},{className:d}),ye):a?c((0,u.Z)((0,u.Z)({},p),{},{style:{display:"none"}}),ye):null:null;return s.isValidElement(e)&&P(e)&&(e.ref||(e=s.cloneElement(e,{ref:ye}))),s.createElement(_e,{ref:m},e)}))).displayName="CSSMotion";var be,we=t;function Se(e){return!(!e.motionName||!be)}var Ae=n(4925),Me="add",Ce="keep",Te="remove",Ie="removed";function ke(e){return e=e&&"object"===(0,a.Z)(e)&&"key"in e?e:{key:e},(0,u.Z)((0,u.Z)({},e),{},{key:String(e.key)})}function De(e){return(0<arguments.length&&void 0!==e?e:[]).map(ke)}var Be=["component","children","onVisibleChanged","onAllRemoved"],Ee=["status"],Pe=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function Le(e,t){return s.createElement(Ge.Z,(0,u.Z)((0,u.Z)({},e),{},{ref:t,icon:ze}))}function Re(){return{width:0,opacity:0,transform:"scale(0)"}}function Oe(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}}function Fe(e){var t=e.prefixCls,n=!!e.loading;return e.existIcon?s.createElement("span",{className:"".concat(t,"-loading-icon")},s.createElement(He,null)):s.createElement(Ne,{visible:n,motionName:"".concat(t,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:Re,onAppearActive:Oe,onEnterStart:Re,onEnterActive:Oe,onLeaveStart:Oe,onLeaveActive:Re},(function(e,n){var i=e.className;e=e.style;return s.createElement("span",{className:"".concat(t,"-loading-icon"),style:e,ref:n},s.createElement(He,{className:i}))}))}!function(e,t){var n=1<arguments.length&&void 0!==t?t:we;t=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){var e;(0,c.Z)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={keyEntities:[]},e.removeKey=function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:(0,u.Z)((0,u.Z)({},e),{},{status:Ie})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==Ie})).length},e}return(0,h.Z)(r,[{key:"render",value:function(){var e=this,t=this.state.keyEntities,r=(c=this.props).component,o=c.children,a=c.onVisibleChanged,l=c.onAllRemoved,u=(0,Ae.Z)(c,Be),c=r||s.Fragment,h={};return Pe.forEach((function(e){h[e]=u[e],delete u[e]})),delete u.keys,s.createElement(c,u,t.map((function(t){var r=t.status,u=(0,Ae.Z)(t,Ee);return s.createElement(n,(0,i.Z)({},h,{key:u.key,visible:r===Me||r===Ce,eventProps:u,onVisibleChanged:function(t){null!=a&&a(t,{key:u.key}),t||0===e.removeKey(u.key)&&l&&l()}}),o)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){e=e.keys;var n=t.keyEntities;t=De(e);return{keyEntities:function(e,t){e=0<arguments.length&&void 0!==e?e:[];var n=[],i=0,r=(t=1<arguments.length&&void 0!==t?t:[]).length,o=(e=De(e),De(t)),a=(e.forEach((function(e){for(var t=!1,a=i;a<r;a+=1){var s=o[a];if(s.key===e.key){i<a&&(n=n.concat(o.slice(i,a).map((function(e){return(0,u.Z)((0,u.Z)({},e),{},{status:Me})}))),i=a),n.push((0,u.Z)((0,u.Z)({},s),{},{status:Ce})),i+=1,t=!0;break}}t||n.push((0,u.Z)((0,u.Z)({},e),{},{status:Te}))})),i<r&&(n=n.concat(o.slice(i).map((function(e){return(0,u.Z)((0,u.Z)({},e),{},{status:Me})})))),{});return n.forEach((function(e){e=e.key,a[e]=(a[e]||0)+1})),Object.keys(a).filter((function(e){return 1<a[e]})).forEach((function(e){(n=n.filter((function(t){var n=t.key;t=t.status;return n!==e||t!==Te}))).forEach((function(t){t.key===e&&(t.status=Ce)}))})),n}(n,t).filter((function(e){var t=n.find((function(t){return t=t.key,e.key===t}));return!t||t.status!==Ie||e.status!==Te}))}}}]),r}(s.Component);t.defaultProps={component:"div"}}(ie);var Ne=we,ze={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},Ge=n(3647),He=(Le.displayName="LoadingOutlined",s.forwardRef(Le)),Ve=(ne=/^[\u4e00-\u9fa5]{2}$/).test.bind(ne);function Ue(e){return"text"===e||"link"===e}X("default","primary","ghost","dashed","link","text"),X("default","circle","round"),X("submit","button","reset"),f=s.forwardRef((function(e,t){function n(){return 1===s.Children.count(S)&&!M&&!Ue(y)}function c(t){var n=e.onClick,i=e.disabled;L||i?t.preventDefault():null!=n&&n(t)}var h,d,p,f,g=void 0!==(g=e.loading)&&g,m=e.prefixCls,y=void 0===(v=e.type)?"default":v,v=e.danger,x=void 0===(x=e.shape)?"default":x,_=e.size,b=e.className,S=e.children,M=e.icon,C=void 0!==(C=e.ghost)&&C,I=void 0!==(I=e.block)&&I,k=void 0===(k=e.htmlType)?"button":k,D=function(e,t){var n={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}(e,["loading","prefixCls","type","danger","shape","size","className","children","icon","ghost","block","htmlType"]),B=s.useContext(J),E=s.useContext(T),P=s.useState(!!g),L=(P=(0,o.Z)(P,2))[0],R=P[1],O=(P=s.useState(!1),(P=(0,o.Z)(P,2))[0]),F=P[1],N=(P=s.useContext(w)).getPrefixCls,z=P.autoInsertSpaceInButton,G=(P=P.direction,t||s.createRef()),H="object"===(0,a.Z)(g)&&g.delay?g.delay||!0:!!g;s.useEffect((function(){var e=null;return"number"==typeof H?e=window.setTimeout((function(){e=null,R(H)}),H):R(H),function(){e&&(window.clearTimeout(e),e=null)}}),[H]),s.useEffect((function(){var e;G&&G.current&&!1!==z&&(e=G.current.textContent,n()&&Ve(e)?O||F(!0):O&&F(!1))}),[G]),A(!("string"==typeof M&&2<M.length),"Button","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(M,"` at https://ant.design/components/icon")),A(!(C&&Ue(y)),"Button","`link` or `text` button can't be a `ghost` button."),t=N("btn",m),g=!1!==z,m=(N=E||_||B)&&{large:"lg",small:"sm",middle:void 0}[N]||"",E=L?"loading":M,B=l()(t,((0,r.Z)(_={},"".concat(t,"-").concat(x),"default"!==x&&x),(0,r.Z)(_,"".concat(t,"-").concat(y),y),(0,r.Z)(_,"".concat(t,"-").concat(m),m),(0,r.Z)(_,"".concat(t,"-icon-only"),!S&&0!==S&&!!E),(0,r.Z)(_,"".concat(t,"-background-ghost"),C&&!Ue(y)),(0,r.Z)(_,"".concat(t,"-loading"),L),(0,r.Z)(_,"".concat(t,"-two-chinese-chars"),O&&g),(0,r.Z)(_,"".concat(t,"-block"),I),(0,r.Z)(_,"".concat(t,"-dangerous"),!!v),(0,r.Z)(_,"".concat(t,"-rtl"),"rtl"===P),_),b),N=M&&!L?M:s.createElement(Fe,{existIcon:!!M,prefixCls:t,loading:!!L}),m=S||0===S?(x=S,h=n()&&g,d=!1,p=[],s.Children.forEach(x,(function(e){var t,n,i="string"===(i=(0,a.Z)(e))||"number"===i;d&&i?(t=p.length-1,n=p[t],p[t]="".concat(n).concat(e)):p.push(e),d=i})),s.Children.map(p,(function(e){return function(e,t){if(null!=e)return t=t?" ":"","string"!=typeof e&&"number"!=typeof e&&"string"==typeof e.type&&Ve(e.props.children)?W(e,{children:e.props.children.split("").join(t)}):"string"==typeof e?Ve(e)?s.createElement("span",null,e.split("").join(t)):s.createElement("span",null,e):(t=e,s.isValidElement(t)&&t.type===s.Fragment?s.createElement("span",null,e):e)}(e,h)}))):null,E=["navigate"],f=(0,u.Z)({},D),Array.isArray(E)&&E.forEach((function(e){delete f[e]})),C=f;return void 0!==C.href?s.createElement("a",(0,i.Z)({},C,{className:B,onClick:c,ref:G}),N,m):(I=s.createElement("button",(0,i.Z)({},D,{type:k,className:B,onClick:c,ref:G}),N,m),Ue(y)?I:s.createElement(Y,{disabled:!!L},I))})),f.displayName="Button",f.Group=function(e){var t=(n=s.useContext(w)).getPrefixCls,n=n.direction,o=e.prefixCls,a=e.size,u=e.className,c=(e=C(e,["prefixCls","size","className"]),t=t("btn-group",o),"");switch(a){case"large":c="lg";break;case"small":c="sm";break;case"middle":case void 0:break;default:A(!a,"Button.Group","Invalid prop `size`.")}return t=l()(t,((0,r.Z)(o={},"".concat(t,"-").concat(c),c),(0,r.Z)(o,"".concat(t,"-rtl"),"rtl"===n),o),u),s.createElement(T.Provider,{value:a},s.createElement("div",(0,i.Z)({},e,{className:t})))},f.__ANT_BUTTON=!0;var Ze=f},8546:function(e,t,n){"use strict";n.p,n.p},4758:function(e,t){var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o,a=typeof n;if("string"==a||"number"==a)e.push(n);else if(Array.isArray(n))!n.length||(o=r.apply(null,n))&&e.push(o);else if("object"==a)if(n.toString===Object.prototype.toString)for(var s in n)i.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?e.exports=r.default=r:void 0!==(n=function(){return r}.apply(t,[]))&&(e.exports=n)}()},1488:function(e){function t(e,t,n){var i,r,o,a,s;function l(){var u=Date.now()-a;u<t&&0<=u?i=setTimeout(l,t-u):(i=null,n||(s=e.apply(o,r),o=r=null))}function u(){o=this,r=arguments,a=Date.now();var u=n&&!i;return i=i||setTimeout(l,t),u&&(s=e.apply(o,r),o=r=null),s}return null==t&&(t=100),u.clear=function(){i&&(clearTimeout(i),i=null)},u.flush=function(){i&&(s=e.apply(o,r),o=r=null,clearTimeout(i),i=null)},u}e.exports=t.debounce=t},2188:function(e,t,n){"use strict";n.d(t,{Z:function(){return MJ}});var i={},r=(n.r(i),n.d(i,{HashMap:function(){return Be},RADIAN_TO_DEGREE:function(){return ze},assert:function(){return Ce},bind:function(){return ae},clone:function(){return Z},concatArray:function(){return Le},createCanvas:function(){return J},createHashMap:function(){return Pe},createObject:function(){return Re},curry:function(){return se},defaults:function(){return Y},disableUserSelect:function(){return Oe},each:function(){return ee},eqNaN:function(){return _e},extend:function(){return X},filter:function(){return ie},find:function(){return re},guid:function(){return V},hasOwn:function(){return Fe},indexOf:function(){return K},inherits:function(){return Q},isArray:function(){return le},isArrayLike:function(){return $},isBuiltInObject:function(){return fe},isDom:function(){return me},isFunction:function(){return ue},isGradientObject:function(){return ye},isImagePatternObject:function(){return ve},isNumber:function(){return de},isObject:function(){return pe},isPrimitive:function(){return De},isRegExp:function(){return xe},isString:function(){return ce},isStringSafe:function(){return he},isTypedArray:function(){return ge},keys:function(){return oe},logError:function(){return U},map:function(){return te},merge:function(){return W},mergeAll:function(){return j},mixin:function(){return q},noop:function(){return Ne},normalizeCssArray:function(){return Me},reduce:function(){return ne},retrieve:function(){return be},retrieve2:function(){return we},retrieve3:function(){return Se},setAsPrimitive:function(){return ke},slice:function(){return Ae},trim:function(){return Te}}),{}),o=(n.r(r),n.d(r,{add:function(){return je},applyTransform:function(){return ct},clone:function(){return Ze},copy:function(){return Ue},create:function(){return Ve},dist:function(){return ot},distSquare:function(){return st},distance:function(){return rt},distanceSquare:function(){return at},div:function(){return et},dot:function(){return tt},len:function(){return Je},lenSquare:function(){return Qe},length:function(){return Ke},lengthSquare:function(){return qe},lerp:function(){return ut},max:function(){return dt},min:function(){return ht},mul:function(){return $e},negate:function(){return lt},normalize:function(){return it},scale:function(){return nt},scaleAndAdd:function(){return Xe},set:function(){return We},sub:function(){return Ye}}),{}),a=(n.r(o),n.d(o,{fastLerp:function(){return ti},fastMapToColor:function(){return ni},lerp:function(){return ii},lift:function(){return $n},lum:function(){return li},mapToColor:function(){return ri},modifyAlpha:function(){return ai},modifyHSL:function(){return oi},parse:function(){return Qn},random:function(){return ui},stringify:function(){return si},toHex:function(){return ei}}),{}),s=(n.r(a),n.d(a,{clone:function(){return mr},copy:function(){return cr},create:function(){return lr},identity:function(){return ur},invert:function(){return gr},mul:function(){return hr},rotate:function(){return pr},scale:function(){return fr},translate:function(){return dr}}),{}),l=(n.r(s),n.d(s,{dispose:function(){return po},disposeAll:function(){return fo},getInstance:function(){return go},init:function(){return ho},registerPainter:function(){return mo},version:function(){return yo}}),{}),u=(n.r(l),n.d(l,{Arc:function(){return om},BezierCurve:function(){return tm},BoundingRect:function(){return zr},Circle:function(){return ug},CompoundPath:function(){return lm},Ellipse:function(){return pg},Group:function(){return ao},Image:function(){return Qs},IncrementalDisplayable:function(){return Am},Line:function(){return Jg},LinearGradient:function(){return dm},OrientedBoundingRect:function(){return bm},Path:function(){return Us},Point:function(){return kr},Polygon:function(){return Gg},Polyline:function(){return Zg},RadialGradient:function(){return fm},Rect:function(){return sl},Ring:function(){return Lg},Sector:function(){return Bg},Text:function(){return Ml},applyTransform:function(){return Hm},clipPointsByRect:function(){return Wm},clipRectByRect:function(){return jm},createIcon:function(){return Xm},extendPath:function(){return km},extendShape:function(){return Im},getShapeClass:function(){return Bm},getTransform:function(){return Gm},groupTransition:function(){return Zm},initProps:function(){return Tu},isElementRemoved:function(){return Iu},lineLineIntersect:function(){return Jm},linePolygonIntersect:function(){return Ym},makeImage:function(){return Pm},makePath:function(){return Em},mergePath:function(){return Rm},registerShape:function(){return Dm},removeElement:function(){return ku},removeElementWithFadeOut:function(){return Bu},resizePath:function(){return Om},setTooltipConfig:function(){return Km},subPixelOptimize:function(){return zm},subPixelOptimizeLine:function(){return Fm},subPixelOptimizeRect:function(){return Nm},transformDirection:function(){return Vm},traverseElements:function(){return qm},updateProps:function(){return Cu}}),{}),c=(n.r(u),n.d(u,{createDimensions:function(){return Z_},createList:function(){return cw},createScale:function(){return dw},createSymbol:function(){return lv},createTextStyle:function(){return fw},dataStack:function(){return hw},enableHoverEmphasis:function(){return pu},getECData:function(){return Cl},getLayoutRect:function(){return hh},mixinAxisModelCommonMethods:function(){return pw}}),{}),h=(n.r(c),n.d(c,{MAX_SAFE_INTEGER:function(){return To},asc:function(){return wo},getPercentWithPrecision:function(){return Co},getPixelPrecision:function(){return Mo},getPrecision:function(){return So},getPrecisionSafe:function(){return Ao},isNumeric:function(){return No},isRadianAroundZero:function(){return ko},linearMap:function(){return xo},nice:function(){return Lo},numericToNumber:function(){return Fo},parseDate:function(){return Bo},quantile:function(){return Ro},quantity:function(){return Eo},quantityExponent:function(){return Po},reformIntervals:function(){return Oo},remRadian:function(){return Io},round:function(){return bo}}),{}),d=(n.r(h),n.d(h,{format:function(){return kc},parse:function(){return Bo}}),{}),p=(n.r(d),n.d(d,{Arc:function(){return om},BezierCurve:function(){return tm},BoundingRect:function(){return zr},Circle:function(){return ug},CompoundPath:function(){return lm},Ellipse:function(){return pg},Group:function(){return ao},Image:function(){return Qs},IncrementalDisplayable:function(){return Am},Line:function(){return Jg},LinearGradient:function(){return dm},Polygon:function(){return Gg},Polyline:function(){return Zg},RadialGradient:function(){return fm},Rect:function(){return sl},Ring:function(){return Lg},Sector:function(){return Bg},Text:function(){return Ml},clipPointsByRect:function(){return Wm},clipRectByRect:function(){return jm},createIcon:function(){return Xm},extendPath:function(){return km},extendShape:function(){return Im},getShapeClass:function(){return Bm},getTransform:function(){return Gm},initProps:function(){return Tu},makeImage:function(){return Pm},makePath:function(){return Em},mergePath:function(){return Rm},registerShape:function(){return Dm},resizePath:function(){return Om},updateProps:function(){return Cu}}),{}),f=(n.r(p),n.d(p,{addCommas:function(){return Wc},capitalFirst:function(){return ih},encodeHTML:function(){return Kc},formatTime:function(){return nh},formatTpl:function(){return eh},getTextRect:function(){return Ew},getTooltipMarker:function(){return th},normalizeCssArray:function(){return Xc},toCamelCase:function(){return jc},truncateText:function(){return Ta}}),{}),g=(n.r(f),n.d(f,{bind:function(){return ae},clone:function(){return Z},curry:function(){return se},defaults:function(){return Y},each:function(){return ee},extend:function(){return X},filter:function(){return ie},indexOf:function(){return K},inherits:function(){return Q},isArray:function(){return le},isFunction:function(){return ue},isObject:function(){return pe},isString:function(){return ce},map:function(){return te},merge:function(){return W},reduce:function(){return ne}}),{}),m=(n.r(g),n.d(g,{Axis:function(){return Uw},ChartView:function(){return sy},ComponentModel:function(){return Mh},ComponentView:function(){return Rf},List:function(){return U_},Model:function(){return ac},PRIORITY:function(){return Hv},SeriesModel:function(){return Pf},color:function(){return o},connect:function(){return Gx},dataTool:function(){return c_},dependencies:function(){return Gv},disConnect:function(){return Hx},disconnect:function(){return Vx},dispose:function(){return Ux},env:function(){return A},extendChartView:function(){return Xw},extendComponentModel:function(){return Zw},extendComponentView:function(){return Ww},extendSeriesModel:function(){return jw},format:function(){return p},getCoordinateSystemDimensions:function(){return e_},getInstanceByDom:function(){return Zx},getInstanceById:function(){return Wx},getMap:function(){return l_},graphic:function(){return d},helper:function(){return u},init:function(){return zx},innerDrawElementOnCanvas:function(){return kv},matrix:function(){return a},number:function(){return c},parseGeoJSON:function(){return Bw},parseGeoJson:function(){return Bw},registerAction:function(){return qx},registerCoordinateSystem:function(){return $x},registerLayout:function(){return t_},registerLoading:function(){return o_},registerLocale:function(){return mc},registerMap:function(){return s_},registerPostInit:function(){return Jx},registerPostUpdate:function(){return Kx},registerPreprocessor:function(){return Xx},registerProcessor:function(){return Yx},registerTheme:function(){return jx},registerTransform:function(){return u_},registerUpdateLifecycle:function(){return Qx},registerVisual:function(){return n_},setCanvasCreator:function(){return a_},setPlatformAPI:function(){return k},throttle:function(){return hy},time:function(){return h},use:function(){return p_},util:function(){return f},vector:function(){return r},version:function(){return zv},zrUtil:function(){return i},zrender:function(){return s}}),function(e,t){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)});function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var v=function(){return(v=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.create,Object.create;var x=function(e,t){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}x(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create,Object.create;var b=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1};t=new function(){this.browser=new b,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!=typeof window};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(t.wxa=!0,t.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?t.worker=!0:"undefined"==typeof navigator?(t.node=!0,t.svgSupported=!0):(z=navigator.userAgent,xr=(ar=t).browser,Gi=z.match(/Firefox\/([\d.]+)/),P=z.match(/MSIE\s([\d.]+)/)||z.match(/Trident\/.+?rv:(([\d.]+))/),N=z.match(/Edge?\/([\d.]+)/),z=/micromessenger/i.test(z),Gi&&(xr.firefox=!0,xr.version=Gi[1]),P&&(xr.ie=!0,xr.version=P[1]),N&&(xr.edge=!0,xr.version=N[1],xr.newEdge=18<+N[1].split(".")[0]),z&&(xr.weChat=!0),ar.svgSupported="undefined"!=typeof SVGRect,ar.touchEventsSupported="ontouchstart"in window&&!xr.ie&&!xr.edge,ar.pointerEventsSupported="onpointerdown"in window&&(xr.edge||xr.ie&&11<=+xr.version),ar.domSupported="undefined"!=typeof document,Gi=document.documentElement.style,ar.transform3dSupported=(xr.ie&&"transition"in Gi||xr.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in Gi)&&!("OTransition"in Gi),ar.transformSupported=ar.transform3dSupported||xr.ie&&9<=+xr.version);var w,S,A=t,M="sans-serif",C="12px "+M,T=function(e){var t={};if("undefined"==typeof JSON)return t;for(var n=0;n<e.length;n++){var i=String.fromCharCode(n+32),r=(e.charCodeAt(n)-20)/100;t[i]=r}return t}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),I={createCanvas:function(){return"undefined"!=typeof document&&document.createElement("canvas")},measureText:function(e,t){if(w||(n=I.createCanvas(),w=n&&n.getContext("2d")),w)return S!==t&&(S=w.font=t||C),w.measureText(e);e=e||"";var n=/^([0-9]*?)px$/.exec(t=t||C),i=+(n&&n[1])||12,r=0;if(0<=t.indexOf("mono"))r=i*e.length;else for(var o=0;o<e.length;o++){var a=T[e[o]];r+=null==a?i:a*i}return{width:r}},loadImage:function(e,t,n){var i=new Image;return i.onload=t,i.onerror=n,i.src=e,i}};function k(e){for(var t in I)e[t]&&(I[t]=e[t])}var D=ne(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],(function(e,t){return e["[object "+t+"]"]=!0,e}),{}),B=ne(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],(function(e,t){return e["[object "+t+"Array]"]=!0,e}),{}),E=Object.prototype.toString,P=Array.prototype,L=P.forEach,R=P.filter,O=P.slice,F=P.map,N=function(){}.constructor,z=N?N.prototype:null,G="__proto__",H=2311;function V(){return H++}function U(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}function Z(e){if(null==e||"object"!=typeof e)return e;var t=e,n=E.call(e);if("[object Array]"===n){if(!De(e)){t=[];for(var i=0,r=e.length;i<r;i++)t[i]=Z(e[i])}}else if(B[n]){if(!De(e)){var o=e.constructor;if(o.from)t=o.from(e);else for(t=new o(e.length),i=0,r=e.length;i<r;i++)t[i]=e[i]}}else if(!D[n]&&!De(e)&&!me(e))for(var a in t={},e)e.hasOwnProperty(a)&&a!==G&&(t[a]=Z(e[a]));return t}function W(e,t,n){if(!pe(t)||!pe(e))return n?Z(t):e;for(var i in t){var r,o;t.hasOwnProperty(i)&&i!==G&&(r=e[i],!pe(o=t[i])||!pe(r)||le(o)||le(r)||me(o)||me(r)||fe(o)||fe(r)||De(o)||De(r)?!n&&i in e||(e[i]=Z(t[i])):W(r,o,n))}return e}function j(e,t){for(var n=e[0],i=1,r=e.length;i<r;i++)n=W(n,e[i],t);return n}function X(e,t){if(Object.assign)Object.assign(e,t);else for(var n in t)t.hasOwnProperty(n)&&n!==G&&(e[n]=t[n]);return e}function Y(e,t,n){for(var i=oe(t),r=0;r<i.length;r++){var o=i[r];(n?null!=t[o]:null==e[o])&&(e[o]=t[o])}return e}var J=I.createCanvas;function K(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n}return-1}function Q(e,t){var n,i=e.prototype;function r(){}for(n in r.prototype=t.prototype,e.prototype=new r,i)i.hasOwnProperty(n)&&(e.prototype[n]=i[n]);(e.prototype.constructor=e).superClass=t}function q(e,t,n){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var o=i[r];"constructor"!==o&&(n?null!=t[o]:null==e[o])&&(e[o]=t[o])}else Y(e,t,n)}function $(e){return!!e&&"string"!=typeof e&&"number"==typeof e.length}function ee(e,t,n){if(e&&t)if(e.forEach&&e.forEach===L)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e);else for(var o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e)}function te(e,t,n){if(!e)return[];if(!t)return Ae(e);if(e.map&&e.map===F)return e.map(t,n);for(var i=[],r=0,o=e.length;r<o;r++)i.push(t.call(n,e[r],r,e));return i}function ne(e,t,n,i){if(e&&t){for(var r=0,o=e.length;r<o;r++)n=t.call(i,n,e[r],r,e);return n}}function ie(e,t,n){if(!e)return[];if(!t)return Ae(e);if(e.filter&&e.filter===R)return e.filter(t,n);for(var i=[],r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)&&i.push(e[r]);return i}function re(e,t,n){if(e&&t)for(var i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e))return e[i]}function oe(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n}var ae=z&&ue(z.bind)?z.call.bind(z.bind):function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return function(){return e.apply(t,n.concat(O.call(arguments)))}};function se(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(this,t.concat(O.call(arguments)))}}function le(e){return Array.isArray?Array.isArray(e):"[object Array]"===E.call(e)}function ue(e){return"function"==typeof e}function ce(e){return"string"==typeof e}function he(e){return"[object String]"===E.call(e)}function de(e){return"number"==typeof e}function pe(e){var t=typeof e;return"function"==t||!!e&&"object"==t}function fe(e){return!!D[E.call(e)]}function ge(e){return!!B[E.call(e)]}function me(e){return"object"==typeof e&&"number"==typeof e.nodeType&&"object"==typeof e.ownerDocument}function ye(e){return null!=e.colorStops}function ve(e){return null!=e.image}function xe(e){return"[object RegExp]"===E.call(e)}function _e(e){return e!=e}function be(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,i=e.length;n<i;n++)if(null!=e[n])return e[n]}function we(e,t){return null!=e?e:t}function Se(e,t,n){return null!=e?e:null!=t?t:n}function Ae(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return O.apply(e,t)}function Me(e){if("number"==typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function Ce(e,t){if(!e)throw new Error(t)}function Te(e){return null==e?null:"function"==typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Ie="__ec_primitive__";function ke(e){e[Ie]=!0}function De(e){return e[Ie]}Ee.prototype.get=function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},Ee.prototype.set=function(e,t){return this.data[e]=t},Ee.prototype.each=function(e,t){for(var n in this.data)this.data.hasOwnProperty(n)&&e.call(t,this.data[n],n)},Ee.prototype.keys=function(){return oe(this.data)},Ee.prototype.removeKey=function(e){delete this.data[e]};var Be=Ee;function Ee(e){this.data={};var t=le(e),n=(this.data={},this);function i(e,i){t?n.set(e,i):n.set(i,e)}e instanceof Ee?e.each(i):e&&ee(e,i)}function Pe(e){return new Be(e)}function Le(e,t){for(var n=new e.constructor(e.length+t.length),i=0;i<e.length;i++)n[i]=e[i];var r=e.length;for(i=0;i<t.length;i++)n[i+r]=t[i];return n}function Re(e,t){var n;e=Object.create?Object.create(e):((n=function(){}).prototype=e,new n);return t&&X(e,t),e}function Oe(e){(e=e.style).webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function Fe(e,t){return e.hasOwnProperty(t)}function Ne(){}var ze=180/Math.PI,Ge=function(e,t){return(Ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function He(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ge(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Ve(e,t){return[e=null==e?0:e,t=null==t?0:t]}function Ue(e,t){return e[0]=t[0],e[1]=t[1],e}function Ze(e){return[e[0],e[1]]}function We(e,t,n){return e[0]=t,e[1]=n,e}function je(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function Xe(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e}function Ye(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function Je(e){return Math.sqrt(Qe(e))}Object.create,Object.create;var Ke=Je;function Qe(e){return e[0]*e[0]+e[1]*e[1]}var qe=Qe;function $e(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function et(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function tt(e,t){return e[0]*t[0]+e[1]*t[1]}function nt(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function it(e,t){var n=Je(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function rt(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var ot=rt;function at(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var st=at;function lt(e,t){return e[0]=-t[0],e[1]=-t[1],e}function ut(e,t,n,i){return e[0]=t[0]+i*(n[0]-t[0]),e[1]=t[1]+i*(n[1]-t[1]),e}function ct(e,t,n){var i=t[0];t=t[1];return e[0]=n[0]*i+n[2]*t+n[4],e[1]=n[1]*i+n[3]*t+n[5],e}function ht(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function dt(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}var pt=function(e,t){this.target=e,this.topTarget=t&&t.topTarget};function ft(e){(this.handler=e).on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}ft.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&((this._draggingTarget=t).dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new pt(t,e),"dragstart",e.event))},ft.prototype._drag=function(e){var t,n,i,r,o=this._draggingTarget;o&&(t=e.offsetX,n=e.offsetY,i=t-this._x,r=n-this._y,this._x=t,this._y=n,o.drift(i,r,e),this.handler.dispatchToElement(new pt(o,e),"drag",e.event),i=this.handler.findHover(t,n,o).target,r=this._dropTarget,o!==(this._dropTarget=i)&&(r&&i!==r&&this.handler.dispatchToElement(new pt(r,e),"dragleave",e.event),i&&i!==r&&this.handler.dispatchToElement(new pt(i,e),"dragenter",e.event)))},ft.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new pt(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new pt(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null};var gt=ft;function mt(e){e&&(this._$eventProcessor=e)}mt.prototype.on=function(e,t,n,i){this._$handlers||(this._$handlers={});var r=this._$handlers;if("function"==typeof t&&(i=n,n=t,t=null),!n||!e)return this;var o=this._$eventProcessor;null!=t&&o&&o.normalizeQuery&&(t=o.normalizeQuery(t)),r[e]||(r[e]=[]);for(var a=0;a<r[e].length;a++)if(r[e][a].h===n)return this;return o={h:n,query:t,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},t=r[e].length-1,(i=r[e][t])&&i.callAtLast?r[e].splice(t,0,o):r[e].push(o),this},mt.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},mt.prototype.off=function(e,t){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var i=[],r=0,o=n[e].length;r<o;r++)n[e][r].h!==t&&i.push(n[e][r]);n[e]=i}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this},mt.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],r=this._$eventProcessor;if(i)for(var o=t.length,a=i.length,s=0;s<a;s++){var l=i[s];if(!r||!r.filter||null==l.query||r.filter(e,l.query))switch(o){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,t[0]);break;case 2:l.h.call(l.ctx,t[0],t[1]);break;default:l.h.apply(l.ctx,t)}}return r&&r.afterTrigger&&r.afterTrigger(e),this},mt.prototype.triggerWithContext=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],r=this._$eventProcessor;if(i)for(var o=t.length,a=t[o-1],s=i.length,l=0;l<s;l++){var u=i[l];if(!r||!r.filter||null==u.query||r.filter(e,u.query))switch(o){case 0:u.h.call(a);break;case 1:u.h.call(a,t[0]);break;case 2:u.h.call(a,t[0],t[1]);break;default:u.h.apply(a,t.slice(1,o-1))}}return r&&r.afterTrigger&&r.afterTrigger(e),this};var yt=mt,vt=Math.log(2);function xt(e,t,n,i,r,o){var a,s=i+"-"+r,l=e.length;if(o.hasOwnProperty(s))return o[s];if(1===t)return a=Math.round(Math.log((1<<l)-1&~r)/vt),e[n][a];for(var u=i|1<<n,c=n+1;i&1<<c;)c++;for(var h=0,d=0,p=0;d<l;d++){var f=1<<d;f&r||(h+=(p%2?-1:1)*e[n][d]*xt(e,t-1,c,u,r|f,o),p++)}return o[s]=h}function _t(e,t){var n=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],i={},r=xt(n,8,0,0,0,i);if(0!==r){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)null==o[s]&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*xt(n,7,0===a?1:0,1<<a,1<<s,i)/r*t[a];return function(e,t,n){var i=t*o[6]+n*o[7]+1;e[0]=(t*o[0]+n*o[1]+o[2])/i,e[1]=(t*o[3]+n*o[4]+o[5])/i}}}var bt="___zrEVENTSAVED",wt=[];function St(e,t,n,i,r){if(t.getBoundingClientRect&&A.domSupported&&!At(t)){var o=t[bt]||(t[bt]={});t=function(e,t,n){for(var i=n?"invTrans":"trans",r=t[i],o=t.srcCoords,a=[],s=[],l=!0,u=0;u<4;u++){var c=2*u,h=(d=e[u].getBoundingClientRect()).left,d=d.top;a.push(h,d),l=l&&o&&h===o[c]&&d===o[1+c],s.push(e[u].offsetLeft,e[u].offsetTop)}return l&&r?r:(t.srcCoords=a,t[i]=n?_t(s,a):_t(a,s))}(function(e,t){var n=t.markers;if(n)return n;n=t.markers=[];for(var i=["left","right"],r=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),s=o%2,l=(o>>1)%2;a.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[s]+":0",r[l]+":0",i[1-s]+":auto",r[1-l]+":auto",""].join("!important;"),e.appendChild(a),n.push(a)}return n}(t,o),o,r);if(t)return t(e,n,i),!0}return!1}function At(e){return"CANVAS"===e.nodeName.toUpperCase()}var Mt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ct=[],Tt=A.browser.firefox&&+A.browser.version.split(".")[0]<39;function It(e,t,n,i){return n=n||{},i?kt(e,t,n):Tt&&null!=t.layerX&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):null!=t.offsetX?(n.zrX=t.offsetX,n.zrY=t.offsetY):kt(e,t,n),n}function kt(e,t,n){if(A.domSupported&&e.getBoundingClientRect){var i,r=t.clientX;t=t.clientY;if(At(e))return i=e.getBoundingClientRect(),n.zrX=r-i.left,void(n.zrY=t-i.top);if(St(Ct,e,r,t))return n.zrX=Ct[0],void(n.zrY=Ct[1])}n.zrX=n.zrY=0}function Dt(e){return e||window.event}function Bt(e,t,n){if(null!=(t=Dt(t)).zrX)return t;var i=t.type;i&&0<=i.indexOf("touch")?(i=("touchend"!==i?t.targetTouches:t.changedTouches)[0])&&It(e,i,t,n):(It(e,t,t,n),i=function(e){var t=e.wheelDelta;if(t)return t;var n=e.deltaX;e=e.deltaY;return null!=n&&null!=e?3*(0!==e?Math.abs(e):Math.abs(n))*(0<e||!(e<0)&&0<n?-1:1):t}(t),t.zrDelta=i?i/120:-(t.detail||0)/3),e=t.button;return null==t.which&&void 0!==e&&Mt.test(t.type)&&(t.which=1&e?1:2&e?3:4&e?2:0),t}function Et(e,t,n,i){e.addEventListener(t,n,i)}var Pt=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0};function Lt(e){return 2===e.which||3===e.which}Ot.prototype.recognize=function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},Ot.prototype.clear=function(){return this._track.length=0,this},Ot.prototype._doTrack=function(e,t,n){var i=e.touches;if(i){for(var r={points:[],touches:[],target:t,event:e},o=0,a=i.length;o<a;o++){var s=i[o],l=It(n,s,{});r.points.push([l.zrX,l.zrY]),r.touches.push(s)}this._track.push(r)}},Ot.prototype._recognize=function(e){for(var t in Nt)if(Nt.hasOwnProperty(t)&&(t=Nt[t](this._track,e)))return t};var Rt=Ot;function Ot(){this._track=[]}function Ft(e){var t=e[1][0]-e[0][0];e=e[1][1]-e[0][1];return Math.sqrt(t*t+e*e)}var Nt={pinch:function(e,t){var n,i=e.length;if(i)return n=(e[i-1]||{}).points,(i=(e[i-2]||{}).points||n)&&1<i.length&&n&&1<n.length?(i=Ft(n)/Ft(i),isFinite(i)||(i=1),t.pinchScale=i,i=[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2],t.pinchX=i[0],t.pinchY=i[1],{type:"pinch",target:e[0].target,event:t}):void 0}};function zt(){Pt(this.event)}He(Vt,Gt=yt),Vt.prototype.dispose=function(){},Vt.prototype.setCursor=function(){};var Gt,Ht=Vt;function Vt(){var e=null!==Gt&&Gt.apply(this,arguments)||this;return e.handler=null,e}var Ut,Zt=function(e,t){this.x=e,this.y=t},Wt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],jt=(He(Xt,Ut=yt),Xt.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(ee(Wt,(function(t){e.on&&e.on(t,this[t],this)}),this),e.handler=this),this.proxy=e},Xt.prototype.mousemove=function(e){var t,n=Yt(this,o=e.zrX,t=e.zrY),i=this._hovered,r=i.target,o=(n=(r&&!r.__zr&&(r=(i=this.findHover(i.x,i.y)).target),this._hovered=n?new Zt(o,t):this.findHover(o,t))).target;(t=this.proxy).setCursor&&t.setCursor(o?o.cursor:"default"),r&&o!==r&&this.dispatchToElement(i,"mouseout",e),this.dispatchToElement(n,"mousemove",e),o&&o!==r&&this.dispatchToElement(n,"mouseover",e)},Xt.prototype.mouseout=function(e){var t=e.zrEventControl;"only_globalout"!==t&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==t&&this.trigger("globalout",{type:"globalout",event:e})},Xt.prototype.resize=function(){this._hovered=new Zt(0,0)},Xt.prototype.dispatch=function(e,t){(e=this[e])&&e.call(this,t)},Xt.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},Xt.prototype.setCursorStyle=function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},Xt.prototype.dispatchToElement=function(e,t,n){var i=(e=e||{}).target;if(!i||!i.silent){for(var r="on"+t,o={type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:zt};i&&(i[r]&&(o.cancelBubble=!!i[r].call(i,o)),i.trigger(t,o),i=i.__hostTarget||i.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(t,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(e){"function"==typeof e[r]&&e[r].call(e,o),e.trigger&&e.trigger(t,o)})))}},Xt.prototype.findHover=function(e,t,n){for(var i=this.storage.getDisplayList(),r=new Zt(e,t),o=i.length-1;0<=o;o--){var a=void 0;if(i[o]!==n&&!i[o].ignore&&(a=function(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var i=e,r=void 0,o=!1;i;){if(!(o=!!i.ignoreClip||o)){var a=i.getClipPath();if(a&&!a.contain(t,n))return!1;i.silent&&(r=!0)}i=(a=i.__hostTarget)||i.parent}return!r||"silent"}return!1}(i[o],e,t))&&(r.topTarget||(r.topTarget=i[o]),"silent"!==a)){r.target=i[o];break}}return r},Xt.prototype.processGesture=function(e,t){this._gestureMgr||(this._gestureMgr=new Rt);var n=this._gestureMgr,i=("start"===t&&n.clear(),n.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom));"end"===t&&n.clear(),i&&(t=i.type,e.gestureEvent=t,(n=new Zt).target=i.target,this.dispatchToElement(n,t,i.event))},Xt);function Xt(e,t,n,i){var r=Ut.call(this)||this;return r._hovered=new Zt(0,0),r.storage=e,r.painter=t,r.painterRoot=i,n=n||new Ht,r.proxy=null,r.setHandlerProxy(n),r._draggingMgr=new gt(r),r}function Yt(e,t,n){return e=e.painter,t<0||t>e.getWidth()||n<0||n>e.getHeight()}ee(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(e){jt.prototype[e]=function(t){var n,i,r=t.zrX,o=t.zrY,a=Yt(this,r,o);if("mouseup"===e&&a||(i=(n=this.findHover(r,o)).target),"mousedown"===e)this._downEl=i,this._downPoint=[t.zrX,t.zrY],this._upEl=i;else if("mouseup"===e)this._upEl=i;else if("click"===e){if(this._downEl!==this._upEl||!this._downPoint||4<ot(this._downPoint,[t.zrX,t.zrY]))return;this._downPoint=null}this.dispatchToElement(n,e,t)}}));var Jt=jt;function Kt(e,t,n,i){var r=t+1;if(r===n)return 1;if(i(e[r++],e[t])<0){for(;r<n&&i(e[r],e[r-1])<0;)r++;var o=e,a=t,s=r;for(s--;a<s;){var l=o[a];o[a++]=o[s],o[s--]=l}}else for(;r<n&&0<=i(e[r],e[r-1]);)r++;return r-t}function Qt(e,t,n,i,r){for(i===t&&i++;i<n;i++){for(var o,a=e[i],s=t,l=i;s<l;)r(a,e[o=s+l>>>1])<0?l=o:s=1+o;var u=i-s;switch(u){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;0<u;)e[s+u]=e[s+u-1],u--}e[s]=a}}function qt(e,t,n,i,r,o){var a=0,s=0,l=1;if(0<o(e,t[n+r])){for(s=i-r;l<s&&0<o(e,t[n+r+l]);)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(e,t[n+r-l])<=0;)(l=1+((a=l)<<1))<=0&&(l=s);i=a,a=r-(l=s<l?s:l),l=r-i}for(a++;a<l;){var u=a+(l-a>>>1);0<o(e,t[n+u])?a=u+1:l=u}return l}function $t(e,t,n,i,r,o){var a=0,s=0,l=1;if(o(e,t[n+r])<0){for(s=r+1;l<s&&o(e,t[n+r-l])<0;)(l=1+((a=l)<<1))<=0&&(l=s);var u=a;a=r-(l=s<l?s:l),l=r-u}else{for(s=i-r;l<s&&0<=o(e,t[n+r+l]);)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s),a+=r,l+=r}for(a++;a<l;){var c=a+(l-a>>>1);o(e,t[n+c])<0?l=c:a=c+1}return l}function en(e,t,n,i){var r=(i=i||e.length)-(n=n||0);if(!(r<2)){var o=0;if(r<32)Qt(e,n,i,n+(o=Kt(e,n,i,t)),t);else{var a,s=function(e,t){var n,i,r=7,o=0,a=(e.length,[]);function s(s){var l=n[s],u=i[s],c=n[s+1],h=i[s+1];if(l+=(i[s]=u+h,s===o-3&&(n[s+1]=n[s+2],i[s+1]=i[s+2]),o--,s=$t(e[c],e,l,u,0,t)),0!=(u-=s)&&0!==(h=qt(e[l+u-1],e,c,h,h-1,t)))if(u<=h){var d=l,p=u,f=(s=c,h),g=0;for(g=0;g<p;g++)a[g]=e[d+g];var m=0,y=s,v=d;if(e[v++]=e[y++],0==--f)for(g=0;g<p;g++)e[v+g]=a[m+g];else if(1===p){for(g=0;g<f;g++)e[v+g]=e[y+g];e[v+f]=a[m]}else{for(var x,_,b,w=r;;){_=x=0,b=!1;do{if(t(e[y],a[m])<0){if(e[v++]=e[y++],_++,(x=0)==--f){b=!0;break}}else if(e[v++]=a[m++],x++,_=0,1==--p){b=!0;break}}while((x|_)<w);if(b)break;do{if(0!==(x=$t(e[y],a,m,p,0,t))){for(g=0;g<x;g++)e[v+g]=a[m+g];if(v+=x,m+=x,(p-=x)<=1){b=!0;break}}if(e[v++]=e[y++],0==--f){b=!0;break}if(0!==(_=qt(a[m],e,y,f,0,t))){for(g=0;g<_;g++)e[v+g]=e[y+g];if(v+=_,y+=_,0===(f-=_)){b=!0;break}}if(e[v++]=a[m++],1==--p){b=!0;break}}while(w--,7<=x||7<=_);if(b)break;w<0&&(w=0),w+=2}if((r=w)<1&&(r=1),1===p){for(g=0;g<f;g++)e[v+g]=e[y+g];e[v+f]=a[m]}else{if(0===p)throw new Error;for(g=0;g<p;g++)e[v+g]=a[m+g]}}}else{var S=l,A=u,M=c,C=h,T=0;for(T=0;T<C;T++)a[T]=e[M+T];var I=S+A-1,k=C-1,D=M+C-1,B=0,E=0;if(e[D--]=e[I--],0==--A)for(B=D-(C-1),T=0;T<C;T++)e[B+T]=a[T];else if(1===C){for(E=1+(D-=A),B=1+(I-=A),T=A-1;0<=T;T--)e[E+T]=e[B+T];e[D]=a[k]}else{for(var P=r;;){var L=0,R=0,O=!1;do{if(t(a[k],e[I])<0){if(e[D--]=e[I--],L++,(R=0)==--A){O=!0;break}}else if(e[D--]=a[k--],R++,L=0,1==--C){O=!0;break}}while((L|R)<P);if(O)break;do{if(0!==(L=A-$t(a[k],e,S,A,A-1,t))){for(A-=L,E=1+(D-=L),B=1+(I-=L),T=L-1;0<=T;T--)e[E+T]=e[B+T];if(0===A){O=!0;break}}if(e[D--]=a[k--],1==--C){O=!0;break}if(0!==(R=C-qt(e[I],a,0,C,C-1,t))){for(C-=R,E=1+(D-=R),B=1+(k-=R),T=0;T<R;T++)e[E+T]=a[B+T];if(C<=1){O=!0;break}}if(e[D--]=e[I--],0==--A){O=!0;break}}while(P--,7<=L||7<=R);if(O)break;P<0&&(P=0),P+=2}if((r=P)<1&&(r=1),1===C){for(E=1+(D-=A),B=1+(I-=A),T=A-1;0<=T;T--)e[E+T]=e[B+T];e[D]=a[k]}else{if(0===C)throw new Error;for(B=D-(C-1),T=0;T<C;T++)e[B+T]=a[T]}}}}return n=[],i=[],{mergeRuns:function(){for(;1<o;){var e=o-2;if(1<=e&&i[e-1]<=i[e]+i[e+1]||2<=e&&i[e-2]<=i[e]+i[e-1])i[e-1]<i[e+1]&&e--;else if(i[e]>i[e+1])break;s(e)}},forceMergeRuns:function(){for(;1<o;){var e=o-2;0<e&&i[e-1]<i[e+1]&&e--,s(e)}},pushRun:function(e,t){n[o]=e,i[o]=t,o+=1}}}(e,t),l=function(e){for(var t=0;32<=e;)t|=1&e,e>>=1;return e+t}(r);do{}while((o=Kt(e,n,i,t))<l&&(Qt(e,n,n+(a=l<(a=r)?l:r),n+o,t),o=a),s.pushRun(n,o),s.mergeRuns(),n+=o,0!==(r-=o));s.forceMergeRuns()}}}function tn(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}function nn(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=tn}nn.prototype.traverse=function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},nn.prototype.getDisplayList=function(e,t){t=t||!1;var n=this._displayList;return!e&&n.length||this.updateDisplayList(t),n},nn.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,i=0,r=t.length;i<r;i++)this._updateAndAddDisplayable(t[i],null,e);n.length=this._displayListLen,en(n,tn)},nn.prototype._updateAndAddDisplayable=function(e,t,n){if(!e.ignore||n){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)t=null;else if(i){t=t?t.slice():[];for(var r=i,o=e;r;)r.parent=o,r.updateTransform(),t.push(r),r=(o=r).getClipPath()}if(e.childrenRef){for(var a=e.childrenRef(),s=0;s<a.length;s++){var l=a[s];e.__dirty&&(l.__dirty|=1),this._updateAndAddDisplayable(l,t,n)}e.__dirty=0}else i=e,t&&t.length?i.__clipPaths=t:i.__clipPaths&&0<i.__clipPaths.length&&(i.__clipPaths=[]),isNaN(i.z)&&(i.z=0),isNaN(i.z2)&&(i.z2=0),isNaN(i.zlevel)&&(i.zlevel=0),this._displayList[this._displayListLen++]=i;(i=e.getDecalElement&&e.getDecalElement())&&this._updateAndAddDisplayable(i,t,n),(i=e.getTextGuideLine())&&this._updateAndAddDisplayable(i,t,n),(i=e.getTextContent())&&this._updateAndAddDisplayable(i,t,n)}},nn.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},nn.prototype.delRoot=function(e){if(e instanceof Array)for(var t=0,n=e.length;t<n;t++)this.delRoot(e[t]);else{var i=K(this._roots,e);0<=i&&this._roots.splice(i,1)}},nn.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},nn.prototype.getRoots=function(){return this._roots},nn.prototype.dispose=function(){this._displayList=null,this._roots=null};var rn=nn,on=A.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)},an={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1;return 0===e?0:1===e?1:(t=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*--e)*Math.sin((e-t)*(2*Math.PI)/.4))},elasticOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(t=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(t=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*--e)*Math.sin((e-t)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*--e)*Math.sin((e-t)*(2*Math.PI)/.4)*.5+1)},backIn:function(e){return e*e*(2.70158*e-1.70158)},backOut:function(e){return--e*e*(2.70158*e+1.70158)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((1+t)*e-t)*.5:.5*((e-=2)*e*((1+t)*e+t)+2)},bounceIn:function(e){return 1-an.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*an.bounceIn(2*e):.5*an.bounceOut(2*e-1)+.5}},sn=an,ln=Math.pow,un=Math.sqrt,cn=1e-8,hn=1e-4,dn=un(3),pn=1/3,fn=Ve(),gn=Ve(),mn=Ve();function yn(e){return-cn<e&&e<cn}function vn(e){return cn<e||e<-cn}function xn(e,t,n,i,r){var o=1-r;return o*o*(o*e+3*r*t)+r*r*(r*i+3*o*n)}function _n(e,t,n,i,r){var o=1-r;return 3*(((t-e)*o+2*(n-t)*r)*o+(i-n)*r*r)}function bn(e,t,n,i,r,o){i=i+3*(t-n)-e;var a,s,l=(n=3*(n-2*t+e))*(t=3*(t-e))-9*i*(e=e-r),u=(e=t*t-3*n*e,0);return yn(r=n*n-3*i*t)&&yn(l)?yn(n)?o[0]=0:0<=(a=-t/n)&&a<=1&&(o[u++]=a):yn(t=l*l-4*r*e)?(s=-(e=l/r)/2,0<=(a=-n/i+e)&&a<=1&&(o[u++]=a),0<=s&&s<=1&&(o[u++]=s)):0<t?(t=r*n+1.5*i*(-l-(e=un(t))),0<=(a=(-n-((e=(e=r*n+1.5*i*(-l+e))<0?-ln(-e,pn):ln(e,pn))+(t=t<0?-ln(-t,pn):ln(t,pn))))/(3*i))&&a<=1&&(o[u++]=a)):(e=(2*r*n-3*i*l)/(2*un(r*r*r)),t=Math.acos(e)/3,a=(-n-2*(l=un(r))*(e=Math.cos(t)))/(3*i),s=(-n+l*(e+dn*Math.sin(t)))/(3*i),r=(-n+l*(e-dn*Math.sin(t)))/(3*i),0<=a&&a<=1&&(o[u++]=a),0<=s&&s<=1&&(o[u++]=s),0<=r&&r<=1&&(o[u++]=r)),u}function wn(e,t,n,i,r){var o,a=6*n-12*t+6*e;i=9*t+3*i-3*e-9*n,n=3*t-3*e,t=0;return yn(i)?vn(a)&&0<=(o=-n/a)&&o<=1&&(r[t++]=o):yn(e=a*a-4*i*n)?r[0]=-a/(2*i):0<e&&(e=(-a-(n=un(e)))/(2*i),0<=(o=(-a+n)/(2*i))&&o<=1&&(r[t++]=o),0<=e&&e<=1&&(r[t++]=e)),t}function Sn(e,t,n,i,r,o){var a=(t-e)*r+e,s=((t=(n-t)*r+t)-a)*r+a;r=((t=((n=(i-n)*r+n)-t)*r+t)-s)*r+s;o[0]=e,o[1]=a,o[2]=s,o[3]=r,o[4]=r,o[5]=t,o[6]=n,o[7]=i}function An(e,t,n,i,r,o,a,s,l,u,c){var h,d,p,f,g=.005,m=1/0;fn[0]=l,fn[1]=u;for(var y=0;y<1;y+=.05)gn[0]=xn(e,n,r,a,y),gn[1]=xn(t,i,o,s,y),(p=st(fn,gn))<m&&(h=y,m=p);m=1/0;for(var v=0;v<32&&!(g<hn);v++)d=h+g,gn[0]=xn(e,n,r,a,f=h-g),gn[1]=xn(t,i,o,s,f),p=st(gn,fn),0<=f&&p<m?(h=f,m=p):(mn[0]=xn(e,n,r,a,d),mn[1]=xn(t,i,o,s,d),f=st(mn,fn),d<=1&&f<m?(h=d,m=f):g*=.5);return c&&(c[0]=xn(e,n,r,a,h),c[1]=xn(t,i,o,s,h)),un(m)}function Mn(e,t,n,i){var r=1-i;return r*(r*e+2*i*t)+i*i*n}function Cn(e,t,n,i){return 2*((1-i)*(t-e)+i*(n-t))}function Tn(e,t,n){return 0==(n=e+n-2*t)?.5:(e-t)/n}function In(e,t,n,i,r){var o=(t-e)*i+e;i=((t=(n-t)*i+t)-o)*i+o;r[0]=e,r[1]=o,r[2]=i,r[3]=i,r[4]=t,r[5]=n}function kn(e,t,n,i,r,o,a,s,l){var u,c=.005,h=1/0;fn[0]=a,fn[1]=s;for(var d=0;d<1;d+=.05)gn[0]=Mn(e,n,r,d),gn[1]=Mn(t,i,o,d),(m=st(fn,gn))<h&&(u=d,h=m);h=1/0;for(var p=0;p<32&&!(c<hn);p++){var f=u-c,g=u+c,m=(gn[0]=Mn(e,n,r,f),gn[1]=Mn(t,i,o,f),st(gn,fn));0<=f&&m<h?(u=f,h=m):(mn[0]=Mn(e,n,r,g),mn[1]=Mn(t,i,o,g),f=st(mn,fn),g<=1&&f<h?(u=g,h=f):c*=.5)}return l&&(l[0]=Mn(e,n,r,u),l[1]=Mn(t,i,o,u)),un(h)}var Dn=/cubic-bezier\(([0-9,\.e ]+)\)/;function Bn(e){if(e=e&&Dn.exec(e)){var t,n=+Te((e=e[1].split(","))[0]),i=+Te(e[1]),r=+Te(e[2]),o=+Te(e[3]);if(!isNaN(n+i+r+o))return t=[],function(e){return e<=0?0:1<=e?1:bn(0,n,r,1,e,t)&&xn(0,i,o,1,t[0])}}}function En(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Ne,this.ondestroy=e.ondestroy||Ne,this.onrestart=e.onrestart||Ne,e.easing&&this.setEasing(e.easing)}En.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),!this._paused){var n=this._life,i=e-this._startTime-this._pausedTime,r=i/n,o=(o=(r<0&&(r=0),r=Math.min(r,1),this.easingFunc))?o(r):r;if(this.onframe(o),1===r){if(!this.loop)return!0;this._startTime=e-i%n,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=t},En.prototype.pause=function(){this._paused=!0},En.prototype.resume=function(){this._paused=!1},En.prototype.setEasing=function(e){this.easing=e,this.easingFunc=ue(e)?e:sn[e]||Bn(e)};var Pn=En,Ln=function(e){this.value=e},Rn=(On.prototype.insert=function(e){return e=new Ln(e),this.insertEntry(e),e},On.prototype.insertEntry=function(e){this.head?((this.tail.next=e).prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},On.prototype.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},On.prototype.len=function(){return this._len},On.prototype.clear=function(){this.head=this.tail=null,this._len=0},On);function On(){this._len=0}function Fn(e){this._list=new Rn,this._maxSize=10,this._map={},this._maxSize=e}Fn.prototype.put=function(e,t){var n,i,r=this._list,o=this._map,a=null;return null==o[e]&&(i=r.len(),n=this._lastRemovedEntry,i>=this._maxSize&&0<i&&(i=r.head,r.remove(i),delete o[i.key],a=i.value,this._lastRemovedEntry=i),n?n.value=t:n=new Ln(t),n.key=e,r.insertEntry(n),o[e]=n),a},Fn.prototype.get=function(e){e=this._map[e];var t=this._list;if(null!=e)return e!==t.tail&&(t.remove(e),t.insertEntry(e)),e.value},Fn.prototype.clear=function(){this._list.clear(),this._map={}},Fn.prototype.len=function(){return this._list.len()};var Nn=Fn,zn={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Gn(e){return(e=Math.round(e))<0?0:255<e?255:e}function Hn(e){return e<0?0:1<e?1:e}function Vn(e){return e.length&&"%"===e.charAt(e.length-1)?Gn(parseFloat(e)/100*255):Gn(parseInt(e,10))}function Un(e){return e.length&&"%"===e.charAt(e.length-1)?Hn(parseFloat(e)/100):Hn(parseFloat(e))}function Zn(e,t,n){return n<0?n+=1:1<n&&--n,6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function Wn(e,t,n){return e+(t-e)*n}function jn(e,t,n,i,r){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e}function Xn(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var Yn=new Nn(20),Jn=null;function Kn(e,t){Jn&&Xn(Jn,t),Jn=Yn.put(e,Jn||t.slice())}function Qn(e,t){if(e){t=t||[];var n=Yn.get(e);if(n)return Xn(t,n);if((n=(e+="").replace(/ /g,"").toLowerCase())in zn)return Xn(t,zn[n]),Kn(e,t),t;var i=n.length;if("#"===n.charAt(0))return 4===i||5===i?0<=(r=parseInt(n.slice(1,4),16))&&r<=4095?(jn(t,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,5===i?parseInt(n.slice(4),16)/15:1),Kn(e,t),t):void jn(t,0,0,0,1):7===i||9===i?0<=(r=parseInt(n.slice(1,7),16))&&r<=16777215?(jn(t,(16711680&r)>>16,(65280&r)>>8,255&r,9===i?parseInt(n.slice(7),16)/255:1),Kn(e,t),t):void jn(t,0,0,0,1):void 0;var r=n.indexOf("("),o=n.indexOf(")");if(-1!==r&&o+1===i){i=n.substr(0,r);var a=n.substr(r+1,o-(r+1)).split(","),s=1;switch(i){case"rgba":if(4!==a.length)return 3===a.length?jn(t,+a[0],+a[1],+a[2],1):jn(t,0,0,0,1);s=Un(a.pop());case"rgb":return 3!==a.length?void jn(t,0,0,0,1):(jn(t,Vn(a[0]),Vn(a[1]),Vn(a[2]),s),Kn(e,t),t);case"hsla":return 4!==a.length?void jn(t,0,0,0,1):(a[3]=Un(a[3]),qn(a,t),Kn(e,t),t);case"hsl":return 3!==a.length?void jn(t,0,0,0,1):(qn(a,t),Kn(e,t),t);default:return}}jn(t,0,0,0,1)}}function qn(e,t){var n,i=(parseFloat(e[0])%360+360)%360/360,r=Un(e[1]);return jn(t=t||[],Gn(255*Zn(n=2*(n=Un(e[2]))-(r=n<=.5?n*(r+1):n+r-n*r),r,i+1/3)),Gn(255*Zn(n,r,i)),Gn(255*Zn(n,r,i-1/3)),1),4===e.length&&(t[3]=e[3]),t}function $n(e,t){var n=Qn(e);if(n){for(var i=0;i<3;i++)n[i]=t<0?n[i]*(1-t)|0:(255-n[i])*t+n[i]|0,255<n[i]?n[i]=255:n[i]<0&&(n[i]=0);return si(n,4===n.length?"rgba":"rgb")}}function ei(e){if(e=Qn(e))return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function ti(e,t,n){var i,r,o;if(t&&t.length&&0<=e&&e<=1)return n=n||[],e*=t.length-1,i=Math.floor(e),o=Math.ceil(e),r=t[i],t=t[o],o=e-i,n[0]=Gn(Wn(r[0],t[0],o)),n[1]=Gn(Wn(r[1],t[1],o)),n[2]=Gn(Wn(r[2],t[2],o)),n[3]=Hn(Wn(r[3],t[3],o)),n}var ni=ti;function ii(e,t,n){var i,r,o,a;if(t&&t.length&&0<=e&&e<=1)return e*=t.length-1,i=Math.floor(e),r=Math.ceil(e),a=Qn(t[i]),t=Qn(t[r]),o=e-i,a=si([Gn(Wn(a[0],t[0],o)),Gn(Wn(a[1],t[1],o)),Gn(Wn(a[2],t[2],o)),Hn(Wn(a[3],t[3],o))],"rgba"),n?{color:a,leftIndex:i,rightIndex:r,value:e}:a}var ri=ii;function oi(e,t,n,i){var r=Qn(e);if(e)return r=function(e){var t,n,i,r,o,a,s,l,u,c;if(e)return c=e[0]/255,t=e[1]/255,n=e[2]/255,s=Math.min(c,t,n),r=((i=Math.max(c,t,n))+s)/2,0==(u=i-s)?a=o=0:(a=r<.5?u/(i+s):u/(2-i-s),s=((i-c)/6+u/2)/u,l=((i-t)/6+u/2)/u,u=((i-n)/6+u/2)/u,c===i?o=u-l:t===i?o=1/3+s-u:n===i&&(o=2/3+l-s),o<0&&(o+=1),1<o&&--o),c=[360*o,a,r],null!=e[3]&&c.push(e[3]),c}(r),null!=t&&(r[0]=(e=t,(e=Math.round(e))<0?0:360<e?360:e)),null!=n&&(r[1]=Un(n)),null!=i&&(r[2]=Un(i)),si(qn(r),"rgba")}function ai(e,t){if((e=Qn(e))&&null!=t)return e[3]=Hn(t),si(e,"rgba")}function si(e,t){var n;if(e&&e.length)return n=e[0]+","+e[1]+","+e[2],"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(n+=","+e[3]),t+"("+n+")"}function li(e,t){return(e=Qn(e))?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*t:0}function ui(){return si([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],"rgb")}var ci=Math.round;function hi(e){var t,n;return e&&"transparent"!==e?"string"==typeof e&&-1<e.indexOf("rgba")&&(n=Qn(e))&&(e="rgb("+n[0]+","+n[1]+","+n[2]+")",t=n[3]):e="none",{color:e,opacity:null==t?1:t}}function di(e){return e<1e-4&&-1e-4<e}function pi(e){return ci(1e3*e)/1e3}function fi(e){return ci(1e4*e)/1e4}var gi={left:"start",right:"end",center:"middle",middle:"middle"};function mi(e){return e&&!!e.image}function yi(e){return"linear"===e.type}function vi(e){return"radial"===e.type}function xi(e){return"url(#"+e+")"}function _i(e){return e=e.getGlobalScale(),e=Math.max(e[0],e[1]),Math.max(Math.ceil(Math.log(e)/Math.log(10)),1)}function bi(e){var t=e.x||0,n=e.y||0,i=(e.rotation||0)*ze,r=we(e.scaleX,1),o=we(e.scaleY,1),a=e.skewX||0,s=(e=e.skewY||0,[]);return(t||n)&&s.push("translate("+t+"px,"+n+"px)"),i&&s.push("rotate("+i+")"),1===r&&1===o||s.push("scale("+r+","+o+")"),(a||e)&&s.push("skew("+ci(a*ze)+"deg, "+ci(e*ze)+"deg)"),s.join(" ")}var wi=A.hasGlobalWindow&&ue(window.btoa)?function(e){return window.btoa(unescape(e))}:"undefined"!=typeof Buffer?function(e){return Buffer.from(e).toString("base64")}:function(e){return null},Si=Array.prototype.slice;function Ai(e,t,n){return(t-e)*n+e}function Mi(e,t,n,i){for(var r=t.length,o=0;o<r;o++)e[o]=Ai(t[o],n[o],i);return e}function Ci(e,t,n,i){for(var r=t.length,o=0;o<r;o++)e[o]=t[o]+n[o]*i;return e}function Ti(e,t,n,i){for(var r=t.length,o=r&&t[0].length,a=0;a<r;a++){e[a]||(e[a]=[]);for(var s=0;s<o;s++)e[a][s]=t[a][s]+n[a][s]*i}return e}function Ii(e){if($(e)){var t=e.length;if($(e[0])){for(var n=[],i=0;i<t;i++)n.push(Si.call(e[i]));return n}return Si.call(e)}return e}function ki(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=null==e[3]?1:e[3],"rgba("+e.join(",")+")"}function Di(e){return 4===e||5===e}function Bi(e){return 1===e||2===e}var Ei=[0,0,0,0],Pi=(Li.prototype.isFinished=function(){return this._finished},Li.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},Li.prototype.needsAnimate=function(){return 1<=this.keyframes.length},Li.prototype.getAdditiveTrack=function(){return this._additiveTrack},Li.prototype.addKeyframe=function(e,t,n){this._needsSort=!0;var i,r=this.keyframes,o=r.length,a=!1,s=6,l=t,u=($(t)?(1==(s=i=$((i=t)&&i[0])?2:1)&&!de(t[0])||2==i&&!de(t[0][0]))&&(a=!0):de(t)&&!_e(t)?s=0:ce(t)?isNaN(+t)?(i=Qn(t))&&(l=i,s=3):s=0:ye(t)&&((u=X({},l)).colorStops=te(t.colorStops,(function(e){return{offset:e.offset,color:Qn(e.color)}})),yi(t)?s=4:vi(t)&&(s=5),l=u),0===o?this.valType=s:s===this.valType&&6!==s||(a=!0),this.discrete=this.discrete||a,{time:e,value:l,rawValue:t,percent:0});return n&&(u.easing=n,u.easingFunc=ue(n)?n:sn[n]||Bn(n)),r.push(u),u},Li.prototype.prepare=function(e,t){for(var n=this.keyframes,i=(this._needsSort&&n.sort((function(e,t){return e.time-t.time})),this.valType),r=n.length,o=n[r-1],a=this.discrete,s=Bi(i),l=Di(i),u=0;u<r;u++){var c=(g=n[u]).value,h=o.value;if(g.percent=g.time/e,!a)if(s&&u!==r-1){x=v=y=m=g=p=_=g=void 0;var d=i,p=g=c,f=_=h;if(p.push&&f.push){var g=p.length,m=f.length;if(g!==m)if(m<g)p.length=m;else for(var y=g;y<m;y++)p.push(1===d?f[y]:Si.call(f[y]));var v=p[0]&&p[0].length;for(y=0;y<p.length;y++)if(1===d)isNaN(p[y])&&(p[y]=f[y]);else for(var x=0;x<v;x++)isNaN(p[y][x])&&(p[y][x]=f[y][x])}}else if(l){M=A=g=S=g=_=void 0;for(var _=c.colorStops,b=(g=h.colorStops,_.length),w=g.length,S=w<b?g:_,A=S[(g=Math.min(b,w))-1]||{color:[0,0,0,0],offset:0},M=g;M<Math.max(b,w);M++)S.push({offset:A.offset,color:A.color.slice()})}}if(!a&&5!==i&&t&&this.needsAnimate()&&t.needsAnimate()&&i===t.valType&&!t._finished){this._additiveTrack=t;var C=n[0].value;for(u=0;u<r;u++)0===i?n[u].additiveValue=n[u].value-C:3===i?n[u].additiveValue=Ci([],n[u].value,C,-1):Bi(i)&&(n[u].additiveValue=(1===i?Ci:Ti)([],n[u].value,C,-1))}},Li.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n,i,r,o,a=null!=this._additiveTrack,s=a?"additiveValue":"value",l=this.valType,u=this.keyframes,c=u.length,h=this.propName,d=3===l,p=this._lastFr,f=Math.min;if(1===c)n=i=u[0];else{if(t<0)g=0;else if(t<this._lastFrP){for(var g=f(p+1,c-1);0<=g&&!(u[g].percent<=t);g--);g=f(g,c-2)}else{for(g=p;g<c&&!(u[g].percent>t);g++);g=f(g-1,c-2)}i=u[g+1],n=u[g]}n&&i&&(this._lastFr=g,this._lastFrP=t,p=i.percent-n.percent,r=0==p?1:f((t-n.percent)/p,1),i.easingFunc&&(r=i.easingFunc(r)),f=a?this._additiveValue:d?Ei:e[h],!Bi(l)&&!d||f||(f=this._additiveValue=[]),this.discrete?e[h]=(r<1?n:i).rawValue:Bi(l)?(1===l?Mi:function(e,t,n,i){for(var r=t.length,o=r&&t[0].length,a=0;a<r;a++){e[a]||(e[a]=[]);for(var s=0;s<o;s++)e[a][s]=Ai(t[a][s],n[a][s],i)}})(f,n[s],i[s],r):Di(l)?(p=n[s],o=i[s],e[h]={type:(l=4===l)?"linear":"radial",x:Ai(p.x,o.x,r),y:Ai(p.y,o.y,r),colorStops:te(p.colorStops,(function(e,t){return t=o.colorStops[t],{offset:Ai(e.offset,t.offset,r),color:ki(Mi([],e.color,t.color,r))}})),global:o.global},l?(e[h].x2=Ai(p.x2,o.x2,r),e[h].y2=Ai(p.y2,o.y2,r)):e[h].r=Ai(p.r,o.r,r)):d?(Mi(f,n[s],i[s],r),a||(e[h]=ki(f))):(l=Ai(n[s],i[s],r),a?this._additiveValue=l:e[h]=l),a&&this._addToTarget(e))}},Li.prototype._addToTarget=function(e){var t=this.valType,n=this.propName,i=this._additiveValue;0===t?e[n]=e[n]+i:3===t?(Qn(e[n],Ei),Ci(Ei,Ei,i,1),e[n]=ki(Ei)):1===t?Ci(e[n],e[n],i,1):2===t&&Ti(e[n],e[n],i,1)},Li);function Li(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}function Ri(e,t,n,i){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,(this._loop=t)&&i?U("Can' use additive animation on looped animation."):(this._additiveAnimators=i,this._allowDiscrete=n)}Ri.prototype.getMaxTime=function(){return this._maxTime},Ri.prototype.getDelay=function(){return this._delay},Ri.prototype.getLoop=function(){return this._loop},Ri.prototype.getTarget=function(){return this._target},Ri.prototype.changeTarget=function(e){this._target=e},Ri.prototype.when=function(e,t,n){return this.whenWithKeys(e,t,oe(t),n)},Ri.prototype.whenWithKeys=function(e,t,n,i){for(var r=this._tracks,o=0;o<n.length;o++){var a=n[o];if(!(l=r[a])){var s,l=r[a]=new Pi(a),u=void 0,c=this._getAdditiveTrack(a);if(c?(u=(s=(s=c.keyframes)[s.length-1])&&s.value,3===c.valType&&u&&(u=ki(u))):u=this._target[a],null==u)continue;0<e&&l.addKeyframe(0,Ii(u),i),this._trackKeys.push(a)}l.addKeyframe(e,Ii(t[a]),i)}return this._maxTime=Math.max(this._maxTime,e),this},Ri.prototype.pause=function(){this._clip.pause(),this._paused=!0},Ri.prototype.resume=function(){this._clip.resume(),this._paused=!1},Ri.prototype.isPaused=function(){return!!this._paused},Ri.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},Ri.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,n=0;n<t;n++)e[n].call(this)},Ri.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var n=0;n<t.length;n++)t[n].call(this)},Ri.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,n=0;n<t.length;n++)e[t[n]].setFinished()},Ri.prototype._getAdditiveTrack=function(e){var t,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var r=n[i].getTrack(e);r&&(t=r)}return t},Ri.prototype.start=function(e){if(!(0<this._started)){this._started=1;for(var t,n=this,i=[],r=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var a=this._trackKeys[o],s=this._tracks[a],l=(a=this._getAdditiveTrack(a),s.keyframes),u=l.length;s.prepare(r,a),s.needsAnimate()&&(!this._allowDiscrete&&s.discrete?((a=l[u-1])&&(n._target[s.propName]=a.rawValue),s.setFinished()):i.push(s))}return i.length||this._force?(t=new Pn({life:r,loop:this._loop,delay:this._delay||0,onframe:function(e){n._started=2;var t=n._additiveAnimators;if(t){for(var r=!1,o=0;o<t.length;o++)if(t[o]._clip){r=!0;break}r||(n._additiveAnimators=null)}for(o=0;o<i.length;o++)i[o].step(n._target,e);var a=n._onframeCbs;if(a)for(o=0;o<a.length;o++)a[o](n._target,e)},ondestroy:function(){n._doneCallback()}}),this._clip=t,this.animation&&this.animation.addClip(t),e&&t.setEasing(e)):this._doneCallback(),this}},Ri.prototype.stop=function(e){var t;this._clip&&(t=this._clip,e&&t.onframe(1),this._abortedCallback())},Ri.prototype.delay=function(e){return this._delay=e,this},Ri.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},Ri.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},Ri.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},Ri.prototype.getClip=function(){return this._clip},Ri.prototype.getTrack=function(e){return this._tracks[e]},Ri.prototype.getTracks=function(){var e=this;return te(this._trackKeys,(function(t){return e._tracks[t]}))},Ri.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,r=0;r<e.length;r++){var o=n[e[r]];o&&!o.isFinished()&&(t?o.step(this._target,1):1===this._started&&o.step(this._target,0),o.setFinished())}var a=!0;for(r=0;r<i.length;r++)if(!n[i[r]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},Ri.prototype.saveTo=function(e,t,n){if(e){t=t||this._trackKeys;for(var i=0;i<t.length;i++){var r=t[i],o=this._tracks[r];o&&!o.isFinished()&&(o=(o=o.keyframes)[n?0:o.length-1])&&(e[r]=Ii(o.rawValue))}}},Ri.prototype.__changeFinalValue=function(e,t){t=t||oe(e);for(var n=0;n<t.length;n++){var i,r=t[n],o=this._tracks[r];o&&1<(i=o.keyframes).length&&(i=i.pop(),o.addKeyframe(i.time,e[r]),o.prepare(this._maxTime,o.getAdditiveTrack()))}};var Oi,Fi=Ri;function Ni(){return(new Date).getTime()}function zi(e){var t=Oi.call(this)||this;return t._running=!1,t._time=0,t._pausedTime=0,t._pauseStart=0,t._paused=!1,t.stage=(e=e||{}).stage||{},t}He(zi,Oi=yt),zi.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?((this._tail.next=e).prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},zi.prototype.addAnimator=function(e){e.animation=this,(e=e.getClip())&&this.addClip(e)},zi.prototype.removeClip=function(e){var t,n;e.animation&&(t=e.prev,n=e.next,t?t.next=n:this._head=n,n?n.prev=t:this._tail=t,e.next=e.prev=e.animation=null)},zi.prototype.removeAnimator=function(e){var t=e.getClip();t&&this.removeClip(t),e.animation=null},zi.prototype.update=function(e){for(var t=Ni()-this._pausedTime,n=t-this._time,i=this._head;i;){var r=i.next;i=(i.step(t,n)&&(i.ondestroy(),this.removeClip(i)),r)}this._time=t,e||(this.trigger("frame",n),this.stage.update&&this.stage.update())},zi.prototype._startLoop=function(){var e=this;this._running=!0,on((function t(){e._running&&(on(t),e._paused||e.update())}))},zi.prototype.start=function(){this._running||(this._time=Ni(),this._pausedTime=0,this._startLoop())},zi.prototype.stop=function(){this._running=!1},zi.prototype.pause=function(){this._paused||(this._pauseStart=Ni(),this._paused=!0)},zi.prototype.resume=function(){this._paused&&(this._pausedTime+=Ni()-this._pauseStart,this._paused=!1)},zi.prototype.clear=function(){for(var e=this._head;e;){var t=e.next;e.prev=e.next=e.animation=null,e=t}this._head=this._tail=null},zi.prototype.isFinished=function(){return null==this._head},zi.prototype.animate=function(e,t){return t=t||{},this.start(),e=new Fi(e,t.loop),this.addAnimator(e),e};var Gi,Hi,Vi=zi,Ui=A.domSupported,Zi=(Hi={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:Gi=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:te(Gi,(function(e){var t=e.replace("mouse","pointer");return Hi.hasOwnProperty(t)?t:e}))}),Wi=["mousemove","mouseup"],ji=["pointermove","pointerup"],Xi=!1;function Yi(e){return"pen"===(e=e.pointerType)||"touch"===e}function Ji(e){e&&(e.zrByTouch=!0)}function Ki(e,t){for(var n=t,i=!1;n&&9!==n.nodeType&&!(i=n.domBelongToZr||n!==t&&n===e.painterRoot);)n=n.parentNode;return i}var Qi=function(e,t){this.stopPropagation=Ne,this.stopImmediatePropagation=Ne,this.preventDefault=Ne,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY},qi={mousedown:function(e){e=Bt(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=Bt(this.dom,e);var t=this.__mayPointerCapture;!t||e.zrX===t[0]&&e.zrY===t[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=Bt(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){Ki(this,(e=Bt(this.dom,e)).toElement||e.relatedTarget)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){Xi=!0,e=Bt(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){Xi||(e=Bt(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){Ji(e=Bt(this.dom,e)),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),qi.mousemove.call(this,e),qi.mousedown.call(this,e)},touchmove:function(e){Ji(e=Bt(this.dom,e)),this.handler.processGesture(e,"change"),qi.mousemove.call(this,e)},touchend:function(e){Ji(e=Bt(this.dom,e)),this.handler.processGesture(e,"end"),qi.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<300&&qi.click.call(this,e)},pointerdown:function(e){qi.mousedown.call(this,e)},pointermove:function(e){Yi(e)||qi.mousemove.call(this,e)},pointerup:function(e){qi.mouseup.call(this,e)},pointerout:function(e){Yi(e)||qi.mouseout.call(this,e)}},$i=(ee(["click","dblclick","contextmenu"],(function(e){qi[e]=function(t){t=Bt(this.dom,t),this.trigger(e,t)}})),{pointermove:function(e){Yi(e)||$i.mousemove.call(this,e)},pointerup:function(e){$i.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}});function er(e,t,n,i){e.mounted[t]=n,e.listenerOpts[t]=i,Et(e.domTarget,t,n,i)}function tr(e){var t,n,i,r,o,a=e.mounted;for(t in a)a.hasOwnProperty(t)&&(n=e.domTarget,r=a[i=t],o=e.listenerOpts[t],n.removeEventListener(i,r,o));e.mounted={}}var nr,ir=function(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t};function rr(e,t){var n=nr.call(this)||this;return n.__pointerCapturing=!1,n.dom=e,n.painterRoot=t,n._localHandlerScope=new ir(e,qi),Ui&&(n._globalHandlerScope=new ir(document,$i)),function(e,t){var n=t.domHandlers;A.pointerEventsSupported?ee(Zi.pointer,(function(i){er(t,i,(function(t){n[i].call(e,t)}))})):(A.touchEventsSupported&&ee(Zi.touch,(function(i){er(t,i,(function(r){var o;n[i].call(e,r),(o=t).touching=!0,null!=o.touchTimer&&(clearTimeout(o.touchTimer),o.touchTimer=null),o.touchTimer=setTimeout((function(){o.touching=!1,o.touchTimer=null}),700)}))})),ee(Zi.mouse,(function(i){er(t,i,(function(r){r=Dt(r),t.touching||n[i].call(e,r)}))})))}(n,n._localHandlerScope),n}He(rr,nr=yt),rr.prototype.dispose=function(){tr(this._localHandlerScope),Ui&&tr(this._globalHandlerScope)},rr.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},rr.prototype.__togglePointerCapture=function(e){var t;this.__mayPointerCapture=null,Ui&&+this.__pointerCapturing^+e&&(this.__pointerCapturing=e,t=this._globalHandlerScope,e?function(e,t){function n(n){er(t,n,(function(i){var r;i=Dt(i),Ki(e,i.target)||(r=i,i=Bt(e.dom,new Qi(e,r),!0),t.domHandlers[n].call(e,i))}),{capture:!0})}A.pointerEventsSupported?ee(ji,n):A.touchEventsSupported||ee(Wi,n)}(this,t):tr(t))};var or=rr,ar=1,sr=ar=A.hasGlobalWindow?Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1):ar;function lr(){return[1,0,0,1,0,0]}function ur(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function cr(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function hr(e,t,n){var i=t[0]*n[0]+t[2]*n[1],r=t[1]*n[0]+t[3]*n[1],o=t[0]*n[2]+t[2]*n[3],a=t[1]*n[2]+t[3]*n[3],s=t[0]*n[4]+t[2]*n[5]+t[4];n=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=i,e[1]=r,e[2]=o,e[3]=a,e[4]=s,e[5]=n,e}function dr(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function pr(e,t,n){var i=t[0],r=t[2],o=t[4],a=t[1],s=t[3],l=(t=t[5],Math.sin(n));n=Math.cos(n);return e[0]=i*n+a*l,e[1]=-i*l+a*n,e[2]=r*n+s*l,e[3]=-r*l+n*s,e[4]=n*o+l*t,e[5]=n*t-l*o,e}function fr(e,t,n){var i=n[0];n=n[1];return e[0]=t[0]*i,e[1]=t[1]*n,e[2]=t[2]*i,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*n,e}function gr(e,t){var n=t[0],i=t[2],r=t[4],o=t[1],a=t[3],s=(t=t[5],n*a-o*i);return s?(e[0]=a*(s=1/s),e[1]=-o*s,e[2]=-i*s,e[3]=n*s,e[4]=(i*t-a*r)*s,e[5]=(o*r-n*t)*s,e):null}function mr(e){var t=[1,0,0,1,0,0];return cr(t,e),t}var yr=ur;function vr(e){return 5e-5<e||e<-5e-5}var xr,_r=[],br=[],wr=[1,0,0,1,0,0],Sr=Math.abs;function Ar(){}Ar.prototype.getLocalTransform=function(e){return Ar.getLocalTransform(this,e)},Ar.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},Ar.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},Ar.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},Ar.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},Ar.prototype.needLocalTransform=function(){return vr(this.rotation)||vr(this.x)||vr(this.y)||vr(this.scaleX-1)||vr(this.scaleY-1)||vr(this.skewX)||vr(this.skewY)},Ar.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),n=this.transform;t||e?(n=n||[1,0,0,1,0,0],t?this.getLocalTransform(n):yr(n),e&&(t?hr(n,e,n):cr(n,e)),this.transform=n,this._resolveGlobalScaleRatio(n)):n&&yr(n)},Ar.prototype._resolveGlobalScaleRatio=function(e){var t,n,i=this.globalScaleRatio;null!=i&&1!==i&&(this.getGlobalScale(_r),n=((_r[1]-(n=_r[1]<0?-1:1))*i+n)/_r[1]||0,e[0]*=i=((_r[0]-(t=_r[0]<0?-1:1))*i+t)/_r[0]||0,e[1]*=i,e[2]*=n,e[3]*=n),this.invTransform=this.invTransform||[1,0,0,1,0,0],gr(this.invTransform,e)},Ar.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},Ar.prototype.setLocalTransform=function(e){var t,n,i,r;e&&(r=e[0]*e[0]+e[1]*e[1],i=e[2]*e[2]+e[3]*e[3],t=Math.atan2(e[1],e[0]),n=Math.PI/2+t-Math.atan2(e[3],e[2]),i=Math.sqrt(i)*Math.cos(n),r=Math.sqrt(r),this.skewX=n,this.skewY=0,this.rotation=-t,this.x=+e[4],this.y=+e[5],this.scaleX=r,this.scaleY=i,this.originX=0,this.originY=0)},Ar.prototype.decomposeTransform=function(){var e,t,n;this.transform&&(t=this.parent,e=this.transform,t&&t.transform&&(hr(br,t.invTransform,e),e=br),t=this.originX,n=this.originY,(t||n)&&(wr[4]=t,wr[5]=n,hr(br,e,wr),br[4]-=t,br[5]-=n,e=br),this.setLocalTransform(e))},Ar.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1])):(e[0]=1,e[1]=1),e},Ar.prototype.transformCoordToLocal=function(e,t){return e=[e,t],(t=this.invTransform)&&ct(e,e,t),e},Ar.prototype.transformCoordToGlobal=function(e,t){return e=[e,t],(t=this.transform)&&ct(e,e,t),e},Ar.prototype.getLineScale=function(){var e=this.transform;return e&&1e-10<Sr(e[0]-1)&&1e-10<Sr(e[3]-1)?Math.sqrt(Sr(e[0]*e[3]-e[2]*e[1])):1},Ar.prototype.copyTransform=function(e){Cr(this,e)},Ar.getLocalTransform=function(e,t){t=t||[];var n=e.originX||0,i=e.originY||0,r=e.scaleX,o=e.scaleY,a=e.anchorX,s=e.anchorY,l=e.rotation||0,u=e.x,c=e.y,h=e.skewX?Math.tan(e.skewX):0;e=e.skewY?Math.tan(-e.skewY):0;return n||i||a||s?(t[4]=-(a=n+a)*r-h*(s=i+s)*o,t[5]=-s*o-e*a*r):t[4]=t[5]=0,t[0]=r,t[3]=o,t[1]=e*r,t[2]=h*o,l&&pr(t,t,l),t[4]+=n+u,t[5]+=i+c,t},Ar.initDefaultProps=((xr=Ar.prototype).scaleX=xr.scaleY=xr.globalScaleRatio=1,void(xr.x=xr.y=xr.originX=xr.originY=xr.skewX=xr.skewY=xr.rotation=xr.anchorX=xr.anchorY=0));var Mr=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Cr(e,t){for(var n=0;n<Mr.length;n++){var i=Mr[n];e[i]=t[i]}}var Tr=Ar;function Ir(e,t){this.x=e||0,this.y=t||0}Ir.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},Ir.prototype.clone=function(){return new Ir(this.x,this.y)},Ir.prototype.set=function(e,t){return this.x=e,this.y=t,this},Ir.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},Ir.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},Ir.prototype.scale=function(e){this.x*=e,this.y*=e},Ir.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},Ir.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},Ir.prototype.dot=function(e){return this.x*e.x+this.y*e.y},Ir.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},Ir.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},Ir.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},Ir.prototype.distance=function(e){var t=this.x-e.x;e=this.y-e.y;return Math.sqrt(t*t+e*e)},Ir.prototype.distanceSquare=function(e){var t=this.x-e.x;return t*t+(e=this.y-e.y)*e},Ir.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},Ir.prototype.transform=function(e){var t,n;if(e)return t=this.x,n=this.y,this.x=e[0]*t+e[2]*n+e[4],this.y=e[1]*t+e[3]*n+e[5],this},Ir.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},Ir.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},Ir.set=function(e,t,n){e.x=t,e.y=n},Ir.copy=function(e,t){e.x=t.x,e.y=t.y},Ir.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},Ir.lenSquare=function(e){return e.x*e.x+e.y*e.y},Ir.dot=function(e,t){return e.x*t.x+e.y*t.y},Ir.add=function(e,t,n){e.x=t.x+n.x,e.y=t.y+n.y},Ir.sub=function(e,t,n){e.x=t.x-n.x,e.y=t.y-n.y},Ir.scale=function(e,t,n){e.x=t.x*n,e.y=t.y*n},Ir.scaleAndAdd=function(e,t,n,i){e.x=t.x+n.x*i,e.y=t.y+n.y*i},Ir.lerp=function(e,t,n,i){var r=1-i;e.x=r*t.x+i*n.x,e.y=r*t.y+i*n.y};var kr=Ir,Dr=Math.min,Br=Math.max,Er=new kr,Pr=new kr,Lr=new kr,Rr=new kr,Or=new kr,Fr=new kr;function Nr(e,t,n,i){n<0&&(e+=n,n=-n),i<0&&(t+=i,i=-i),this.x=e,this.y=t,this.width=n,this.height=i}Nr.prototype.union=function(e){var t=Dr(e.x,this.x),n=Dr(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=Br(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=Br(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=t,this.y=n},Nr.prototype.applyTransform=function(e){Nr.applyTransform(this,this,e)},Nr.prototype.calculateTransform=function(e){var t=e.width/this.width,n=e.height/this.height,i=[1,0,0,1,0,0];return dr(i,i,[-this.x,-this.y]),fr(i,i,[t,n]),dr(i,i,[e.x,e.y]),i},Nr.prototype.intersect=function(e,t){if(!e)return!1;e instanceof Nr||(e=Nr.create(e));var n,i,r,o,a,s,l,u,c=this.x,h=this.x+this.width,d=this.y,p=this.y+this.height,f=e.x,g=e.x+e.width,m=e.y,y=(e=e.y+e.height,!(h<f||g<c||p<m||e<d));return t&&(n=1/0,i=0,r=Math.abs(h-f),o=Math.abs(g-c),a=Math.abs(p-m),s=Math.abs(e-d),l=Math.min(r,o),u=Math.min(a,s),h<f||g<c?i<l&&(i=l,r<o?kr.set(Fr,-r,0):kr.set(Fr,o,0)):l<n&&(n=l,r<o?kr.set(Or,r,0):kr.set(Or,-o,0)),p<m||e<d?i<u&&(i=u,a<s?kr.set(Fr,0,-a):kr.set(Fr,0,s)):l<n&&(n=l,a<s?kr.set(Or,0,a):kr.set(Or,0,-s))),t&&kr.copy(t,y?Or:Fr),y},Nr.prototype.contain=function(e,t){return e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height},Nr.prototype.clone=function(){return new Nr(this.x,this.y,this.width,this.height)},Nr.prototype.copy=function(e){Nr.copy(this,e)},Nr.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},Nr.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},Nr.prototype.isZero=function(){return 0===this.width||0===this.height},Nr.create=function(e){return new Nr(e.x,e.y,e.width,e.height)},Nr.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},Nr.applyTransform=function(e,t,n){if(n){var i,r;if(n[1]<1e-5&&-1e-5<n[1]&&n[2]<1e-5&&-1e-5<n[2])return i=n[0],r=n[3],o=n[4],a=n[5],e.x=t.x*i+o,e.y=t.y*r+a,e.width=t.width*i,e.height=t.height*r,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height));Er.x=Lr.x=t.x,Er.y=Rr.y=t.y,Pr.x=Rr.x=t.x+t.width,Pr.y=Lr.y=t.y+t.height,Er.transform(n),Rr.transform(n),Pr.transform(n),Lr.transform(n),e.x=Dr(Er.x,Pr.x,Lr.x,Rr.x),e.y=Dr(Er.y,Pr.y,Lr.y,Rr.y);var o=Br(Er.x,Pr.x,Lr.x,Rr.x),a=Br(Er.y,Pr.y,Lr.y,Rr.y);e.width=o-e.x,e.height=a-e.y}else e!==t&&Nr.copy(e,t)};var zr=Nr,Gr={};function Hr(e,t){var n=Gr[t=t||C],i=(n=n||(Gr[t]=new Nn(500))).get(e);return null==i&&(i=I.measureText(e,t).width,n.put(e,i)),i}function Vr(e,t,n,i){return e=Hr(e,t),t=jr(t),n=Zr(0,e,n),i=Wr(0,t,i),new zr(n,i,e,t)}function Ur(e,t,n,i){var r=((e||"")+"").split("\n");if(1===r.length)return Vr(r[0],t,n,i);for(var o=new zr(0,0,0,0),a=0;a<r.length;a++){var s=Vr(r[a],t,n,i);0===a?o.copy(s):o.union(s)}return o}function Zr(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function Wr(e,t,n){return"middle"===n?e-=t/2:"bottom"===n&&(e-=t),e}function jr(e){return Hr("\u56fd",e)}function Xr(e,t){return"string"==typeof e?0<=e.lastIndexOf("%")?parseFloat(e)/100*t:parseFloat(e):e}function Yr(e,t,n){var i=t.position||"inside",r=null!=t.distance?t.distance:5,o=n.height,a=n.width,s=o/2,l=n.x,u=n.y,c="left",h="top";if(i instanceof Array)l+=Xr(i[0],n.width),u+=Xr(i[1],n.height),h=c=null;else switch(i){case"left":l-=r,u+=s,c="right",h="middle";break;case"right":l+=r+a,u+=s,h="middle";break;case"top":l+=a/2,u-=r,c="center",h="bottom";break;case"bottom":l+=a/2,u+=o+r,c="center";break;case"inside":l+=a/2,u+=s,c="center",h="middle";break;case"insideLeft":l+=r,u+=s,h="middle";break;case"insideRight":l+=a-r,u+=s,c="right",h="middle";break;case"insideTop":l+=a/2,u+=r,c="center";break;case"insideBottom":l+=a/2,u+=o-r,c="center",h="bottom";break;case"insideTopLeft":l+=r,u+=r;break;case"insideTopRight":l+=a-r,u+=r,c="right";break;case"insideBottomLeft":l+=r,u+=o-r,h="bottom";break;case"insideBottomRight":l+=a-r,u+=o-r,c="right",h="bottom"}return(e=e||{}).x=l,e.y=u,e.align=c,e.verticalAlign=h,e}var Jr,Kr="__zr_normal__",Qr=Mr.concat(["ignore"]),qr=ne(Mr,(function(e,t){return e[t]=!0,e}),{ignore:!1}),$r={},eo=new zr(0,0,0,0);to.prototype._init=function(e){this.attr(e)},to.prototype.drift=function(e,t,n){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var i=this.transform;(i=i||(this.transform=[1,0,0,1,0,0]))[4]+=e,i[5]+=t,this.decomposeTransform(),this.markRedraw()},to.prototype.beforeUpdate=function(){},to.prototype.afterUpdate=function(){},to.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},to.prototype.updateInnerText=function(e){var t,n,i,r,o,a,s,l,u,c,h=this._textContent;!h||h.ignore&&!e||(this.textConfig||(this.textConfig={}),l=(e=this.textConfig).local,i=n=void 0,r=!1,(t=h.innerTransformable).parent=l?this:null,c=!1,t.copyTransform(h),null!=e.position&&(u=eo,e.layoutRect?u.copy(e.layoutRect):u.copy(this.getBoundingRect()),l||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition($r,e,u):Yr($r,e,u),t.x=$r.x,t.y=$r.y,n=$r.align,i=$r.verticalAlign,(o=e.origin)&&null!=e.rotation&&(s=a=void 0,s="center"===o?(a=.5*u.width,.5*u.height):(a=Xr(o[0],u.width),Xr(o[1],u.height)),c=!0,t.originX=-t.x+a+(l?0:u.x),t.originY=-t.y+s+(l?0:u.y))),null!=e.rotation&&(t.rotation=e.rotation),(o=e.offset)&&(t.x+=o[0],t.y+=o[1],c||(t.originX=-o[0],t.originY=-o[1])),a=null==e.inside?"string"==typeof e.position&&0<=e.position.indexOf("inside"):e.inside,s=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),c=u=l=void 0,a&&this.canBeInsideText()?(l=e.insideFill,u=e.insideStroke,null!=l&&"auto"!==l||(l=this.getInsideTextFill()),null!=u&&"auto"!==u||(u=this.getInsideTextStroke(l),c=!0)):(l=e.outsideFill,u=e.outsideStroke,null!=l&&"auto"!==l||(l=this.getOutsideFill()),null!=u&&"auto"!==u||(u=this.getOutsideStroke(l),c=!0)),(l=l||"#000")===s.fill&&u===s.stroke&&c===s.autoStroke&&n===s.align&&i===s.verticalAlign||(r=!0,s.fill=l,s.stroke=u,s.autoStroke=c,s.align=n,s.verticalAlign=i,h.setDefaultTextStyle(s)),h.__dirty|=1,r&&h.dirtyStyle(!0))},to.prototype.canBeInsideText=function(){return!0},to.prototype.getInsideTextFill=function(){return"#fff"},to.prototype.getInsideTextStroke=function(e){return"#000"},to.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?"#ccc":"#333"},to.prototype.getOutsideStroke=function(e){for(var t=this.__zr&&this.__zr.getBackgroundColor(),n="string"==typeof t&&Qn(t),i=(n=n||[255,255,255,1])[3],r=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*i+(r?0:255)*(1-i);return n[3]=1,si(n,"rgba")},to.prototype.traverse=function(e,t){},to.prototype.attrKV=function(e,t){"textConfig"===e?this.setTextConfig(t):"textContent"===e?this.setTextContent(t):"clipPath"===e?this.setClipPath(t):"extra"===e?(this.extra=this.extra||{},X(this.extra,t)):this[e]=t},to.prototype.hide=function(){this.ignore=!0,this.markRedraw()},to.prototype.show=function(){this.ignore=!1,this.markRedraw()},to.prototype.attr=function(e,t){if("string"==typeof e)this.attrKV(e,t);else if(pe(e))for(var n=oe(e),i=0;i<n.length;i++){var r=n[i];this.attrKV(r,e[r])}return this.markRedraw(),this},to.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],r=i.__fromStateTransition;i.getLoop()||r&&r!==Kr||(r=(r=i.targetName)?t[r]:t,i.saveTo(r))}},to.prototype._innerSaveToNormal=function(e){var t=(t=this._normalState)||(this._normalState={});e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,Qr)},to.prototype._savePrimaryToNormal=function(e,t,n){for(var i=0;i<n.length;i++){var r=n[i];null==e[r]||r in t||(t[r]=this[r])}},to.prototype.hasState=function(){return 0<this.currentStates.length},to.prototype.getState=function(e){return this.states[e]},to.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},to.prototype.clearStates=function(e){this.useState(Kr,!1,e)},to.prototype.useState=function(e,t,n,i){var r=e===Kr;if((a=this.hasState())||!r){var o,a=this.currentStates,s=this.stateTransition;if(!(0<=K(a,e))||!t&&1!==a.length){if((o=(o=this.stateProxy&&!r?this.stateProxy(e):o)||this.states&&this.states[e])||r)return r||this.saveCurrentToNormalState(o),(a=!!(o&&o.hoverLayer||i))&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,o,this._normalState,t,!n&&!this.__inHover&&s&&0<s.duration,s),i=this._textContent,s=this._textGuide,i&&i.useState(e,t,n,a),s&&s.useState(e,t,n,a),r?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!a&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),o;U("State "+e+" not exists.")}}},to.prototype.useStates=function(e,t,n){if(e.length){var i=[],r=this.currentStates,o=e.length,a=o===r.length;if(a)for(var s=0;s<o;s++)if(e[s]!==r[s]){a=!1;break}if(!a){for(s=0;s<o;s++){var l=e[s],u=void 0;(u=(u=this.stateProxy?this.stateProxy(l,e):u)||this.states[l])&&i.push(u)}n=((c=!!((c=i[o-1])&&c.hoverLayer||n))&&this._toggleHoverLayerFlag(!0),this._mergeStates(i));var c,h=this.stateTransition;n=(this.saveCurrentToNormalState(n),this._applyStateObj(e.join(","),n,this._normalState,!1,!t&&!this.__inHover&&h&&0<h.duration,h),this._textContent),h=this._textGuide;n&&n.useStates(e,t,c),h&&h.useStates(e,t,c),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}}else this.clearStates()},to.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},to.prototype.removeState=function(e){var t;0<=(e=K(this.currentStates,e))&&((t=this.currentStates.slice()).splice(e,1),this.useStates(t))},to.prototype.replaceState=function(e,t,n){var i=this.currentStates.slice(),r=(e=K(i,e),0<=K(i,t));0<=e?r?i.splice(e,1):i[e]=t:n&&!r&&i.push(t),this.useStates(i)},to.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},to.prototype._mergeStates=function(e){for(var t,n={},i=0;i<e.length;i++){var r=e[i];X(n,r),r.textConfig&&X(t=t||{},r.textConfig)}return t&&(n.textConfig=t),n},to.prototype._applyStateObj=function(e,t,n,i,r,o){for(var a=!(t&&i),s=(t&&t.textConfig?(this.textConfig=X({},(i?this:n).textConfig),X(this.textConfig,t.textConfig)):a&&n.textConfig&&(this.textConfig=n.textConfig),{}),l=!1,u=0;u<Qr.length;u++){var c=Qr[u],h=r&&qr[c];t&&null!=t[c]?h?(l=!0,s[c]=t[c]):this[c]=t[c]:a&&null!=n[c]&&(h?(l=!0,s[c]=n[c]):this[c]=n[c])}if(!r)for(u=0;u<this.animators.length;u++){var d=this.animators[u],p=d.targetName;d.getLoop()||d.__changeFinalValue(p?(t||n)[p]:t||n)}l&&this._transitionState(e,s,o)},to.prototype._attachComponent=function(e){var t;e.__zr&&!e.__hostTarget||e!==this&&((t=this.__zr)&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this)},to.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},to.prototype.getClipPath=function(){return this._clipPath},to.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},to.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},to.prototype.getTextContent=function(){return this._textContent},to.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new Tr,this._attachComponent(e),this._textContent=e,this.markRedraw())},to.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),X(this.textConfig,e),this.markRedraw()},to.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},to.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},to.prototype.getTextGuideLine=function(){return this._textGuide},to.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},to.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},to.prototype.markRedraw=function(){this.__dirty|=1;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},to.prototype.dirty=function(){this.markRedraw()},to.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,n=this._textGuide;t&&(t.__inHover=e),n&&(n.__inHover=e)},to.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},to.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},to.prototype.animate=function(e,t,n){var i=e?this[e]:this;i=new Fi(i,t,n);return e&&(i.targetName=e),this.addAnimator(i,e),i},to.prototype.addAnimator=function(e,t){var n=this.__zr,i=this;e.during((function(){i.updateDuringAnimation(t)})).done((function(){var t=i.animators,n=K(t,e);0<=n&&t.splice(n,1)})),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},to.prototype.updateDuringAnimation=function(e){this.markRedraw()},to.prototype.stopAnimation=function(e,t){for(var n=this.animators,i=n.length,r=[],o=0;o<i;o++){var a=n[o];e&&e!==a.scope?r.push(a):a.stop(t)}return this.animators=r,this},to.prototype.animateTo=function(e,t,n){no(this,e,t,n)},to.prototype.animateFrom=function(e,t,n){no(this,e,t,n,!0)},to.prototype._transitionState=function(e,t,n,i){for(var r=no(this,t,n,i),o=0;o<r.length;o++)r[o].__fromStateTransition=e},to.prototype.getBoundingRect=function(){return null},to.prototype.getPaintRect=function(){return null},to.initDefaultProps=function(){var e=to.prototype;function t(t,n,i,r){function o(e,t){Object.defineProperty(t,0,{get:function(){return e[i]},set:function(t){e[i]=t}}),Object.defineProperty(t,1,{get:function(){return e[r]},set:function(t){e[r]=t}})}Object.defineProperty(e,t,{get:function(){return this[n]||o(this,this[n]=[]),this[n]},set:function(e){this[i]=e[0],this[r]=e[1],this[n]=e,o(this,e)}})}e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=1,Object.defineProperty&&(t("position","_legacyPos","x","y"),t("scale","_legacyScale","scaleX","scaleY"),t("origin","_legacyOrigin","originX","originY"))}(),t=to;function to(e){this.id=H++,this.animators=[],this.currentStates=[],this.states={},this._init(e)}function no(e,t,n,i,r){function o(){u=!0,--l<=0&&(u?c&&c():h&&h())}function a(){--l<=0&&(u?c&&c():h&&h())}var s=[],l=(function e(t,n,i,r,o,a,s,l){for(var u=oe(r),c=o.duration,h=o.delay,d=o.additive,p=o.setToFinal,f=!pe(a),g=t.animators,m=[],y=0;y<u.length;y++){var v=u[y],x=r[v];null!=x&&null!=i[v]&&(f||a[v])?!pe(x)||$(x)||ye(x)?m.push(v):n?l||(i[v]=x,t.updateDuringAnimation(n)):e(t,v,i[v],x,o,a&&a[v],s,l):l||(i[v]=x,t.updateDuringAnimation(n),m.push(v))}var _=m.length;if(!d&&_)for(var b,w=0;w<g.length;w++)(S=g[w]).targetName!==n||S.stopTracks(m)&&(b=K(g,S),g.splice(b,1));if(o.force||(m=ie(m,(function(e){return!function(e,t){return e===t||$(e)&&$(t)&&function(e,t){var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}(e,t)}(r[e],i[e])})),_=m.length),0<_||o.force&&!s.length){var S,A=void 0,M=void 0,C=void 0;if(l)for(M={},p&&(A={}),w=0;w<_;w++)M[v=m[w]]=i[v],p?A[v]=r[v]:i[v]=r[v];else if(p)for(C={},w=0;w<_;w++)C[v=m[w]]=Ii(i[v]),ro(i,r,v);(S=new Fi(i,!1,!1,d?ie(g,(function(e){return e.targetName===n})):null)).targetName=n,o.scope&&(S.scope=o.scope),p&&A&&S.whenWithKeys(0,A,m),C&&S.whenWithKeys(0,C,m),S.whenWithKeys(null==c?500:c,l?M:r,m).delay(h||0),t.addAnimator(S,n),s.push(S)}}(e,"",e,t,n=n||{},i,s,r),s.length),u=!1,c=n.done,h=n.aborted;l||c&&c(),0<s.length&&n.during&&s[0].during((function(e,t){n.during(t)}));for(var d=0;d<s.length;d++){var p=s[d];p.done(o),p.aborted(a),n.force&&p.duration(n.duration),p.start(n.easing)}return s}function io(e,t,n){for(var i=0;i<n;i++)e[i]=t[i]}function ro(e,t,n){if($(t[n]))if($(e[n])||(e[n]=[]),ge(t[n])){var i=t[n].length;e[n].length!==i&&(e[n]=new t[n].constructor(i),io(e[n],t[n],i))}else{var r=t[n],o=e[n],a=r.length;if($(r[0]))for(var s=r[0].length,l=0;l<a;l++)o[l]?io(o[l],r[l],s):o[l]=Array.prototype.slice.call(r[l]);else io(o,r,a);o.length=r.length}else e[n]=t[n]}function oo(e){var t=Jr.call(this)||this;return t.isGroup=!0,t._children=[],t.attr(e),t}q(t,yt),q(t,Tr),He(oo,Jr=t),oo.prototype.childrenRef=function(){return this._children},oo.prototype.children=function(){return this._children.slice()},oo.prototype.childAt=function(e){return this._children[e]},oo.prototype.childOfName=function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},oo.prototype.childCount=function(){return this._children.length},oo.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},oo.prototype.addBefore=function(e,t){var n;return e&&e!==this&&e.parent!==this&&t&&t.parent===this&&0<=(t=(n=this._children).indexOf(t))&&(n.splice(t,0,e),this._doAdd(e)),this},oo.prototype.replace=function(e,t){return 0<=(e=K(this._children,e))&&this.replaceAt(t,e),this},oo.prototype.replaceAt=function(e,t){var n=this._children,i=n[t];return e&&e!==this&&e.parent!==this&&e!==i&&(n[t]=e,i.parent=null,(n=this.__zr)&&i.removeSelfFromZr(n),this._doAdd(e)),this},oo.prototype._doAdd=function(e){e.parent&&e.parent.remove(e);var t=(e.parent=this).__zr;t&&t!==e.__zr&&e.addSelfToZr(t),t&&t.refresh()},oo.prototype.remove=function(e){var t=this.__zr,n=this._children,i=K(n,e);return i<0||(n.splice(i,1),e.parent=null,t&&e.removeSelfFromZr(t),t&&t.refresh()),this},oo.prototype.removeAll=function(){for(var e=this._children,t=this.__zr,n=0;n<e.length;n++){var i=e[n];t&&i.removeSelfFromZr(t),i.parent=null}return e.length=0,this},oo.prototype.eachChild=function(e,t){for(var n=this._children,i=0;i<n.length;i++){var r=n[i];e.call(t,r,i)}return this},oo.prototype.traverse=function(e,t){for(var n=0;n<this._children.length;n++){var i=this._children[n],r=e.call(t,i);i.isGroup&&!r&&i.traverse(e,t)}return this},oo.prototype.addSelfToZr=function(e){Jr.prototype.addSelfToZr.call(this,e);for(var t=0;t<this._children.length;t++)this._children[t].addSelfToZr(e)},oo.prototype.removeSelfFromZr=function(e){Jr.prototype.removeSelfFromZr.call(this,e);for(var t=0;t<this._children.length;t++)this._children[t].removeSelfFromZr(e)},oo.prototype.getBoundingRect=function(e){for(var t=new zr(0,0,0,0),n=e||this._children,i=[],r=null,o=0;o<n.length;o++){var a,s=n[o];s.ignore||s.invisible||(a=s.getBoundingRect(),(s=s.getLocalTransform(i))?(zr.applyTransform(t,a,s),(r=r||t.clone()).union(t)):(r=r||a.clone()).union(a))}return r||t},(wc=oo).prototype.type="group";var ao=wc,so={},lo={};co.prototype.add=function(e){e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},co.prototype.remove=function(e){e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},co.prototype.configLayer=function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh()},co.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=function(e){if(!e)return!1;if("string"==typeof e)return li(e,1)<.4;if(e.colorStops){for(var t=e.colorStops,n=0,i=t.length,r=0;r<i;r++)n+=li(t[r].color,1);return(n/=i)<.4}return!1}(e)},co.prototype.getBackgroundColor=function(){return this._backgroundColor},co.prototype.setDarkMode=function(e){this._darkMode=e},co.prototype.isDarkMode=function(){return this._darkMode},co.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},co.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},co.prototype.flush=function(){this._flush(!1)},co.prototype._flush=function(e){var t,n=Ni();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),e=Ni();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:e-n})):0<this._sleepAfterStill&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},co.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},co.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},co.prototype.refreshHover=function(){this._needsRefreshHover=!0},co.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},co.prototype.resize=function(e){this.painter.resize((e=e||{}).width,e.height),this.handler.resize()},co.prototype.clearAnimation=function(){this.animation.clear()},co.prototype.getWidth=function(){return this.painter.getWidth()},co.prototype.getHeight=function(){return this.painter.getHeight()},co.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},co.prototype.findHover=function(e,t){return this.handler.findHover(e,t)},co.prototype.on=function(e,t,n){return this.handler.on(e,t,n),this},co.prototype.off=function(e,t){this.handler.off(e,t)},co.prototype.trigger=function(e,t){this.handler.trigger(e,t)},co.prototype.clear=function(){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof ao&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},co.prototype.dispose=function(){var e;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,e=this.id,delete lo[e]};var uo=co;function co(e,t,n){var i=this,r=(this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=t,this.id=e,new rn),o=n.renderer||"canvas";so[o]||(o=oe(so)[0]),n.useDirtyRect=null!=n.useDirtyRect&&n.useDirtyRect,o=new so[o](t,r,n,e),t=n.ssr||o.ssrOnly,this.storage=r,this.painter=o,e=A.node||A.worker||t?null:new or(o.getViewportRoot(),o.root);this.handler=new Jt(r,o,e,o.root),this.animation=new Vi({stage:{update:t?null:function(){return i._flush(!0)}}}),t||this.animation.start()}function ho(e,t){return e=new uo(H++,e,t),lo[e.id]=e}function po(e){e.dispose()}function fo(){for(var e in lo)lo.hasOwnProperty(e)&&lo[e].dispose();lo={}}function go(e){return lo[e]}function mo(e,t){so[e]=t}var yo="5.3.0",vo=1e-4;function xo(e,t,n,i){var r=t[0],o=(t=t[1],n[0]),a=t-r,s=(n=n[1])-o;if(0==a)return 0==s?o:(o+n)/2;if(i)if(0<a){if(e<=r)return o;if(t<=e)return n}else{if(r<=e)return o;if(e<=t)return n}else{if(e===r)return o;if(e===t)return n}return(e-r)/a*s+o}function _o(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return ce(e)?e.replace(/^\s+|\s+$/g,"").match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e}function bo(e,t,n){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),n?e:+e}function wo(e){return e.sort((function(e,t){return e-t})),e}function So(e){if(e=+e,isNaN(e))return 0;if(1e-14<e)for(var t=1,n=0;n<15;n++,t*=10)if(Math.round(e*t)/t===e)return n;return Ao(e)}function Ao(e){var t=0<(n=(e=e.toString().toLowerCase()).indexOf("e"))?+e.slice(n+1):0,n=0<n?n:e.length;e=e.indexOf(".");return Math.max(0,(e<0?0:n-1-e)-t)}function Mo(e,t){var n=Math.log,i=Math.LN10;e=Math.floor(n(e[1]-e[0])/i),n=Math.round(n(Math.abs(t[1]-t[0]))/i),t=Math.min(Math.max(-e+n,0),20);return isFinite(t)?t:20}function Co(e,t,n){if(!e[t])return 0;var i=ne(e,(function(e,t){return e+(isNaN(t)?0:t)}),0);if(0===i)return 0;for(var r=Math.pow(10,n),o=(n=te(e,(function(e){return(isNaN(e)?0:e)/i*r*100})),100*r),a=te(n,(function(e){return Math.floor(e)})),s=ne(a,(function(e,t){return e+t}),0),l=te(n,(function(e,t){return e-a[t]}));s<o;){for(var u=Number.NEGATIVE_INFINITY,c=null,h=0,d=l.length;h<d;++h)l[h]>u&&(u=l[h],c=h);++a[c],l[c]=0,++s}return a[t]/r}var To=9007199254740991;function Io(e){var t=2*Math.PI;return(e%t+t)%t}function ko(e){return-vo<e&&e<vo}var Do=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Bo(e){return e instanceof Date?e:ce(e)?(t=Do.exec(e))?t[8]?(n=+t[4]||0,"Z"!==t[8].toUpperCase()&&(n-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))):new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0):new Date(NaN):null==e?new Date(NaN):new Date(Math.round(e));var t,n}function Eo(e){return Math.pow(10,Po(e))}function Po(e){if(0===e)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return 10<=e/Math.pow(10,t)&&t++,t}function Lo(e,t){var n=Po(e),i=Math.pow(10,n),r=e/i;return e=(t=t?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*i,-20<=n?+e.toFixed(n<0?-n:0):e}function Ro(e,t){t=(e.length-1)*t+1;var n=Math.floor(t),i=+e[n-1];return(t=t-n)?i+t*(e[n]-i):i}function Oo(e){e.sort((function(e,t){return function e(t,n,i){return t.interval[i]<n.interval[i]||t.interval[i]===n.interval[i]&&(t.close[i]-n.close[i]==(i?-1:1)||!i&&e(t,n,1))}(e,t,0)?-1:1}));for(var t=-1/0,n=1,i=0;i<e.length;){for(var r=e[i].interval,o=e[i].close,a=0;a<2;a++)r[a]<=t&&(r[a]=t,o[a]=a?1:1-n),t=r[a],n=o[a];r[0]===r[1]&&o[0]*o[1]!=1?e.splice(i,1):i++}return e}function Fo(e){var t=parseFloat(e);return t==e&&(0!==t||!ce(e)||e.indexOf("x")<=0)?t:NaN}function No(e){return!isNaN(Fo(e))}function zo(){return Math.round(9*Math.random())}function Go(e,t){return null==e?t:null==t?e:e*t/function e(t,n){return 0===n?t:e(n,t%n)}(e,t)}function Ho(e,t,n){return(t-e)*n+e}var Vo="series\0";function Uo(e){return e instanceof Array?e:null==e?[]:[e]}function Zo(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var i=0,r=n.length;i<r;i++){var o=n[i];!e.emphasis[t].hasOwnProperty(o)&&e[t].hasOwnProperty(o)&&(e.emphasis[t][o]=e[t][o])}}}var Wo=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function jo(e){return!pe(e)||le(e)||e instanceof Date?e:e.value}function Xo(e,t,n){var i,r,o,a,s,l,u,c,h,d,p="normalMerge"===n,f="replaceMerge"===n,g="replaceAll"===n,m=(e=e||[],t=(t||[]).slice(),Pe());ee(t,(function(e,n){pe(e)||(t[n]=null)})),n=function(e,t,n){var i=[];if("replaceAll"===n)return i;for(var r=0;r<e.length;r++){var o=e[r];o&&null!=o.id&&t.set(o.id,r),i.push({existing:"replaceMerge"===n||qo(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return i}(e,m,n);return(p||f)&&(i=n,r=e,o=m,ee(a=t,(function(e,t){var n,s,l;e&&null!=e.id&&(n=Jo(e.id),null!=(s=o.get(n))&&(Ce(!(l=i[s]).newOption,'Duplicated option on id "'+n+'".'),l.newOption=e,l.existing=r[s],a[t]=null))}))),p&&(s=n,ee(l=t,(function(e,t){if(e&&null!=e.name)for(var n=0;n<s.length;n++){var i=s[n].existing;if(!s[n].newOption&&i&&(null==i.id||null==e.id)&&!qo(e)&&!qo(i)&&Yo("name",i,e))return s[n].newOption=e,void(l[t]=null)}}))),p||f?(c=n,h=f,ee(t,(function(e){if(e){for(var t,n=0;(t=c[n])&&(t.newOption||qo(t.existing)||t.existing&&null!=e.id&&!Yo("id",e,t.existing));)n++;t?(t.newOption=e,t.brandNew=h):c.push({newOption:e,brandNew:h,existing:null,keyInfo:null}),n++}}))):g&&(u=n,ee(t,(function(e){u.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})}))),e=n,d=Pe(),ee(e,(function(e){var t=e.existing;t&&d.set(t.id,e)})),ee(e,(function(e){var t=e.newOption;Ce(!t||null==t.id||!d.get(t.id)||d.get(t.id)===e,"id duplicates: "+(t&&t.id)),t&&null!=t.id&&d.set(t.id,e),e.keyInfo||(e.keyInfo={})})),ee(e,(function(e,t){var n=e.existing,i=e.newOption,r=e.keyInfo;if(pe(i)){if(r.name=null!=i.name?Jo(i.name):n?n.name:Vo+t,n)r.id=Jo(n.id);else if(null!=i.id)r.id=Jo(i.id);else for(var o=0;r.id="\0"+r.name+"\0"+o++,d.get(r.id););d.set(r.id,e)}})),n}function Yo(e,t,n){return t=Ko(t[e],null),n=Ko(n[e],null),null!=t&&null!=n&&t===n}function Jo(e){return Ko(e,"")}function Ko(e,t){return null==e?t:ce(e)?e:de(e)||he(e)?e+"":t}function Qo(e){return!(!(e=e.name)||!e.indexOf(Vo))}function qo(e){return e&&null!=e.id&&0===Jo(e.id).indexOf("\0_ec_\0")}function $o(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?le(t.dataIndex)?te(t.dataIndex,(function(t){return e.indexOfRawIndex(t)})):e.indexOfRawIndex(t.dataIndex):null!=t.name?le(t.name)?te(t.name,(function(t){return e.indexOfName(t)})):e.indexOfName(t.name):void 0}function ea(){var e="__ec_inner_"+ta++;return function(t){return t[e]||(t[e]={})}}var ta=zo();function na(e,t,n){var i=(t=ia(t,n)).mainTypeSpecified,r=t.queryOptionMap,o=t.others,a=n?n.defaultMainType:null;return!i&&a&&r.set(a,{}),r.each((function(t,i){t=aa(e,i,t,{useDefault:a===i,enableAll:!n||null==n.enableAll||n.enableAll,enableNone:!n||null==n.enableNone||n.enableNone}),o[i+"Models"]=t.models,o[i+"Model"]=t.models[0]})),o}function ia(e,t){var n=ce(e)?((n={})[e+"Index"]=0,n):e,i=Pe(),r={},o=!1;return ee(n,(function(e,n){var a;"dataIndex"===n||"dataIndexInside"===n?r[n]=e:(a=(n=n.match(/^(\w+)(Index|Id|Name)$/)||[])[1],n=(n[2]||"").toLowerCase(),!a||!n||t&&t.includeMainTypes&&K(t.includeMainTypes,a)<0||(o=o||!!a,(i.get(a)||i.set(a,{}))[n]=e))})),{mainTypeSpecified:o,queryOptionMap:i,others:r}}var ra={useDefault:!0,enableAll:!1,enableNone:!1},oa={useDefault:!1,enableAll:!0,enableNone:!0};function aa(e,t,n,i){i=i||ra;var r=n.index,o=n.id,a=(n=n.name,{models:null,specified:null!=r||null!=o||null!=n});return a.specified?"none"===r||!1===r?(Ce(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),a.models=[]):("all"===r&&(Ce(i.enableAll,'`"all"` is not a valid value on index option.'),r=o=n=null),a.models=e.queryComponents({mainType:t,index:r,id:o,name:n})):(r=void 0,a.models=i.useDefault&&(r=e.getComponent(t))?[r]:[]),a}function sa(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function la(e,t){var n=Pe(),i=[];return ee(e,(function(e){var r=t(e);(n.get(r)||(i.push(r),n.set(r,[]))).push(e)})),{keys:i,buckets:n}}function ua(e,t,n,i,r){var o=null==t||"auto"===t;if(null==i)return i;if(de(i))return bo(d=Ho(n||0,i,r),o?Math.max(So(n||0),So(i)):t);if(ce(i))return r<1?n:i;for(var a=[],s=n,l=i,u=Math.max(s?s.length:0,l.length),c=0;c<u;++c){var h,d,p=e.getDimensionInfo(c);p&&"ordinal"===p.type?a[c]=(r<1&&s?s:l)[c]:(d=Ho(p=s&&s[c]?s[c]:0,h=l[c],r),a[c]=bo(d,o?Math.max(So(p),So(h)):t))}return a}var ca="___EC__COMPONENT__CONTAINER___",ha="___EC__EXTENDED_CLASS___";function da(e){var t={main:"",sub:""};return e&&(e=e.split("."),t.main=e[0]||"",t.sub=e[1]||""),t}function pa(e){(e.$constructor=e).extend=function(e){var t,n,i,r=this;function o(){return n.apply(this,arguments)||this}return ue(i=r)&&/^class\s/.test(Function.prototype.toString.call(i))?(_(o,n=r),t=o):Q(t=function(){(e.$constructor||r).apply(this,arguments)},this),X(t.prototype,e),t[ha]=!0,t.extend=this.extend,t.superCall=ga,t.superApply=ma,t.superClass=r,t}}function fa(e,t){e.extend=t.extend}function ga(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return this.superClass.prototype[t].apply(e,n)}function ma(e,t,n){return this.superClass.prototype[t].apply(e,n)}function ya(e){var t={};e.registerClass=function(e){var n,i=e.type||e.prototype.type;return i&&(Ce(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n=i),'componentType "'+n+'" illegal'),(n=da(e.prototype.type=i)).sub?n.sub!==ca&&((function(e){var n=t[e.main];return n&&n[ca]||(n=t[e.main]={___EC__COMPONENT__CONTAINER___:!0}),n}(n))[n.sub]=e):t[n.main]=e),e},e.getClass=function(e,n,i){var r=t[e];if(r&&r[ca]&&(r=n?r[n]:null),i&&!r)throw new Error(n?"Component "+e+"."+(n||"")+" is used but not imported.":e+".type should be specified.");return r},e.getClassesByMainType=function(e){e=da(e);var n=[];return(e=t[e.main])&&e[ca]?ee(e,(function(e,t){t!==ca&&n.push(e)})):n.push(e),n},e.hasClass=function(e){return e=da(e),!!t[e.main]},e.getAllClassMainTypes=function(){var e=[];return ee(t,(function(t,n){e.push(n)})),e},e.hasSubTypes=function(e){return e=da(e),(e=t[e.main])&&e[ca]}}function va(e,t){for(var n=0;n<e.length;n++)e[n][1]||(e[n][1]=e[n][0]);return t=t||!1,function(n,i,r){for(var o={},a=0;a<e.length;a++){var s=e[a][1];i&&0<=K(i,s)||r&&K(r,s)<0||null!=(s=n.getShallow(s,t))&&(o[e[a][0]]=s)}return o}}wc=Math.round(10*Math.random());var xa=va([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),_a=(ba.prototype.getAreaStyle=function(e,t){return xa(this,e,t)},ba);function ba(){}var wa=new Nn(50);function Sa(e,t,n,i,r){if(e){if("string"!=typeof e)return e;if(t&&t.__zrImageSrc===e||!n)return t;var o=wa.get(e);n={hostEl:n,cb:i,cbPayload:r};return o?Ma(t=o.image)||o.pending.push(n):((i=I.loadImage(e,Aa,Aa)).__zrImageSrc=e,wa.put(e,i.__cachedImgObj={image:i,pending:[n]})),t}return t}function Aa(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function Ma(e){return e&&e.width&&e.height}var Ca=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Ta(e,t,n,i,r){if(!t)return"";var o=(e+"").split("\n");r=Ia(t,n,i,r);for(var a=0,s=o.length;a<s;a++)o[a]=ka(o[a],r);return o.join("\n")}function Ia(e,t,n,i){for(var r=X({},i=i||{}),o=(r.font=t,n=we(n,"..."),r.maxIterations=we(i.maxIterations,2),r.minChar=we(i.minChar,0)),a=(r.cnCharWidth=Hr("\u56fd",t),r.ascCharWidth=Hr("a",t)),s=(r.placeholder=we(i.placeholder,""),e=Math.max(0,e-1)),l=0;l<o&&a<=s;l++)s-=a;return s<(i=Hr(n,t))&&(n="",i=0),s=e-i,r.ellipsis=n,r.ellipsisWidth=i,r.contentWidth=s,r.containerWidth=e,r}function ka(e,t){var n=t.containerWidth,i=t.font,r=t.contentWidth;if(!n)return"";if((s=Hr(e,i))<=n)return e;for(var o=0;;o++){if(s<=r||o>=t.maxIterations){e+=t.ellipsis;break}var a=0===o?function(e,t,n,i){for(var r=0,o=0,a=e.length;o<a&&r<t;o++){var s=e.charCodeAt(o);r+=0<=s&&s<=127?n:i}return o}(e,r,t.ascCharWidth,t.cnCharWidth):0<s?Math.floor(e.length*r/s):0,s=Hr(e=e.substr(0,a),i)}return""===e?t.placeholder:e}var Da=function(){},Ba=function(e){this.tokens=[],e&&(this.tokens=e)},Ea=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function Pa(e,t,n,i,r){var o,a,s=""===t,l=r&&n.rich[r]||{},u=e.lines,c=l.font||n.font,h=!1;i?(n=(e=l.padding)?e[1]+e[3]:0,null!=l.width&&"auto"!==l.width?(e=Xr(l.width,i.width)+n,0<u.length&&e+i.accumWidth>i.width&&(o=t.split("\n"),h=!0),i.accumWidth=e):(e=Ra(t,c,i.width,i.breakAll,i.accumWidth),i.accumWidth=e.accumWidth+n,a=e.linesWidths,o=e.lines)):o=t.split("\n");for(var d=0;d<o.length;d++){var p,f,g=o[d],m=new Da;m.styleName=r,m.text=g,m.isLineHolder=!g&&!s,"number"==typeof l.width?m.width=l.width:m.width=a?a[d]:Hr(g,c),d||h?u.push(new Ba([m])):1===(f=(p=(u[u.length-1]||(u[0]=new Ba)).tokens).length)&&p[0].isLineHolder?p[0]=m:!g&&f&&!s||p.push(m)}}var La=ne(",&?/;] ".split(""),(function(e,t){return e[t]=!0,e}),{});function Ra(e,t,n,i,r){for(var o,a=[],s=[],l="",u="",c=0,h=0,d=0;d<e.length;d++){var p,f,g=e.charAt(d);"\n"===g?(u&&(l+=u,h+=c),a.push(l),s.push(h),u=l="",h=c=0):(p=Hr(g,t),f=!i&&(f=void 0,!(!(33<=(f=(f=o=g).charCodeAt(0))&&f<=383)||La[o])),(a.length?n<h+p:n<r+h+p)?h?(l||u)&&(h=f?(l||(l=u,u="",h=c=0),a.push(l),s.push(h-c),u+=g,l="",c+=p):(u&&(l+=u,u="",c=0),a.push(l),s.push(h),l=g,p)):f?(a.push(u),s.push(c),u=g,c=p):(a.push(g),s.push(p)):(h+=p,f?(u+=g,c+=p):(u&&(l+=u,u="",c=0),l+=g)))}return a.length||l||(l=e,u="",c=0),u&&(l+=u),l&&(a.push(l),s.push(h)),1===a.length&&(h+=r),{accumWidth:h,lines:a,linesWidths:s}}var Oa,Fa="__zr_style_"+Math.round(10*Math.random()),Na={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},za={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}},Ga=(Na[Fa]=!0,["z","z2","invisible"]),Ha=["invisible"];He(Va,Oa=t),Va.prototype._init=function(e){for(var t=oe(e),n=0;n<t.length;n++){var i=t[n];"style"===i?this.useStyle(e[i]):Oa.prototype.attrKV.call(this,i,e[i])}this.style||this.useStyle({})},Va.prototype.beforeBrush=function(){},Va.prototype.afterBrush=function(){},Va.prototype.innerBeforeBrush=function(){},Va.prototype.innerAfterBrush=function(){},Va.prototype.shouldBePainted=function(e,t,n,i){var r=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function(e,t,n){return Ua.copy(e.getBoundingRect()),e.transform&&Ua.applyTransform(e.transform),Za.width=t,Za.height=n,!Ua.intersect(Za)}(this,e,t)||r&&!r[0]&&!r[3])return!1;if(n&&this.__clipPaths)for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1;if(i&&this.parent)for(var a=this.parent;a;){if(a.ignore)return!1;a=a.parent}return!0},Va.prototype.contain=function(e,t){return this.rectContain(e,t)},Va.prototype.traverse=function(e,t){e.call(t,this)},Va.prototype.rectContain=function(e,t){return e=this.transformCoordToLocal(e,t),this.getBoundingRect().contain(e[0],e[1])},Va.prototype.getPaintRect=function(){var e,t,n,i,r,o=this._paintRect;return this._paintRect&&!this.__dirty||(r=this.transform,e=this.getBoundingRect(),t=(i=this.style).shadowBlur||0,n=i.shadowOffsetX||0,i=i.shadowOffsetY||0,o=this._paintRect||(this._paintRect=new zr(0,0,0,0)),r?zr.applyTransform(o,e,r):o.copy(e),(t||n||i)&&(o.width+=2*t+Math.abs(n),o.height+=2*t+Math.abs(i),o.x=Math.min(o.x,o.x+n-t),o.y=Math.min(o.y,o.y+i-t)),r=this.dirtyRectTolerance,o.isZero()||(o.x=Math.floor(o.x-r),o.y=Math.floor(o.y-r),o.width=Math.ceil(o.width+1+2*r),o.height=Math.ceil(o.height+1+2*r))),o},Va.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new zr(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},Va.prototype.getPrevPaintRect=function(){return this._prevPaintRect},Va.prototype.animateStyle=function(e){return this.animate("style",e)},Va.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():this.markRedraw()},Va.prototype.attrKV=function(e,t){"style"!==e?Oa.prototype.attrKV.call(this,e,t):this.style?this.setStyle(t):this.useStyle(t)},Va.prototype.setStyle=function(e,t){return"string"==typeof e?this.style[e]=t:X(this.style,e),this.dirtyStyle(),this},Va.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},Va.prototype.dirty=function(){this.dirtyStyle()},Va.prototype.styleChanged=function(){return!!(2&this.__dirty)},Va.prototype.styleUpdated=function(){this.__dirty&=-3},Va.prototype.createStyle=function(e){return Re(Na,e)},Va.prototype.useStyle=function(e){e[Fa]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},Va.prototype.isStyleObject=function(e){return e[Fa]},Va.prototype._innerSaveToNormal=function(e){Oa.prototype._innerSaveToNormal.call(this,e);var t=this._normalState;e.style&&!t.style&&(t.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,t,Ga)},Va.prototype._applyStateObj=function(e,t,n,i,r,o){Oa.prototype._applyStateObj.call(this,e,t,n,i,r,o);var a,s=!(t&&i);if(t&&t.style?r?i?a=t.style:(a=this._mergeStyle(this.createStyle(),n.style),this._mergeStyle(a,t.style)):(a=this._mergeStyle(this.createStyle(),(i?this:n).style),this._mergeStyle(a,t.style)):s&&(a=n.style),a)if(r){var l=this.style;if(this.style=this.createStyle(s?{}:l),s)for(var u=oe(l),c=0;c<u.length;c++)(d=u[c])in a&&(a[d]=a[d],this.style[d]=l[d]);var h=oe(a);for(c=0;c<h.length;c++){var d=h[c];this.style[d]=this.style[d]}this._transitionState(e,{style:a},o,this.getAnimationStyleProps())}else this.useStyle(a);var p=this.__inHover?Ha:Ga;for(c=0;c<p.length;c++)d=p[c],t&&null!=t[d]?this[d]=t[d]:s&&null!=n[d]&&(this[d]=n[d])},Va.prototype._mergeStates=function(e){for(var t,n=Oa.prototype._mergeStates.call(this,e),i=0;i<e.length;i++){var r=e[i];r.style&&this._mergeStyle(t=t||{},r.style)}return t&&(n.style=t),n},Va.prototype._mergeStyle=function(e,t){return X(e,t),e},Va.prototype.getAnimationStyleProps=function(){return za},Va.initDefaultProps=((t=Va.prototype).type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,void(t.__dirty=3)),t=Va;function Va(e){return Oa.call(this,e)||this}var Ua=new zr(0,0,0,0),Za=new zr(0,0,0,0),Wa=t,ja=Math.min,Xa=Math.max,Ya=Math.sin,Ja=Math.cos,Ka=2*Math.PI,Qa=Ve(),qa=Ve(),$a=Ve();function es(e,t,n){if(0!==e.length){for(var i=e[0],r=i[0],o=i[0],a=i[1],s=i[1],l=1;l<e.length;l++)i=e[l],r=ja(r,i[0]),o=Xa(o,i[0]),a=ja(a,i[1]),s=Xa(s,i[1]);t[0]=r,t[1]=a,n[0]=o,n[1]=s}}function ts(e,t,n,i,r,o){r[0]=ja(e,n),r[1]=ja(t,i),o[0]=Xa(e,n),o[1]=Xa(t,i)}var ns=[],is=[],rs={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},os=[],as=[],ss=[],ls=[],us=[],cs=[],hs=Math.min,ds=Math.max,ps=Math.cos,fs=Math.sin,gs=Math.abs,ms=Math.PI,ys=2*ms,vs="undefined"!=typeof Float32Array,xs=[];function _s(e){return Math.round(e/ms*1e8)/1e8%2*ms}function bs(e,t){var n=_s(e[0]),i=(n<0&&(n+=ys),n-e[0]),r=e[1];r+=i,!t&&ys<=r-n?r=n+ys:t&&ys<=n-r?r=n-ys:!t&&r<n?r=n+(ys-_s(n-r)):t&&n<r&&(r=n-(ys-_s(r-n))),e[0]=n,e[1]=r}function ws(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}ws.prototype.increaseVersion=function(){this._version++},ws.prototype.getVersion=function(){return this._version},ws.prototype.setScale=function(e,t,n){0<(n=n||0)&&(this._ux=gs(n/sr/e)||0,this._uy=gs(n/sr/t)||0)},ws.prototype.setDPR=function(e){this.dpr=e},ws.prototype.setContext=function(e){this._ctx=e},ws.prototype.getContext=function(){return this._ctx},ws.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},ws.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},ws.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(rs.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},ws.prototype.lineTo=function(e,t){var n=gs(e-this._xi),i=gs(t-this._yi),r=n>this._ux||i>this._uy;return this.addData(rs.L,e,t),this._ctx&&r&&this._ctx.lineTo(e,t),r?(this._xi=e,this._yi=t,this._pendingPtDist=0):(r=n*n+i*i)>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=r),this},ws.prototype.bezierCurveTo=function(e,t,n,i,r,o){return this._drawPendingPt(),this.addData(rs.C,e,t,n,i,r,o),this._ctx&&this._ctx.bezierCurveTo(e,t,n,i,r,o),this._xi=r,this._yi=o,this},ws.prototype.quadraticCurveTo=function(e,t,n,i){return this._drawPendingPt(),this.addData(rs.Q,e,t,n,i),this._ctx&&this._ctx.quadraticCurveTo(e,t,n,i),this._xi=n,this._yi=i,this},ws.prototype.arc=function(e,t,n,i,r,o){return this._drawPendingPt(),xs[0]=i,xs[1]=r,bs(xs,o),i=xs[0],r=xs[1],this.addData(rs.A,e,t,n,n,i,r-i,0,o?0:1),this._ctx&&this._ctx.arc(e,t,n,i,r,o),this._xi=ps(r)*n+e,this._yi=fs(r)*n+t,this},ws.prototype.arcTo=function(e,t,n,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,n,i,r),this},ws.prototype.rect=function(e,t,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,n,i),this.addData(rs.R,e,t,n,i),this},ws.prototype.closePath=function(){this._drawPendingPt(),this.addData(rs.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&e.closePath(),this._xi=t,this._yi=n,this},ws.prototype.fill=function(e){e&&e.fill(),this.toStatic()},ws.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},ws.prototype.len=function(){return this._len},ws.prototype.setData=function(e){var t=e.length;this.data&&this.data.length===t||!vs||(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},ws.prototype.appendPath=function(e){for(var t=(e=e instanceof Array?e:[e]).length,n=0,i=this._len,r=0;r<t;r++)n+=e[r].len();for(vs&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n)),r=0;r<t;r++)for(var o=e[r].data,a=0;a<o.length;a++)this.data[i++]=o[a];this._len=i},ws.prototype.addData=function(e,t,n,i,r,o,a,s,l){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var c=0;c<arguments.length;c++)u[this._len++]=arguments[c]}},ws.prototype._drawPendingPt=function(){0<this._pendingPtDist&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},ws.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},ws.prototype.toStatic=function(){var e;this._saveData&&(this._drawPendingPt(),(e=this.data)instanceof Array&&(e.length=this._len,vs&&11<this._len&&(this.data=new Float32Array(e))))},ws.prototype.getBoundingRect=function(){ss[0]=ss[1]=us[0]=us[1]=Number.MAX_VALUE,ls[0]=ls[1]=cs[0]=cs[1]=-Number.MAX_VALUE;for(var e,t,n,i=this.data,r=0,o=0,a=0,s=0,l=0;l<this._len;){var u=i[l++],c=1===l;switch(c&&(a=r=i[l],s=o=i[l+1]),u){case rs.M:r=a=i[l++],o=s=i[l++],us[0]=a,us[1]=s,cs[0]=a,cs[1]=s;break;case rs.L:ts(r,o,i[l],i[l+1],us,cs),r=i[l++],o=i[l++];break;case rs.C:C=M=A=S=w=b=_=x=void 0;var h=r,d=o,p=i[l++],f=i[l++],g=i[l++],m=i[l++],y=i[l],v=i[l+1],x=us,_=cs,b=wn,w=xn,S=b(h,p,g,y,ns);x[0]=1/0,x[1]=1/0,_[0]=-1/0,_[1]=-1/0;for(var A=0;A<S;A++){var M=w(h,p,g,y,ns[A]);x[0]=ja(M,x[0]),_[0]=Xa(M,_[0])}for(S=b(d,f,m,v,is),A=0;A<S;A++){var C=w(d,f,m,v,is[A]);x[1]=ja(C,x[1]),_[1]=Xa(C,_[1])}x[0]=ja(h,x[0]),_[0]=Xa(h,_[0]),x[0]=ja(y,x[0]),_[0]=Xa(y,_[0]),x[1]=ja(d,x[1]),_[1]=Xa(d,_[1]),x[1]=ja(v,x[1]),_[1]=Xa(v,_[1]),r=i[l++],o=i[l++];break;case rs.Q:b=r,e=o,E=i[l++],I=i[l++],B=i[l],t=i[l+1],D=us,P=cs,n=k=n=T=void 0,T=Mn,n=Xa(ja((k=Tn)(b,E,B),1),0),k=Xa(ja(k(e,I,t),1),0),E=T(b,E,B,n),n=T(e,I,t,k),D[0]=ja(b,B,E),D[1]=ja(e,t,n),P[0]=Xa(b,B,E),P[1]=Xa(e,t,n),r=i[l++],o=i[l++];break;case rs.A:var T=i[l++],I=i[l++],k=i[l++],D=i[l++],B=i[l++],E=i[l++]+B,P=(l+=1,!i[l++]);c&&(a=ps(B)*k+T,s=fs(B)*D+I),function(e,t,n,i,r,o,a,s,l){var u=ht,c=dt,h=Math.abs(r-o);if(h%Ka<1e-4&&1e-4<h)return s[0]=e-n,s[1]=t-i,l[0]=e+n,l[1]=t+i;Qa[0]=Ja(r)*n+e,Qa[1]=Ya(r)*i+t,qa[0]=Ja(o)*n+e,qa[1]=Ya(o)*i+t,u(s,Qa,qa),c(l,Qa,qa),(r%=Ka)<0&&(r+=Ka),(o%=Ka)<0&&(o+=Ka),o<r&&!a?o+=Ka:r<o&&a&&(r+=Ka),a&&(h=o,o=r,r=h);for(var d=0;d<o;d+=Math.PI/2)r<d&&($a[0]=Ja(d)*n+e,$a[1]=Ya(d)*i+t,u(s,$a,s),c(l,$a,l))}(T,I,k,D,B,E,P,us,cs),r=ps(E)*k+T,o=fs(E)*D+I;break;case rs.R:ts(a=r=i[l++],s=o=i[l++],a+i[l++],s+i[l++],us,cs);break;case rs.Z:r=a,o=s}ht(ss,ss,us),dt(ls,ls,cs)}return 0===l&&(ss[0]=ss[1]=ls[0]=ls[1]=0),new zr(ss[0],ss[1],ls[0]-ss[0],ls[1]-ss[1])},ws.prototype._calculateLength=function(){for(var e=this.data,t=this._len,n=this._ux,i=this._uy,r=0,o=0,a=0,s=0,l=(this._pathSegLen||(this._pathSegLen=[]),this._pathSegLen),u=0,c=0,h=0;h<t;){var d=e[h++],p=1===h,f=(p&&(a=r=e[h],s=o=e[h+1]),-1);switch(d){case rs.M:r=a=e[h++],o=s=e[h++];break;case rs.L:var g=e[h++],m=(x=e[h++])-o;(gs(T=g-r)>n||gs(m)>i||h===t-1)&&(f=Math.sqrt(T*T+m*m),r=g,o=x);break;case rs.C:var y=e[h++],v=e[h++],x=(g=e[h++],e[h++]);f=function(e,t,n,i,r,o,a,s,l){for(var u=e,c=t,h=0,d=1;d<=10;d++){var p,f=xn(e,n,r,a,p=.1*d),g=f-u,m=(p=xn(t,i,o,s,p))-c;h+=Math.sqrt(g*g+m*m),u=f,c=p}return h}(r,o,y,v,g,x,_=e[h++],b=e[h++]),r=_,o=b;break;case rs.Q:f=function(e,t,n,i,r,o,a){for(var s=e,l=t,u=0,c=1;c<=10;c++){var h,d=Mn(e,n,r,h=.1*c),p=d-s,f=(h=Mn(t,i,o,h))-l;u+=Math.sqrt(p*p+f*f),s=d,l=h}return u}(r,o,y=e[h++],v=e[h++],g=e[h++],x=e[h++]),r=g,o=x;break;case rs.A:var _=e[h++],b=e[h++],w=e[h++],S=e[h++],A=e[h++],M=e[h++],C=M+A;h+=1,e[h++],p&&(a=ps(A)*w+_,s=fs(A)*S+b),f=ds(w,S)*hs(ys,Math.abs(M)),r=ps(C)*w+_,o=fs(C)*S+b;break;case rs.R:a=r=e[h++],s=o=e[h++],f=2*e[h++]+2*e[h++];break;case rs.Z:var T=a-r;m=s-o;f=Math.sqrt(T*T+m*m),r=a,o=s}0<=f&&(u+=l[c++]=f)}return this._pathLen=u},ws.prototype.rebuildPath=function(e,t){var n,i,r,o,a,s,l,u,c=this.data,h=this._ux,d=this._uy,p=this._len,f=t<1,g=0,m=0,y=0;if(!f||(this._pathSegLen||this._calculateLength(),a=this._pathSegLen,s=t*this._pathLen))e:for(var v=0;v<p;){var x=c[v++],_=1===v;switch(_&&(n=r=c[v],i=o=c[v+1]),x!==rs.L&&0<y&&(e.lineTo(l,u),y=0),x){case rs.M:n=r=c[v++],i=o=c[v++],e.moveTo(r,o);break;case rs.L:var b=c[v++],w=c[v++],S=gs(b-r),A=gs(w-o);if(h<S||d<A){if(f){if(s<g+(V=a[m++])){var M=(s-g)/V;e.lineTo(r*(1-M)+b*M,o*(1-M)+w*M);break e}g+=V}e.lineTo(b,w),r=b,o=w,y=0}else y<(S=S*S+A*A)&&(l=b,u=w,y=S);break;case rs.C:var C=c[v++],T=c[v++],I=c[v++],k=c[v++];A=c[v++],S=c[v++];if(f){if(s<g+(V=a[m++])){Sn(r,C,I,A,M=(s-g)/V,os),Sn(o,T,k,S,M,as),e.bezierCurveTo(os[1],as[1],os[2],as[2],os[3],as[3]);break e}g+=V}e.bezierCurveTo(C,T,I,k,A,S),r=A,o=S;break;case rs.Q:if(C=c[v++],T=c[v++],I=c[v++],k=c[v++],f){if(s<g+(V=a[m++])){In(r,C,I,M=(s-g)/V,os),In(o,T,k,M,as),e.quadraticCurveTo(os[1],as[1],os[2],as[2]);break e}g+=V}e.quadraticCurveTo(C,T,I,k),r=I,o=k;break;case rs.A:var D=c[v++],B=c[v++],E=c[v++],P=c[v++],L=c[v++],R=c[v++],O=c[v++],F=!c[v++],N=P<E?E:P,z=.001<gs(E-P),G=L+R,H=!1;if(f&&(s<g+(V=a[m++])&&(G=L+R*(s-g)/V,H=!0),g+=V),z&&e.ellipse?e.ellipse(D,B,E,P,O,L,G,F):e.arc(D,B,N,L,G,F),H)break e;_&&(n=ps(L)*E+D,i=fs(L)*P+B),r=ps(G)*E+D,o=fs(G)*P+B;break;case rs.R:n=r=c[v],i=o=c[v+1],b=c[v++],w=c[v++];var V;R=c[v++],z=c[v++];if(f){if(s<g+(V=a[m++])){O=s-g,e.moveTo(b,w),e.lineTo(b+hs(O,R),w),0<(O-=R)&&e.lineTo(b+R,w+hs(O,z)),0<(O-=z)&&e.lineTo(b+ds(R-O,0),w+z),0<(O-=R)&&e.lineTo(b,w+ds(z-O,0));break e}g+=V}e.rect(b,w,R,z);break;case rs.Z:if(f){if(s<g+(V=a[m++])){M=(s-g)/V,e.lineTo(r*(1-M)+n*M,o*(1-M)+i*M);break e}g+=V}e.closePath(),r=n,o=i}}},ws.prototype.clone=function(){var e=new ws,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},ws.CMD=rs,ws.initDefaultProps=((t=ws.prototype)._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,void(t._version=0));var Ss=ws;function As(e,t,n,i,r,o,a){if(0!==r){var s=0;if(!(t+r<a&&i+r<a||a<t-r&&a<i-r||e+r<o&&n+r<o||o<e-r&&o<n-r))return e===n?Math.abs(o-e)<=r/2:(o=(s=(t-i)/(e-n))*o-a+(e*i-n*t)/(e-n))*o/(s*s+1)<=r/2*r/2}}function Ms(e,t,n,i,r,o,a,s,l){if(0!==a)return t+a<l&&i+a<l&&o+a<l||l<t-a&&l<i-a&&l<o-a||e+a<s&&n+a<s&&r+a<s||s<e-a&&s<n-a&&s<r-a?void 0:kn(e,t,n,i,r,o,s,l,null)<=a/2}var Cs=2*Math.PI;function Ts(e){return(e%=Cs)<0&&(e+=Cs),e}var Is=2*Math.PI;function ks(e,t,n,i,r,o){if(t<o&&i<o||o<t&&o<i)return 0;if(i===t)return 0;var a=i<t?1:-1;return(i=(1!=(o=(o-t)/(i-t))&&0!=o||(a=i<t?.5:-.5),o*(n-e)+e))===r?1/0:r<i?a:0}var Ds=Ss.CMD,Bs=2*Math.PI,Es=[-1,-1,-1],Ps=[-1,-1];function Ls(e,t,n,i,r,o,a,s,l,u){if(t<u&&i<u&&o<u&&s<u||u<t&&u<i&&u<o&&u<s)return 0;var c=bn(t,i,o,s,u,Es);if(0===c)return 0;for(var h,d=0,p=-1,f=void 0,g=void 0,m=0;m<c;m++){var y=Es[m],v=0===y||1===y?.5:1;xn(e,n,r,a,y)<l||(p<0&&(p=wn(t,i,o,s,Ps),Ps[1]<Ps[0]&&1<p&&(void 0,h=Ps[0],Ps[0]=Ps[1],Ps[1]=h),f=xn(t,i,o,s,Ps[0]),1<p&&(g=xn(t,i,o,s,Ps[1]))),2===p?y<Ps[0]?d+=f<t?v:-v:y<Ps[1]?d+=g<f?v:-v:d+=s<g?v:-v:y<Ps[0]?d+=f<t?v:-v:d+=s<f?v:-v)}return d}function Rs(e,t,n,i,r,o,a,s){if(t<s&&i<s&&o<s||s<t&&s<i&&s<o)return 0;h=Es,c=(l=t)-2*(u=i)+(c=o),u=2*(u-l),l-=s,s=0,yn(c)?vn(u)&&0<=(d=-l/u)&&d<=1&&(h[s++]=d):yn(l=u*u-4*c*l)?0<=(d=-u/(2*c))&&d<=1&&(h[s++]=d):0<l&&(p=(-u-(l=un(l)))/(2*c),0<=(d=(-u+l)/(2*c))&&d<=1&&(h[s++]=d),0<=p&&p<=1&&(h[s++]=p));var l,u,c,h,d,p,f=s;if(0===f)return 0;var g=Tn(t,i,o);if(0<=g&&g<=1){for(var m=0,y=Mn(t,i,o,g),v=0;v<f;v++){var x=0===Es[v]||1===Es[v]?.5:1;Mn(e,n,r,Es[v])<a||(Es[v]<g?m+=y<t?x:-x:m+=o<y?x:-x)}return m}return x=0===Es[0]||1===Es[0]?.5:1,Mn(e,n,r,Es[0])<a?0:o<t?x:-x}function Os(e,t,n,i,r){for(var o,a=e.data,s=e.len(),l=0,u=0,c=0,h=0,d=0,p=0;p<s;){var f=a[p++],g=1===p;switch(f===Ds.M&&1<p&&(n||(l+=ks(u,c,h,d,i,r))),g&&(h=u=a[p],d=c=a[p+1]),f){case Ds.M:u=h=a[p++],c=d=a[p++];break;case Ds.L:if(n){if(As(u,c,a[p],a[p+1],t,i,r))return!0}else l+=ks(u,c,a[p],a[p+1],i,r)||0;u=a[p++],c=a[p++];break;case Ds.C:if(n){if(function(e,t,n,i,r,o,a,s,l,u,c){if(0!==l)return t+l<c&&i+l<c&&o+l<c&&s+l<c||c<t-l&&c<i-l&&c<o-l&&c<s-l||e+l<u&&n+l<u&&r+l<u&&a+l<u||u<e-l&&u<n-l&&u<r-l&&u<a-l?void 0:An(e,t,n,i,r,o,a,s,u,c,null)<=l/2}(u,c,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],t,i,r))return!0}else l+=Ls(u,c,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],i,r)||0;u=a[p++],c=a[p++];break;case Ds.Q:if(n){if(Ms(u,c,a[p++],a[p++],a[p],a[p+1],t,i,r))return!0}else l+=Rs(u,c,a[p++],a[p++],a[p],a[p+1],i,r)||0;u=a[p++],c=a[p++];break;case Ds.A:var m=a[p++],y=a[p++],v=a[p++],x=a[p++],_=a[p++],b=a[p++],w=(p+=1,!!(1-a[p++])),S=Math.cos(_)*v+m,A=Math.sin(_)*x+y,M=(g?(h=S,d=A):l+=ks(u,c,S,A,i,r),(i-m)*x/v+m);if(n){if(function(e,t,n,i,r,o,a,s,l){if(0!==a&&(s-=e,l-=t,!(n<(e=Math.sqrt(s*s+l*l))-a||e+a<n)))return Math.abs(i-r)%Is<1e-4?1:((r=o?(t=i,i=Ts(r),Ts(t)):(i=Ts(i),Ts(r)))<i&&(r+=Is),(e=Math.atan2(l,s))<0&&(e+=Is),i<=e&&e<=r||i<=e+Is&&e+Is<=r)}(m,y,x,_,_+b,w,t,M,r))return!0}else l+=function(e,t,n,i,r,o,a,s){if(n<(s-=t)||s<-n)return 0;t=Math.sqrt(n*n-s*s);if(Es[0]=-t,Es[1]=t,(n=Math.abs(i-r))<1e-4)return 0;if(Bs-1e-4<=n)return r=Bs,c=o?1:-1,a>=Es[i=0]+e&&a<=Es[1]+e?c:0;r<i&&(t=i,i=r,r=t),i<0&&(i+=Bs,r+=Bs);for(var l=0,u=0;u<2;u++){var c,h=Es[u];a<h+e&&(c=o?1:-1,(i<=(h=(h=Math.atan2(s,h))<0?Bs+h:h)&&h<=r||i<=h+Bs&&h+Bs<=r)&&(l+=c=h>Math.PI/2&&h<1.5*Math.PI?-c:c))}return l}(m,y,x,_,_+b,w,M,r);u=Math.cos(_+b)*v+m,c=Math.sin(_+b)*x+y;break;case Ds.R:if(h=u=a[p++],d=c=a[p++],S=h+a[p++],A=d+a[p++],n){if(As(h,d,S,d,t,i,r)||As(S,d,S,A,t,i,r)||As(S,A,h,A,t,i,r)||As(h,A,h,d,t,i,r))return!0}else l=(l+=ks(S,d,S,A,i,r))+ks(h,A,h,d,i,r);break;case Ds.Z:if(n){if(As(u,c,h,d,t,i,r))return!0}else l+=ks(u,c,h,d,i,r);u=h,c=d}}return n||(e=c,o=d,Math.abs(e-o)<1e-4)||(l+=ks(u,c,h,d,i,r)||0),0!==l}var Fs,Ns=Y({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Na),zs={style:Y({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},za.style)},Gs=Mr.concat(["invisible","culling","z","z2","zlevel","parent"]);function Hs(e){return Fs.call(this,e)||this}He(Hs,Fs=Wa),Hs.prototype.update=function(){var e=this,t=(Fs.prototype.update.call(this),this.style);if(t.decal){var n,i=this._decalEl=this._decalEl||new Hs,r=(i.buildPath===Hs.prototype.buildPath&&(i.buildPath=function(t){e.buildPath(t,e.shape)}),i.silent=!0,i.style);for(n in t)r[n]!==t[n]&&(r[n]=t[n]);r.fill=t.fill?t.decal:null,r.decal=null,r.shadowColor=null,t.strokeFirst&&(r.stroke=null);for(var o=0;o<Gs.length;++o)i[Gs[o]]=this[Gs[o]];i.__dirty|=1}else this._decalEl&&(this._decalEl=null)},Hs.prototype.getDecalElement=function(){return this._decalEl},Hs.prototype._init=function(e){var t=oe(e),n=(this.shape=this.getDefaultShape(),this.getDefaultStyle());n&&this.useStyle(n);for(var i=0;i<t.length;i++){var r=t[i],o=e[r];"style"===r?this.style?X(this.style,o):this.useStyle(o):"shape"===r?X(this.shape,o):Fs.prototype.attrKV.call(this,r,o)}this.style||this.useStyle({})},Hs.prototype.getDefaultStyle=function(){return null},Hs.prototype.getDefaultShape=function(){return{}},Hs.prototype.canBeInsideText=function(){return this.hasFill()},Hs.prototype.getInsideTextFill=function(){var e,t=this.style.fill;if("none"!==t){if(ce(t))return.5<(e=li(t,0))?"#333":.2<e?"#eee":"#ccc";if(t)return"#ccc"}return"#333"},Hs.prototype.getInsideTextStroke=function(e){var t=this.style.fill;if(ce(t)){var n=this.__zr;if(!(!n||!n.isDarkMode())==li(e,0)<.4)return t}},Hs.prototype.buildPath=function(e,t,n){},Hs.prototype.pathUpdated=function(){this.__dirty&=-5},Hs.prototype.getUpdatedPathProxy=function(e){return this.path||this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},Hs.prototype.createPathProxy=function(){this.path=new Ss(!1)},Hs.prototype.hasStroke=function(){var e=this.style,t=e.stroke;return!(null==t||"none"===t||!(0<e.lineWidth))},Hs.prototype.hasFill=function(){var e=this.style.fill;return null!=e&&"none"!==e},Hs.prototype.getBoundingRect=function(){var e,t,n=this._rect,i=this.style,r=!n;return r&&(e=!1,this.path||(e=!0,this.createPathProxy()),t=this.path,(e||4&this.__dirty)&&(t.beginPath(),this.buildPath(t,this.shape,!1),this.pathUpdated()),n=t.getBoundingRect()),this._rect=n,this.hasStroke()&&this.path&&0<this.path.len()?(e=this._rectStroke||(this._rectStroke=n.clone()),(this.__dirty||r)&&(e.copy(n),t=i.strokeNoScale?this.getLineScale():1,r=i.lineWidth,this.hasFill()||(i=this.strokeContainThreshold,r=Math.max(r,null==i?4:i)),1e-10<t&&(e.width+=r/t,e.height+=r/t,e.x-=r/t/2,e.y-=r/t/2)),e):n},Hs.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),i=this.getBoundingRect(),r=this.style;if(e=n[0],t=n[1],i.contain(e,t)){if(n=this.path,this.hasStroke()&&(i=r.lineWidth,1e-10<(r=r.strokeNoScale?this.getLineScale():1)&&(this.hasFill()||(i=Math.max(i,this.strokeContainThreshold)),Os(n,i/r,!0,e,t))))return!0;if(this.hasFill())return Os(n,0,!1,e,t)}return!1},Hs.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},Hs.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},Hs.prototype.animateShape=function(e){return this.animate("shape",e)},Hs.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():"shape"===e?this.dirtyShape():this.markRedraw()},Hs.prototype.attrKV=function(e,t){"shape"===e?this.setShape(t):Fs.prototype.attrKV.call(this,e,t)},Hs.prototype.setShape=function(e,t){var n=(n=this.shape)||(this.shape={});return"string"==typeof e?n[e]=t:X(n,e),this.dirtyShape(),this},Hs.prototype.shapeChanged=function(){return!!(4&this.__dirty)},Hs.prototype.createStyle=function(e){return Re(Ns,e)},Hs.prototype._innerSaveToNormal=function(e){Fs.prototype._innerSaveToNormal.call(this,e);var t=this._normalState;e.shape&&!t.shape&&(t.shape=X({},this.shape))},Hs.prototype._applyStateObj=function(e,t,n,i,r,o){Fs.prototype._applyStateObj.call(this,e,t,n,i,r,o);var a,s=!(t&&i);if(t&&t.shape?r?i?a=t.shape:(a=X({},n.shape),X(a,t.shape)):(a=X({},(i?this:n).shape),X(a,t.shape)):s&&(a=n.shape),a)if(r){this.shape=X({},this.shape);for(var l={},u=oe(a),c=0;c<u.length;c++){var h=u[c];"object"==typeof a[h]?this.shape[h]=a[h]:l[h]=a[h]}this._transitionState(e,{shape:l},o)}else this.shape=a,this.dirtyShape()},Hs.prototype._mergeStates=function(e){for(var t,n=Fs.prototype._mergeStates.call(this,e),i=0;i<e.length;i++){var r=e[i];r.shape&&this._mergeStyle(t=t||{},r.shape)}return t&&(n.shape=t),n},Hs.prototype.getAnimationStyleProps=function(){return zs},Hs.prototype.isZeroArea=function(){return!1},Hs.extend=function(e){He(r,t=Hs),r.prototype.getDefaultStyle=function(){return Z(e.style)},r.prototype.getDefaultShape=function(){return Z(e.shape)};var t,n,i=r;function r(n){var i=t.call(this,n)||this;return e.init&&e.init.call(i,n),i}for(n in e)"function"==typeof e[n]&&(i.prototype[n]=e[n]);return i},Hs.initDefaultProps=((t=Hs.prototype).type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,void(t.__dirty=7));var Vs,Us=Hs,Zs=Y({strokeFirst:!0,font:C,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Ns);He(Ws,Vs=Wa),Ws.prototype.hasStroke=function(){var e=this.style,t=e.stroke;return null!=t&&"none"!==t&&0<e.lineWidth},Ws.prototype.hasFill=function(){var e=this.style.fill;return null!=e&&"none"!==e},Ws.prototype.createStyle=function(e){return Re(Zs,e)},Ws.prototype.setBoundingRect=function(e){this._rect=e},Ws.prototype.getBoundingRect=function(){var e,t=this.style;return this._rect||(null!=(e=t.text)?e+="":e="",(e=Ur(e,t.font,t.textAlign,t.textBaseline)).x+=t.x||0,e.y+=t.y||0,this.hasStroke()&&(t=t.lineWidth,e.x-=t/2,e.y-=t/2,e.width+=t,e.height+=t),this._rect=e),this._rect},Ws.initDefaultProps=void(Ws.prototype.dirtyRectTolerance=10),t=Ws;function Ws(){return null!==Vs&&Vs.apply(this,arguments)||this}t.prototype.type="tspan";var js,Xs=t,Ys=Y({x:0,y:0},Na),Js={style:Y({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},za.style)};function Ks(){return null!==js&&js.apply(this,arguments)||this}He(Ks,js=Wa),Ks.prototype.createStyle=function(e){return Re(Ys,e)},Ks.prototype._getSize=function(e){var t=(n=this.style)[e];if(null!=t)return t;if(!(t=(t=n.image)&&"string"!=typeof t&&t.width&&t.height?n.image:this.__image))return 0;var n,i="width"===e?"height":"width";return null==(n=n[i])?t[e]:t[e]/t[i]*n},Ks.prototype.getWidth=function(){return this._getSize("width")},Ks.prototype.getHeight=function(){return this._getSize("height")},Ks.prototype.getAnimationStyleProps=function(){return Js},Ks.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new zr(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},(t=Ks).prototype.type="image";var Qs=t,qs=Math.round;function $s(e,t,n){var i,r,o;if(t)return i=t.x1,r=t.x2,o=t.y1,t=t.y2,e.x1=i,e.x2=r,e.y1=o,e.y2=t,(n=n&&n.lineWidth)&&(qs(2*i)===qs(2*r)&&(e.x1=e.x2=tl(i,n,!0)),qs(2*o)===qs(2*t)&&(e.y1=e.y2=tl(o,n,!0))),e}function el(e,t,n){var i,r,o;if(t)return i=t.x,r=t.y,o=t.width,t=t.height,e.x=i,e.y=r,e.width=o,e.height=t,(n=n&&n.lineWidth)&&(e.x=tl(i,n,!0),e.y=tl(r,n,!0),e.width=Math.max(tl(i+o,n,!1)-e.x,0===o?0:1),e.height=Math.max(tl(r+t,n,!1)-e.y,0===t?0:1)),e}function tl(e,t,n){return t?((e=qs(2*e))+qs(t))%2==0?e/2:(e+(n?1:-1))/2:e}var nl,il=function(){this.x=0,this.y=0,this.width=0,this.height=0},rl={};He(ol,nl=Us),ol.prototype.getDefaultShape=function(){return new il},ol.prototype.buildPath=function(e,t){var n,i,r,o,a,s,l,u,c,h,d,p,f,g;this.subPixelOptimize?(n=(a=el(rl,t,this.style)).x,i=a.y,r=a.width,o=a.height,a.r=t.r,t=a):(n=t.x,i=t.y,r=t.width,o=t.height),t.r?(a=e,d=t.x,p=t.y,(f=t.width)<0&&(d+=f,f=-f),(g=t.height)<0&&(p+=g,g=-g),"number"==typeof(t=t.r)?s=l=u=c=t:t instanceof Array?1===t.length?s=l=u=c=t[0]:2===t.length?(s=u=t[0],l=c=t[1]):3===t.length?(s=t[0],l=c=t[1],u=t[2]):(s=t[0],l=t[1],u=t[2],c=t[3]):s=l=u=c=0,f<s+l&&(s*=f/(h=s+l),l*=f/h),f<u+c&&(u*=f/(h=u+c),c*=f/h),g<l+u&&(l*=g/(h=l+u),u*=g/h),g<s+c&&(s*=g/(h=s+c),c*=g/h),a.moveTo(d+s,p),a.lineTo(d+f-l,p),0!==l&&a.arc(d+f-l,p+l,l,-Math.PI/2,0),a.lineTo(d+f,p+g-u),0!==u&&a.arc(d+f-u,p+g-u,u,0,Math.PI/2),a.lineTo(d+c,p+g),0!==c&&a.arc(d+c,p+g-c,c,Math.PI/2,Math.PI),a.lineTo(d,p+s),0!==s&&a.arc(d+s,p+s,s,Math.PI,1.5*Math.PI)):e.rect(n,i,r,o)},ol.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t=ol;function ol(e){return nl.call(this,e)||this}t.prototype.type="rect";var al,sl=t,ll={fill:"#000"},ul={style:Y({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},za.style)},cl=(He(hl,al=Wa),hl.prototype.childrenRef=function(){return this._children},hl.prototype.update=function(){al.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var t=this._children[e];t.zlevel=this.zlevel,t.z=this.z,t.z2=this.z2,t.culling=this.culling,t.cursor=this.cursor,t.invisible=this.invisible}},hl.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):al.prototype.updateTransform.call(this)},hl.prototype.getLocalTransform=function(e){var t=this.innerTransformable;return t?t.getLocalTransform(e):al.prototype.getLocalTransform.call(this,e)},hl.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),al.prototype.getComputedTransform.call(this)},hl.prototype._updateSubTexts=function(){var e;this._childCursor=0,vl(e=this.style),ee(e.rich,vl),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},hl.prototype.addSelfToZr=function(e){al.prototype.addSelfToZr.call(this,e);for(var t=0;t<this._children.length;t++)this._children[t].__zr=e},hl.prototype.removeSelfFromZr=function(e){al.prototype.removeSelfFromZr.call(this,e);for(var t=0;t<this._children.length;t++)this._children[t].__zr=null},hl.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new zr(0,0,0,0),t=this._children,n=[],i=null,r=0;r<t.length;r++){var o,a=(o=t[r]).getBoundingRect();(o=o.getLocalTransform(n))?(e.copy(a),e.applyTransform(o),(i=i||e.clone()).union(e)):(i=i||a.clone()).union(a)}this._rect=i||e}return this._rect},hl.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||ll},hl.prototype.setTextContent=function(e){},hl.prototype._mergeStyle=function(e,t){if(!t)return e;var n=t.rich,i=e.rich||n&&{};return X(e,t),n&&i?(this._mergeRich(i,n),e.rich=i):i&&(e.rich=i),e},hl.prototype._mergeRich=function(e,t){for(var n=oe(t),i=0;i<n.length;i++){var r=n[i];e[r]=e[r]||{},X(e[r],t[r])}},hl.prototype.getAnimationStyleProps=function(){return ul},hl.prototype._getOrCreateChild=function(e){var t=this._children[this._childCursor];return t&&t instanceof e||(t=new e),(this._children[this._childCursor++]=t).__zr=this.__zr,t.parent=this,t},hl.prototype._updatePlainTexts=function(){for(var e,t=this.style,n=t.font||C,i=t.padding,r=function(e,t){null!=e&&(e+="");var n,i=t.overflow,r=t.padding,o=t.font,a="truncate"===i,s=jr(o),l=we(t.lineHeight,s),u=!!t.backgroundColor,c="truncate"===t.lineOverflow,h=t.width,d=(i=(n=null==h||"break"!==i&&"breakAll"!==i?e?e.split("\n"):[]:e?Ra(e,t.font,h,"breakAll"===i,0).lines:[]).length*l,we(t.height,i));if(d<i&&c&&(c=Math.floor(d/l),n=n.slice(0,c)),e&&a&&null!=h)for(var p=Ia(h,o,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),f=0;f<n.length;f++)n[f]=ka(n[f],p);c=d;var g=0;for(f=0;f<n.length;f++)g=Math.max(Hr(n[f],o),g);return null==h&&(h=g),e=g,r&&(c+=r[0]+r[2],e+=r[1]+r[3],h+=r[1]+r[3]),{lines:n,height:d,outerWidth:e=u?h:e,outerHeight:c,lineHeight:l,calculatedLineHeight:s,contentWidth:g,contentHeight:i,width:h}}(wl(t),t),o=Sl(t),a=!!t.backgroundColor,s=r.outerHeight,l=r.outerWidth,u=r.contentWidth,c=r.lines,h=r.lineHeight,d=this._defaultStyle,p=t.x||0,f=t.y||0,g=t.align||d.align||"left",m=t.verticalAlign||d.verticalAlign||"top",y=p,v=Wr(f,r.contentHeight,m),x=((o||i)&&(e=Zr(p,l,g),f=Wr(f,s,m),o&&this._renderBackground(t,t,e,f,l,s)),v+=h/2,i&&(y=bl(p,g,i),"top"===m?v+=i[0]:"bottom"===m&&(v-=i[2])),0),_=(o=!1,_l("fill"in t?t.fill:(o=!0,d.fill))),b=(xl("stroke"in t?t.stroke:a||d.autoStroke&&!o?null:(x=2,d.stroke))),w=0<t.textShadowBlur,S=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),A=r.calculatedLineHeight,M=0;M<c.length;M++){var T=this._getOrCreateChild(Xs),I=T.createStyle();T.useStyle(I),I.text=c[M],I.x=y,I.y=v,g&&(I.textAlign=g),I.textBaseline="middle",I.opacity=t.opacity,I.strokeFirst=!0,w&&(I.shadowBlur=t.textShadowBlur||0,I.shadowColor=t.textShadowColor||"transparent",I.shadowOffsetX=t.textShadowOffsetX||0,I.shadowOffsetY=t.textShadowOffsetY||0),I.stroke=b,I.fill=_,b&&(I.lineWidth=t.lineWidth||x,I.lineDash=t.lineDash,I.lineDashOffset=t.lineDashOffset||0),I.font=n,ml(I,t),v+=h,S&&T.setBoundingRect(new zr(Zr(I.x,t.width,I.textAlign),Wr(I.y,A,I.textBaseline),u,A))}},hl.prototype._updateRichTexts=function(){for(var e=this.style,t=function(e,t){var n=new Ea;if(null!=e&&(e+=""),!e)return n;for(var i,r=t.width,o=t.height,a=t.overflow,s="break"!==a&&"breakAll"!==a||null==r?null:{width:r,accumWidth:0,breakAll:"breakAll"===a},l=Ca.lastIndex=0;null!=(i=Ca.exec(e));){var u=i.index;l<u&&Pa(n,e.substring(l,u),t,s),Pa(n,i[2],t,s,i[1]),l=Ca.lastIndex}l<e.length&&Pa(n,e.substring(l,e.length),t,s);var c,h=[],d=0,p=0,f=t.padding,g="truncate"===a,m="truncate"===t.lineOverflow;function y(e,t,n){e.width=t,e.lineHeight=n,d+=n,p=Math.max(p,t)}e:for(var v=0;v<n.lines.length;v++){for(var x=n.lines[v],_=0,b=0,w=0;w<x.tokens.length;w++){var S=(D=x.tokens[w]).styleName&&t.rich[D.styleName]||{},A=(I=D.textPadding=S.padding)?I[1]+I[3]:0,M=D.font=S.font||t.font,C=(D.contentHeight=jr(M),we(S.height,D.contentHeight));if(D.innerHeight=C,I&&(C+=I[0]+I[2]),D.height=C,D.lineHeight=Se(S.lineHeight,t.lineHeight,C),D.align=S&&S.align||t.align,D.verticalAlign=S&&S.verticalAlign||"middle",m&&null!=o&&d+D.lineHeight>o){0<w?(x.tokens=x.tokens.slice(0,w),y(x,b,_),n.lines=n.lines.slice(0,v+1)):n.lines=n.lines.slice(0,v);break e}var T,I,k=null==(I=S.width)||"auto"===I;"string"==typeof I&&"%"===I.charAt(I.length-1)?(D.percentWidth=I,h.push(D),D.contentWidth=Hr(D.text,M)):(k&&(I=(I=S.backgroundColor)&&I.image)&&(T=void 0,Ma(I="string"==typeof(c=I)?(T=wa.get(c))&&T.image:c)&&(D.width=Math.max(D.width,I.width*C/I.height))),null!=(T=g&&null!=r?r-b:null)&&T<D.width?!k||T<A?(D.text="",D.width=D.contentWidth=0):(D.text=Ta(D.text,T-A,M,t.ellipsis,{minChar:t.truncateMinChar}),D.width=D.contentWidth=Hr(D.text,M)):D.contentWidth=Hr(D.text,M)),D.width+=A,b+=D.width,S&&(_=Math.max(_,D.lineHeight))}y(x,b,_)}for(n.outerWidth=n.width=we(r,p),n.outerHeight=n.height=we(o,d),n.contentHeight=d,n.contentWidth=p,f&&(n.outerWidth+=f[1]+f[3],n.outerHeight+=f[0]+f[2]),v=0;v<h.length;v++){var D,B=(D=h[v]).percentWidth;D.width=parseInt(B,10)/100*n.width}return n}(wl(e),e),n=t.width,i=t.outerWidth,r=t.outerHeight,o=e.padding,a=e.x||0,s=e.y||0,l=this._defaultStyle,u=e.align||l.align,c=(l=e.verticalAlign||l.verticalAlign,a=Zr(a,i,u)),h=u=Wr(s,r,l),d=(o&&(c+=o[3],h+=o[0]),c+n),p=(Sl(e)&&this._renderBackground(e,e,a,u,i,r),!!e.backgroundColor),f=0;f<t.lines.length;f++){for(var g=t.lines[f],m=g.tokens,y=m.length,v=g.lineHeight,x=g.width,_=0,b=c,w=d,S=y-1,A=void 0;_<y&&(!(A=m[_]).align||"left"===A.align);)this._placeToken(A,e,v,h,b,"left",p),x-=A.width,b+=A.width,_++;for(;0<=S&&"right"===(A=m[S]).align;)this._placeToken(A,e,v,h,w,"right",p),x-=A.width,w-=A.width,S--;for(b+=(n-(b-c)-(d-w)-x)/2;_<=S;)A=m[_],this._placeToken(A,e,v,h,b+A.width/2,"center",p),b+=A.width,_++;h+=v}},hl.prototype._placeToken=function(e,t,n,i,r,o,a){var s=t.rich[e.styleName]||{},l=i+n/2;"top"===(u=(s.text=e.text,e.verticalAlign))?l=i+e.height/2:"bottom"===u&&(l=i+n-e.height/2),!e.isLineHolder&&Sl(s)&&this._renderBackground(s,t,"right"===o?r-e.width:"center"===o?r-e.width/2:r,l-e.height/2,e.width,e.height);var u=!!s.backgroundColor,c=(i=(n=((i=e.textPadding)&&(r=bl(r,o,i),l-=e.height/2-i[0]-e.innerHeight/2),this._getOrCreateChild(Xs))).createStyle(),n.useStyle(i),this._defaultStyle),h=!1,d=0,p=_l("fill"in s?s.fill:"fill"in t?t.fill:(h=!0,c.fill));u=xl("stroke"in s?s.stroke:"stroke"in t?t.stroke:u||a||c.autoStroke&&!h?null:(d=2,c.stroke)),a=0<s.textShadowBlur||0<t.textShadowBlur,i.text=e.text,i.x=r,i.y=l,a&&(i.shadowBlur=s.textShadowBlur||t.textShadowBlur||0,i.shadowColor=s.textShadowColor||t.textShadowColor||"transparent",i.shadowOffsetX=s.textShadowOffsetX||t.textShadowOffsetX||0,i.shadowOffsetY=s.textShadowOffsetY||t.textShadowOffsetY||0),i.textAlign=o,i.textBaseline="middle",i.font=e.font||C,i.opacity=Se(s.opacity,t.opacity,1),ml(i,s),u&&(i.lineWidth=Se(s.lineWidth,t.lineWidth,d),i.lineDash=we(s.lineDash,t.lineDash),i.lineDashOffset=t.lineDashOffset||0,i.stroke=u),p&&(i.fill=p),h=e.contentWidth,c=e.contentHeight;n.setBoundingRect(new zr(Zr(i.x,h,i.textAlign),Wr(i.y,c,i.textBaseline),h,c))},hl.prototype._renderBackground=function(e,t,n,i,r,o){var a,s,l,u,c=e.backgroundColor,h=e.borderWidth,d=e.borderColor,p=c&&c.image,f=c&&!p,g=e.borderRadius,m=this;(g=((f||e.lineHeight||h&&d)&&((a=this._getOrCreateChild(sl)).useStyle(a.createStyle()),a.style.fill=null,(l=a.shape).x=n,l.y=i,l.width=r,l.height=o,l.r=g,a.dirtyShape()),f?((u=a.style).fill=c||null,u.fillOpacity=we(e.fillOpacity,1)):p&&((s=this._getOrCreateChild(Qs)).onload=function(){m.dirtyStyle()},(l=s.style).image=c.image,l.x=n,l.y=i,l.width=r,l.height=o),h&&d&&((u=a.style).lineWidth=h,u.stroke=d,u.strokeOpacity=we(e.strokeOpacity,1),u.lineDash=e.borderDash,u.lineDashOffset=e.borderDashOffset||0,a.strokeContainThreshold=0,a.hasFill()&&a.hasStroke()&&(u.strokeFirst=!0,u.lineWidth*=2)),(a||s).style)).shadowBlur=e.shadowBlur||0,g.shadowColor=e.shadowColor||"transparent",g.shadowOffsetX=e.shadowOffsetX||0,g.shadowOffsetY=e.shadowOffsetY||0,g.opacity=Se(e.opacity,t.opacity,1)},hl.makeFont=function(e){var t="";return(t=yl(e)?[e.fontStyle,e.fontWeight,gl(e.fontSize),e.fontFamily||"sans-serif"].join(" "):t)&&Te(t)||e.textFont||e.font},hl);function hl(e){var t=al.call(this)||this;return t.type="text",t._children=[],t._defaultStyle=ll,t.attr(e),t}var dl={left:!0,right:1,center:1},pl={top:1,bottom:1,middle:1},fl=["fontStyle","fontWeight","fontSize","fontFamily"];function gl(e){return"string"!=typeof e||-1===e.indexOf("px")&&-1===e.indexOf("rem")&&-1===e.indexOf("em")?isNaN(+e)?"12px":e+"px":e}function ml(e,t){for(var n=0;n<fl.length;n++){var i=fl[n],r=t[i];null!=r&&(e[i]=r)}}function yl(e){return null!=e.fontSize||e.fontFamily||e.fontWeight}function vl(e){var t;e&&(e.font=cl.makeFont(e),t=e.align,e.align=null==(t="middle"===t?"center":t)||dl[t]?t:"left",t=e.verticalAlign,e.verticalAlign=null==(t="center"===t?"middle":t)||pl[t]?t:"top",e.padding&&(e.padding=Me(e.padding)))}function xl(e,t){return null==e||t<=0||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e}function _l(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e}function bl(e,t,n){return"right"===t?e-n[1]:"center"===t?e+n[3]/2-n[1]/2:e+n[3]}function wl(e){return null!=(e=e.text)&&(e+=""),e}function Sl(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}function Al(e,t,n,i){var r;i&&((r=Cl(i)).dataIndex=n,r.dataType=t,r.seriesIndex=e,"group"===i.type&&i.traverse((function(i){(i=Cl(i)).seriesIndex=e,i.dataIndex=n,i.dataType=t})))}var Ml=cl,Cl=ea(),Tl=1,Il={},kl=ea(),Dl=ea(),Bl=["emphasis","blur","select"],El=["normal","emphasis","blur","select"],Pl="highlight",Ll="downplay",Rl="select",Ol="unselect",Fl="toggleSelect";function Nl(e){return null!=e&&"none"!==e}var zl=new Nn(100);function Gl(e){var t;return ce(e)?((t=zl.get(e))||(t=$n(e,-.1),zl.put(e,t)),t):ye(e)?((t=X({},e)).colorStops=te(e.colorStops,(function(e){return{offset:e.offset,color:$n(e.color,-.1)}})),t):e}function Hl(e,t,n){e.onHoverStateChange&&(e.hoverState||0)!==n&&e.onHoverStateChange(t),e.hoverState=n}function Vl(e){Hl(e,"emphasis",2)}function Ul(e){2===e.hoverState&&Hl(e,"normal",0)}function Zl(e){Hl(e,"blur",1)}function Wl(e){1===e.hoverState&&Hl(e,"normal",0)}function jl(e){e.selected=!0}function Xl(e){e.selected=!1}function Yl(e,t,n){t(e,n)}function Jl(e,t,n){Yl(e,t,n),e.isGroup&&e.traverse((function(e){Yl(e,t,n)}))}function Kl(e,t){switch(t){case"emphasis":e.hoverState=2;break;case"normal":e.hoverState=0;break;case"blur":e.hoverState=1;break;case"select":e.selected=!0}}function Ql(e,t){var n,i,r,o,a,s=this.states[e];if(this.style){if("emphasis"===e)return n=this,i=s,t=t&&0<=K(t,"select"),a=!1,n instanceof Us&&(r=kl(n),o=t&&r.selectFill||r.normalFill,t=t&&r.selectStroke||r.normalStroke,(Nl(o)||Nl(t))&&("inherit"===(r=(i=i||{}).style||{}).fill?(a=!0,i=X({},i),(r=X({},r)).fill=o):!Nl(r.fill)&&Nl(o)?(a=!0,i=X({},i),(r=X({},r)).fill=Gl(o)):!Nl(r.stroke)&&Nl(t)&&(a||(i=X({},i),r=X({},r)),r.stroke=Gl(t)),i.style=r)),i&&null==i.z2&&(a||(i=X({},i)),o=n.z2EmphasisLift,i.z2=n.z2+(null!=o?o:10)),i;if("blur"===e)return function(e,t,n){var i=0<=K(e.currentStates,t),r=e.style.opacity;return e=i?null:function(e,t,n,i){for(var r=e.style,o={},a=0;a<t.length;a++){var s=t[a],l=r[s];o[s]=null==l?i&&i[s]:l}for(a=0;a<e.animators.length;a++){var u=e.animators[a];u.__fromStateTransition&&u.__fromStateTransition.indexOf(n)<0&&"style"===u.targetName&&u.saveTo(o,t)}return o}(e,["opacity"],t,{opacity:1}),null==(t=(n=n||{}).style||{}).opacity&&(n=X({},n),t=X({opacity:i?r:.1*e.opacity},t),n.style=t),n}(this,e,s);if("select"===e)return t=this,(r=s)&&null==r.z2&&(r=X({},r),a=t.z2SelectLift,r.z2=t.z2+(null!=a?a:9)),r}return s}function ql(e){e.stateProxy=Ql;var t=e.getTextContent();e=e.getTextGuideLine();t&&(t.stateProxy=Ql),e&&(e.stateProxy=Ql)}function $l(e,t){su(e,t)||e.__highByOuter||Jl(e,Vl)}function eu(e,t){su(e,t)||e.__highByOuter||Jl(e,Ul)}function tu(e,t){e.__highByOuter|=1<<(t||0),Jl(e,Vl)}function nu(e,t){(e.__highByOuter&=~(1<<(t||0)))||Jl(e,Ul)}function iu(e){Jl(e,Zl)}function ru(e){Jl(e,Wl)}function ou(e){Jl(e,jl)}function au(e){Jl(e,Xl)}function su(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function lu(e){var t=e.getModel(),n=[],i=[];t.eachComponent((function(t,r){var o=Dl(r),a=(t="series"===t)?e.getViewOfSeriesModel(r):e.getViewOfComponentModel(r);t||i.push(a),o.isBlured&&(a.group.traverse((function(e){Wl(e)})),t&&n.push(r)),o.isBlured=!1})),ee(i,(function(e){e&&e.toggleBlurSeries&&e.toggleBlurSeries(n,!1,t)}))}function uu(e,t,n,i){var r,o,a,s=i.getModel();function l(e,t){for(var n=0;n<t.length;n++){var i=e.getItemGraphicEl(t[n]);i&&ru(i)}}n=n||"coordinateSystem",null!=e&&t&&"none"!==t&&(r=s.getSeriesByIndex(e),(o=r.coordinateSystem)&&o.master&&(o=o.master),a=[],s.eachSeries((function(e){var s=r===e,u=(u=(u=e.coordinateSystem)&&u.master?u.master:u)&&o?u===o:s;if(!("series"===n&&!s||"coordinateSystem"===n&&!u||"series"===t&&s)){if(i.getViewOfSeriesModel(e).group.traverse((function(e){Zl(e)})),$(t))l(e.getData(),t);else if(pe(t))for(var c=oe(t),h=0;h<c.length;h++)l(e.getData(c[h]),t[c[h]]);a.push(e),Dl(e).isBlured=!0}})),s.eachComponent((function(e,t){"series"!==e&&(e=i.getViewOfComponentModel(t))&&e.toggleBlurSeries&&e.toggleBlurSeries(a,!0,s)})))}function cu(e,t,n){null!=e&&null!=t&&(e=n.getModel().getComponent(e,t))&&(Dl(e).isBlured=!0,(t=n.getViewOfComponentModel(e))&&t.focusBlurEnabled&&t.group.traverse((function(e){Zl(e)})))}function hu(e,t,n,i){var r={focusSelf:!1,dispatchers:null};if(null==e||"series"===e||null==t||null==n)return r;if(!(e=i.getModel().getComponent(e,t)))return r;if(!(t=i.getViewOfComponentModel(e))||!t.findHighDownDispatchers)return r;for(var o,a=t.findHighDownDispatchers(n),s=0;s<a.length;s++)if("self"===Cl(a[s]).focus){o=!0;break}return{focusSelf:o,dispatchers:a}}function du(e){ee(e.getAllData(),(function(t){var n=t.data,i=t.type;n.eachItemGraphicEl((function(t,n){(e.isSelected(n,i)?ou:au)(t)}))}))}function pu(e,t,n){xu(e,!0),Jl(e,ql),gu(e,t,n)}function fu(e,t,n,i){i?xu(e,!1):pu(e,t,n)}function gu(e,t,n){e=Cl(e),null!=t?(e.focus=t,e.blurScope=n):e.focus&&(e.focus=null)}var mu=["emphasis","blur","select"],yu={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function vu(e,t,n,i){n=n||"itemStyle";for(var r=0;r<mu.length;r++){var o=mu[r],a=t.getModel([o,n]);e.ensureState(o).style=i?i(a):a[yu[n]]()}}function xu(e,t){t=!1===t;var n=e;e.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=e.highDownSilentOnTouch),t&&!n.__highDownDispatcher||(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!t)}function _u(e){return!(!e||!e.__highDownDispatcher)}function bu(e){return(e=e.type)===Rl||e===Ol||e===Fl}function wu(e){return(e=e.type)===Pl||e===Ll}var Su=ea();function Au(e,t,n,i,r){var o;t&&t.ecModel&&(o=(o=t.ecModel.getUpdatePayload())&&o.animation);var a,s,l;e="update"===e;return t&&t.isAnimationEnabled()?(l=s=a=void 0,l=i?(a=we(i.duration,200),s=we(i.easing,"cubicOut"),0):(a=t.getShallow(e?"animationDurationUpdate":"animationDuration"),s=t.getShallow(e?"animationEasingUpdate":"animationEasing"),t.getShallow(e?"animationDelayUpdate":"animationDelay")),o&&(null!=o.duration&&(a=o.duration),null!=o.easing&&(s=o.easing),null!=o.delay&&(l=o.delay)),ue(l)&&(l=l(n,r)),{duration:(a=ue(a)?a(n):a)||0,delay:l,easing:s}):null}function Mu(e,t,n,i,r,o,a){var s=!1,l=(ue(r)?(a=o,o=r,r=null):pe(r)&&(o=r.cb,a=r.during,s=r.isFrom,u=r.removeOpt,r=r.dataIndex),"leave"===e),u=(l||t.stopAnimation("leave"),Au(e,i,r,l?u||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(t,r):null));u&&0<u.duration?(i={duration:u.duration,delay:u.delay||0,easing:u.easing,done:o,force:!!o||!!a,setToFinal:!l,scope:e,during:a},s?t.animateFrom(n,i):t.animateTo(n,i)):(t.stopAnimation(),s||t.attr(n),a&&a(1),o&&o())}function Cu(e,t,n,i,r,o){Mu("update",e,t,n,i,r,o)}function Tu(e,t,n,i,r,o){Mu("enter",e,t,n,i,r,o)}function Iu(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++)if("leave"===e.animators[t].scope)return!0;return!1}function ku(e,t,n,i,r,o){Iu(e)||Mu("leave",e,t,n,i,r,o)}function Du(e,t,n,i){e.removeTextContent(),e.removeTextGuideLine(),ku(e,{style:{opacity:0}},t,n,i)}function Bu(e,t,n){function i(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse((function(e){e.isGroup||Du(e,t,n,i)})):Du(e,t,n,i)}function Eu(e){Su(e).oldStyle=e.style}var Pu={};function Lu(e,t){for(var n=0;n<Bl.length;n++){var i,r=t[i=Bl[n]];(i=e.ensureState(i)).style=i.style||{},i.style.text=r}var o=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(o,!0)}function Ru(e,t,n){for(var i,r=e.labelFetcher,o=e.labelDataIndex,a=e.labelDimIndex,s=t.normal,l={normal:i=null==(i=r?r.getFormattedLabel(o,"normal",null,a,s&&s.get("formatter"),null!=n?{interpolatedValue:n}:null):i)?ue(e.defaultText)?e.defaultText(o,e,n):e.defaultText:i},u=0;u<Bl.length;u++){var c=Bl[u],h=t[c];l[c]=we(r?r.getFormattedLabel(o,c,null,a,h&&h.get("formatter")):null,i)}return l}function Ou(e,t,n,i){n=n||Pu;for(var r=e instanceof Ml,o=!1,a=0;a<El.length;a++)if((d=t[El[a]])&&d.getShallow("show")){o=!0;break}var s=r?e:e.getTextContent();if(o){r||(s||(s=new Ml,e.setTextContent(s)),e.stateProxy&&(s.stateProxy=e.stateProxy));var l=Ru(n,t),u=t.normal,c=!!u.getShallow("show"),h=Nu(u,i&&i.normal,n,!1,!r);for(h.text=l.normal,r||e.setTextConfig(zu(u,n,!1)),a=0;a<Bl.length;a++){var d,p,f,g=Bl[a];(d=t[g])&&(p=s.ensureState(g),(f=!!we(d.getShallow("show"),c))!=c&&(p.ignore=!f),p.style=Nu(d,i&&i[g],n,!0,!r),p.style.text=l[g],r||(e.ensureState(g).textConfig=zu(d,n,!0)))}s.silent=!!u.getShallow("silent"),null!=s.style.x&&(h.x=s.style.x),null!=s.style.y&&(h.y=s.style.y),s.ignore=!c,s.useStyle(h),s.dirty(),n.enableTextSetter&&(Wu(s).setLabelText=function(e){e=Ru(n,t,e),Lu(s,e)})}else s&&(s.ignore=!0);e.dirty()}function Fu(e,t){for(var n={normal:e.getModel(t=t||"label")},i=0;i<Bl.length;i++){var r=Bl[i];n[r]=e.getModel([r,t])}return n}function Nu(e,t,n,i,r){var o,a={},s=a,l=e,u=n,c=i,h=r;u=u||Pu;var d,p=(e=l.ecModel)&&e.option.textStyle,f=function(e){for(var t;e&&e!==e.ecModel;){var n=(e.option||Pu).rich;if(n){t=t||{};for(var i=oe(n),r=0;r<i.length;r++){t[i[r]]=1}}e=e.parentModel}return t}(l);if(f)for(var g in d={},f)f.hasOwnProperty(g)&&(o=l.getModel(["rich",g]),Uu(d[g]={},o,p,u,c,h,!1,!0));return d&&(s.rich=d),(e=l.get("overflow"))&&(s.overflow=e),null!=(e=l.get("minMargin"))&&(s.margin=e),Uu(s,l,p,u,c,h,!0,!1),t&&X(a,t),a}function zu(e,t,n){t=t||{};var i={},r=e.getShallow("rotate"),o=we(e.getShallow("distance"),n?null:5),a=e.getShallow("offset");return null!=(n="outside"===(n=e.getShallow("position")||(n?null:"inside"))?t.defaultOutsidePosition||"top":n)&&(i.position=n),null!=a&&(i.offset=a),null!=r&&(r*=Math.PI/180,i.rotation=r),null!=o&&(i.distance=o),i.outsideFill="inherit"===e.get("color")?t.inheritColor||null:"auto",i}var Gu=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Hu=["align","lineHeight","width","height","tag","verticalAlign"],Vu=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function Uu(e,t,n,i,r,o,a,s){n=!r&&n||Pu;var l=i&&i.inheritColor,u=t.getShallow("color"),c=t.getShallow("textBorderColor"),h=we(t.getShallow("opacity"),n.opacity);"inherit"!==u&&"auto"!==u||(u=l||null),"inherit"!==c&&"auto"!==c||(c=l||null),o||(u=u||n.color,c=c||n.textBorderColor),null!=u&&(e.fill=u),null!=c&&(e.stroke=c),u=we(t.getShallow("textBorderWidth"),n.textBorderWidth);null!=(u=(null!=(c=(null!=u&&(e.lineWidth=u),we(t.getShallow("textBorderType"),n.textBorderType)))&&(e.lineDash=c),we(t.getShallow("textBorderDashOffset"),n.textBorderDashOffset)))&&(e.lineDashOffset=u),null!=(h=r||null!=h||s?h:i&&i.defaultOpacity)&&(e.opacity=h),r||o||null==e.fill&&i.inheritColor&&(e.fill=i.inheritColor);for(var d=0;d<Gu.length;d++){var p=Gu[d];null!=(f=we(t.getShallow(p),n[p]))&&(e[p]=f)}for(d=0;d<Hu.length;d++)p=Hu[d],null!=(f=t.getShallow(p))&&(e[p]=f);if(null!=e.verticalAlign||null!=(c=t.getShallow("baseline"))&&(e.verticalAlign=c),!a||!i.disableBox){for(d=0;d<Vu.length;d++){var f;p=Vu[d];null!=(f=t.getShallow(p))&&(e[p]=f)}null!=(u=t.getShallow("borderType"))&&(e.borderDash=u),"auto"!==e.backgroundColor&&"inherit"!==e.backgroundColor||!l||(e.backgroundColor=l),"auto"!==e.borderColor&&"inherit"!==e.borderColor||!l||(e.borderColor=l)}}function Zu(e,t){return t=t&&t.getModel("textStyle"),Te([e.fontStyle||t&&t.getShallow("fontStyle")||"",e.fontWeight||t&&t.getShallow("fontWeight")||"",(e.fontSize||t&&t.getShallow("fontSize")||12)+"px",e.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var Wu=ea();function ju(e,t,n,i){e&&((e=Wu(e)).prevValue=e.value,e.value=n,n=t.normal,e.valueAnimation=n.get("valueAnimation"),e.valueAnimation&&(e.precision=n.get("precision"),e.defaultInterpolatedText=i,e.statesModels=t))}function Xu(e,t,n,i,r){var o,a,s,l=Wu(e);l.valueAnimation&&l.prevValue!==l.value&&(o=l.defaultInterpolatedText,a=we(l.interpolatedValue,l.prevValue),s=l.value,e.percent=0,(null==l.prevValue?Tu:Cu)(e,{percent:1},i,t,null,(function(i){var u=ua(n,l.precision,a,s,i);l.interpolatedValue=1===i?null:u,i=Ru({labelDataIndex:t,labelFetcher:r,defaultText:o?o(u):u+""},l.statesModels,u);Lu(e,i)})))}var Yu=["textStyle","color"],Ju=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],Ku=new Ml;function Qu(){}Qu.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(Yu):null)},Qu.prototype.getFont=function(){return Zu({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},Qu.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<Ju.length;n++)t[Ju[n]]=this.getShallow(Ju[n]);return Ku.useStyle(t),Ku.update(),Ku.getBoundingRect()};t=Qu;var qu=va(Uy=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]]),$u=(ec.prototype.getLineStyle=function(e){return qu(this,e)},ec);function ec(){}var tc,nc=va(Fy=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]]),ic=(rc.prototype.getItemStyle=function(e,t){return nc(this,e,t)},rc);function rc(){}function oc(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}oc.prototype.init=function(e,t,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r]},oc.prototype.mergeOption=function(e,t){W(this.option,e,!0)},oc.prototype.get=function(e,t){return null==e?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},oc.prototype.getShallow=function(e,t){var n;return null!=(n=null==(n=this.option)?n:n[e])||t||(t=this.parentModel)&&(n=t.getShallow(e)),n},oc.prototype.getModel=function(e,t){var n=null!=e;e=n?this.parsePath(e):null;return new oc(n?this._doGet(e):this.option,t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(e)),this.ecModel)},oc.prototype.isEmpty=function(){return null==this.option},oc.prototype.restoreData=function(){},oc.prototype.clone=function(){return new this.constructor(Z(this.option))},oc.prototype.parsePath=function(e){return"string"==typeof e?e.split("."):e},oc.prototype.resolveParentPath=function(e){return e},oc.prototype.isAnimationEnabled=function(){if(!A.node&&this.option)return null!=this.option.animation?!!this.option.animation:this.parentModel?this.parentModel.isAnimationEnabled():void 0},oc.prototype._doGet=function(e,t){var n=this.option;if(!e)return n;for(var i=0;i<e.length&&(!e[i]||null!=(n=n&&"object"==typeof n?n[e[i]]:null));i++);return null==n&&t?t._doGet(this.resolveParentPath(e),t.parentModel):n},pa(hg=oc),Ig=hg,tc=["__\0is_clz",wc++].join("_"),Ig.prototype[tc]=!0,Ig.isInstance=function(e){return!(!e||!e[tc])},q(hg,$u),q(hg,ic),q(hg,_a),q(hg,t);var ac=hg,sc=Math.round(10*Math.random());function lc(e){return[e||"",sc++].join("_")}function uc(e,t){return W(W({},e,!0),t,!0)}var cc="ZH",hc="EN",dc=hc,pc={},fc={},gc=A.domSupported&&-1<(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf(cc)?cc:dc;function mc(e,t){e=e.toUpperCase(),fc[e]=new ac(t),pc[e]=t}function yc(e){return fc[e]}mc(hc,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),mc(cc,{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var vc=1e3,xc=6e4,_c=60*xc,bc=24*_c,wc=365*bc,Sc={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Ac={year:"{yyyy}",month:"{yyyy}-{MM}",day:Ig="{yyyy}-{MM}-{dd}",hour:Ig+" "+Sc.hour,minute:Ig+" "+Sc.minute,second:Ig+" "+Sc.second,millisecond:Sc.none},Mc=["year","month","day","hour","minute","second","millisecond"],Cc=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Tc(e,t){return"0000".substr(0,t-(e+="").length)+e}function Ic(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function kc(e,t,n,i){var r=(e=Bo(e))[Ec(n)](),o=e[Pc(n)]()+1,a=Math.floor((o-1)/4)+1,s=e[Lc(n)](),l=e["get"+(n?"UTC":"")+"Day"](),u=e[Rc(n)](),c=(u-1)%12+1,h=e[Oc(n)](),d=e[Fc(n)](),p=(e=e[Nc(n)](),i=(n=(i instanceof ac?i:yc(i||gc)||fc.EN).getModel("time")).get("month"),n.get("monthAbbr")),f=n.get("dayOfWeek");n=n.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,r+"").replace(/{yy}/g,r%100+"").replace(/{Q}/g,a+"").replace(/{MMMM}/g,i[o-1]).replace(/{MMM}/g,p[o-1]).replace(/{MM}/g,Tc(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,Tc(s,2)).replace(/{d}/g,s+"").replace(/{eeee}/g,f[l]).replace(/{ee}/g,n[l]).replace(/{e}/g,l+"").replace(/{HH}/g,Tc(u,2)).replace(/{H}/g,u+"").replace(/{hh}/g,Tc(c+"",2)).replace(/{h}/g,c+"").replace(/{mm}/g,Tc(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,Tc(d,2)).replace(/{s}/g,d+"").replace(/{SSS}/g,Tc(e,3)).replace(/{S}/g,e+"")}function Dc(e,t){var n=(e=Bo(e))[Pc(t)]()+1,i=e[Lc(t)](),r=e[Rc(t)](),o=e[Oc(t)](),a=e[Fc(t)]();return(r=(o=(a=(t=(e=0===e[Nc(t)]())&&0===a)&&0===o)&&0===r)&&1===i)&&1===n?"year":r?"month":o?"day":a?"hour":t?"minute":e?"second":"millisecond"}function Bc(e,t,n){var i=de(e)?Bo(e):e;switch(t=t||Dc(e,n)){case"year":return i[Ec(n)]();case"half-year":return 6<=i[Pc(n)]()?1:0;case"quarter":return Math.floor((i[Pc(n)]()+1)/4);case"month":return i[Pc(n)]();case"day":return i[Lc(n)]();case"half-day":return i[Rc(n)]()/24;case"hour":return i[Rc(n)]();case"minute":return i[Oc(n)]();case"second":return i[Fc(n)]();case"millisecond":return i[Nc(n)]()}}function Ec(e){return e?"getUTCFullYear":"getFullYear"}function Pc(e){return e?"getUTCMonth":"getMonth"}function Lc(e){return e?"getUTCDate":"getDate"}function Rc(e){return e?"getUTCHours":"getHours"}function Oc(e){return e?"getUTCMinutes":"getMinutes"}function Fc(e){return e?"getUTCSeconds":"getSeconds"}function Nc(e){return e?"getUTCMilliseconds":"getMilliseconds"}function zc(e){return e?"setUTCMonth":"setMonth"}function Gc(e){return e?"setUTCDate":"setDate"}function Hc(e){return e?"setUTCHours":"setHours"}function Vc(e){return e?"setUTCMinutes":"setMinutes"}function Uc(e){return e?"setUTCSeconds":"setSeconds"}function Zc(e){return e?"setUTCMilliseconds":"setMilliseconds"}function Wc(e){return No(e)?(e=(e+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(1<e.length?"."+e[1]:""):ce(e)?e:"-"}function jc(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()})),t&&e?e.charAt(0).toUpperCase()+e.slice(1):e}var Xc=Me,Yc=/([&<>"'])/g,Jc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Kc(e){return null==e?"":(e+"").replace(Yc,(function(e,t){return Jc[t]}))}function Qc(e,t,n){function i(e){return e&&Te(e)?e:"-"}function r(e){return null!=e&&!isNaN(e)&&isFinite(e)}var o="time"===t,a=e instanceof Date;if(o||a){if(o=o?Bo(e):e,!isNaN(+o))return kc(o,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",n);if(a)return"-"}return"ordinal"===t?he(e)?i(e):de(e)&&r(e)?e+"":"-":r(o=Fo(e))?Wc(o):he(e)?i(e):"boolean"==typeof e?e+"":"-"}var qc=["a","b","c","d","e","f","g"],$c=function(e,t){return"{"+e+(null==t?"":t)+"}"};function eh(e,t,n){var i=(t=le(t)?t:[t]).length;if(!i)return"";for(var r=t[0].$vars||[],o=0;o<r.length;o++){var a=qc[o];e=e.replace($c(a),$c(a,0))}for(var s=0;s<i;s++)for(var l=0;l<r.length;l++){var u=t[s][r[l]];e=e.replace($c(qc[l],s),n?Kc(u):u)}return e}function th(e,t){var n=(e=ce(e)?{color:e,extraCssText:t}:e||{}).color,i=e.type,r=(t=e.extraCssText,e.renderMode||"html");return n?"html"===r?"subItem"===i?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Kc(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Kc(n)+";"+(t||"")+'"></span>':{renderMode:r,content:"{"+(e.markerId||"markerX")+"|}  ",style:"subItem"===i?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}:""}function nh(e,t,n){"week"!==e&&"month"!==e&&"quarter"!==e&&"half-year"!==e&&"year"!==e||(e="MM-dd\nyyyy");var i=(t=Bo(t))[(n=n?"getUTC":"get")+"FullYear"](),r=t[n+"Month"]()+1,o=t[n+"Date"](),a=t[n+"Hours"](),s=t[n+"Minutes"](),l=t[n+"Seconds"]();t=t[n+"Milliseconds"]();return e.replace("MM",Tc(r,2)).replace("M",r).replace("yyyy",i).replace("yy",i%100+"").replace("dd",Tc(o,2)).replace("d",o).replace("hh",Tc(a,2)).replace("h",a).replace("mm",Tc(s,2)).replace("m",s).replace("ss",Tc(l,2)).replace("s",l).replace("SSS",Tc(t,3))}function ih(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)}function rh(e,t){return t=t||"transparent",ce(e)?e:pe(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}function oh(e,t){var n;"_blank"===t||"blank"===t?((n=window.open()).opener=null,n.location.href=e):window.open(e,t)}var ah=ee,sh=["left","right","top","bottom","width","height"],lh=[["width","left","right"],["height","top","bottom"]];function uh(e,t,n,i,r){var o=0,a=0,s=(null==i&&(i=1/0),null==r&&(r=1/0),0);t.eachChild((function(l,u){var c,h,d,p=l.getBoundingRect();u=(u=t.childAt(u+1))&&u.getBoundingRect();s="horizontal"===e?(h=p.width+(u?-u.x+p.x:0),i<(c=o+h)||l.newline?(o=0,c=h,a+=s+n,p.height):Math.max(s,p.height)):(h=p.height+(u?-u.y+p.y:0),r<(d=a+h)||l.newline?(o+=s+n,a=0,d=h,p.width):Math.max(s,p.width)),l.newline||(l.x=o,l.y=a,l.markRedraw(),"horizontal"===e?o=c+n:a=d+n)}))}var ch=uh;function hh(e,t,n){n=Xc(n||0);var i=t.width,r=t.height,o=_o(e.left,i),a=_o(e.top,r),s=(t=_o(e.right,i),_o(e.bottom,r)),l=_o(e.width,i),u=_o(e.height,r),c=n[2]+n[0],h=n[1]+n[3],d=e.aspect;switch(isNaN(l)&&(l=i-t-h-o),isNaN(u)&&(u=r-s-c-a),null!=d&&(isNaN(l)&&isNaN(u)&&(i/r<d?l=.8*i:u=.8*r),isNaN(l)&&(l=d*u),isNaN(u)&&(u=l/d)),isNaN(o)&&(o=i-t-l-h),isNaN(a)&&(a=r-s-u-c),e.left||e.right){case"center":o=i/2-l/2-n[3];break;case"right":o=i-l-h}switch(e.top||e.bottom){case"middle":case"center":a=r/2-u/2-n[0];break;case"bottom":a=r-u-c}return o=o||0,a=a||0,isNaN(l)&&(l=i-h-o-(t||0)),isNaN(u)&&(u=r-c-a-(s||0)),(d=new zr(o+n[3],a+n[0],l,u)).margin=n,d}function dh(e,t,n,i,r,o){var a,s=!r||!r.hv||r.hv[0],l=!r||!r.hv||r.hv[1];r=r&&r.boundingMode||"all";if((o=o||e).x=e.x,o.y=e.y,!s&&!l)return!1;"raw"===r?a="group"===e.type?new zr(0,0,+t.width||0,+t.height||0):e.getBoundingRect():(a=e.getBoundingRect(),e.needLocalTransform()&&(u=e.getLocalTransform(),(a=a.clone()).applyTransform(u)));var u=hh(Y({width:a.width,height:a.height},t),n,i);t=s?u.x-a.x:0,n=l?u.y-a.y:0;return"raw"===r?(o.x=t,o.y=n):(o.x+=t,o.y+=n),o===e&&e.markRedraw(),!0}function ph(e){return pe(e=e.layoutMode||e.constructor.layoutMode)?e:e?{type:e}:null}function fh(e,t,n){var i=n&&n.ignoreSize,r=(n=(le(i)||(i=[i,i]),o(lh[0],0)),o(lh[1],1));function o(n,r){var o={},l=0,u={},c=0;if(ah(n,(function(t){u[t]=e[t]})),ah(n,(function(e){a(t,e)&&(o[e]=u[e]=t[e]),s(o,e)&&l++,s(u,e)&&c++})),i[r])return s(t,n[1])?u[n[2]]=null:s(t,n[2])&&(u[n[1]]=null),u;if(2!==c&&l){if(2<=l)return o;for(var h=0;h<n.length;h++){var d=n[h];if(!a(o,d)&&a(e,d)){o[d]=e[d];break}}return o}return u}function a(e,t){return e.hasOwnProperty(t)}function s(e,t){return null!=e[t]&&"auto"!==e[t]}function l(e,t,n){ah(e,(function(e){t[e]=n[e]}))}l(lh[0],e,n),l(lh[1],e,r)}function gh(e){return mh({},e)}function mh(e,t){return t&&e&&ah(sh,(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e}se(uh,"vertical"),se(uh,"horizontal");var yh,vh,xh,_h,bh=ea(),wh=(_(Sh,yh=ac),Sh.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n)},Sh.prototype.mergeDefaultAndTheme=function(e,t){var n=ph(this),i=n?gh(e):{};W(e,t.getTheme().get(this.mainType)),W(e,this.getDefaultOption()),n&&fh(e,i,n)},Sh.prototype.mergeOption=function(e,t){W(this.option,e,!0);var n=ph(this);n&&fh(this.option,e,n)},Sh.prototype.optionUpdated=function(e,t){},Sh.prototype.getDefaultOption=function(){var e=this.constructor;if(!(t=e)||!t[ha])return e.defaultOption;var t=bh(this);if(!t.defaultOption){for(var n=[],i=e;i;){var r=i.prototype.defaultOption;r&&n.push(r),i=i.superClass}for(var o={},a=n.length-1;0<=a;a--)o=W(o,n[a],!0);t.defaultOption=o}return t.defaultOption},Sh.prototype.getReferringComponents=function(e,t){var n=e+"Id";return aa(this.ecModel,e,{index:this.get(e+"Index",!0),id:this.get(n,!0)},t)},Sh.prototype.getBoxLayoutParams=function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}},Sh.prototype.getZLevelKey=function(){return""},Sh.prototype.setZLevel=function(e){this.option.zlevel=e},Sh.protoInitialize=(($u=Sh.prototype).type="component",$u.id="",$u.name="",$u.mainType="",$u.subType="",void($u.componentIndex=0)),Sh);function Sh(e,t,n){return(e=yh.call(this,e,t,n)||this).uid=lc("ec_cpt_model"),e}function Ah(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}fa(wh,ac),ya(wh),xh={},(vh=wh).registerSubTypeDefaulter=function(e,t){e=da(e),xh[e.main]=t},vh.determineSubType=function(e,t){var n,i=t.type;return i||(n=da(e).main,vh.hasSubTypes(e)&&xh[n]&&(i=xh[n](t))),i},_h=function(e){var t=[];return ee(wh.getClassesByMainType(e),(function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])})),t=te(t,(function(e){return da(e).main})),"dataset"!==e&&K(t,"dataset")<=0&&t.unshift("dataset"),t},wh.topologicalTravel=function(e,t,n,i){if(e.length){o={},a=[],ee(r=t,(function(e){var t,n,i=Ah(o,e),s=i.originalDeps=_h(e);t=r,n=[],ee(s,(function(e){0<=K(t,e)&&n.push(e)})),s=n;i.entryCount=s.length,0===i.entryCount&&a.push(e),ee(s,(function(t){K(i.predecessor,t)<0&&i.predecessor.push(t);var n=Ah(o,t);K(n.successor,t)<0&&n.successor.push(e)}))}));var r,o,a,s=(t={graph:o,noEntryList:a}).graph,l=t.noEntryList,u={};for(ee(e,(function(e){u[e]=!0}));l.length;){var c=l.pop(),h=s[c],d=!!u[c];d&&(n.call(i,c,h.originalDeps.slice()),delete u[c]),ee(h.successor,d?f:p)}ee(u,(function(){throw new Error("")}))}function p(e){s[e].entryCount--,0===s[e].entryCount&&l.push(e)}function f(e){u[e]=!0,p(e)}};var Mh=wh,Ch=(ic="",{darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:_a=("undefined"!=typeof navigator&&(ic=navigator.platform||""),"rgba(0, 0, 0, 0.2)"),dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:_a,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:_a,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:_a,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:_a,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:_a,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:ic.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1}),Th=Pe(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Ih="original",kh="arrayRows",Dh="objectRows",Bh="keyedColumns",Eh="typedArray",Ph="unknown",Lh="column",Rh="row",Oh=1,Fh=2,Nh=3,zh=ea();function Gh(e,t,n){var i={};if(!(l=Vh(t))||!e)return i;var r,o,a=[],s=[],l=(t=t.ecModel,t=zh(t).datasetMap,l.uid+"_"+n.seriesLayoutBy),u=(ee(e=e.slice(),(function(t,n){"ordinal"===(t=pe(t)?t:e[n]={name:t}).type&&null==r&&(r=n,o=h(t)),i[t.name]=[]})),t.get(l)||t.set(l,{categoryWayDim:o,valueWayDim:0}));function c(e,t,n){for(var i=0;i<n;i++)e.push(t+i)}function h(e){return(e=e.dimsDef)?e.length:1}return ee(e,(function(e,t){var n,o=e.name;e=h(e);null==r?(n=u.valueWayDim,c(i[o],n,e),c(s,n,e),u.valueWayDim+=e):r===t?(c(i[o],0,e),c(a,0,e)):(n=u.categoryWayDim,c(i[o],n,e),c(s,n,e),u.categoryWayDim+=e)})),a.length&&(i.itemName=a),s.length&&(i.seriesName=s),i}function Hh(e,t,n){var i={};if(!Vh(e))return i;var r,o=t.sourceFormat,a=t.dimensionsDefine;o!==Dh&&o!==Bh||ee(a,(function(e,t){"name"===(pe(e)?e.name:e)&&(r=t)})),e=function(){for(var e={},i={},s=[],l=0,u=Math.min(5,n);l<u;l++){var c=Zh(t.data,o,t.seriesLayoutBy,a,t.startIndex,l),h=(s.push(c),c===Nh);if(h&&null==e.v&&l!==r&&(e.v=l),null!=e.n&&e.n!==e.v&&(h||s[e.n]!==Nh)||(e.n=l),d(e)&&s[e.n]!==Nh)return e;h||(c===Fh&&null==i.v&&l!==r&&(i.v=l),null!=i.n&&i.n!==i.v||(i.n=l))}function d(e){return null!=e.v&&null!=e.n}return d(e)?e:d(i)?i:null}();return e&&(i.value=[e.v],e=null!=r?r:e.n,i.itemName=[e],i.seriesName=[e]),i}function Vh(e){if(!e.get("data",!0))return aa(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},ra).models[0]}function Uh(e,t){return Zh(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function Zh(e,t,n,i,r,o){var a,s,l;if(ge(e))return Nh;if(i&&(pe(i=i[o])?(s=i.name,l=i.type):ce(i)&&(s=i)),null!=l)return"ordinal"===l?Oh:Nh;if(t===kh){var u=e;if(n===Rh){for(var c=u[o],h=0;h<(c||[]).length&&h<5;h++)if(null!=(a=y(c[r+h])))return a}else for(h=0;h<u.length&&h<5;h++){var d=u[r+h];if(d&&null!=(a=y(d[o])))return a}}else if(t===Dh){var p=e;if(!s)return Nh;for(h=0;h<p.length&&h<5;h++)if((g=p[h])&&null!=(a=y(g[s])))return a}else if(t===Bh){if(!s)return Nh;if(!(c=e[s])||ge(c))return Nh;for(h=0;h<c.length&&h<5;h++)if(null!=(a=y(c[h])))return a}else if(t===Ih){var f=e;for(h=0;h<f.length&&h<5;h++){var g,m=jo(g=f[h]);if(!le(m))return Nh;if(null!=(a=y(m[o])))return a}}function y(e){var t=ce(e);return null!=e&&isFinite(e)&&""!==e?t?Fh:Nh:t&&"-"!==e?Oh:void 0}return Nh}var Wh,jh,Xh,Yh=Pe(),Jh=ea(),Kh=ea(),Qh=(qh.prototype.getColorFromPalette=function(e,t,n){var i=Uo(this.get("color",!0)),r=this.get("colorLayer",!0);return ed(this,Jh,i,r,e,t,n)},qh.prototype.clearColorPalette=function(){var e;(e=Jh)(this).paletteIdx=0,e(this).paletteNameMap={}},qh);function qh(){}function $h(e,t,n,i){var r=Uo(e.get(["aria","decal","decals"]));return ed(e,Kh,r,null,t,n,i)}function ed(e,t,n,i,r,o,a){return e=(t=t(o=o||e)).paletteIdx||0,(o=t.paletteNameMap=t.paletteNameMap||{}).hasOwnProperty(r)?o[r]:(i=(null!=a&&i?function(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i].length>t)return e[i];return e[n-1]}(i,a):n)||n,i&&i.length?(a=i[e],r&&(o[r]=a),t.paletteIdx=(e+1)%i.length,a):void 0)}var td,nd="\0_ec_inner";function id(){return null!==td&&td.apply(this,arguments)||this}function rd(e,t,n){var i,r;return le(t)?(i=Pe(),ee(t,(function(e){null!=e&&null!=Ko(e,null)&&i.set(e,!0)})),ie(n,(function(t){return t&&i.get(t[e])}))):(r=Ko(t,null),ie(n,(function(t){return t&&null!=r&&t[e]===r})))}function od(e,t){return t.hasOwnProperty("subType")?ie(e,(function(e){return e&&e.subType===t.subType})):e}function ad(e){var t=Pe();return e&&ee(Uo(e.replaceMerge),(function(e){t.set(e,!0)})),{replaceMergeMainTypeMap:t}}function sd(e){ee(ud,(function(t){this[t]=ae(e[t],e)}),this)}_(id,td=ac),id.prototype.init=function(e,t,n,i,r,o){i=i||{},this.option=null,this._theme=new ac(i),this._locale=new ac(r),this._optionManager=o},id.prototype.setOption=function(e,t,n){t=ad(t),this._optionManager.setOption(e,n,t),this._resetOption(null,t)},id.prototype.resetOption=function(e,t){return this._resetOption(e,ad(t))},id.prototype._resetOption=function(e,t){var n,i=!1,r=this._optionManager;return e&&"recreate"!==e||(n=r.mountOption("recreate"===e),this.option&&"recreate"!==e?(this.restoreData(),this._mergeOption(n,t)):Xh(this,n),i=!0),"timeline"!==e&&"media"!==e||this.restoreData(),e&&"recreate"!==e&&"timeline"!==e||(n=r.getTimelineOption(this))&&(i=!0,this._mergeOption(n,t)),e&&"recreate"!==e&&"media"!==e||(n=r.getMediaOption(this)).length&&ee(n,(function(e){i=!0,this._mergeOption(e,t)}),this),i},id.prototype.mergeOption=function(e){this._mergeOption(e,null)},id.prototype._mergeOption=function(e,t){var n=this.option,i=this._componentsMap,r=this._componentsCount,o=[],a=Pe(),s=t&&t.replaceMergeMainTypeMap;zh(this).datasetMap=Pe(),ee(e,(function(e,t){null!=e&&(Mh.hasClass(t)?t&&(o.push(t),a.set(t,!0)):n[t]=null==n[t]?Z(e):W(n[t],e,!0))})),s&&s.each((function(e,t){Mh.hasClass(t)&&!a.get(t)&&(o.push(t),a.set(t,!0))})),Mh.topologicalTravel(o,Mh.getAllClassMainTypes(),(function(t){var o,a,l=function(e,t,n){return(t=Yh.get(t))&&(t=t(e))?n.concat(t):n}(this,t,Uo(e[t])),u=(function(e,t,n){ee(e,(function(e){var i,r,o=e.newOption;pe(o)&&(e.keyInfo.mainType=t,e.keyInfo.subType=(i=t,e=e.existing,r=n,o.type||(e?e.subType:r.determineSubType(i,o))))}))}(a=Xo(a=i.get(t),l,a?s&&s.get(t)?"replaceMerge":"normalMerge":"replaceAll"),t,Mh),n[t]=null,i.set(t,null),r.set(t,0),[]),c=[],h=0;ee(a,(function(e,n){var i=e.existing,r=e.newOption;if(r){var a=Mh.getClass(t,e.keyInfo.subType,!("series"===t));if(!a)return;if("tooltip"===t){if(o)return;o=!0}i&&i.constructor===a?(i.name=e.keyInfo.name,i.mergeOption(r,this),i.optionUpdated(r,!1)):(n=X({componentIndex:n},e.keyInfo),X(i=new a(r,this,this,n),n),e.brandNew&&(i.__requireNewView=!0),i.init(r,this,this),i.optionUpdated(null,!0))}else i&&(i.mergeOption({},this),i.optionUpdated({},!1));i?(u.push(i.option),c.push(i),h++):(u.push(void 0),c.push(void 0))}),this),n[t]=u,i.set(t,c),r.set(t,h),"series"===t&&Wh(this)}),this),this._seriesIndices||Wh(this)},id.prototype.getOption=function(){var e=Z(this.option);return ee(e,(function(t,n){if(Mh.hasClass(n)){for(var i=Uo(t),r=i.length,o=!1,a=r-1;0<=a;a--)i[a]&&!qo(i[a])?o=!0:(i[a]=null,o||r--);i.length=r,e[n]=i}})),delete e[nd],e},id.prototype.getTheme=function(){return this._theme},id.prototype.getLocaleModel=function(){return this._locale},id.prototype.setUpdatePayload=function(e){this._payload=e},id.prototype.getUpdatePayload=function(){return this._payload},id.prototype.getComponent=function(e,t){var n=this._componentsMap.get(e);if(n){if(e=n[t||0])return e;if(null==t)for(var i=0;i<n.length;i++)if(n[i])return n[i]}},id.prototype.queryComponents=function(e){var t=e.mainType;if(!t)return[];var n,i=e.index,r=e.id,o=e.name,a=this._componentsMap.get(t);return a&&a.length?(null!=i?(n=[],ee(Uo(i),(function(e){a[e]&&n.push(a[e])}))):n=null!=r?rd("id",r,a):null!=o?rd("name",o,a):ie(a,(function(e){return!!e})),od(n,e)):[]},id.prototype.findComponents=function(e){var t,n=e.query,i=e.mainType,r=(r=i+"Index",o=i+"Id",t=i+"Name",!n||null==n[r]&&null==n[o]&&null==n[t]?null:{mainType:i,index:n[r],id:n[o],name:n[t]}),o=r?this.queryComponents(r):ie(this._componentsMap.get(i),(function(e){return!!e}));return n=od(o,e),e.filter?ie(n,e.filter):n},id.prototype.eachComponent=function(e,t,n){var i=this._componentsMap;if(ue(e)){var r=t,o=e;i.each((function(e,t){for(var n=0;e&&n<e.length;n++){var i=e[n];i&&o.call(r,t,i,i.componentIndex)}}))}else for(var a=ce(e)?i.get(e):pe(e)?this.findComponents(e):null,s=0;a&&s<a.length;s++){var l=a[s];l&&t.call(n,l,l.componentIndex)}},id.prototype.getSeriesByName=function(e){var t=Ko(e,null);return ie(this._componentsMap.get("series"),(function(e){return!!e&&null!=t&&e.name===t}))},id.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},id.prototype.getSeriesByType=function(e){return ie(this._componentsMap.get("series"),(function(t){return!!t&&t.subType===e}))},id.prototype.getSeries=function(){return ie(this._componentsMap.get("series"),(function(e){return!!e}))},id.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},id.prototype.eachSeries=function(e,t){jh(this),ee(this._seriesIndices,(function(n){var i=this._componentsMap.get("series")[n];e.call(t,i,n)}),this)},id.prototype.eachRawSeries=function(e,t){ee(this._componentsMap.get("series"),(function(n){n&&e.call(t,n,n.componentIndex)}))},id.prototype.eachSeriesByType=function(e,t,n){jh(this),ee(this._seriesIndices,(function(i){var r=this._componentsMap.get("series")[i];r.subType===e&&t.call(n,r,i)}),this)},id.prototype.eachRawSeriesByType=function(e,t,n){return ee(this.getSeriesByType(e),t,n)},id.prototype.isSeriesFiltered=function(e){return jh(this),null==this._seriesIndicesMap.get(e.componentIndex)},id.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},id.prototype.filterSeries=function(e,t){jh(this);var n=[];ee(this._seriesIndices,(function(i){var r=this._componentsMap.get("series")[i];e.call(t,r,i)&&n.push(i)}),this),this._seriesIndices=n,this._seriesIndicesMap=Pe(n)},id.prototype.restoreData=function(e){Wh(this);var t=this._componentsMap,n=[];t.each((function(e,t){Mh.hasClass(t)&&n.push(t)})),Mh.topologicalTravel(n,Mh.getAllClassMainTypes(),(function(n){ee(t.get(n),(function(t){!t||"series"===n&&function(e,t){var n,i;if(t)return n=t.seriesIndex,i=t.seriesId,t=t.seriesName,null!=n&&e.componentIndex!==n||null!=i&&e.id!==i||null!=t&&e.name!==t}(t,e)||t.restoreData()}))}))},id.internalField=(Wh=function(e){var t=e._seriesIndices=[];ee(e._componentsMap.get("series"),(function(e){e&&t.push(e.componentIndex)})),e._seriesIndicesMap=Pe(t)},jh=function(e){},void(Xh=function(e,t){e.option={},e.option[nd]=1,e._componentsMap=Pe({series:[]}),e._componentsCount=Pe();var n,i,r=t.aria;pe(r)&&null==r.enabled&&(r.enabled=!0),n=t,r=e._theme.option,i=n.color&&!n.colorLayer,ee(r,(function(e,t){"colorLayer"===t&&i||Mh.hasClass(t)||("object"==typeof e?n[t]=n[t]?W(n[t],e,!1):Z(e):null==n[t]&&(n[t]=e))})),W(t,Ch,!1),e._mergeOption(t,null)})),q(t=id,Qh);var ld=t,ud=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],cd={};function hd(){this._coordinateSystems=[]}hd.prototype.create=function(e,t){var n=[];ee(cd,(function(i,r){i=i.create(e,t),n=n.concat(i||[])})),this._coordinateSystems=n},hd.prototype.update=function(e,t){ee(this._coordinateSystems,(function(n){n.update&&n.update(e,t)}))},hd.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},hd.register=function(e,t){cd[e]=t},hd.get=function(e){return cd[e]};var dd=hd,pd=/^(min|max)?(.+)$/;function fd(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}fd.prototype.setOption=function(e,t,n){e&&(ee(Uo(e.series),(function(e){e&&e.data&&ge(e.data)&&ke(e.data)})),ee(Uo(e.dataset),(function(e){e&&e.source&&ge(e.source)&&ke(e.source)}))),e=Z(e);var i=this._optionBackup;e=function(e,t,n){var i,r,o=[],a=e.baseOption,s=e.timeline,l=e.options,u=e.media,c=!!e.media,h=!!(l||s||a&&a.timeline);function d(e){ee(t,(function(t){t(e,n)}))}return a?(r=a).timeline||(r.timeline=s):((h||c)&&(e.options=e.media=null),r=e),c&&le(u)&&ee(u,(function(e){e&&e.option&&(e.query?o.push(e):i=i||e)})),d(r),ee(l,d),ee(o,(function(e){return d(e.option)})),{baseOption:r,timelineOptions:l||[],mediaDefault:i,mediaList:o}}(e,t,!i);this._newBaseOption=e.baseOption,i?(e.timelineOptions.length&&(i.timelineOptions=e.timelineOptions),e.mediaList.length&&(i.mediaList=e.mediaList),e.mediaDefault&&(i.mediaDefault=e.mediaDefault)):this._optionBackup=e},fd.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],Z(e?t.baseOption:this._newBaseOption)},fd.prototype.getTimelineOption=function(e){var t,n=this._timelineOptions;return n.length&&(e=e.getComponent("timeline"))?Z(n[e.getCurrentIndex()]):t},fd.prototype.getMediaOption=function(e){var t=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,r=this._mediaDefault,o=[],a=[];if(!i.length&&!r)return a;for(var s,l,u=0,c=i.length;u<c;u++)!function(e,t,n){var i={width:t,height:n,aspectratio:t/n},r=!0;return ee(e,(function(e,t){var n;(t=t.match(pd))&&t[1]&&t[2]&&(n=t[1],t=t[2].toLowerCase(),t=i[t],("min"===n?e<=t:"max"===n?t<=e:t===e)||(r=!1))})),r}(i[u].query,t,n)||o.push(u);return(o=!o.length&&r?[-1]:o).length&&(s=o,l=this._currentMediaIndices,s.join(",")!==l.join(","))&&(a=te(o,(function(e){return Z((-1===e?r:i[e]).option)}))),this._currentMediaIndices=o,a};var gd=fd,md=ee,yd=pe,vd=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function xd(e){var t=e&&e.itemStyle;if(t)for(var n=0,i=vd.length;n<i;n++){var r=vd[n],o=t.normal,a=t.emphasis;o&&o[r]&&(e[r]=e[r]||{},e[r].normal?W(e[r].normal,o[r]):e[r].normal=o[r],o[r]=null),a&&a[r]&&(e[r]=e[r]||{},e[r].emphasis?W(e[r].emphasis,a[r]):e[r].emphasis=a[r],a[r]=null)}}function _d(e,t,n){var i,r;e&&e[t]&&(e[t].normal||e[t].emphasis)&&(i=e[t].normal,r=e[t].emphasis,i&&(n?(e[t].normal=e[t].emphasis=null,Y(e[t],i)):e[t]=i),r&&(e.emphasis=e.emphasis||{},(e.emphasis[t]=r).focus&&(e.emphasis.focus=r.focus),r.blurScope&&(e.emphasis.blurScope=r.blurScope)))}function bd(e){_d(e,"itemStyle"),_d(e,"lineStyle"),_d(e,"areaStyle"),_d(e,"label"),_d(e,"labelLine"),_d(e,"upperLabel"),_d(e,"edgeLabel")}function wd(e,t){var n=yd(e)&&e[t],i=yd(n)&&n.textStyle;if(i)for(var r=0,o=Wo.length;r<o;r++){var a=Wo[r];i.hasOwnProperty(a)&&(n[a]=i[a])}}function Sd(e){e&&(bd(e),wd(e,"label"),e.emphasis&&wd(e.emphasis,"label"))}function Ad(e){return le(e)?e:e?[e]:[]}function Md(e){return(le(e)?e[0]:e)||{}}function Cd(e){e&&ee(Td,(function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])}))}var Td=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Id=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],kd=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Dd(e){var t=e&&e.itemStyle;if(t)for(var n=0;n<kd.length;n++){var i=kd[n][1],r=kd[n][0];null!=t[i]&&(t[r]=t[i])}}function Bd(e){e&&"edge"===e.alignTo&&null!=e.margin&&null==e.edgeDistance&&(e.edgeDistance=e.margin)}function Ed(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function Pd(e,t){(function(e,t){md(Ad(e.series),(function(e){if(yd(e)&&yd(e)){xd(e),bd(e),wd(e,"label"),wd(e,"upperLabel"),wd(e,"edgeLabel"),e.emphasis&&(wd(e.emphasis,"label"),wd(e.emphasis,"upperLabel"),wd(e.emphasis,"edgeLabel"));var t=e.markPoint,n=(t&&(xd(t),Sd(t)),e.markLine),i=(n&&(xd(n),Sd(n)),e.markArea),r=(i&&Sd(i),e.data);if("graph"===e.type){r=r||e.nodes;var o=e.links||e.edges;if(o&&!ge(o))for(var a=0;a<o.length;a++)Sd(o[a]);ee(e.categories,(function(e){bd(e)}))}if(r&&!ge(r))for(a=0;a<r.length;a++)Sd(r[a]);if((t=e.markPoint)&&t.data){var s=t.data;for(a=0;a<s.length;a++)Sd(s[a])}if((n=e.markLine)&&n.data){var l=n.data;for(a=0;a<l.length;a++)le(l[a])?(Sd(l[a][0]),Sd(l[a][1])):Sd(l[a])}"gauge"===e.type?(wd(e,"axisLabel"),wd(e,"title"),wd(e,"detail")):"treemap"===e.type?(_d(e.breadcrumb,"itemStyle"),ee(e.levels,(function(e){bd(e)}))):"tree"===e.type&&bd(e.leaves)}}));var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),md(n,(function(t){md(Ad(e[t]),(function(e){e&&(wd(e,"axisLabel"),wd(e.axisPointer,"label"))}))})),md(Ad(e.parallel),(function(e){wd(e=e&&e.parallelAxisDefault,"axisLabel"),wd(e&&e.axisPointer,"label")})),md(Ad(e.calendar),(function(e){_d(e,"itemStyle"),wd(e,"dayLabel"),wd(e,"monthLabel"),wd(e,"yearLabel")})),md(Ad(e.radar),(function(e){wd(e,"name"),e.name&&null==e.axisName&&(e.axisName=e.name,delete e.name),null!=e.nameGap&&null==e.axisNameGap&&(e.axisNameGap=e.nameGap,delete e.nameGap)})),md(Ad(e.geo),(function(e){yd(e)&&(Sd(e),md(Ad(e.regions),(function(e){Sd(e)})))})),md(Ad(e.timeline),(function(e){Sd(e),_d(e,"label"),_d(e,"itemStyle"),_d(e,"controlStyle",!0),le(e=e.data)&&ee(e,(function(e){pe(e)&&(_d(e,"label"),_d(e,"itemStyle"))}))})),md(Ad(e.toolbox),(function(e){_d(e,"iconStyle"),md(e.feature,(function(e){_d(e,"iconStyle")}))})),wd(Md(e.axisPointer),"label"),wd(Md(e.tooltip).axisPointer,"label")})(e,t),e.series=Uo(e.series),ee(e.series,(function(e){if(pe(e)){var t,n=e.type;if("line"===n)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===n||"gauge"===n){if(null!=e.clockWise&&(e.clockwise=e.clockWise),Bd(e.label),(t=e.data)&&!ge(t))for(var i=0;i<t.length;i++)Bd(t[i]);null!=e.hoverOffset&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if("gauge"===n){var r=function(e,t){for(var n="pointer.color".split(","),i=e,r=0;r<n.length&&null!=(i=i&&i[n[r]]);r++);return i}(e);if(null!=r){for(var o,a=e,s="itemStyle.color",l=s.split(","),u=a,c=0;c<l.length-1;c++)null==u[o=l[c]]&&(u[o]={}),u=u[o];null!=u[l[c]]||(u[l[c]]=r)}}else if("bar"===n){if(Dd(e),Dd(e.backgroundStyle),Dd(e.emphasis),(t=e.data)&&!ge(t))for(i=0;i<t.length;i++)"object"==typeof t[i]&&(Dd(t[i]),Dd(t[i]&&t[i].emphasis))}else"sunburst"===n?((s=e.highlightPolicy)&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=s)),Ed(e),function e(t,n){if(t)for(var i=0;i<t.length;i++)n(t[i]),t[i]&&e(t[i].children,n)}(e.data,Ed)):"graph"===n||"sankey"===n?(a=e)&&null!=a.focusNodeAdjacency&&(a.emphasis=a.emphasis||{},null==a.emphasis.focus&&(a.emphasis.focus="adjacency")):"map"===n&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&Y(e,e.mapLocation));null!=e.hoverAnimation&&(e.emphasis=e.emphasis||{},e.emphasis&&null==e.emphasis.scale&&(e.emphasis.scale=e.hoverAnimation)),Cd(e)}})),e.dataRange&&(e.visualMap=e.dataRange),ee(Id,(function(t){(t=e[t])&&ee(t=le(t)?t:[t],(function(e){Cd(e)}))}))}function Ld(e){ee(e,(function(t,n){var i=[],r=[NaN,NaN],o=[t.stackResultDimension,t.stackedOverDimension],a=t.data,s=t.isStackedByIndex;a.modify(o,(function(o,l,u){var c,h,d=a.get(t.stackedDimension,u);if(isNaN(d))return r;s?h=a.getRawIndex(u):c=a.get(t.stackedByDimension,u);for(var p,f,g,m=NaN,y=n-1;0<=y;y--){var v=e[y];if(0<=(h=s?h:v.data.rawIndexOf(v.stackedByDimension,c))&&(v=v.data.getByRawIndex(v.stackResultDimension,h),0<=d&&0<v||d<=0&&v<0)){p=d,f=v,void 0,g=Math.max(So(p),So(f)),p+=f,d=20<g?p:bo(p,g),m=v;break}}return i[0]=d,i[1]=m,i}))}))}var Rd,Od,Fd=function(e){this.data=e.data||(e.sourceFormat===Bh?{}:[]),this.sourceFormat=e.sourceFormat||Ph,this.seriesLayoutBy=e.seriesLayoutBy||Lh,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var n=0;n<t.length;n++){var i=t[n];null==i.type&&Uh(this,n)===Oh&&(i.type="ordinal")}};function Nd(e){return e instanceof Fd}function zd(e,t,n){n=n||Hd(e);var i=t.seriesLayoutBy,r=function(e,t,n,i,r){var o,a,s;return e?(t===kh?(s=e,"auto"===i||null==i?Ud((function(e){null!=e&&"-"!==e&&(ce(e)?null==a&&(a=1):a=0)}),n,s,10):a=de(i)?i:i?1:0,r||1!==a||(r=[],Ud((function(e,t){r[t]=null!=e?e+"":""}),n,s,1/0)),o=r?r.length:n===Rh?s.length:s[0]?s[0].length:null):t===Dh?r=r||function(e){for(var t,n,i=0;i<e.length&&!(t=e[i++]););if(t)return n=[],ee(t,(function(e,t){n.push(t)})),n}(e):t===Bh?r||(r=[],ee(e,(function(e,t){r.push(t)}))):t===Ih&&(o=le(i=jo(e[0]))&&i.length||1),{startIndex:a,dimensionsDefine:Vd(r),dimensionsDetectedCount:o}):{dimensionsDefine:Vd(r),startIndex:a,dimensionsDetectedCount:o}}(e,n,i,t.sourceHeader,t.dimensions);return new Fd({data:e,sourceFormat:n,seriesLayoutBy:i,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:Z(t)})}function Gd(e){return new Fd({data:e,sourceFormat:ge(e)?Eh:Ih})}function Hd(e){var t=Ph;if(ge(e))t=Eh;else if(le(e)){0===e.length&&(t=kh);for(var n=0,i=e.length;n<i;n++){var r=e[n];if(null!=r){if(le(r)){t=kh;break}if(pe(r)){t=Dh;break}}}}else if(pe(e))for(var o in e)if(Fe(e,o)&&$(e[o])){t=Bh;break}return t}function Vd(e){var t;if(e)return t=Pe(),te(e,(function(e,n){if(null==(e={name:(e=pe(e)?e:{name:e}).name,displayName:e.displayName,type:e.type}).name)return e;e.name+="",null==e.displayName&&(e.displayName=e.name);var i=t.get(e.name);return i?e.name+="-"+i.count++:t.set(e.name,{count:1}),e}))}function Ud(e,t,n,i){if(t===Rh)for(var r=0;r<n.length&&r<i;r++)e(n[r]?n[r][0]:null,r);else{var o=n[0]||[];for(r=0;r<o.length&&r<i;r++)e(o[r],r)}}function Zd(e){return(e=e.sourceFormat)===Dh||e===Bh}Jd.prototype.getSource=function(){return this._source},Jd.prototype.count=function(){return 0},Jd.prototype.getItem=function(e,t){},Jd.prototype.appendData=function(e){},Jd.prototype.clean=function(){},Jd.protoInitialize=((hg=Jd.prototype).pure=!1,void(hg.persistent=!0)),Jd.internalField=(Od=function(e,t,n){var i,r=n.sourceFormat,o=n.seriesLayoutBy,a=n.startIndex;n=n.dimensionsDefine;X(e,Rd[ap(r,o)]),r===Eh?(e.getItem=Wd,e.count=Xd,e.fillStorage=jd):(i=$d(r,o),e.getItem=ae(i,null,t,a,n),i=np(r,o),e.count=ae(i,null,t,a,n))},Wd=function(e,t){e-=this._offset,t=t||[];for(var n=this._data,i=this._dimSize,r=i*e,o=0;o<i;o++)t[o]=n[r+o];return t},jd=function(e,t,n,i){for(var r=this._data,o=this._dimSize,a=0;a<o;a++){for(var s=i[a],l=null==s[0]?1/0:s[0],u=null==s[1]?-1/0:s[1],c=t-e,h=n[a],d=0;d<c;d++){var p=r[d*o+a];(h[e+d]=p)<l&&(l=p),u<p&&(u=p)}s[0]=l,s[1]=u}},Xd=function(){return this._data?this._data.length/this._dimSize:0},(hg={})[kh+"_"+Lh]={pure:!0,appendData:Kd},hg[kh+"_"+Rh]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},hg[Dh]={pure:!0,appendData:Kd},hg[Bh]={pure:!0,appendData:function(e){var t=this._data;ee(e,(function(e,n){for(var i=t[n]||(t[n]=[]),r=0;r<(e||[]).length;r++)i.push(e[r])}))}},hg[Ih]={appendData:Kd},hg[Eh]={persistent:!1,pure:!0,appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}},void(Rd=hg));var Wd,jd,Xd,Yd=Jd;function Jd(e,t){e=Nd(e)?e:Gd(e);var n=(this._source=e,this._data=e.data);e.sourceFormat===Eh&&(this._offset=0,this._dimSize=t,this._data=n),Od(this,n,e)}function Kd(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}function Qd(e,t,n,i){return e[i]}(Ig={})[kh+"_"+Lh]=function(e,t,n,i){return e[i+t]},Ig[kh+"_"+Rh]=function(e,t,n,i,r){i+=t;for(var o=r||[],a=e,s=0;s<a.length;s++){var l=a[s];o[s]=l?l[i]:null}return o},Ig[Dh]=Qd,Ig[Bh]=function(e,t,n,i,r){for(var o=r||[],a=0;a<n.length;a++){var s=e[n[a].name];o[a]=s?s[i]:null}return o},Ig[Ih]=Qd;var qd=Ig;function $d(e,t){return qd[ap(e,t)]}function ep(e,t,n){return e.length}($u={})[kh+"_"+Lh]=function(e,t,n){return Math.max(0,e.length-t)},$u[kh+"_"+Rh]=function(e,t,n){return(e=e[0])?Math.max(0,e.length-t):0},$u[Dh]=ep,$u[Bh]=function(e,t,n){return(e=e[n[0].name])?e.length:0},$u[Ih]=ep;var tp=$u;function np(e,t){return tp[ap(e,t)]}function ip(e,t,n){return e[t]}(_a={})[kh]=ip,_a[Dh]=function(e,t,n){return e[n]},_a[Bh]=ip,_a[Ih]=function(e,t,n){return(e=jo(e))instanceof Array?e[t]:e},_a[Eh]=ip;var rp=_a;function op(e){return rp[e]}function ap(e,t){return e===kh?e+"_"+t:e}function sp(e,t,n){var i,r;if(e&&null!=(t=e.getRawDataItem(t)))return i=(r=e.getStore()).getSource().sourceFormat,null!=n?(e=e.getDimensionIndex(n),n=r.getDimensionProperty(e),op(i)(t,e,n)):(r=t,i===Ih?jo(t):r)}var lp=/\{@(.+?)\}/g;up.prototype.getDataParams=function(e,t){var n=this.getData(t),i=this.getRawValue(e,t),r=n.getRawIndex(e),o=n.getName(e),a=n.getRawDataItem(e),s=(e=(s=n.getItemVisual(e,"style"))&&s[n.getItemVisual(e,"drawType")||"fill"],s&&s.stroke),l=this.mainType,u="series"===l;n=n.userOutput&&n.userOutput.get();return{componentType:l,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:u?this.subType:null,seriesIndex:this.seriesIndex,seriesId:u?this.id:null,seriesName:u?this.name:null,name:o,dataIndex:r,data:a,dataType:t,value:i,color:e,borderColor:s,dimensionNames:n?n.fullDimensions:null,encode:n?n.encode:null,$vars:["seriesName","name","value"]}},up.prototype.getFormattedLabel=function(e,t,n,i,r,o){t=t||"normal";var a=this.getData(n);n=this.getDataParams(e,n);return o&&(n.value=o.interpolatedValue),null!=i&&le(n.value)&&(n.value=n.value[i]),ue(r=r||a.getItemModel(e).get("normal"===t?["label","formatter"]:[t,"label","formatter"]))?(n.status=t,n.dimensionIndex=i,r(n)):ce(r)?eh(r,n).replace(lp,(function(t,n){var i=n.length;"["===n.charAt(0)&&"]"===n.charAt(i-1)&&(n=+n.slice(1,i-1)),i=sp(a,e,n);return o&&le(o.interpolatedValue)&&0<=(n=a.getDimensionIndex(n))&&(i=o.interpolatedValue[n]),null!=i?i+"":""})):void 0},up.prototype.getRawValue=function(e,t){return sp(this.getData(t),e)},up.prototype.formatTooltip=function(e,t,n){},ic=up;function up(){}function cp(e){var t,n;return pe(e)?e.type&&(n=e):t=e,{text:t,frag:n}}function hp(e){return new dp(e)}pp.prototype.perform=function(e){var t,n,i=this._upstream,r=e&&e.skip,o=(this._dirty&&i&&((o=this.context).data=o.outputData=i.context.outputData),this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(t=this._plan(this.context)),u(this._modBy)),a=this._modDataCount||0,s=u(e&&e.modBy),l=e&&e.modDataCount||0;function u(e){return 1<=e?e:1}if(o===s&&a===l||(t="reset"),!this._dirty&&"reset"!==t||(this._dirty=!1,n=this._doReset(r)),this._modBy=s,this._modDataCount=l,o=e&&e.step,this._dueEnd=i?i._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var c=this._dueIndex,h=Math.min(null!=o?this._dueIndex+o:1/0,this._dueEnd);if(!r&&(n||c<h)){var d=this._progress;if(le(d))for(var p=0;p<d.length;p++)this._doProgress(d[p],c,h,s,l);else this._doProgress(d,c,h,s,l)}this._dueIndex=h,a=null!=this._settedOutputEnd?this._settedOutputEnd:h,this._outputDueEnd=a}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},pp.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},pp.prototype._doProgress=function(e,t,n,i,r){_p.reset(t,n,i,r),this._callingProgress=e,this._callingProgress({start:t,end:n,count:n-t,next:_p.next},this.context)},pp.prototype._doReset=function(e){var t,n;return this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!e&&this._reset&&((t=this._reset(this.context))&&t.progress&&(n=t.forceFirstProgress,t=t.progress),le(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null,(e=this._downstream)&&e.dirty(),n},pp.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},pp.prototype.pipe=function(e){this._downstream===e&&!this._dirty||((this._downstream=e)._upstream=this,e.dirty())},pp.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},pp.prototype.getUpstream=function(){return this._upstream},pp.prototype.getDownstream=function(){return this._downstream},pp.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e};var dp=pp;function pp(e){this._reset=(e=e||{}).reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}var fp,gp,mp,yp,vp,xp,_p=xp={reset:function(e,t,n,i){gp=e,fp=t,mp=n,yp=i,vp=Math.ceil(yp/mp),xp.next=1<mp&&0<yp?wp:bp}};function bp(){return gp<fp?gp++:null}function wp(){var e=gp%vp*mp+Math.ceil(gp/vp);e=fp<=gp?null:e<yp?e:gp;return gp++,e}function Sp(e){throw new Error(e)}function Ap(e,t){return"ordinal"===(t=t&&t.type)?e:null==(e="time"!==t||de(e)||null==e||"-"===e?e:+Bo(e))||""===e?NaN:+e}var Mp=Pe({number:function(e){return parseFloat(e)},time:function(e){return+Bo(e)},trim:function(e){return ce(e)?Te(e):e}});function Cp(e){return Mp.get(e)}var Tp={lt:function(e,t){return e<t},lte:function(e,t){return e<=t},gt:function(e,t){return t<e},gte:function(e,t){return t<=e}},Ip=(kp.prototype.evaluate=function(e){return de(e)?this._opFn(e,this._rvalFloat):this._opFn(Fo(e),this._rvalFloat)},kp);function kp(e,t){de(t)||Sp(""),this._opFn=Tp[e],this._rvalFloat=Fo(t)}Bp.prototype.evaluate=function(e,t){var n=de(e)?e:Fo(e),i=de(t)?t:Fo(t),r=isNaN(n),o=isNaN(i);return r&&(n=this._incomparable),o&&(i=this._incomparable),r&&o&&(r=ce(e),o=ce(t),r&&(n=o?e:0),o&&(i=r?t:0)),n<i?this._resultLT:i<n?-this._resultLT:0};var Dp=Bp;function Bp(e,t){e="desc"===e,this._resultLT=e?1:-1,this._incomparable="min"===(t=null==t?e?"min":"max":t)?-1/0:1/0}Pp.prototype.evaluate=function(e){var t,n=e===this._rval;return n||(t=typeof e)===this._rvalTypeof||"number"!=t&&"number"!==this._rvalTypeof||(n=Fo(e)===this._rvalFloat),this._isEQ?n:!n};var Ep=Pp;function Pp(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=Fo(t)}Rp.prototype.getRawData=function(){throw new Error("not supported")},Rp.prototype.getRawDataItem=function(e){throw new Error("not supported")},Rp.prototype.cloneRawData=function(){},Rp.prototype.getDimensionInfo=function(e){},Rp.prototype.cloneAllDimensionInfo=function(){},Rp.prototype.count=function(){},Rp.prototype.retrieveValue=function(e,t){},Rp.prototype.retrieveValueFromItem=function(e,t){},Rp.prototype.convertValue=Ap;var Lp=Rp;function Rp(){}function Op(e){return Hp(e.sourceFormat)||Sp(""),e.data}function Fp(e){var t=e.sourceFormat,n=e.data;if(Hp(t)||Sp(""),t===kh){for(var i=[],r=0,o=n.length;r<o;r++)i.push(n[r].slice());return i}if(t===Dh){for(i=[],r=0,o=n.length;r<o;r++)i.push(X({},n[r]));return i}}function Np(e,t,n){if(null!=n)return de(n)||!isNaN(n)&&!Fe(t,n)?e[n]:Fe(t,n)?t[n]:void 0}function zp(e){return Z(e)}var Gp=Pe();function Hp(e){return e===kh||e===Dh}t="undefined";var Vp,Up=typeof Uint32Array==t?Array:Uint32Array,Zp=typeof Uint16Array==t?Array:Uint16Array,Wp=typeof Int32Array==t?Array:Int32Array,jp={float:hg=typeof Float64Array==t?Array:Float64Array,int:Wp,ordinal:Array,number:Array,time:hg};function Xp(e){return 65535<e?Up:Zp}function Yp(e,t,n,i,r){if(n=jp[n||"float"],r){var o=e[t],a=o&&o.length;if(a!==i){for(var s=new n(i),l=0;l<a;l++)s[l]=o[l];e[t]=s}}else e[t]=new n(i)}function Jp(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Pe()}function Kp(e,t,n,i){return Ap(e[i],this._dimensions[i])}Jp.prototype.initData=function(e,t,n){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),r=this.defaultDimValueGetter=Vp[i.sourceFormat];this._dimValueGetter=n||r,this._rawExtent=[],Zd(i),this._dimensions=te(t,(function(e){return{type:e.type,property:e.property}})),this._initDataFromProvider(0,e.count())},Jp.prototype.getProvider=function(){return this._provider},Jp.prototype.getSource=function(){return this._provider.getSource()},Jp.prototype.ensureCalculationDimension=function(e,t){var n=this._calcDimNameToIdx,i=this._dimensions,r=n.get(e);if(null!=r){if(i[r].type===t)return r}else r=i.length;return i[r]={type:t},n.set(e,r),this._chunks[r]=new jp[t||"float"](this._rawCount),this._rawExtent[r]=[1/0,-1/0],r},Jp.prototype.collectOrdinalMeta=function(e,t){for(var n=this._chunks[e],i=this._dimensions[e],r=this._rawExtent,o=i.ordinalOffset||0,a=n.length,s=(0===o&&(r[e]=[1/0,-1/0]),r[e]),l=o;l<a;l++){var u=n[l]=t.parseAndCollect(n[l]);isNaN(u)||(s[0]=Math.min(u,s[0]),s[1]=Math.max(u,s[1]))}i.ordinalMeta=t,i.ordinalOffset=a,i.type="ordinal"},Jp.prototype.getOrdinalMeta=function(e){return this._dimensions[e].ordinalMeta},Jp.prototype.getDimensionProperty=function(e){return(e=this._dimensions[e])&&e.property},Jp.prototype.appendData=function(e){var t=this._provider,n=this.count();t.appendData(e),e=t.count();return t.persistent||(e+=n),n<e&&this._initDataFromProvider(n,e,!0),[n,e]},Jp.prototype.appendValues=function(e,t){for(var n=this._chunks,i=this._dimensions,r=i.length,o=this._rawExtent,a=this.count(),s=a+Math.max(e.length,t||0),l=0;l<r;l++)Yp(n,l,(p=i[l]).type,s,!0);for(var u=[],c=a;c<s;c++)for(var h=c-a,d=0;d<r;d++){var p=i[d],f=Vp.arrayRows.call(this,e[h]||u,p.property,h,d),g=(n[d][c]=f,o[d]);f<g[0]&&(g[0]=f),f>g[1]&&(g[1]=f)}return{start:a,end:this._rawCount=this._count=s}},Jp.prototype._initDataFromProvider=function(e,t,n){for(var i=this._provider,r=this._chunks,o=this._dimensions,a=o.length,s=this._rawExtent,l=te(o,(function(e){return e.property})),u=0;u<a;u++){var c=o[u];s[u]||(s[u]=[1/0,-1/0]),Yp(r,u,c.type,t,n)}if(i.fillStorage)i.fillStorage(e,t,r,s);else for(var h=[],d=e;d<t;d++){h=i.getItem(d,h);for(var p=0;p<a;p++){var f=r[p],g=this._dimValueGetter(h,l[p],d,p);g<(f=(f[d]=g,s[p]))[0]&&(f[0]=g),g>f[1]&&(f[1]=g)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=t,this._extent=[]},Jp.prototype.count=function(){return this._count},Jp.prototype.get=function(e,t){return 0<=t&&t<this._count&&(e=this._chunks[e])?e[this.getRawIndex(t)]:NaN},Jp.prototype.getValues=function(e,t){var n=[],i=[];if(null==t){t=e,e=[];for(var r=0;r<this._dimensions.length;r++)i.push(r)}else i=e;r=0;for(var o=i.length;r<o;r++)n.push(this.get(i[r],t));return n},Jp.prototype.getByRawIndex=function(e,t){return 0<=t&&t<this._rawCount&&(e=this._chunks[e])?e[t]:NaN},Jp.prototype.getSum=function(e){var t=0;if(this._chunks[e])for(var n=0,i=this.count();n<i;n++){var r=this.get(e,n);isNaN(r)||(t+=r)}return t},Jp.prototype.getMedian=function(e){var t=[],n=(e=(this.each([e],(function(e){isNaN(e)||t.push(e)})),t.sort((function(e,t){return e-t}))),this.count());return 0===n?0:n%2==1?e[(n-1)/2]:(e[n/2]+e[n/2-1])/2},Jp.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,n=t[e];if(null!=n&&n<this._count&&n===e)return e;for(var i=0,r=this._count-1;i<=r;){var o=(i+r)/2|0;if(t[o]<e)i=1+o;else{if(!(t[o]>e))return o;r=o-1}}return-1},Jp.prototype.indicesOfNearest=function(e,t,n){var i=this._chunks[e],r=[];if(!i)return r;null==n&&(n=1/0);for(var o=1/0,a=-1,s=0,l=0,u=this.count();l<u;l++){var c=t-i[this.getRawIndex(l)],h=Math.abs(c);h<=n&&((h<o||h===o&&0<=c&&a<0)&&(o=h,a=c,s=0),c===a&&(r[s++]=l))}return r.length=s,r},Jp.prototype.getIndices=function(){var e=this._indices;if(e){var t=e.constructor,n=this._count;if(t===Array)for(var i=new t(n),r=0;r<n;r++)i[r]=e[r];else i=new t(e.buffer,0,n)}else for(i=new(t=Xp(this._rawCount))(this.count()),r=0;r<i.length;r++)i[r]=r;return i},Jp.prototype.filter=function(e,t){if(!this._count)return this;for(var n=this.clone(),i=n.count(),r=new(Xp(n._rawCount))(i),o=[],a=e.length,s=0,l=e[0],u=n._chunks,c=0;c<i;c++){var h=void 0,d=n.getRawIndex(c);if(0===a)h=t(c);else if(1===a)h=t(u[l][d],c);else{for(var p=0;p<a;p++)o[p]=u[e[p]][d];o[p]=c,h=t.apply(null,o)}h&&(r[s++]=d)}return s<i&&(n._indices=r),n._count=s,n._extent=[],n._updateGetRawIdx(),n},Jp.prototype.selectRange=function(e){var t=this.clone(),n=t._count;if(!n)return this;var i=oe(e),r=i.length;if(!r)return this;var o=t.count(),a=new(Xp(t._rawCount))(o),s=0,l=e[h=i[0]][0],u=e[h][1],c=t._chunks,h=!1;if(!t._indices){var d=0;if(1===r){for(var p=c[i[0]],f=0;f<n;f++)(l<=(v=p[f])&&v<=u||isNaN(v))&&(a[s++]=d),d++;h=!0}else if(2===r){p=c[i[0]];var g=c[i[1]],m=e[i[1]][0],y=e[i[1]][1];for(f=0;f<n;f++){var v=p[f],x=g[f];(l<=v&&v<=u||isNaN(v))&&(m<=x&&x<=y||isNaN(x))&&(a[s++]=d),d++}h=!0}}if(!h)if(1===r)for(f=0;f<o;f++){var _=t.getRawIndex(f);(l<=(v=c[i[0]][_])&&v<=u||isNaN(v))&&(a[s++]=_)}else for(f=0;f<o;f++){for(var b=!0,w=(_=t.getRawIndex(f),0);w<r;w++){var S=i[w];((v=c[S][_])<e[S][0]||v>e[S][1])&&(b=!1)}b&&(a[s++]=t.getRawIndex(f))}return s<o&&(t._indices=a),t._count=s,t._extent=[],t._updateGetRawIdx(),t},Jp.prototype.map=function(e,t){var n=this.clone(e);return this._updateDims(n,e,t),n},Jp.prototype.modify=function(e,t){this._updateDims(this,e,t)},Jp.prototype._updateDims=function(e,t,n){for(var i=e._chunks,r=[],o=t.length,a=e.count(),s=[],l=e._rawExtent,u=0;u<t.length;u++)l[t[u]]=[1/0,-1/0];for(var c=0;c<a;c++){for(var h=e.getRawIndex(c),d=0;d<o;d++)s[d]=i[t[d]][h];s[o]=c;var p=n&&n.apply(null,s);if(null!=p)for("object"!=typeof p&&(r[0]=p,p=r),u=0;u<p.length;u++){var f=t[u],g=p[u],m=l[f];(f=i[f])&&(f[h]=g),g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}}},Jp.prototype.lttbDownSample=function(e,t){var n,i=this.clone([e],!0),r=i._chunks[e],o=this.count(),a=0,s=Math.floor(1/t),l=this.getRawIndex(0),u=new(Xp(this._rawCount))(Math.min(2*(Math.ceil(o/s)+2),o));u[a++]=l;for(var c=1;c<o-1;c+=s){for(var h=Math.min(c+s,o-1),d=Math.min(c+2*s,o),p=(d+h)/2,f=0,g=h;g<d;g++){var m=r[A=this.getRawIndex(g)];isNaN(m)||(f+=m)}f/=d-h;h=c;var y=Math.min(c+s,o),v=c-1,x=r[l],_=-1,b=h,w=-1,S=0;for(g=h;g<y;g++){var A;m=r[A=this.getRawIndex(g)];isNaN(m)?(S++,w<0&&(w=A)):_<(n=Math.abs((v-p)*(m-x)-(v-g)*(f-x)))&&(_=n,b=A)}0<S&&S<y-h&&(u[a++]=Math.min(w,b),b=Math.max(w,b)),l=u[a++]=b}return u[a++]=this.getRawIndex(o-1),i._count=a,i._indices=u,i.getRawIndex=this._getRawIdx,i},Jp.prototype.downSample=function(e,t,n,i){for(var r=this.clone([e],!0),o=r._chunks,a=[],s=Math.floor(1/t),l=o[e],u=this.count(),c=r._rawExtent[e]=[1/0,-1/0],h=new(Xp(this._rawCount))(Math.ceil(u/s)),d=0,p=0;p<u;p+=s){u-p<s&&(a.length=s=u-p);for(var f=0;f<s;f++){var g=this.getRawIndex(p+f);a[f]=l[g]}var m=n(a),y=this.getRawIndex(Math.min(p+i(a,m)||0,u-1));(l[y]=m)<c[0]&&(c[0]=m),m>c[1]&&(c[1]=m),h[d++]=y}return r._count=d,r._indices=h,r._updateGetRawIdx(),r},Jp.prototype.each=function(e,t){if(this._count)for(var n=e.length,i=this._chunks,r=0,o=this.count();r<o;r++){var a=this.getRawIndex(r);switch(n){case 0:t(r);break;case 1:t(i[e[0]][a],r);break;case 2:t(i[e[0]][a],i[e[1]][a],r);break;default:for(var s=0,l=[];s<n;s++)l[s]=i[e[s]][a];l[s]=r,t.apply(null,l)}}},Jp.prototype.getDataExtent=function(e){var t=this._chunks[e],n=[1/0,-1/0];if(!t)return n;var i=this.count();if(!this._indices)return this._rawExtent[e].slice();if(r=this._extent[e])return r.slice();for(var r,o=(r=n)[0],a=r[1],s=0;s<i;s++){var l=t[this.getRawIndex(s)];l<o&&(o=l),a<l&&(a=l)}return this._extent[e]=[o,a]},Jp.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var n=[],i=this._chunks,r=0;r<i.length;r++)n.push(i[r][t]);return n},Jp.prototype.clone=function(e,t){var n,i,r=new Jp,o=this._chunks,a=e&&ne(e,(function(e,t){return e[t]=!0,e}),{});if(a)for(var s=0;s<o.length;s++)r._chunks[s]=a[s]?(i=void 0,(i=(n=o[s]).constructor)===Array?n.slice():new i(n)):o[s];else r._chunks=o;return this._copyCommonProps(r),t||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},Jp.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=Z(this._extent),e._rawExtent=Z(this._rawExtent)},Jp.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array)for(var n=this._indices.length,i=(t=new e(n),0);i<n;i++)t[i]=this._indices[i];else t=new e(this._indices);return t}return null},Jp.prototype._getRawIdxIdentity=function(e){return e},Jp.prototype._getRawIdx=function(e){return e<this._count&&0<=e?this._indices[e]:-1},Jp.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},Jp.internalField=void(Vp={arrayRows:Kp,objectRows:function(e,t,n,i){return Ap(e[t],this._dimensions[i])},keyedColumns:Kp,original:function(e,t,n,i){return Ap((e=e&&(null==e.value?e:e.value))instanceof Array?e[i]:e,this._dimensions[i])},typedArray:function(e,t,n,i){return e[i]}});var Qp=Jp,qp=($p.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},$p.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,9e10<this._versionSignBase&&(this._versionSignBase=0)},$p.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},$p.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},$p.prototype._createSource=function(){this._setLocalSource([],[]);var e,t,n,i,r,o,a,s=this._sourceHost,l=this._getUpstreamSourceManagers(),u=!!l.length;tf(s)?(i=s,r=e=o=void 0,t=u?((t=l[0]).prepareSource(),o=(r=t.getSource()).data,e=r.sourceFormat,[t._getVersionSign()]):(e=ge(o=i.get("data",!0))?Eh:Ih,[]),i=this._getSourceMetaRawOption()||{},r=r&&r.metaRawOption||{},a=we(i.seriesLayoutBy,r.seriesLayoutBy)||null,n=we(i.sourceHeader,r.sourceHeader),i=we(i.dimensions,r.dimensions),r=a!==r.seriesLayoutBy||!!n!=!!r.sourceHeader||i?[zd(o,{seriesLayoutBy:a,sourceHeader:n,dimensions:i},e)]:[]):(o=s,t=u?(r=(a=this._applyTransform(l)).sourceList,a.upstreamSignList):(r=[zd(o.get("source",!0),this._getSourceMetaRawOption(),null)],[])),this._setLocalSource(r,t)},$p.prototype._applyTransform=function(e){var t,n=this._sourceHost,i=n.get("transform",!0),r=n.get("fromTransformResult",!0),o=(null!=r&&1!==e.length&&nf(""),[]),a=[];return ee(e,(function(e){e.prepareSource();var t=e.getSource(r||0);null==r||t||nf(""),o.push(t),a.push(e._getVersionSign())})),i?t=function(e,t){var n=Uo(e);(e=n.length)||Sp("");for(var i=0,r=e;i<r;i++)t=function(e,t){t.length||Sp(""),pe(e)||Sp("");var n=e.type,i=Gp.get(n);return i||Sp(""),n=te(t,(function(e){var t=e,n=(e=i,new Lp),r=t.data,o=n.sourceFormat=t.sourceFormat,a=t.startIndex,s=(t.seriesLayoutBy!==Lh&&Sp(""),[]),l={};if(h=t.dimensionsDefine)ee(h,(function(e,t){var n=e.name;t={index:t,name:n,displayName:e.displayName},s.push(t),null!=n&&(Fe(l,n)&&Sp(""),l[n]=t)}));else for(var u=0;u<t.dimensionsDetectedCount;u++)s.push({index:u});var c=$d(o,Lh),h=(e.__isBuiltIn&&(n.getRawDataItem=function(e){return c(r,a,s,e)},n.getRawData=ae(Op,null,t)),n.cloneRawData=ae(Fp,null,t),np(o,Lh)),d=(n.count=ae(h,null,r,a,s),op(o)),p=(n.retrieveValue=function(e,t){return e=c(r,a,s,e),p(e,t)},n.retrieveValueFromItem=function(e,t){var n;if(null!=e)return(n=s[t])?d(e,t,n.name):void 0});return n.getDimensionInfo=ae(Np,null,s,l),n.cloneAllDimensionInfo=ae(zp,null,s),n})),te(Uo(i.transform({upstream:n[0],upstreamList:n,config:Z(e.config)})),(function(e,n){pe(e)||Sp(""),e.data||Sp(""),Hp(Hd(e.data))||Sp("");var i=t[0];return n=i&&0===n&&!e.dimensions?((n=i.startIndex)&&(e.data=i.data.slice(0,n).concat(e.data)),{seriesLayoutBy:Lh,sourceHeader:n,dimensions:i.metaRawOption.dimensions}):{seriesLayoutBy:Lh,sourceHeader:0,dimensions:e.dimensions},zd(e.data,n,null)}))}(n[i],t),i!==r-1&&(t.length=Math.max(t.length,1));return t}(i,o,n.componentIndex):null!=r&&(t=[(e=o[0],new Fd({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:Z(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount}))]),{sourceList:t,upstreamSignList:a}},$p.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var n=e[t];if(n._isDirty()||this._upstreamSignList[t]!==n._getVersionSign())return!0}},$p.prototype.getSource=function(e){var t=this._sourceList[e=e||0];return t||(t=this._getUpstreamSourceManagers())[0]&&t[0].getSource(e)},$p.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},$p.prototype._innerGetDataStore=function(e,t,n){var i,r,o=(r=this._storeList)[0];return(r=(o=o||(r[0]={}))[n])||(i=this._getUpstreamSourceManagers()[0],tf(this._sourceHost)&&i?r=i._innerGetDataStore(e,t,n):(r=new Qp).initData(new Yd(t,e.length),e),o[n]=r),r},$p.prototype._getUpstreamSourceManagers=function(){var e,t=this._sourceHost;return tf(t)?(e=Vh(t))?[e.getSourceManager()]:[]:te((e=t).get("transform",!0)||e.get("fromTransformResult",!0)?aa(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},ra).models:[],(function(e){return e.getSourceManager()}))},$p.prototype._getSourceMetaRawOption=function(){var e,t,n,i=this._sourceHost;return tf(i)?(e=i.get("seriesLayoutBy",!0),t=i.get("sourceHeader",!0),n=i.get("dimensions",!0)):this._getUpstreamSourceManagers().length||(e=i.get("seriesLayoutBy",!0),t=i.get("sourceHeader",!0),n=i.get("dimensions",!0)),{seriesLayoutBy:e,sourceHeader:t,dimensions:n}},$p);function $p(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}function ef(e){e.option.transform&&ke(e.option.transform)}function tf(e){return"series"===e.mainType}function nf(e){throw new Error(e)}var rf="line-height:1";function of(e,t){var n=e.color||"#6e7079",i=e.fontSize||12,r=e.fontWeight||"400",o=e.color||"#464646",a=e.fontSize||14;e=e.fontWeight||"900";return"html"===t?{nameStyle:"font-size:"+Kc(i+"")+"px;color:"+Kc(n)+";font-weight:"+Kc(r+""),valueStyle:"font-size:"+Kc(a+"")+"px;color:"+Kc(o)+";font-weight:"+Kc(e+"")}:{nameStyle:{fontSize:i,fill:n,fontWeight:r},valueStyle:{fontSize:a,fill:o,fontWeight:e}}}var af=[0,10,20,30],sf=["","\n","\n\n","\n\n\n"];function lf(e,t){return t.type=e,t}function uf(e){return"section"===e.type}function cf(e){return uf(e)?hf:df}function hf(e,t,n,i){var r,o=t.noHeader,a=(l=function e(t){var n,i,r;return uf(t)?(n=0,i=t.blocks.length,r=1<i||0<i&&!t.noHeader,ee(t.blocks,(function(t){var i=e(t);n<=i&&(n=i+ +(r&&(!i||uf(t)&&!t.noHeader)))})),n):0}(t),{html:af[l],richText:sf[l]}),s=[],l=t.blocks||[],u=(Ce(!l||le(l)),l=l||[],e.orderMode),c=(t.sortBlocks&&u&&(l=l.slice(),Fe(c={valueAsc:"asc",valueDesc:"desc"},u)?(r=new Dp(c[u],null),l.sort((function(e,t){return r.evaluate(e.sortParam,t.sortParam)}))):"seriesDesc"===u&&l.reverse()),ee(l,(function(n,r){var o=t.valueFormatter;null!=(o=cf(n)(o?X(X({},e),{valueFormatter:o}):e,n,0<r?a.html:0,i))&&s.push(o)})),"richText"===e.renderMode?s.join(a.richText):ff(s.join(""),o?n:a.html));return o?c:(u=Qc(t.header,"ordinal",e.useUTC),l=of(i,e.renderMode).nameStyle,"richText"===e.renderMode?gf(e,u,l)+a.richText+c:ff('<div style="'+l+";"+rf+';">'+Kc(u)+"</div>"+c,n))}function df(e,t,n,i){var r,o,a,s,l=e.renderMode,u=t.noName,c=t.noValue,h=!t.markerType,d=t.name,p=e.useUTC,f=t.valueFormatter||e.valueFormatter||function(e){return te(e=le(e)?e:[e],(function(e,t){return Qc(e,le(o)?o[t]:o,p)}))};if(!u||!c)return r=h?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",l),d=u?"":Qc(d,"ordinal",p),o=t.valueType,f=c?[]:f(t.value),t=!h||!u,a=!h&&u,s=(i=of(i,l)).nameStyle,i=i.valueStyle,"richText"===l?(h?"":r)+(u?"":gf(e,d,s))+(c?"":function(e,t,n,i,r){return r=[r],i=i?10:20,n&&r.push({padding:[0,0,0,i],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(le(t)?t.join("  "):t,r)}(e,f,t,a,i)):ff((h?"":r)+(u?"":'<span style="'+s+";"+(h?"":"margin-left:2px")+'">'+Kc(d)+"</span>")+(c?"":function(e,t,n,i){return n=n?"10px":"20px",'<span style="'+(t=t?"float:right;margin-left:"+n:"")+";"+i+'">'+te(e=le(e)?e:[e],Kc).join("&nbsp;&nbsp;")+"</span>"}(f,t,a,i)),n)}function pf(e,t,n,i,r,o){if(e)return cf(e)({useUTC:r,renderMode:n,orderMode:i,markupStyleCreator:t,valueFormatter:e.valueFormatter},e,0,o)}function ff(e,t){return'<div style="margin: '+t+"px 0 0;"+rf+';">'+e+'<div style="clear:both"></div></div>'}function gf(e,t,n){return e.markupStyleCreator.wrapRichTextStyle(t,n)}function mf(e,t){return rh(e.getData().getItemVisual(t,"style")[e.visualDrawType])}function yf(e,t){return null!=(e=e.get("padding"))?e:"richText"===t?[8,10]:10}xf.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},xf.prototype.makeTooltipMarker=function(e,t,n){var i="richText"===n?this._generateStyleName():null;return ce(t=th({color:t,type:e,renderMode:n,markerId:i}))?t:(this.richTextStyles[i]=t.style,t.content)},xf.prototype.wrapRichTextStyle=function(e,t){var n={};le(t)?ee(t,(function(e){return X(n,e)})):X(n,t),t=this._generateStyleName();return this.richTextStyles[t]=n,"{"+t+"|"+e+"}"};var vf=xf;function xf(){this.richTextStyles={},this._nextStyleNameId=zo()}function _f(e){var t,n,i,r,o,a,s,l,u,c,h,d=e.series,p=e.dataIndex,f=(e=e.multipleSeries,d.getData()),g=f.mapDimensionsAll("defaultedTooltip"),m=g.length,y=d.getRawValue(p),v=le(y),x=mf(d,p);function _(e,t){(t=s.getDimensionInfo(t))&&!1!==t.otherDims.tooltip&&(l?h.push(lf("nameValue",{markerType:"subItem",markerColor:a,name:t.displayName,value:e,valueType:t.type})):(u.push(e),c.push(t.type)))}return 1<m||v&&!m?(i=y,r=p,o=g,a=x,s=d.getData(),l=ne(i,(function(e,t,n){return n=s.getDimensionInfo(n),e||n&&!1!==n.tooltip&&null!=n.displayName}),!1),u=[],c=[],h=[],o.length?ee(o,(function(e){_(sp(s,r,e),e)})):ee(i,_),i=(o={inlineValues:u,inlineValueTypes:c,blocks:h}).inlineValueTypes,t=o.blocks,n=(o=o.inlineValues)[0]):m?(m=f.getDimensionInfo(g[0]),n=o=sp(f,p,g[0]),i=m.type):n=o=v?y[0]:y,m=(g=Qo(d))&&d.name||"",v=f.getName(p),lf("section",{header:m,noHeader:e||!g,sortParam:n,blocks:[lf("nameValue",{markerType:"item",markerColor:x,name:y=e?m:v,noName:!Te(y),value:o,valueType:i})].concat(t||[])})}var bf=ea();function wf(e,t){return e.getName(t)||e.getId(t)}var Sf,Af="__universalTransitionEnabled";_(Mf,Sf=Mh),Mf.prototype.init=function(e,t,n){this.seriesIndex=this.componentIndex,this.dataTask=hp({count:Tf,reset:If}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,n),(bf(this).sourceManager=new qp(this)).prepareSource(),Df(e=this.getInitialData(e,n),this),this.dataTask.context.data=e,bf(this).dataBeforeProcessed=e,Cf(this),this._initSelectedMapFromData(e)},Mf.prototype.mergeDefaultAndTheme=function(e,t){var n=ph(this),i=n?gh(e):{},r=this.subType;Mh.hasClass(r),W(e,t.getTheme().get(this.subType)),W(e,this.getDefaultOption()),Zo(e,"label",["show"]),this.fillDataTextStyle(e.data),n&&fh(e,i,n)},Mf.prototype.mergeOption=function(e,t){var n;e=W(this.option,e,!0),this.fillDataTextStyle(e.data),Df(n=((n=((n=ph(this))&&fh(this.option,e,n),bf(this).sourceManager)).dirty(),n.prepareSource(),this.getInitialData(e,t)),this),this.dataTask.dirty(),this.dataTask.context.data=n,bf(this).dataBeforeProcessed=n,Cf(this),this._initSelectedMapFromData(n)},Mf.prototype.fillDataTextStyle=function(e){if(e&&!ge(e))for(var t=["show"],n=0;n<e.length;n++)e[n]&&e[n].label&&Zo(e[n],"label",t)},Mf.prototype.getInitialData=function(e,t){},Mf.prototype.appendData=function(e){this.getRawData().appendData(e.data)},Mf.prototype.getData=function(e){var t=Ef(this);return t?(t=t.context.data,null==e?t:t.getLinkedData(e)):bf(this).data},Mf.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},Mf.prototype.setData=function(e){var t,n=Ef(this);n&&((t=n.context).outputData=e,n!==this.dataTask&&(t.data=e)),bf(this).data=e},Mf.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return Pe(e)},Mf.prototype.getSourceManager=function(){return bf(this).sourceManager},Mf.prototype.getSource=function(){return this.getSourceManager().getSource()},Mf.prototype.getRawData=function(){return bf(this).dataBeforeProcessed},Mf.prototype.getColorBy=function(){return this.get("colorBy")||"series"},Mf.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},Mf.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},Mf.prototype.formatTooltip=function(e,t,n){return _f({series:this,dataIndex:e,multipleSeries:t})},Mf.prototype.isAnimationEnabled=function(){var e=this.ecModel;return!!(!A.node||e&&e.ssr)&&!!(e=!((e=this.getShallow("animation"))&&this.getData().count()>this.getShallow("animationThreshold"))&&e)},Mf.prototype.restoreData=function(){this.dataTask.dirty()},Mf.prototype.getColorFromPalette=function(e,t,n){var i=this.ecModel;return Qh.prototype.getColorFromPalette.call(this,e,t,n)||i.getColorFromPalette(e,t,n)},Mf.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},Mf.prototype.getProgressive=function(){return this.get("progressive")},Mf.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},Mf.prototype.select=function(e,t){this._innerSelect(this.getData(t),e)},Mf.prototype.unselect=function(e,t){var n=this.option.selectedMap;if(n){var i=this.option.selectedMode,r=this.getData(t);if("series"===i||"all"===n)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var o=0;o<e.length;o++){var a=wf(r,e[o]);n[a]=!1,this._selectedDataIndicesMap[a]=-1}}},Mf.prototype.toggleSelect=function(e,t){for(var n=[],i=0;i<e.length;i++)n[0]=e[i],this.isSelected(e[i],t)?this.unselect(n,t):this.select(n,t)},Mf.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,t=oe(e),n=[],i=0;i<t.length;i++){var r=e[t[i]];0<=r&&n.push(r)}return n},Mf.prototype.isSelected=function(e,t){var n=this.option.selectedMap;return!!n&&(t=this.getData(t),("all"===n||n[wf(t,e)])&&!t.getItemModel(e).get(["select","disabled"]))},Mf.prototype.isUniversalTransitionEnabled=function(){if(this[Af])return!0;var e=this.option.universalTransition;return!!e&&(!0===e||e&&e.enabled)},Mf.prototype._innerSelect=function(e,t){var n=this.option,i=n.selectedMode,r=t.length;if(i&&r)if("series"===i)n.selectedMap="all";else if("multiple"===i){pe(n.selectedMap)||(n.selectedMap={});for(var o=n.selectedMap,a=0;a<r;a++){var s,l=t[a];o[s=wf(e,l)]=!0,this._selectedDataIndicesMap[s]=e.getRawIndex(l)}}else"single"!==i&&!0!==i||(s=wf(e,i=t[r-1]),n.selectedMap=((n={})[s]=!0,n),this._selectedDataIndicesMap=((n={})[s]=e.getRawIndex(i),n))},Mf.prototype._initSelectedMapFromData=function(e){var t;this.option.selectedMap||(t=[],e.hasItemOption&&e.each((function(n){var i=e.getRawDataItem(n);i&&i.selected&&t.push(n)})),0<t.length&&this._innerSelect(e,t))},Mf.registerClass=function(e){return Mh.registerClass(e)},Mf.protoInitialize=((Ig=Mf.prototype).type="series.__base__",Ig.seriesIndex=0,Ig.ignoreStyleOnData=!1,Ig.hasSymbolVisual=!1,Ig.defaultSymbol="circle",Ig.visualStyleAccessPath="itemStyle",void(Ig.visualDrawType="fill")),$u=Mf;function Mf(){var e=null!==Sf&&Sf.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}function Cf(e){var t,n,i=e.name;Qo(e)||(e.name=(e=(t=e.getRawData()).mapDimensionsAll("seriesName"),n=[],ee(e,(function(e){(e=t.getDimensionInfo(e)).displayName&&n.push(e.displayName)})),n.join(" ")||i))}function Tf(e){return e.model.getRawData().count()}function If(e){return(e=e.model).setData(e.getRawData().cloneShallow()),kf}function kf(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function Df(e,t){ee(Le(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),(function(n){e.wrapMethod(n,se(Bf,t))}))}function Bf(e,t){return(e=Ef(e))&&e.setOutputEnd((t||this).count()),t}function Ef(e){var t,n;if(n=(n=(e.ecModel||{}).scheduler)&&n.getPipeline(e.uid))return(n=n.currentTask)&&(t=n.agentStubMap)?t.get(e.uid):n}q($u,ic),q($u,Qh),fa($u,Mh);var Pf=$u;Lf.prototype.init=function(e,t){},Lf.prototype.render=function(e,t,n,i){},Lf.prototype.dispose=function(e,t){},Lf.prototype.updateView=function(e,t,n,i){},Lf.prototype.updateLayout=function(e,t,n,i){},Lf.prototype.updateVisual=function(e,t,n,i){},Lf.prototype.toggleBlurSeries=function(e,t,n){},Lf.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},_a=Lf;function Lf(){this.group=new ao,this.uid=lc("viewComponent")}pa(_a),ya(_a);var Rf=_a;function Of(){var e=ea();return function(t){var n=e(t),i=(t=t.pipelineContext,!!n.large),r=!!n.progressiveRender,o=n.large=!(!t||!t.large);n=n.progressiveRender=!(!t||!t.progressiveRender);return!(i==o&&r==n)&&"reset"}}var Ff=Ss.CMD,Nf=[[],[],[]],zf=Math.sqrt,Gf=Math.atan2;function Hf(e,t){if(t){for(var n,i,r,o,a=e.data,s=e.len(),l=Ff.M,u=Ff.C,c=Ff.L,h=Ff.R,d=Ff.A,p=Ff.Q,f=0,g=0;f<s;){switch(n=a[f++],g=f,i=0,n){case l:case c:i=1;break;case u:i=3;break;case p:i=2;break;case d:var m=t[4],y=t[5],v=zf(t[0]*t[0]+t[1]*t[1]),x=zf(t[2]*t[2]+t[3]*t[3]),_=Gf(-t[1]/x,t[0]/v);a[f]*=v,a[f++]+=m,a[f]*=x,a[f++]+=y,a[f++]*=v,a[f++]*=x,a[f++]+=_,a[f++]+=_,g=f+=2;break;case h:o[0]=a[f++],o[1]=a[f++],ct(o,o,t),a[g++]=o[0],a[g++]=o[1],o[0]+=a[f++],o[1]+=a[f++],ct(o,o,t),a[g++]=o[0],a[g++]=o[1]}for(r=0;r<i;r++){var b=Nf[r];b[0]=a[f++],b[1]=a[f++],ct(b,b,t),a[g++]=b[0],a[g++]=b[1]}}e.increaseVersion()}}var Vf=Math.sqrt,Uf=Math.sin,Zf=Math.cos,Wf=Math.PI;function jf(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Xf(e,t){return(e[0]*t[0]+e[1]*t[1])/(jf(e)*jf(t))}function Yf(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(Xf(e,t))}function Jf(e,t,n,i,r,o,a,s,l,u,c){var h=Zf(l=l*(Wf/180))*(e-n)/2+Uf(l)*(t-i)/2,d=-1*Uf(l)*(e-n)/2+Zf(l)*(t-i)/2,p=(r=(p=(1<(p=h*h/(a*a)+d*d/(s*s))&&(a*=Vf(p),s*=Vf(p)),(r===o?-1:1)*Vf((a*a*(s*s)-a*a*(d*d)-s*s*(h*h))/(a*a*(d*d)+s*s*(h*h)))||0))*a*d/s,p*-s*h/a);e=(e+n)/2+Zf(l)*r-Uf(l)*p,n=(t+i)/2+Uf(l)*r+Zf(l)*p,t=Yf([1,0],[(h-r)/a,(d-p)/s]),r=Yf(i=[(h-r)/a,(d-p)/s],h=[(-1*h-r)/a,(-1*d-p)/s]);Xf(i,h)<=-1&&(r=Wf),(r=1<=Xf(i,h)?0:r)<0&&(d=Math.round(r/Wf*1e6)/1e6,r=2*Wf+d%2*Wf),c.addData(u,e,n,a,s,t,r,l,o)}var Kf=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,Qf=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;He(eg,qf=Us),eg.prototype.applyTransform=function(e){};var qf,$f=eg;function eg(){return null!==qf&&qf.apply(this,arguments)||this}function tg(e){return null!=e.setData}function ng(e,t){var n=function(e){var t=new Ss;if(!e)return t;var n,i=0,r=0,o=i,a=r,s=Ss.CMD,l=e.match(Kf);if(!l)return t;for(var u=0;u<l.length;u++){for(var c=l[u],h=c.charAt(0),d=void 0,p=c.match(Qf)||[],f=p.length,g=0;g<f;g++)p[g]=parseFloat(p[g]);for(var m=0;m<f;){var y=void 0,v=void 0,x=void 0,_=void 0,b=void 0,w=void 0,S=void 0,A=i,M=r,C=void 0,T=void 0;switch(h){case"l":i+=p[m++],r+=p[m++],d=s.L,t.addData(d,i,r);break;case"L":i=p[m++],r=p[m++],d=s.L,t.addData(d,i,r);break;case"m":i+=p[m++],r+=p[m++],d=s.M,t.addData(d,i,r),o=i,a=r,h="l";break;case"M":i=p[m++],r=p[m++],d=s.M,t.addData(d,i,r),o=i,a=r,h="L";break;case"h":i+=p[m++],d=s.L,t.addData(d,i,r);break;case"H":i=p[m++],d=s.L,t.addData(d,i,r);break;case"v":r+=p[m++],d=s.L,t.addData(d,i,r);break;case"V":r=p[m++],d=s.L,t.addData(d,i,r);break;case"C":d=s.C,t.addData(d,p[m++],p[m++],p[m++],p[m++],p[m++],p[m++]),i=p[m-2],r=p[m-1];break;case"c":d=s.C,t.addData(d,p[m++]+i,p[m++]+r,p[m++]+i,p[m++]+r,p[m++]+i,p[m++]+r),i+=p[m-2],r+=p[m-1];break;case"S":y=i,v=r,C=t.len(),T=t.data,n===s.C&&(y+=i-T[C-4],v+=r-T[C-3]),d=s.C,A=p[m++],M=p[m++],i=p[m++],r=p[m++],t.addData(d,y,v,A,M,i,r);break;case"s":y=i,v=r,C=t.len(),T=t.data,n===s.C&&(y+=i-T[C-4],v+=r-T[C-3]),d=s.C,A=i+p[m++],M=r+p[m++],i+=p[m++],r+=p[m++],t.addData(d,y,v,A,M,i,r);break;case"Q":A=p[m++],M=p[m++],i=p[m++],r=p[m++],d=s.Q,t.addData(d,A,M,i,r);break;case"q":A=p[m++]+i,M=p[m++]+r,i+=p[m++],r+=p[m++],d=s.Q,t.addData(d,A,M,i,r);break;case"T":y=i,v=r,C=t.len(),T=t.data,n===s.Q&&(y+=i-T[C-4],v+=r-T[C-3]),i=p[m++],r=p[m++],d=s.Q,t.addData(d,y,v,i,r);break;case"t":y=i,v=r,C=t.len(),T=t.data,n===s.Q&&(y+=i-T[C-4],v+=r-T[C-3]),i+=p[m++],r+=p[m++],d=s.Q,t.addData(d,y,v,i,r);break;case"A":x=p[m++],_=p[m++],b=p[m++],w=p[m++],S=p[m++],Jf(A=i,M=r,i=p[m++],r=p[m++],w,S,x,_,b,d=s.A,t);break;case"a":x=p[m++],_=p[m++],b=p[m++],w=p[m++],S=p[m++],Jf(A=i,M=r,i+=p[m++],r+=p[m++],w,S,x,_,b,d=s.A,t)}}"z"!==h&&"Z"!==h||(d=s.Z,t.addData(d),i=o,r=a),n=d}return t.toStatic(),t}(e);return(e=X({},t)).buildPath=function(e){var t;tg(e)?(e.setData(n.data),(t=e.getContext())&&e.rebuildPath(t,1)):n.rebuildPath(t=e,1)},e.applyTransform=function(e){Hf(n,e),this.dirtyShape()},e}function ig(e,t){return new $f(ng(e,t))}function rg(e,t){t=t||{};var n=new Us;return e.shape&&n.setShape(e.shape),n.setStyle(e.style),t.bakeTransform?Hf(n.path,e.getComputedTransform()):t.toLocal?n.setLocalTransform(e.getComputedTransform()):n.copyTransform(e),n.buildPath=e.buildPath,n.applyTransform=n.applyTransform,n.z=e.z,n.z2=e.z2,n.zlevel=e.zlevel,n}var og,ag=function(){this.cx=0,this.cy=0,this.r=0};He(sg,og=Us),sg.prototype.getDefaultShape=function(){return new ag},sg.prototype.buildPath=function(e,t){e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI)},t=sg;function sg(e){return og.call(this,e)||this}t.prototype.type="circle";var lg,ug=t,cg=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},hg=(He(dg,lg=Us),dg.prototype.getDefaultShape=function(){return new cg},dg.prototype.buildPath=function(e,t){var n=t.cx,i=t.cy,r=t.rx,o=.5522848*r,a=.5522848*(t=t.ry);e.moveTo(n-r,i),e.bezierCurveTo(n-r,i-a,n-o,i-t,n,i-t),e.bezierCurveTo(n+o,i-t,n+r,i-a,n+r,i),e.bezierCurveTo(n+r,i+a,n+o,i+t,n,i+t),e.bezierCurveTo(n-o,i+t,n-r,i+a,n-r,i),e.closePath()},dg);function dg(e){return lg.call(this,e)||this}hg.prototype.type="ellipse";var pg=hg,fg=Math.PI,gg=2*fg,mg=Math.sin,yg=Math.cos,vg=Math.acos,xg=Math.atan2,_g=Math.abs,bg=Math.sqrt,wg=Math.max,Sg=Math.min,Ag=1e-4;function Mg(e,t,n,i,r,o,a){var s,l,u=(a=(a?o:-o)/bg((c=e-n)*c+(u=t-i)*u))*u,c=(a=-a*c,e+u),h=(e=t+a,t=n+u,n=i+a,i=(c+t)/2,(e+n)/2),d=t-c,p=(t=((c=c*n-t*e)*(s=n-e)-d*(n=(s<0?-1:1)*bg(wg(0,(o=r-o)*o*(l=d*d+s*s)-c*c))))/l,e=(-c*d-s*n)/l,(c*s+d*n)/l);c=(-c*d+s*n)/l;return(n=p-i)*n+(l=c-h)*l<(d=t-i)*d+(s=e-h)*s&&(t=p,e=c),{cx:t,cy:e,x0:-u,y0:-a,x1:t*(r/o-1),y1:e*(r/o-1)}}var Cg,Tg=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},Ig=(He(kg,Cg=Us),kg.prototype.getDefaultShape=function(){return new Tg},kg.prototype.buildPath=function(e,t){!function(e,t){var n,i,r,o,a,s,l,u,c,h,d,p,f,g,m,y,v,x,_,b,w,S,A,M,C,T,I,k,D,B,E=wg(t.r,0),P=wg(t.r0||0,0),L=0<E;(L||0<P)&&(L||(E=P,P=0),E<P&&(L=E,E=P,P=L),L=t.startAngle,n=t.endAngle,isNaN(L)||isNaN(n)||(i=t.cx,r=t.cy,o=!!t.clockwise,y=_g(n-L),Ag<(a=gg<y&&y%gg)&&(y=a),Ag<E?gg-Ag<y?(e.moveTo(i+E*yg(L),r+E*mg(L)),e.arc(i,r,E,L,n,!o),Ag<P&&(e.moveTo(i+P*yg(n),r+P*mg(n)),e.arc(i,r,P,n,L,o))):(S=w=b=_=x=v=h=c=T=C=M=A=u=l=s=a=void 0,d=E*yg(L),p=E*mg(L),f=P*yg(n),g=P*mg(n),(m=Ag<y)&&((t=t.cornerRadius)&&(a=(t=function(e){if(le(e)){var t=e.length;if(!t)return e;t=1===t?[e[0],e[0],0,0]:2===t?[e[0],e[0],e[1],e[1]]:3===t?e.concat(e[2]):e}else t=[e,e,e,e];return t}(t))[0],s=t[1],l=t[2],u=t[3]),t=_g(E-P)/2,A=Sg(t,l),M=Sg(t,u),C=Sg(t,a),T=Sg(t,s),v=c=wg(A,M),x=h=wg(C,T),(Ag<c||Ag<h)&&(_=E*yg(n),b=E*mg(n),w=P*yg(L),S=P*mg(L),y<fg&&(t=function(e,t,n,i,r,o,a,s){var l=(s-=o)*(n-=e)-(a-=r)*(i-=t);if(!(l*l<Ag))return[e+(l=(a*(t-o)-s*(e-r))/l)*n,t+l*i]}(d,p,w,S,_,b,f,g))&&(A=d-t[0],M=p-t[1],C=_-t[0],T=b-t[1],y=1/mg(vg((A*C+M*T)/(bg(A*A+M*M)*bg(C*C+T*T)))/2),A=bg(t[0]*t[0]+t[1]*t[1]),v=Sg(c,(E-A)/(1+y)),x=Sg(h,(P-A)/(y-1))))),m?Ag<v?(I=Sg(l,v),k=Sg(u,v),D=Mg(w,S,d,p,E,I,o),B=Mg(_,b,f,g,E,k,o),e.moveTo(i+D.cx+D.x0,r+D.cy+D.y0),v<c&&I===k?e.arc(i+D.cx,r+D.cy,v,xg(D.y0,D.x0),xg(B.y0,B.x0),!o):(0<I&&e.arc(i+D.cx,r+D.cy,I,xg(D.y0,D.x0),xg(D.y1,D.x1),!o),e.arc(i,r,E,xg(D.cy+D.y1,D.cx+D.x1),xg(B.cy+B.y1,B.cx+B.x1),!o),0<k&&e.arc(i+B.cx,r+B.cy,k,xg(B.y1,B.x1),xg(B.y0,B.x0),!o))):(e.moveTo(i+d,r+p),e.arc(i,r,E,L,n,!o)):e.moveTo(i+d,r+p),Ag<P&&m?Ag<x?(I=Sg(a,x),D=Mg(f,g,_,b,P,-(k=Sg(s,x)),o),B=Mg(d,p,w,S,P,-I,o),e.lineTo(i+D.cx+D.x0,r+D.cy+D.y0),x<h&&I===k?e.arc(i+D.cx,r+D.cy,x,xg(D.y0,D.x0),xg(B.y0,B.x0),!o):(0<k&&e.arc(i+D.cx,r+D.cy,k,xg(D.y0,D.x0),xg(D.y1,D.x1),!o),e.arc(i,r,P,xg(D.cy+D.y1,D.cx+D.x1),xg(B.cy+B.y1,B.cx+B.x1),o),0<I&&e.arc(i+B.cx,r+B.cy,I,xg(B.y1,B.x1),xg(B.y0,B.x0),!o))):(e.lineTo(i+f,r+g),e.arc(i,r,P,n,L,o)):e.lineTo(i+f,r+g)):e.moveTo(i,r),e.closePath()))}(e,t)},kg.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},kg);function kg(e){return Cg.call(this,e)||this}Ig.prototype.type="sector";var Dg,Bg=Ig,Eg=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0};He(Pg,Dg=Us),Pg.prototype.getDefaultShape=function(){return new Eg},Pg.prototype.buildPath=function(e,t){var n=t.cx,i=t.cy,r=2*Math.PI;e.moveTo(n+t.r,i),e.arc(n,i,t.r,0,r,!1),e.moveTo(n+t.r0,i),e.arc(n,i,t.r0,0,r,!0)},$u=Pg;function Pg(e){return Dg.call(this,e)||this}$u.prototype.type="ring";var Lg=$u;function Rg(e,t,n){var i=t.smooth,r=t.points;if(r&&2<=r.length){if(i)for(var o=function(e,t,n,i){var r,o,a=[],s=[],l=[],u=[];if(i){for(var c=[1/0,1/0],h=[-1/0,-1/0],d=0,p=e.length;d<p;d++)ht(c,c,e[d]),dt(h,h,e[d]);ht(c,c,i[0]),dt(h,h,i[1])}for(d=0,p=e.length;d<p;d++){var f=e[d];if(n)r=e[d?d-1:p-1],o=e[(d+1)%p];else{if(0===d||d===p-1){a.push(Ze(e[d]));continue}r=e[d-1],o=e[d+1]}Ye(s,o,r),nt(s,s,t);var g=rt(f,r),m=rt(f,o),y=(0!==(y=g+m)&&(g/=y,m/=y),nt(l,s,-g),nt(u,s,m),je([],f,l));g=je([],f,u);i&&(dt(y,y,c),ht(y,y,h),dt(g,g,c),ht(g,g,h)),a.push(y),a.push(g)}return n&&a.push(a.shift()),a}(r,i,n,t.smoothConstraint),a=(e.moveTo(r[0][0],r[0][1]),r.length),s=0;s<(n?a:a-1);s++){var l=o[2*s],u=o[2*s+1],c=r[(s+1)%a];e.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}else{e.moveTo(r[0][0],r[0][1]);s=1;for(var h=r.length;s<h;s++)e.lineTo(r[s][0],r[s][1])}n&&e.closePath()}}var Og,Fg=function(){this.points=null,this.smooth=0,this.smoothConstraint=null};He(Ng,Og=Us),Ng.prototype.getDefaultShape=function(){return new Fg},Ng.prototype.buildPath=function(e,t){Rg(e,t,!0)},_a=Ng;function Ng(e){return Og.call(this,e)||this}_a.prototype.type="polygon";var zg,Gg=_a,Hg=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null};He(Vg,zg=Us),Vg.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Vg.prototype.getDefaultShape=function(){return new Hg},Vg.prototype.buildPath=function(e,t){Rg(e,t,!1)},t=Vg;function Vg(e){return zg.call(this,e)||this}t.prototype.type="polyline";var Ug,Zg=t,Wg={},jg=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};He(Xg,Ug=Us),Xg.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Xg.prototype.getDefaultShape=function(){return new jg},Xg.prototype.buildPath=function(e,t){var n,i,r,o;o=this.subPixelOptimize?(n=(o=$s(Wg,t,this.style)).x1,i=o.y1,r=o.x2,o.y2):(n=t.x1,i=t.y1,r=t.x2,t.y2),0!==(t=t.percent)&&(e.moveTo(n,i),t<1&&(r=n*(1-t)+r*t,o=i*(1-t)+o*t),e.lineTo(r,o))},Xg.prototype.pointAt=function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]},hg=Xg;function Xg(e){return Ug.call(this,e)||this}hg.prototype.type="line";var Yg,Jg=hg,Kg=[],Qg=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function qg(e,t,n){var i=e.cpx2,r=e.cpy2;return null!=i||null!=r?[(n?_n:xn)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?_n:xn)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?Cn:Mn)(e.x1,e.cpx1,e.x2,t),(n?Cn:Mn)(e.y1,e.cpy1,e.y2,t)]}function $g(e){return Yg.call(this,e)||this}He($g,Yg=Us),$g.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},$g.prototype.getDefaultShape=function(){return new Qg},$g.prototype.buildPath=function(e,t){var n=t.x1,i=t.y1,r=t.x2,o=t.y2,a=t.cpx1,s=t.cpy1,l=t.cpx2,u=t.cpy2;0!==(t=t.percent)&&(e.moveTo(n,i),null==l||null==u?(t<1&&(In(n,a,r,t,Kg),a=Kg[1],r=Kg[2],In(i,s,o,t,Kg),s=Kg[1],o=Kg[2]),e.quadraticCurveTo(a,s,r,o)):(t<1&&(Sn(n,a,l,r,t,Kg),a=Kg[1],l=Kg[2],r=Kg[3],Sn(i,s,u,o,t,Kg),s=Kg[1],u=Kg[2],o=Kg[3]),e.bezierCurveTo(a,s,l,u,r,o)))},$g.prototype.pointAt=function(e){return qg(this.shape,e,!1)},$g.prototype.tangentAt=function(e){return it(e=qg(this.shape,e,!0),e)},(Ig=$g).prototype.type="bezier-curve";var em,tm=Ig,nm=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0};He(im,em=Us),im.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},im.prototype.getDefaultShape=function(){return new nm},im.prototype.buildPath=function(e,t){var n=t.cx,i=t.cy,r=Math.max(t.r,0),o=t.startAngle,a=t.endAngle,s=(t=t.clockwise,Math.cos(o)),l=Math.sin(o);e.moveTo(s*r+n,l*r+i),e.arc(n,i,r,o,a,!t)},$u=im;function im(e){return em.call(this,e)||this}$u.prototype.type="arc";var rm,om=$u;function am(){var e=null!==rm&&rm.apply(this,arguments)||this;return e.type="compound",e}He(am,rm=Us),am.prototype._updatePathDirty=function(){for(var e=this.shape.paths,t=this.shapeChanged(),n=0;n<e.length;n++)t=t||e[n].shapeChanged();t&&this.dirtyShape()},am.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e.length;n++)e[n].path||e[n].createPathProxy(),e[n].path.setScale(t[0],t[1],e[n].segmentIgnoreThreshold)},am.prototype.buildPath=function(e,t){for(var n=t.paths||[],i=0;i<n.length;i++)n[i].buildPath(e,n[i].shape,!0)},am.prototype.afterBrush=function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].pathUpdated()},am.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Us.prototype.getBoundingRect.call(this)};var sm,lm=am;function um(e){this.colorStops=e||[]}function cm(e,t,n,i,r,o){return(r=sm.call(this,r)||this).x=null==e?0:e,r.y=null==t?0:t,r.x2=null==n?1:n,r.y2=null==i?0:i,r.type="linear",r.global=o||!1,r}um.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},He(cm,sm=_a=um);var hm,dm=cm;function pm(e,t,n,i,r){return(i=hm.call(this,i)||this).x=null==e?.5:e,i.y=null==t?.5:t,i.r=null==n?.5:n,i.type="radial",i.global=r||!1,i}He(pm,hm=_a);var fm=pm,gm=[0,0],mm=[0,0],ym=new kr,vm=new kr;function xm(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new kr;for(n=0;n<2;n++)this._axes[n]=new kr;e&&this.fromBoundingRect(e,t)}xm.prototype.fromBoundingRect=function(e,t){var n=this._corners,i=this._axes,r=e.x,o=e.y,a=r+e.width;e=o+e.height;if(n[0].set(r,o),n[1].set(a,o),n[2].set(a,e),n[3].set(r,e),t)for(var s=0;s<4;s++)n[s].transform(t);for(kr.sub(i[0],n[1],n[0]),kr.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize(),s=0;s<2;s++)this._origin[s]=i[s].dot(n[0])},xm.prototype.intersect=function(e,t){var n=!0,i=!t;return ym.set(1/0,1/0),vm.set(0,0),!this._intersectCheckOneSide(this,e,ym,vm,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(e,this,ym,vm,i,-1)&&(n=!1,i)||i||kr.copy(t,n?ym:vm),n},xm.prototype._intersectCheckOneSide=function(e,t,n,i,r,o){for(var a=!0,s=0;s<2;s++){var l=this._axes[s];if(this._getProjMinMaxOnAxis(s,e._corners,gm),this._getProjMinMaxOnAxis(s,t._corners,mm),gm[1]<mm[0]||mm[1]<gm[0]){if(a=!1,r)return a;var u=Math.abs(mm[0]-gm[1]),c=Math.abs(gm[0]-mm[1]);Math.min(u,c)>i.len()&&(u<c?kr.scale(i,l,-u*o):kr.scale(i,l,c*o))}else n&&(u=Math.abs(mm[0]-gm[1]),c=Math.abs(gm[0]-mm[1]),Math.min(u,c)<n.len()&&(u<c?kr.scale(n,l,u*o):kr.scale(n,l,-c*o)))}return a},xm.prototype._getProjMinMaxOnAxis=function(e,t,n){for(var i=this._axes[e],r=this._origin,o=t[0].dot(i)+r[e],a=o,s=o,l=1;l<t.length;l++){var u=t[l].dot(i)+r[e];a=Math.min(u,a),s=Math.max(u,s)}n[0]=a,n[1]=s};var _m,bm=xm,wm=[];function Sm(){var e=null!==_m&&_m.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}He(Sm,_m=Wa),Sm.prototype.traverse=function(e,t){e.call(t,this)},Sm.prototype.useStyle=function(){this.style={}},Sm.prototype.getCursor=function(){return this._cursor},Sm.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},Sm.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},Sm.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},Sm.prototype.addDisplayable=function(e,t){(t?this._temporaryDisplayables:this._displayables).push(e),this.markRedraw()},Sm.prototype.addDisplayables=function(e,t){t=t||!1;for(var n=0;n<e.length;n++)this.addDisplayable(e[n],t)},Sm.prototype.getDisplayables=function(){return this._displayables},Sm.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},Sm.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])},Sm.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++)(t=this._displayables[e]).parent=this,t.update(),t.parent=null;var t;for(e=0;e<this._temporaryDisplayables.length;e++)(t=this._temporaryDisplayables[e]).parent=this,t.update(),t.parent=null},Sm.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new zr(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var n=this._displayables[t],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(wm)),e.union(i)}this._rect=e}return this._rect},Sm.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++)if(this._displayables[i].contain(e,t))return!0;return!1};var Am=Sm,Mm=Math.max,Cm=Math.min,Tm={};function Im(e){return Us.extend(e)}function km(e,t){return function(e,t){var n,i=ng(e,t);function r(e){return(e=n.call(this,e)||this).applyTransform=i.applyTransform,e.buildPath=i.buildPath,e}return He(r,n=$f),r}(e,t)}function Dm(e,t){Tm[e]=t}function Bm(e){if(Tm.hasOwnProperty(e))return Tm[e]}function Em(e,t,n,i){return e=ig(e,t),n&&("center"===i&&(n=Lm(n,e.getBoundingRect())),Om(e,n)),e}function Pm(e,t,n){var i=new Qs({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(e){"center"===n&&(e={width:e.width,height:e.height},i.setStyle(Lm(t,e)))}});return i}function Lm(e,t){t=t.width/t.height;var n=e.height*t;t=n<=e.width?e.height:(n=e.width)/t;return{x:e.x+e.width/2-n/2,y:e.y+e.height/2-t/2,width:n,height:t}}var Rm=function(e,t){for(var n=[],i=e.length,r=0;r<i;r++){var o=e[r];n.push(o.getUpdatedPathProxy(!0))}return(t=new Us(t)).createPathProxy(),t.buildPath=function(e){var t;tg(e)&&(e.appendPath(n),(t=e.getContext())&&e.rebuildPath(t,1))},t};function Om(e,t){e.applyTransform&&(t=e.getBoundingRect().calculateTransform(t),e.applyTransform(t))}function Fm(e){return $s(e.shape,e.shape,e.style),e}function Nm(e){return el(e.shape,e.shape,e.style),e}var zm=tl;function Gm(e,t){for(var n=ur([]);e&&e!==t;)hr(n,e.getLocalTransform(),n),e=e.parent;return n}function Hm(e,t,n){return t&&!$(t)&&(t=Tr.getLocalTransform(t)),ct([],e,t=n?gr([],t):t)}function Vm(e,t,n){var i=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),r=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]);i=Hm(["left"===e?-i:"right"===e?i:0,"top"===e?-r:"bottom"===e?r:0],t,n);return Math.abs(i[0])>Math.abs(i[1])?0<i[0]?"right":"left":0<i[1]?"bottom":"top"}function Um(e){return!e.isGroup}function Zm(e,t,n){var i,r;function o(e){var t={x:e.x,y:e.y,rotation:e.rotation};return null!=e.shape&&(t.shape=X({},e.shape)),t}e&&t&&(r={},e.traverse((function(e){Um(e)&&e.anid&&(r[e.anid]=e)})),i=r,t.traverse((function(e){var t,r;Um(e)&&e.anid&&(t=i[e.anid])&&(r=o(e),e.attr(o(t)),Cu(e,r,n,Cl(e).dataIndex))})))}function Wm(e,t){return te(e,(function(e){var n=e[0];n=Mm(n,t.x),n=Cm(n,t.x+t.width),e=e[1],e=Mm(e,t.y);return[n,Cm(e,t.y+t.height)]}))}function jm(e,t){var n=Mm(e.x,t.x),i=Cm(e.x+e.width,t.x+t.width),r=Mm(e.y,t.y);e=Cm(e.y+e.height,t.y+t.height);if(n<=i&&r<=e)return{x:n,y:r,width:i-n,height:e-r}}function Xm(e,t,n){var i=(t=X({rectHover:!0},t)).style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return 0===e.indexOf("image://")?(i.image=e.slice(8),Y(i,n),new Qs(t)):Em(e.replace("path://",""),t,n,"center")}function Ym(e,t,n,i,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var s=r[o];if(Jm(e,t,n,i,s[0],s[1],a[0],a[1]))return!0;a=s}}function Jm(e,t,n,i,r,o,a,s){var l=(a=a-r)*(i=i-t)-(n=n-e)*(s=s-o);if((u=l)<=1e-6&&-1e-6<=u)return!1;var u=e-r;return!((r=(u*i-n*(e=t-o))/l)<0||1<r)&&!((t=(u*s-a*e)/l)<0||1<t)}function Km(e){var t=e.itemTooltipOption,n=e.componentModel,i=e.itemName,r=(t=ce(t)?{formatter:t}:t,n.mainType),o=(n=n.componentIndex,{componentType:r,name:i,$vars:["name"]}),a=(o[r+"Index"]=n,e.formatterParamsExtra);(e=(a&&ee(oe(a),(function(e){Fe(o,e)||(o[e]=a[e],o.$vars.push(e))})),Cl(e.el))).componentMainType=r,e.componentIndex=n,e.tooltipConfig={name:i,option:Y({content:i,formatterParams:o},t)}}function Qm(e,t){var n;(n=e.isGroup?t(e):n)||e.traverse(t)}function qm(e,t){if(e)if(le(e))for(var n=0;n<e.length;n++)Qm(e[n],t);else Qm(e,t)}Dm("circle",ug),Dm("ellipse",pg),Dm("sector",Bg),Dm("ring",Lg),Dm("polygon",Gg),Dm("polyline",Zg),Dm("rect",sl),Dm("line",Jg),Dm("bezierCurve",tm),Dm("arc",om);var $m=ea(),ey=Of();ty.prototype.init=function(e,t){},ty.prototype.render=function(e,t,n,i){},ty.prototype.highlight=function(e,t,n,i){(e=e.getData(i&&i.dataType))&&iy(e,i,"emphasis")},ty.prototype.downplay=function(e,t,n,i){(e=e.getData(i&&i.dataType))&&iy(e,i,"normal")},ty.prototype.remove=function(e,t){this.group.removeAll()},ty.prototype.dispose=function(e,t){},ty.prototype.updateView=function(e,t,n,i){this.render(e,t,n,i)},ty.prototype.updateLayout=function(e,t,n,i){this.render(e,t,n,i)},ty.prototype.updateVisual=function(e,t,n,i){this.render(e,t,n,i)},ty.prototype.eachRendered=function(e){qm(this.group,e)},ty.markUpdateMethod=function(e,t){$m(e).updateMethod=t},ty.protoInitialize=void(ty.prototype.type="chart"),t=ty;function ty(){this.group=new ao,this.uid=lc("viewChart"),this.renderTask=hp({plan:ry,reset:oy}),this.renderTask.context={view:this}}function ny(e,t,n){e&&_u(e)&&("emphasis"===t?tu:nu)(e,n)}function iy(e,t,n){var i,r=$o(e,t),o=t&&null!=t.highlightKey?(t=t.highlightKey,i=null==(i=Il[t])&&Tl<=32?Il[t]=Tl++:i):null;null!=r?ee(Uo(r),(function(t){ny(e.getItemGraphicEl(t),n,o)})):e.eachItemGraphicEl((function(e){ny(e,n,o)}))}function ry(e){return ey(e.model)}function oy(e){var t=e.model,n=e.ecModel,i=e.api,r=e.payload,o=t.pipelineContext.progressiveRender,a=(e=e.view,r&&$m(r).updateMethod);return"render"!==(o=o?"incrementalPrepareRender":a&&e[a]?a:"render")&&e[o](t,n,i,r),ay[o]}pa(t),ya(t);var ay={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},sy=t,ly="\0__throttleOriginMethod",uy="\0__throttleRate",cy="\0__throttleType";function hy(e,t,n){var i,r,o,a,s,l=0,u=0,c=null;function h(){u=(new Date).getTime(),c=null,e.apply(o,a||[])}function d(){for(var e=[],d=0;d<arguments.length;d++)e[d]=arguments[d];i=(new Date).getTime(),o=this,a=e;var p=s||t,f=s||n;s=null,r=i-(f?l:u)-p,clearTimeout(c),f?c=setTimeout(h,p):0<=r?h():c=setTimeout(h,-r),l=i}return t=t||0,d.clear=function(){c&&(clearTimeout(c),c=null)},d.debounceNextCall=function(e){s=e},d}function dy(e,t,n,i){var r=e[t];if(r){var o=r[ly]||r,a=r[cy];if(r[uy]!==n||a!==i){if(null==n||!i)return e[t]=o;(r=e[t]=hy(o,n,"debounce"===i))[ly]=o,r[cy]=i,r[uy]=n}return r}}function py(e,t){var n=e[t];n&&n[ly]&&(n.clear&&n.clear(),e[t]=n[ly])}var fy=ea(),gy={itemStyle:va(Fy,!0),lineStyle:va(Uy,!0)},my={lineStyle:"stroke",itemStyle:"fill"};function yy(e,t){return(e=e.visualStyleMapper||gy[t])||gy.itemStyle}function vy(e,t){return(e=e.visualDrawType||my[t])||"fill"}hg={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),i=e.visualStyleAccessPath||"itemStyle",r=e.getModel(i),o=yy(e,i)(r),a=((r=r.getShallow("decal"))&&(n.setVisual("decal",r),r.dirty=!0),vy(e,i)),s=ue(r=o[a])?r:null;i="auto"===o.fill||"auto"===o.stroke;if(o[a]&&!s&&!i||(r=e.getColorFromPalette(e.name,null,t.getSeriesCount()),o[a]||(o[a]=r,n.setVisual("colorFromPalette",!0)),o.fill="auto"===o.fill||ue(o.fill)?r:o.fill,o.stroke="auto"===o.stroke||ue(o.stroke)?r:o.stroke),n.setVisual("style",o),n.setVisual("drawType",a),!t.isSeriesFiltered(e)&&s)return n.setVisual("colorFromPalette",!1),{dataEach:function(t,n){var i=e.getDataParams(n),r=X({},o);r[a]=s(i),t.setItemVisual(n,"style",r)}}}};var xy=new ac,_y=(Ig={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n,i,r;if(!e.ignoreStyleOnData&&!t.isSeriesFiltered(e))return t=e.getData(),n=e.visualStyleAccessPath||"itemStyle",i=yy(e,n),r=t.getVisual("drawType"),{dataEach:t.hasItemOption?function(e,t){var o=e.getRawDataItem(t);o&&o[n]&&(xy.option=o[n],o=i(xy),X(e.ensureUniqueItemVisual(t,"style"),o),xy.option.decal&&(e.setItemVisual(t,"decal",xy.option.decal),xy.option.decal.dirty=!0),r in o&&e.setItemVisual(t,"colorFromPalette",!1))}:null}}},$u={performRawSeries:!0,overallReset:function(e){var t=Pe();e.eachSeries((function(e){var n,i=e.getColorBy();e.isColorBySeries()||(i=e.type+"-"+i,(n=t.get(i))||t.set(i,n={}),fy(e).scope=n)})),e.eachSeries((function(t){var n,i,r,o,a,s;t.isColorBySeries()||e.isSeriesFiltered(t)||(n=t.getRawData(),i={},r=t.getData(),o=fy(t).scope,a=t.visualStyleAccessPath||"itemStyle",s=vy(t,a),r.each((function(e){var t=r.getRawIndex(e);i[t]=e})),n.each((function(e){var a,l=i[e];r.getItemVisual(l,"colorFromPalette")&&(l=r.ensureUniqueItemVisual(l,"style"),e=n.getName(e)||e+"",a=n.count(),l[s]=t.getColorFromPalette(e,o,a))})))}))}},Math.PI);function by(e,t,n,i){this._stageTaskMap=Pe(),this.ecInstance=e,this.api=t,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}function wy(e){e.overallReset(e.ecModel,e.api,e.payload)}function Sy(e){return e.overallProgress&&Ay}function Ay(){this.agent.dirty(),this.getDownstream().dirty()}function My(){this.agent&&this.agent.dirty()}function Cy(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function Ty(e){return e.useClearVisual&&e.data.clearAllVisual(),1<(e=e.resetDefines=Uo(e.reset(e.model,e.ecModel,e.api,e.payload))).length?te(e,(function(e,t){return ky(t)})):Iy}by.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each((function(e){(e=e.overallTask)&&e.dirty()}))},by.prototype.getPerformArgs=function(e,t){var n,i;if(e.__pipeline)return i=(n=this._pipelineMap.get(e.__pipeline.id)).context,{step:t=!t&&n.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>n.blockIndex?n.step:null,modBy:null!=(e=i&&i.modDataCount)?Math.ceil(e/t):null,modDataCount:e}},by.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},by.prototype.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),i=e.getData().count(),r=(t=n.progressiveEnabled&&t.incrementalPrepareRender&&i>=n.threshold,e.get("large")&&i>=e.get("largeThreshold"));i="mod"===e.get("progressiveChunkMode")?i:null;e.pipelineContext=n.context={progressiveRender:t,modDataCount:i,large:r}},by.prototype.restorePipelines=function(e){var t=this,n=t._pipelineMap=Pe();e.eachSeries((function(e){var i=e.getProgressive(),r=e.uid;n.set(r,{id:r,head:null,tail:null,threshold:e.getProgressiveThreshold(),progressiveEnabled:i&&!(e.preventIncremental&&e.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),t._pipe(e,e.dataTask)}))},by.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),n=this.api;ee(this._allHandlers,(function(i){var r=e.get(i.uid)||e.set(i.uid,{});Ce(!(i.reset&&i.overallReset),""),i.reset&&this._createSeriesStageTask(i,r,t,n),i.overallReset&&this._createOverallStageTask(i,r,t,n)}),this)},by.prototype.prepareView=function(e,t,n,i){var r=e.renderTask,o=r.context;o.model=t,o.ecModel=n,o.api=i,r.__block=!e.incrementalPrepareRender,this._pipe(t,r)},by.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},by.prototype.performVisualTasks=function(e,t,n){this._performStageTasks(this._visualHandlers,e,t,n)},by.prototype._performStageTasks=function(e,t,n,i){i=i||{};var r=!1,o=this;function a(e,t){return e.setDirty&&(!e.dirtyMap||e.dirtyMap.get(t.__pipeline.id))}ee(e,(function(e,s){var l,u,c,h,d;i.visualType&&i.visualType!==e.visualType||(l=(u=o._stageTaskMap.get(e.uid)).seriesTaskMap,(u=u.overallTask)?((h=u.agentStubMap).each((function(e){a(i,e)&&(e.dirty(),c=!0)})),c&&u.dirty(),o.updatePayload(u,n),d=o.getPerformArgs(u,i.block),h.each((function(e){e.perform(d)})),u.perform(d)&&(r=!0)):l&&l.each((function(s,l){a(i,s)&&s.dirty();var u=o.getPerformArgs(s,i.block);u.skip=!e.performRawSeries&&t.isSeriesFiltered(s.context.model),o.updatePayload(s,n),s.perform(u)&&(r=!0)})))})),this.unfinished=r||this.unfinished},by.prototype.performSeriesTasks=function(e){var t;e.eachSeries((function(e){t=e.dataTask.perform()||t})),this.unfinished=t||this.unfinished},by.prototype.plan=function(){this._pipelineMap.each((function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}}while(t=t.getUpstream())}))},by.prototype.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)},by.prototype._createSeriesStageTask=function(e,t,n,i){var r=this,o=t.seriesTaskMap,a=t.seriesTaskMap=Pe(),s=(t=e.seriesType,e.getTargetSeries);function l(t){var s=t.uid;(s=a.set(s,o&&o.get(s)||hp({plan:Cy,reset:Ty,count:Dy}))).context={model:t,ecModel:n,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:r},r._pipe(t,s)}e.createOnAllSeries?n.eachRawSeries(l):t?n.eachRawSeriesByType(t,l):s&&s(n,i).each(l)},by.prototype._createOverallStageTask=function(e,t,n,i){var r=this,o=t.overallTask=t.overallTask||hp({reset:wy}),a=(o.context={ecModel:n,api:i,overallReset:e.overallReset,scheduler:r},o.agentStubMap),s=o.agentStubMap=Pe(),l=(t=e.seriesType,e.getTargetSeries),u=!0,c=!1;function h(e){var t=e.uid;(t=s.set(t,a&&a.get(t)||(c=!0,hp({reset:Sy,onDirty:My})))).context={model:e,overallProgress:u},t.agent=o,t.__block=u,r._pipe(e,t)}Ce(!e.createOnAllSeries,""),t?n.eachRawSeriesByType(t,h):l?l(n,i).each(h):(u=!1,ee(n.getSeries(),h)),c&&o.dirty()},by.prototype._pipe=function(e,t){e=e.uid,(e=this._pipelineMap.get(e)).head||(e.head=t),e.tail&&e.tail.pipe(t),(e.tail=t).__idxInPipeline=e.count++,t.__pipeline=e},by.wrapStageHandler=function(e,t){return(e=ue(e)?{overallReset:e,seriesType:function(e){By=null;try{e(Ey,Py)}catch(e){}return By}(e)}:e).uid=lc("stageHandler"),t&&(e.visualType=t),e},_a=by;var Iy=ky(0);function ky(e){return function(t,n){var i=n.data,r=n.resetDefines[e];if(r&&r.dataEach)for(var o=t.start;o<t.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(t,i)}}function Dy(e){return e.data.count()}var By,Ey={},Py={};function Ly(e,t){for(var n in t.prototype)e[n]=Ne}function Ry(){return{axisLine:{lineStyle:{color:Ny}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}}Ly(Ey,ld),Ly(Py,sd),Ey.eachSeriesByType=Ey.eachRawSeriesByType=function(e){By=e},Ey.eachComponent=function(e){"series"===e.mainType&&e.subType&&(By=e.subType)};var Oy=_a,Fy={color:t=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],t]},Ny="#B9B8CE",zy=(t=((_a={darkMode:!0,color:Uy=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],backgroundColor:"#100C2A",axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Ny}},textStyle:{color:Ny},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Ny}},dataZoom:{borderColor:"#71708A",textStyle:{color:Ny},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Ny}},timeline:{lineStyle:{color:Ny},label:{color:Ny},controlStyle:{color:Ny,borderColor:Ny}},calendar:{itemStyle:{color:"#100C2A"},dayLabel:{color:Ny},monthLabel:{color:Ny},yearLabel:{color:Ny}},timeAxis:Ry(),logAxis:Ry(),valueAxis:Ry(),categoryAxis:Ry(),line:{symbol:"circle"},graph:{color:Uy},gauge:{title:{color:Ny},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Ny},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}}).categoryAxis.splitLine.show=!1,_a),Gy.prototype.normalizeQuery=function(e){var t,n,i,r={},o={},a={};return ce(e)?(t=da(e),r.mainType=t.main||null,r.subType=t.sub||null):(n=["Index","Name","Id"],i={name:1,dataIndex:1,dataType:1},ee(e,(function(e,t){for(var s=!1,l=0;l<n.length;l++){var u=n[l],c=t.lastIndexOf(u);0<c&&c===t.length-u.length&&"data"!==(c=t.slice(0,c))&&(r.mainType=c,r[u.toLowerCase()]=e,s=!0)}i.hasOwnProperty(t)&&(o[t]=e,s=!0),s||(a[t]=e)}))),{cptQuery:r,dataQuery:o,otherQuery:a}},Gy.prototype.filter=function(e,t){if(!(o=this.eventInfo))return!0;var n=o.targetEl,i=o.packedEvent,r=o.model,o=o.view;if(!r||!o)return!0;var a=t.cptQuery,s=t.dataQuery;return l(a,r,"mainType")&&l(a,r,"subType")&&l(a,r,"index","componentIndex")&&l(a,r,"name")&&l(a,r,"id")&&l(s,i,"name")&&l(s,i,"dataIndex")&&l(s,i,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(e,t.otherQuery,n,i));function l(e,t,n,i){return null==e[n]||t[i||n]===e[n]}},Gy.prototype.afterTrigger=function(){this.eventInfo=null},Gy);function Gy(){}var Hy=["symbol","symbolSize","symbolRotate","symbolOffset"],Vy=Hy.concat(["symbolKeepAspect"]),Uy={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData();if(e.legendIcon&&n.setVisual("legendIcon",e.legendIcon),e.hasSymbolVisual){for(var i,r={},o={},a=!1,s=0;s<Hy.length;s++){var l=Hy[s],u=e.get(l);ue(u)?(a=!0,o[l]=u):r[l]=u}if(r.symbol=r.symbol||e.defaultSymbol,n.setVisual(X({legendIcon:e.legendIcon||r.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},r)),!t.isSeriesFiltered(e))return i=oe(o),{dataEach:a?function(t,n){for(var r=e.getRawValue(n),a=e.getDataParams(n),s=0;s<i.length;s++){var l=i[s];t.setItemVisual(n,l,o[l](r,a))}}:null}}}};_a={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(e.hasSymbolVisual&&!t.isSeriesFiltered(e))return{dataEach:e.getData().hasItemOption?function(e,t){for(var n=e.getItemModel(t),i=0;i<Vy.length;i++){var r=Vy[i],o=n.getShallow(r,!0);null!=o&&e.setItemVisual(t,r,o)}}:null}}};function Zy(e,t,n){switch(n){case"color":return e.getItemVisual(t,"style")[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,n)}}function Wy(e,t){switch(t){case"color":return e.getVisual("style")[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t)}}function jy(e,t,n,i){switch(n){case"color":e.ensureUniqueItemVisual(t,"style")[e.getVisual("drawType")]=i,e.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":e.ensureUniqueItemVisual(t,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":e.setItemVisual(t,n,i)}}function Xy(e,t){ee([[e+"ToggleSelect","toggleSelect"],[e+"Select","select"],[e+"UnSelect","unselect"]],(function(n){t(n[0],(function(t,i,r){var o;t=X({},t),r.dispatchAction(X(t,{type:n[1],seriesIndex:(r=t,o=[],i.eachComponent({mainType:"series",subType:e,query:r},(function(e){o.push(e.seriesIndex)})),o)}))}))}))}function Yy(e,t,n,i,r){var o=e+t;n.isSilent(o)||i.eachComponent({mainType:"series",subType:"pie"},(function(e){for(var t,i,a=e.seriesIndex,s=e.option.selectedMap,l=r.selected,u=0;u<l.length;u++)l[u].seriesIndex===a&&(i=$o(t=e.getData(),r.fromActionPayload),n.trigger(o,{type:o,seriesId:e.id,name:le(i)?t.getName(i[0]):t.getName(i),selected:ce(s)?s:X({},s)}))}))}function Jy(e,t,n){for(var i;e&&(!t(e)||(i=e,!n));)e=e.__hostTarget||e.parent;return i}var Ky=Math.round(9*Math.random()),Qy="function"==typeof Object.defineProperty;function qy(){this._id="__ec_inner_"+Ky++}qy.prototype.get=function(e){return this._guard(e)[this._id]},qy.prototype.set=function(e,t){return e=this._guard(e),Qy?Object.defineProperty(e,this._id,{value:t,enumerable:!1,configurable:!0}):e[this._id]=t,this},qy.prototype.delete=function(e){return!!this.has(e)&&(delete this._guard(e)[this._id],!0)},qy.prototype.has=function(e){return!!this._guard(e)[this._id]},qy.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e};var $y=qy,ev=Us.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=t.width/2;t=t.height/2;e.moveTo(n,i-t),e.lineTo(n+r,i+t),e.lineTo(n-r,i+t),e.closePath()}}),tv=Us.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=t.width/2;t=t.height/2;e.moveTo(n,i-t),e.lineTo(n+r,i),e.lineTo(n,i+t),e.lineTo(n-r,i),e.closePath()}}),nv=Us.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,i=t.y,r=t.width/5*3,o=(t=Math.max(r,t.height),(r=r/2)*r/(t-r)),a=(t=i-t+r+o,Math.asin(o/r)),s=Math.cos(a)*r,l=Math.sin(a),u=Math.cos(a),c=.6*r,h=.7*r;e.moveTo(n-s,t+o),e.arc(n,t,r,Math.PI-a,2*Math.PI+a),e.bezierCurveTo(n+s-l*c,t+o+u*c,n,i-h,n,i),e.bezierCurveTo(n,i-h,n-s+l*c,t+o+u*c,n-s,t+o),e.closePath()}}),iv=Us.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,i=t.width,r=t.x;t=t.y,i=i/3*2;e.moveTo(r,t),e.lineTo(r+i,t+n),e.lineTo(r,t+n/4*3),e.lineTo(r-i,t+n),e.lineTo(r,t),e.closePath()}}),rv={line:function(e,t,n,i,r){r.x1=e,r.y1=t+i/2,r.x2=e+n,r.y2=t+i/2},rect:function(e,t,n,i,r){r.x=e,r.y=t,r.width=n,r.height=i},roundRect:function(e,t,n,i,r){r.x=e,r.y=t,r.width=n,r.height=i,r.r=Math.min(n,i)/4},square:function(e,t,n,i,r){n=Math.min(n,i),r.x=e,r.y=t,r.width=n,r.height=n},circle:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.r=Math.min(n,i)/2},diamond:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.width=n,r.height=i},pin:function(e,t,n,i,r){r.x=e+n/2,r.y=t+i/2,r.width=n,r.height=i},arrow:function(e,t,n,i,r){r.x=e+n/2,r.y=t+i/2,r.width=n,r.height=i},triangle:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.width=n,r.height=i}},ov={},av=(ee({line:Jg,rect:sl,roundRect:sl,square:sl,circle:ug,diamond:tv,pin:nv,arrow:iv,triangle:ev},(function(e,t){ov[t]=new e})),Us.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){e=Yr(e,t,n);var i=this.shape;return i&&"pin"===i.symbolType&&"inside"===t.position&&(e.y=n.y+.4*n.height),e},buildPath:function(e,t,n){var i,r=t.symbolType;"none"!==r&&(i=(i=ov[r])||ov[r="rect"],rv[r](t.x,t.y,t.width,t.height,i.shape),i.buildPath(e,i.shape,n))}}));function sv(e,t){var n;"image"!==this.type&&(n=this.style,this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff",n.lineWidth=2):"line"===this.shape.symbolType?n.stroke=e:n.fill=e,this.markRedraw())}function lv(e,t,n,i,r,o,a){var s=0===e.indexOf("empty");return(a=0===(e=s?e.substr(5,1).toLowerCase()+e.substr(6):e).indexOf("image://")?Pm(e.slice(8),new zr(t,n,i,r),a?"center":"cover"):0===e.indexOf("path://")?Em(e.slice(7),{},new zr(t,n,i,r),a?"center":"cover"):new av({shape:{symbolType:e,x:t,y:n,width:i,height:r}})).__isEmptyBrush=s,a.setColor=sv,o&&a.setColor(o),a}function uv(e){return[(e=le(e)?e:[+e,+e])[0]||0,e[1]||0]}function cv(e,t){if(null!=e)return[_o((e=le(e)?e:[e,e])[0],t[0])||0,_o(we(e[1],e[0]),t[1])||0]}function hv(e,t,n){for(var i,r,o,a,s,l,u,c,h,d="radial"===t.type?(i=e,r=t,a=(o=n).width,s=o.height,l=Math.min(a,s),u=null==r.x?.5:r.x,c=null==r.y?.5:r.y,h=null==r.r?.5:r.r,r.global||(u=u*a+o.x,c=c*s+o.y,h*=l),i.createRadialGradient(u,c,0,u,c,h)):(r=e,a=n,o=null==(s=t).x?0:s.x,l=null==s.x2?1:s.x2,i=null==s.y?0:s.y,u=null==s.y2?0:s.y2,s.global||(o=o*a.width+a.x,l=l*a.width+a.x,i=i*a.height+a.y,u=u*a.height+a.y),o=isNaN(o)?0:o,l=isNaN(l)?1:l,i=isNaN(i)?0:i,u=isNaN(u)?0:u,r.createLinearGradient(o,i,l,u)),p=t.colorStops,f=0;f<p.length;f++)d.addColorStop(p[f].offset,p[f].color);return d}function dv(e){return parseInt(e,10)}function pv(e,t,n){var i=["width","height"][t],r=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t];t=["paddingRight","paddingBottom"][t];return null!=n[i]&&"auto"!==n[i]?parseFloat(n[i]):(n=document.defaultView.getComputedStyle(e),(e[r]||dv(n[i])||dv(e.style[i]))-(dv(n[o])||0)-(dv(n[t])||0)|0)}function fv(e){var t,n=e.style,i=n.lineDash&&0<n.lineWidth&&(r=n.lineDash,i=n.lineWidth,r&&"solid"!==r&&0<i?"dashed"===r?[4*i,2*i]:"dotted"===r?[i]:de(r)?[r]:le(r)?r:null:null),r=n.lineDashOffset;return i&&(t=n.strokeNoScale&&e.getLineScale?e.getLineScale():1)&&1!==t&&(i=te(i,(function(e){return e/t})),r/=t),[i,r]}var gv=new Ss(!0);function mv(e){var t=e.stroke;return!(null==t||"none"===t||!(0<e.lineWidth))}function yv(e){return"string"==typeof e&&"none"!==e}function vv(e){return null!=(e=e.fill)&&"none"!==e}function xv(e,t){var n;null!=t.fillOpacity&&1!==t.fillOpacity?(n=e.globalAlpha,e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=n):e.fill()}function _v(e,t){var n;null!=t.strokeOpacity&&1!==t.strokeOpacity?(n=e.globalAlpha,e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=n):e.stroke()}function bv(e,t,n){if(Ma(n=Sa(t.image,t.__image,n)))return e=e.createPattern(n,t.repeat||"repeat"),"function"==typeof DOMMatrix&&e&&e.setTransform&&((n=new DOMMatrix).translateSelf(t.x||0,t.y||0),n.rotateSelf(0,0,(t.rotation||0)*ze),n.scaleSelf(t.scaleX||1,t.scaleY||1),e.setTransform(n)),e}var wv=["shadowBlur","shadowOffsetX","shadowOffsetY"],Sv=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Av(e,t,n,i,r){var o,a=!1;if(!i&&t===(n=n||{}))return!1;!i&&t.opacity===n.opacity||(Tv(e,r),a=!0,o=Math.max(Math.min(t.opacity,1),0),e.globalAlpha=isNaN(o)?Na.opacity:o),!i&&t.blend===n.blend||(a||(Tv(e,r),a=!0),e.globalCompositeOperation=t.blend||Na.blend);for(var s=0;s<wv.length;s++){var l=wv[s];!i&&t[l]===n[l]||(a||(Tv(e,r),a=!0),e[l]=e.dpr*(t[l]||0))}return!i&&t.shadowColor===n.shadowColor||(a||(Tv(e,r),a=!0),e.shadowColor=t.shadowColor||Na.shadowColor),a}function Mv(e,t,n,i,r){var o=Iv(t,r.inHover),a=i?null:n&&Iv(n,r.inHover)||{};if(o!==a){var s=Av(e,o,a,i,r);!i&&o.fill===a.fill||(s||(Tv(e,r),s=!0),yv(o.fill)&&(e.fillStyle=o.fill)),!i&&o.stroke===a.stroke||(s||(Tv(e,r),s=!0),yv(o.stroke)&&(e.strokeStyle=o.stroke)),!i&&o.opacity===a.opacity||(s||(Tv(e,r),s=!0),e.globalAlpha=null==o.opacity?1:o.opacity),t.hasStroke()&&(n=o.lineWidth/(o.strokeNoScale&&t.getLineScale?t.getLineScale():1),e.lineWidth!==n&&(s||(Tv(e,r),s=!0),e.lineWidth=n));for(var l=0;l<Sv.length;l++){var u=Sv[l],c=u[0];!i&&o[c]===a[c]||(s||(Tv(e,r),s=!0),e[c]=o[c]||u[1])}}}function Cv(e,t){t=t.transform;var n=e.dpr||1;t?e.setTransform(n*t[0],n*t[1],n*t[2],n*t[3],n*t[4],n*t[5]):e.setTransform(n,0,0,n,0,0)}function Tv(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function Iv(e,t){return t&&e.__hoverStyle||e.style}function kv(e,t){Dv(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Dv(e,t,n,i){var r=t.transform;if(!t.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1))return t.__dirty&=-2,void(t.__isRendered=!1);var o=t.__clipPaths,a=!1,s=!1;if(!(c=n.prevElClipPaths)||function(e,t){if(e!==t&&(e||t)){if(!e||!t||e.length!==t.length)return 1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return 1}}(o,c)){if(c&&c.length&&(Tv(e,n),e.restore(),s=a=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),o&&o.length){Tv(e,n),e.save();for(var l=o,u=e,c=n,h=!1,d=0;d<l.length;d++){var p=l[d];h=h||p.isZeroArea();Cv(u,p),u.beginPath(),p.buildPath(u,p.shape),u.clip()}c.allClipped=h,a=!0}n.prevElClipPaths=o}if(n.allClipped)t.__isRendered=!1;else{t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var f,g,m,y,v,x,_,b,w,S,A,M,T,I,k,D,B,E,P,L,R,O,F,N=((c=n.prevEl)||(s=a=!0),t instanceof Us&&t.autoBatch&&(N=vv(o=t.style),f=mv(o),!(o.lineDash||!(+N^+f)||N&&"string"!=typeof o.fill||f&&"string"!=typeof o.stroke||o.strokePercent<1||o.strokeOpacity<1||o.fillOpacity<1)));a=(a||(f=r,o=c.transform,f&&o?f[0]!==o[0]||f[1]!==o[1]||f[2]!==o[2]||f[3]!==o[3]||f[4]!==o[4]||f[5]!==o[5]:f||o)?(Tv(e,n),Cv(e,t)):N||Tv(e,n),Iv(t,n.inHover));if(t instanceof Us)1!==n.lastDrawType&&(s=!0,n.lastDrawType=1),Mv(e,t,c,s,n),N&&(n.batchFill||n.batchStroke)||e.beginPath(),r=e,o=t,U=N,k=mv(y=a),D=vv(y),E=(B=y.strokePercent)<1,P=!o.path,o.silent&&!E||!P||o.createPathProxy(),L=o.path||gv,R=o.__dirty,U||(v=y.fill,F=y.stroke,x=D&&!!v.colorStops,_=k&&!!F.colorStops,b=D&&!!v.image,w=k&&!!F.image,O=T=M=A=S=void 0,(x||_)&&(O=o.getBoundingRect()),x&&(S=R?hv(r,v,O):o.__canvasFillGradient,o.__canvasFillGradient=S),_&&(A=R?hv(r,F,O):o.__canvasStrokeGradient,o.__canvasStrokeGradient=A),b&&(M=R||!o.__canvasFillPattern?bv(r,v,o):o.__canvasFillPattern,o.__canvasFillPattern=M),w&&(T=R||!o.__canvasStrokePattern?bv(r,F,o):o.__canvasStrokePattern,o.__canvasStrokePattern=M),x?r.fillStyle=S:b&&(M?r.fillStyle=M:D=!1),_?r.strokeStyle=A:w&&(T?r.strokeStyle=T:k=!1)),O=o.getGlobalScale(),L.setScale(O[0],O[1],o.segmentIgnoreThreshold),r.setLineDash&&y.lineDash&&(I=(v=fv(o))[0],V=v[1]),F=!0,(P||4&R)&&(L.setDPR(r.dpr),E?L.setContext(null):(L.setContext(r),F=!1),L.reset(),o.buildPath(L,o.shape,U),L.toStatic(),o.pathUpdated()),F&&L.rebuildPath(r,E?B:1),I&&(r.setLineDash(I),r.lineDashOffset=V),U||(y.strokeFirst?(k&&_v(r,y),D&&xv(r,y)):(D&&xv(r,y),k&&_v(r,y))),I&&r.setLineDash([]),N&&(n.batchFill=a.fill||"",n.batchStroke=a.stroke||"");else if(t instanceof Xs)3!==n.lastDrawType&&(s=!0,n.lastDrawType=3),Mv(e,t,c,s,n),x=e,S=t,null!=(M=(b=a).text)&&(M+=""),M&&(x.font=b.font||C,x.textAlign=b.textAlign,x.textBaseline=b.textBaseline,A=_=void 0,x.setLineDash&&b.lineDash&&(_=(S=fv(S))[0],A=S[1]),_&&(x.setLineDash(_),x.lineDashOffset=A),b.strokeFirst?(mv(b)&&x.strokeText(M,b.x,b.y),vv(b)&&x.fillText(M,b.x,b.y)):(vv(b)&&x.fillText(M,b.x,b.y),mv(b)&&x.strokeText(M,b.x,b.y)),_&&x.setLineDash([]));else if(t instanceof Qs)2!==n.lastDrawType&&(s=!0,n.lastDrawType=2),w=c,T=s,Av(e,Iv(t,(O=n).inHover),w&&Iv(w,O.inHover),T,O),v=e,P=a,(o=(R=t).__image=Sa(P.image,R.__image,R,R.onload))&&Ma(o)&&(F=P.x||0,L=P.y||0,E=R.getWidth(),R=R.getHeight(),B=o.width/o.height,null==E&&null!=R?E=R*B:null==R&&null!=E?R=E/B:null==E&&null==R&&(E=o.width,R=o.height),P.sWidth&&P.sHeight?(g=P.sx||0,m=P.sy||0,v.drawImage(o,g,m,P.sWidth,P.sHeight,F,L,E,R)):P.sx&&P.sy?(g=P.sx,m=P.sy,v.drawImage(o,g,m,E-g,R-m,F,L,E,R)):v.drawImage(o,F,L,E,R));else if(t.getTemporalDisplayables){4!==n.lastDrawType&&(s=!0,n.lastDrawType=4);var z,G,H=e,V=t,U=n,Z=V.getDisplayables(),W=V.getTemporalDisplayables(),j=(H.save(),{prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:U.viewWidth,viewHeight:U.viewHeight,inHover:U.inHover});for(z=V.getCursor(),G=Z.length;z<G;z++)(X=Z[z]).beforeBrush&&X.beforeBrush(),X.innerBeforeBrush(),Dv(H,X,j,z===G-1),X.innerAfterBrush(),X.afterBrush&&X.afterBrush(),j.prevEl=X;for(var X,Y=0,J=W.length;Y<J;Y++)(X=W[Y]).beforeBrush&&X.beforeBrush(),X.innerBeforeBrush(),Dv(H,X,j,Y===J-1),X.innerAfterBrush(),X.afterBrush&&X.afterBrush(),j.prevEl=X;V.clearTemporalDisplayables(),V.notClear=!0,H.restore()}N&&i&&Tv(e,n),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),(n.prevEl=t).__dirty=0,t.__isRendered=!0}}var Bv=new $y,Ev=new Nn(100),Pv=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Lv(e,t){if("none"===e)return null;var n=t.getDevicePixelRatio(),i=t.getZr(),r="svg"===i.painter.type;if(t=(e.dirty&&Bv.delete(e),Bv.get(e)))return t;for(var o,a=Y(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512}),s=t=("none"===a.backgroundColor&&(a.backgroundColor=null),{repeat:"repeat"}),l=[n],u=!0,c=0;c<Pv.length;++c){var h=a[Pv[c]];if(null!=h&&!le(h)&&!ce(h)&&!de(h)&&"boolean"!=typeof h){u=!1;break}l.push(h)}u&&(o=l.join(",")+(r?"-svg":""),(v=Ev.get(o))&&(r?s.svgElement=v:s.image=v));var d,p=function e(t){if(!t||0===t.length)return[[0,0]];if(de(t))return[[o=Math.ceil(t),o]];for(var n=!0,i=0;i<t.length;++i)if(!de(t[i])){n=!1;break}if(n)return e([t]);var r=[];for(i=0;i<t.length;++i){var o;de(t[i])?(o=Math.ceil(t[i]),r.push([o,o])):(o=te(t[i],(function(e){return Math.ceil(e)}))).length%2==1?r.push(o.concat(o)):r.push(o)}return r}(a.dashArrayX),f=function(e){if(!e||"object"==typeof e&&0===e.length)return[0,0];if(de(e))return[t=Math.ceil(e),t];var t=te(e,(function(e){return Math.ceil(e)}));return e.length%2?t.concat(t):t}(a.dashArrayY),g=function e(t){if(!t||0===t.length)return[["rect"]];if(ce(t))return[[t]];for(var n=!0,i=0;i<t.length;++i)if(!ce(t[i])){n=!1;break}if(n)return e([t]);var r=[];for(i=0;i<t.length;++i)ce(t[i])?r.push([t[i]]):r.push(t[i]);return r}(a.symbol),m=function(e){return te(e,Rv)}(p),y=Rv(f),v=!r&&I.createCanvas(),x=r&&{tag:"g",attrs:{},key:"dcl",children:[]},_=function(){for(var e=1,t=0,n=m.length;t<n;++t)e=Go(e,m[t]);var i=1;for(t=0,n=g.length;t<n;++t)i=Go(i,g[t].length);e*=i;var r=y*m.length*g.length;return{width:Math.max(1,Math.min(e,a.maxTileWidth)),height:Math.max(1,Math.min(r,a.maxTileHeight))}}();v&&(v.width=_.width*n,v.height=_.height*n,d=v.getContext("2d")),d&&(d.clearRect(0,0,v.width,v.height),a.backgroundColor&&(d.fillStyle=a.backgroundColor,d.fillRect(0,0,v.width,v.height)));for(var b=0,w=0;w<f.length;++w)b+=f[w];if(!(b<=0))for(var S=-y,A=0,M=0,C=0;S<_.height;){if(A%2==0){for(var T=M/2%g.length,k=0,D=0,B=0;k<2*_.width;){var E,P,L,R,O,F=0;for(w=0;w<p[C].length;++w)F+=p[C][w];if(F<=0)break;D%2==0&&(P=.5*(1-a.symbolSize),E=k+p[C][D]*P,P=S+f[A]*P,L=p[C][D]*a.symbolSize,R=f[A]*a.symbolSize,O=B/2%g[T].length,function(e,t,o,s,l){var u=r?1:n;l=lv(l,e*u,t*u,o*u,s*u,a.color,a.symbolKeepAspect);r?(e=i.painter.renderOneToVNode(l))&&x.children.push(e):kv(d,l)}(E,P,L,R,g[T][O])),k+=p[C][D],++B,++D===p[C].length&&(D=0)}++C===p.length&&(C=0)}S+=f[A],++M,++A===f.length&&(A=0)}return u&&Ev.put(o,v||x),s.image=v,s.svgElement=x,s.svgWidth=_.width,s.svgHeight=_.height,t.rotation=a.rotation,t.scaleX=t.scaleY=r?1:1/n,Bv.set(e,t),e.dirty=!1,t}function Rv(e){for(var t=0,n=0;n<e.length;++n)t+=e[n];return e.length%2==1?2*t:t}var Ov=new yt,Fv={},Nv="undefined"!=typeof window,zv="5.3.2",Gv={zrender:"5.3.1"},Hv={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},Vv="__flagInMainProcess",Uv="__pendingUpdate",Zv="__needsUpdateStatus",Wv=/^[a-zA-Z0-9_]+$/,jv="__connectUpdateStatus";function Xv(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!this.isDisposed())return Jv(this,e,t);this.id}}function Yv(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Jv(this,e,t)}}function Jv(e,t,n){return n[0]=n[0]&&n[0].toLowerCase(),yt.prototype[t].apply(e,n)}_(qv,Kv=yt);var Kv,Qv=qv;function qv(){return null!==Kv&&Kv.apply(this,arguments)||this}var $v,ex,tx,nx,ix,rx,ox,ax,sx,lx,ux,cx,hx,dx,px,fx,gx,mx,yx,vx=((tv=Qv.prototype).on=Yv("on"),tv.off=Yv("off"),_(xx,yx=yt),xx.prototype._onframe=function(){if(!this._disposed){mx(this);var e=this._scheduler;if(this[Uv]){var t=this[Uv].silent;this[Vv]=!0;try{$v(this),nx.update.call(this,null,this[Uv].updateParams)}catch(e){throw this[Vv]=!1,this[Uv]=null,e}this._zr.flush(),this[Vv]=!1,this[Uv]=null,ax.call(this,t),sx.call(this,t)}else if(e.unfinished){var n=1,i=this._model,r=this._api;e.unfinished=!1;do{var o=+new Date}while(e.performSeriesTasks(i),e.performDataProcessorTasks(i),rx(this,i),e.performVisualTasks(i),dx(this,this._model,r,"remain",{}),0<(n-=+new Date-o)&&e.unfinished);e.unfinished||this._zr.flush()}}},xx.prototype.getDom=function(){return this._dom},xx.prototype.getId=function(){return this.id},xx.prototype.getZr=function(){return this._zr},xx.prototype.isSSR=function(){return this._ssr},xx.prototype.setOption=function(e,t,n){if(!this[Vv])if(this._disposed)this.id;else{pe(t)&&(n=t.lazyUpdate,i=t.silent,r=t.replaceMerge,o=t.transition,t=t.notMerge),this[Vv]=!0,this._model&&!t||(t=new gd(this._api),a=this._theme,(s=this._model=new ld).scheduler=this._scheduler,s.ssr=this._ssr,s.init(null,null,null,a,this._locale,t)),this._model.setOption(e,{replaceMerge:r},Dx);var i,r,o,a,s={seriesTransition:o,optionChanged:!0};if(n)this[Uv]={silent:i,updateParams:s},this[Vv]=!1,this.getZr().wakeUp();else{try{$v(this),nx.update.call(this,null,s)}catch(e){throw this[Uv]=null,this[Vv]=!1,e}this._ssr||this._zr.flush(),this[Uv]=null,this[Vv]=!1,ax.call(this,i),sx.call(this,i)}}},xx.prototype.setTheme=function(){},xx.prototype.getModel=function(){return this._model},xx.prototype.getOption=function(){return this._model&&this._model.getOption()},xx.prototype.getWidth=function(){return this._zr.getWidth()},xx.prototype.getHeight=function(){return this._zr.getHeight()},xx.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Nv&&window.devicePixelRatio||1},xx.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},xx.prototype.renderToCanvas=function(e){return this._zr.painter.getRenderedCanvas({backgroundColor:(e=e||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},xx.prototype.renderToSVGString=function(e){return this._zr.painter.renderToString({useViewBox:(e=e||{}).useViewBox})},xx.prototype.getSvgDataURL=function(){var e;if(A.svgSupported)return ee((e=this._zr).storage.getDisplayList(),(function(e){e.stopAnimation(null,!0)})),e.painter.toDataURL()},xx.prototype.getDataURL=function(e){var t,n,i,r;if(!this._disposed)return r=(e=e||{}).excludeComponents,t=this._model,n=[],i=this,ee(r,(function(e){t.eachComponent({mainType:e},(function(e){(e=i._componentsMap[e.__viewId]).group.ignore||(n.push(e),e.group.ignore=!0)}))})),r="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png")),ee(n,(function(e){e.group.ignore=!1})),r;this.id},xx.prototype.getConnectedDataURL=function(e){var t,n,i,r,o,a,s,l,u,c,h,d,p,f,g;if(!this._disposed)return t="svg"===e.type,n=this.group,i=Math.min,r=Math.max,Rx[n]?(a=o=1/0,l=s=-1/0,u=[],c=e&&e.pixelRatio||this.getDevicePixelRatio(),ee(Lx,(function(c,h){var d;c.group===n&&(d=t?c.getZr().painter.getSvgDom().innerHTML:c.renderToCanvas(Z(e)),c=c.getDom().getBoundingClientRect(),o=i(c.left,o),a=i(c.top,a),s=r(c.right,s),l=r(c.bottom,l),u.push({dom:d,left:c.left,top:c.top}))})),h=(s*=c)-(o*=c),d=(l*=c)-(a*=c),p=I.createCanvas(),(f=ho(p,{renderer:t?"svg":"canvas"})).resize({width:h,height:d}),t?(g="",ee(u,(function(e){var t=e.left-o,n=e.top-a;g+='<g transform="translate('+t+","+n+')">'+e.dom+"</g>"})),f.painter.getSvgRoot().innerHTML=g,e.connectedBackgroundColor&&f.painter.setBackgroundColor(e.connectedBackgroundColor),f.refreshImmediately(),f.painter.toDataURL()):(e.connectedBackgroundColor&&f.add(new sl({shape:{x:0,y:0,width:h,height:d},style:{fill:e.connectedBackgroundColor}})),ee(u,(function(e){e=new Qs({style:{x:e.left*c-o,y:e.top*c-a,image:e.dom}}),f.add(e)})),f.refreshImmediately(),p.toDataURL("image/"+(e&&e.type||"png")))):this.getDataURL(e);this.id},xx.prototype.convertToPixel=function(e,t){return ix(this,"convertToPixel",e,t)},xx.prototype.convertFromPixel=function(e,t){return ix(this,"convertFromPixel",e,t)},xx.prototype.containPixel=function(e,t){var n;if(!this._disposed)return ee(na(this._model,e),(function(e,i){0<=i.indexOf("Models")&&ee(e,(function(e){var r=e.coordinateSystem;r&&r.containPoint?n=n||!!r.containPoint(t):"seriesModels"===i&&(r=this._chartsMap[e.__viewId])&&r.containPoint&&(n=n||r.containPoint(t,e))}),this)}),this),!!n;this.id},xx.prototype.getVisual=function(e,t){var n=(e=na(this._model,e,{defaultMainType:"series"})).seriesModel.getData();return null!=(e=e.hasOwnProperty("dataIndexInside")?e.dataIndexInside:e.hasOwnProperty("dataIndex")?n.indexOfRawIndex(e.dataIndex):null)?Zy(n,e,t):Wy(n,t)},xx.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},xx.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},xx.prototype._initEvents=function(){var e,t,n,i=this;ee(Cx,(function(e){function t(t){var n,r,o,a=i.getModel(),s=t.target;"globalout"===e?n={}:s&&Jy(s,(function(e){var t;return(e=Cl(e))&&null!=e.dataIndex?(t=e.dataModel||a.getSeriesByIndex(e.seriesIndex),n=t&&t.getDataParams(e.dataIndex,e.dataType)||{},1):e.eventData&&(n=X({},e.eventData),1)}),!0),n&&(r=n.componentType,o=n.componentIndex,"markLine"!==r&&"markPoint"!==r&&"markArea"!==r||(r="series",o=n.seriesIndex),o=(r=r&&null!=o&&a.getComponent(r,o))&&i["series"===r.mainType?"_chartsMap":"_componentsMap"][r.__viewId],n.event=t,n.type=e,i._$eventProcessor.eventInfo={targetEl:s,packedEvent:n,model:r,view:o},i.trigger(e,n))}t.zrEventfulCallAtLast=!0,i._zr.on(e,t,i)})),ee(Ix,(function(e,t){i._messageCenter.on(t,(function(e){this.trigger(t,e)}),i)})),ee(["selectchanged"],(function(e){i._messageCenter.on(e,(function(t){this.trigger(e,t)}),i)})),e=this._messageCenter,n=(t=this)._api,e.on("selectchanged",(function(e){var i=n.getModel();e.isFromClick?(Yy("map","selectchanged",t,i,e),Yy("pie","selectchanged",t,i,e)):"select"===e.fromAction?(Yy("map","selected",t,i,e),Yy("pie","selected",t,i,e)):"unselect"===e.fromAction&&(Yy("map","unselected",t,i,e),Yy("pie","unselected",t,i,e))}))},xx.prototype.isDisposed=function(){return this._disposed},xx.prototype.clear=function(){this._disposed?this.id:this.setOption({series:[]},!0)},xx.prototype.dispose=function(){var e,t,n;this._disposed?this.id:(this._disposed=!0,this.getDom()&&sa(this.getDom(),Nx,""),t=(e=this)._api,n=e._model,ee(e._componentsViews,(function(e){e.dispose(n,t)})),ee(e._chartsViews,(function(e){e.dispose(n,t)})),e._zr.dispose(),e._dom=e._model=e._chartsMap=e._componentsMap=e._chartsViews=e._componentsViews=e._scheduler=e._api=e._zr=e._throttledZrFlush=e._theme=e._coordSysMgr=e._messageCenter=null,delete Lx[e.id])},xx.prototype.resize=function(e){if(!this[Vv])if(this._disposed)this.id;else{this._zr.resize(e);var t=this._model;if(this._loadingFX&&this._loadingFX.resize(),t){t=t.resetOption("media");var n=e&&e.silent;this[Uv]&&(null==n&&(n=this[Uv].silent),t=!0,this[Uv]=null),this[Vv]=!0;try{t&&$v(this),nx.update.call(this,{type:"resize",animation:X({duration:0},e&&e.animation)})}catch(e){throw this[Vv]=!1,e}this[Vv]=!1,ax.call(this,n),sx.call(this,n)}}},xx.prototype.showLoading=function(e,t){this._disposed?this.id:(pe(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),Px[e]&&(e=Px[e](this._api,t),t=this._zr,this._loadingFX=e,t.add(e)))},xx.prototype.hideLoading=function(){this._disposed?this.id:(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},xx.prototype.makeActionFromEvent=function(e){var t=X({},e);return t.type=Ix[e.type],t},xx.prototype.dispatchAction=function(e,t){var n;this._disposed?this.id:(pe(t)||(t={silent:!!t}),Tx[e.type]&&this._model&&(this[Vv]?this._pendingActions.push(e):(n=t.silent,ox.call(this,e,n),(e=t.flush)?this._zr.flush():!1!==e&&A.browser.weChat&&this._throttledZrFlush(),ax.call(this,n),sx.call(this,n))))},xx.prototype.updateLabelLayout=function(){Ov.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},xx.prototype.appendData=function(e){var t;this._disposed?this.id:(t=e.seriesIndex,this.getModel().getSeriesByIndex(t).appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp())},xx.internalField=($v=function(e){var t=e._scheduler;t.restorePipelines(e._model),t.prepareStageTasks(),ex(e,!0),ex(e,!1),t.plan()},ex=function(e,t){for(var n=e._model,i=e._scheduler,r=t?e._componentsViews:e._chartsViews,o=t?e._componentsMap:e._chartsMap,a=e._zr,s=e._api,l=0;l<r.length;l++)r[l].__alive=!1;function u(e){var l,u=e.__requireNewView,c=(e.__requireNewView=!1,"_ec_"+e.id+"_"+e.type);(u=!u&&o[c])||(l=da(e.type),(u=new(t?Rf.getClass(l.main,l.sub):sy.getClass(l.sub))).init(n,s),o[c]=u,r.push(u),a.add(u.group)),e.__viewId=u.__id=c,u.__alive=!0,u.__model=e,u.group.__ecComponentInfo={mainType:e.mainType,index:e.componentIndex},t||i.prepareView(u,e,n,s)}for(t?n.eachComponent((function(e,t){"series"!==e&&u(t)})):n.eachSeries(u),l=0;l<r.length;){var c=r[l];c.__alive?l++:(t||c.renderTask.dispose(),a.remove(c.group),c.dispose(n,s),r.splice(l,1),o[c.__id]===c&&delete o[c.__id],c.__id=c.group.__ecComponentInfo=null)}},tx=function(e,t,n,i,r){var o,a,s=e._model;function l(i){i&&i.__alive&&i[t]&&i[t](i.__model,s,e._api,n)}s.setUpdatePayload(n),i?((o={})[i+"Id"]=n[i+"Id"],o[i+"Index"]=n[i+"Index"],o[i+"Name"]=n[i+"Name"],o={mainType:i,query:o},r&&(o.subType=r),null!=(r=n.excludeSeriesId)&&(a=Pe(),ee(Uo(r),(function(e){null!=(e=Ko(e,null))&&a.set(e,!0)}))),s&&s.eachComponent(o,(function(t){var i,r;if(!(o=a&&null!==a.get(t.id)))if(wu(n))if(t instanceof Pf){if(n.type===Pl&&!n.notBlur&&!t.get(["emphasis","disabled"])){var o=t,s=n,l=e._api,u=o.seriesIndex,c=o.getData(s.dataType);if(c){s=(le(s=$o(c,s))?s[0]:s)||0;var h=c.getItemGraphicEl(s);if(!h)for(var d=c.count(),p=0;!h&&p<d;)h=c.getItemGraphicEl(p++);h?uu(u,(s=Cl(h)).focus,s.blurScope,l):(s=o.get(["emphasis","focus"]),o=o.get(["emphasis","blurScope"]),null!=s&&uu(u,s,o,l))}}}else s=(u=hu(t.mainType,t.componentIndex,n.name,e._api)).focusSelf,o=u.dispatchers,n.type===Pl&&s&&!n.notBlur&&cu(t.mainType,t.componentIndex,e._api),o&&ee(o,(function(e){(n.type===Pl?tu:nu)(e)}));else bu(n)&&t instanceof Pf&&(l=t,o=n,e._api,bu(o)&&(i=o.dataType,le(r=$o(l.getData(i),o))||(r=[r]),l[o.type===Fl?"toggleSelect":o.type===Rl?"select":"unselect"](r,i)),du(t),gx(e))}),e),s&&s.eachComponent(o,(function(t){a&&null!==a.get(t.id)||l(e["series"===i?"_chartsMap":"_componentsMap"][t.__viewId])}),e)):ee([].concat(e._componentsViews).concat(e._chartsViews),l)},nx={prepareAndUpdate:function(e){$v(this),nx.update.call(this,e,{optionChanged:null!=e.newOption})},update:function(e,t){var n=this._model,i=this._api,r=this._zr,o=this._coordSysMgr,a=this._scheduler;n&&(n.setUpdatePayload(e),a.restoreData(n,e),a.performSeriesTasks(n),o.create(n,i),a.performDataProcessorTasks(n,e),rx(this,n),o.update(n,i),_x(n),a.performVisualTasks(n,e),cx(this,n,i,e,t),o=n.get("backgroundColor")||"transparent",a=n.get("darkMode"),r.setBackgroundColor(o),null!=a&&"auto"!==a&&r.setDarkMode(a),Ov.trigger("afterupdate",n,i))},updateTransform:function(e){var t,n,i=this,r=this._model,o=this._api;r&&(r.setUpdatePayload(e),t=[],r.eachComponent((function(n,a){"series"!==n&&(n=i.getViewOfComponentModel(a))&&n.__alive&&(!n.updateTransform||(a=n.updateTransform(a,r,o,e))&&a.update)&&t.push(n)})),n=Pe(),r.eachSeries((function(t){var a=i._chartsMap[t.__viewId];(!a.updateTransform||(a=a.updateTransform(t,r,o,e))&&a.update)&&n.set(t.uid,1)})),_x(r),this._scheduler.performVisualTasks(r,e,{setDirty:!0,dirtyMap:n}),dx(this,r,o,e,{},n),Ov.trigger("afterupdate",r,o))},updateView:function(e){var t=this._model;t&&(t.setUpdatePayload(e),sy.markUpdateMethod(e,"updateView"),_x(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0}),cx(this,t,this._api,e,{}),Ov.trigger("afterupdate",t,this._api))},updateVisual:function(e){var t=this,n=this._model;n&&(n.setUpdatePayload(e),n.eachSeries((function(e){e.getData().clearAllVisual()})),sy.markUpdateMethod(e,"updateVisual"),_x(n),this._scheduler.performVisualTasks(n,e,{visualType:"visual",setDirty:!0}),n.eachComponent((function(i,r){"series"!==i&&(i=t.getViewOfComponentModel(r))&&i.__alive&&i.updateVisual(r,n,t._api,e)})),n.eachSeries((function(i){t._chartsMap[i.__viewId].updateVisual(i,n,t._api,e)})),Ov.trigger("afterupdate",n,this._api))},updateLayout:function(e){nx.update.call(this,e)}},ix=function(e,t,n,i){if(e._disposed)e.id;else for(var r=e._model,o=e._coordSysMgr.getCoordinateSystems(),a=na(r,n),s=0;s<o.length;s++){var l=o[s];if(l[t]&&null!=(l=l[t](r,a,i)))return l}},rx=function(e,t){var n=e._chartsMap,i=e._scheduler;t.eachSeries((function(e){i.updateStreamModes(e,n[e.__viewId])}))},ox=function(e,t){var n,i,r=this,o=this.getModel(),a=e.type,s=e.escapeConnect,l=Tx[a],u=l.actionInfo,c=(d=(u.update||"update").split(":")).pop(),h=null!=d[0]&&da(d[0]),d=(this[Vv]=!0,[e]),p=!1,f=(e.batch&&(p=!0,d=te(e.batch,(function(t){return(t=Y(X({},t),e)).batch=null,t}))),[]),g=bu(e),m=wu(e);if(m&&lu(this._api),ee(d,(function(t){var i,o;(n=(n=l.action(t,r._model,r._api))||X({},t)).type=u.event||n.type,f.push(n),m?(i=(o=ia(e)).queryOptionMap,o=o.mainTypeSpecified?i.keys()[0]:"series",tx(r,c,t,o),gx(r)):g?(tx(r,c,t,"series"),gx(r)):h&&tx(r,c,t,h.main,h.sub)})),"none"!==c&&!m&&!g&&!h)try{this[Uv]?($v(this),nx.update.call(this,e),this[Uv]=null):nx[c].call(this,e)}catch(t){throw this[Vv]=!1,t}n=p?{type:u.event||a,escapeConnect:s,batch:f}:f[0],this[Vv]=!1,t||((d=this._messageCenter).trigger(n.type,n),g&&(p={type:"selectchanged",escapeConnect:s,selected:(i=[],o.eachSeries((function(e){ee(e.getAllData(),(function(t){t.data;t=t.type;var n=e.getSelectedDataIndices();0<n.length&&(n={dataIndex:n,seriesIndex:e.seriesIndex},null!=t&&(n.dataType=t),i.push(n))}))})),i),isFromClick:e.isFromClick||!1,fromAction:e.type,fromActionPayload:e},d.trigger(p.type,p)))},ax=function(e){for(var t=this._pendingActions;t.length;){var n=t.shift();ox.call(this,n,e)}},sx=function(e){e||this.trigger("updated")},lx=function(e,t){e.on("rendered",(function(n){t.trigger("rendered",n),!e.animation.isFinished()||t[Uv]||t._scheduler.unfinished||t._pendingActions.length||t.trigger("finished")}))},ux=function(e,t){e.on("mouseover",(function(e){var n,i,r,o,a=Jy(e.target,_u);a&&(n=e,e=t._api,r=(o=hu((i=Cl(a)).componentMainType,i.componentIndex,i.componentHighDownName,e)).dispatchers,o=o.focusSelf,r?(o&&cu(i.componentMainType,i.componentIndex,e),ee(r,(function(e){return $l(e,n)}))):(uu(i.seriesIndex,i.focus,i.blurScope,e),"self"===i.focus&&cu(i.componentMainType,i.componentIndex,e),$l(a,n)),gx(t))})).on("mouseout",(function(e){var n,i,r=Jy(e.target,_u);r&&(n=e,lu(e=t._api),(i=hu((i=Cl(r)).componentMainType,i.componentIndex,i.componentHighDownName,e).dispatchers)?ee(i,(function(e){return eu(e,n)})):eu(r,n),gx(t))})).on("click",(function(e){var n;(e=Jy(e.target,(function(e){return null!=Cl(e).dataIndex}),!0))&&(n=e.selected?"unselect":"select",e=Cl(e),t._api.dispatchAction({type:n,dataType:e.dataType,dataIndexInside:e.dataIndex,seriesIndex:e.seriesIndex,isFromClick:!0}))}))},cx=function(e,t,n,i,r){var o,a,s,l,u,c,h;u=[],h=!(c=[]),(o=t).eachComponent((function(e,t){var n=t.get("zlevel")||0,i=t.get("z")||0,r=t.getZLevelKey();h=h||!!r,("series"===e?c:u).push({zlevel:n,z:i,idx:t.componentIndex,type:e,key:r})})),h&&(en(a=u.concat(c),(function(e,t){return e.zlevel===t.zlevel?e.z-t.z:e.zlevel-t.zlevel})),ee(a,(function(e){var t=o.getComponent(e.type,e.idx),n=e.zlevel;e=e.key;null!=s&&(n=Math.max(s,n)),e?(n===s&&e!==l&&n++,l=e):l&&(n===s&&n++,l=""),s=n,t.setZLevel(n)}))),hx(e,t,n,i,r),ee(e._chartsViews,(function(e){e.__alive=!1})),dx(e,t,n,i,r),ee(e._chartsViews,(function(e){e.__alive||e.remove(t,n)}))},hx=function(e,t,n,i,r,o){ee(o||e._componentsViews,(function(e){var r=e.__model;Ax(0,e),e.render(r,t,n,i),Sx(r,e),Mx(r,e)}))},dx=function(e,t,n,i,r,o){var a,s,l,u,c=e._scheduler,h=(r=X(r||{},{updatedSeries:t.getSeries()}),Ov.trigger("series:beforeupdate",t,n,r),!1);t.eachSeries((function(t){var n,r=e._chartsMap[t.__viewId],a=(r.__alive=!0,r.renderTask);c.updatePayload(a,i),Ax(0,r),o&&o.get(t.uid)&&a.dirty(),a.perform(c.getPerformArgs(a))&&(h=!0),r.group.silent=!!t.get("silent"),a=r,n=t.get("blendMode")||null,a.eachRendered((function(e){e.isGroup||(e.style.blend=n)})),du(t)})),c.unfinished=h||c.unfinished,Ov.trigger("series:layoutlabels",t,n,r),Ov.trigger("series:transition",t,n,r),t.eachSeries((function(t){var n=e._chartsMap[t.__viewId];Sx(t,n),Mx(t,n)})),s=t,l=(a=e)._zr.storage,u=0,l.traverse((function(e){e.isGroup||u++})),u>s.get("hoverLayerThreshold")&&!A.node&&!A.worker&&s.eachSeries((function(e){e.preventUsingHoverLayer||(e=a._chartsMap[e.__viewId]).__alive&&e.eachRendered((function(e){e.states.emphasis&&(e.states.emphasis.hoverLayer=!0)}))})),Ov.trigger("series:afterupdate",t,n,r)},gx=function(e){e[Zv]=!0,e.getZr().wakeUp()},mx=function(e){e[Zv]&&(e.getZr().storage.traverse((function(e){Iu(e)||bx(e)})),e[Zv]=!1)},px=function(e){return _(t,n=sd),t.prototype.getCoordinateSystems=function(){return e._coordSysMgr.getCoordinateSystems()},t.prototype.getComponentByElement=function(t){for(;t;){var n=t.__ecComponentInfo;if(null!=n)return e._model.getComponent(n.mainType,n.index);t=t.parent}},t.prototype.enterEmphasis=function(t,n){tu(t,n),gx(e)},t.prototype.leaveEmphasis=function(t,n){nu(t,n),gx(e)},t.prototype.enterBlur=function(t){iu(t),gx(e)},t.prototype.leaveBlur=function(t){ru(t),gx(e)},t.prototype.enterSelect=function(t){ou(t),gx(e)},t.prototype.leaveSelect=function(t){au(t),gx(e)},t.prototype.getModel=function(){return e.getModel()},t.prototype.getViewOfComponentModel=function(t){return e.getViewOfComponentModel(t)},t.prototype.getViewOfSeriesModel=function(t){return e.getViewOfSeriesModel(t)},new t(e);function t(){return null!==n&&n.apply(this,arguments)||this}var n},void(fx=function(e){function t(e,t){for(var n=0;n<e.length;n++)e[n][jv]=t}ee(Ix,(function(n,i){e._messageCenter.on(i,(function(n){var i,r;!Rx[e.group]||0===e[jv]||n&&n.escapeConnect||(i=e.makeActionFromEvent(n),r=[],ee(Lx,(function(t){t!==e&&t.group===e.group&&r.push(t)})),t(r,0),ee(r,(function(e){1!==e[jv]&&e.dispatchAction(i)})),t(r,2))}))}))})),xx);function xx(e,t,n){var i=yx.call(this,new zy)||this;i._chartsViews=[],i._chartsMap={},i._componentsViews=[],i._componentsMap={},i._pendingActions=[],n=n||{},ce(t)&&(t=Ex[t]),i._dom=e,e=i._zr=ho(e,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height,ssr:n.ssr,useDirtyRect:null!=n.useDirtyRect&&n.useDirtyRect}),i._ssr=n.ssr,i._throttledZrFlush=hy(ae(e.flush,e),17),(t=Z(t))&&Pd(t,!0),i._theme=t,i._locale=ce(t=n.locale||gc)?(n=pc[t.toUpperCase()]||{},t===cc||t===hc?Z(n):W(Z(n),Z(pc.EN),!1)):W(Z(t),Z(pc.EN),!1),i._coordSysMgr=new dd,n=i._api=px(i);function r(e,t){return e.__prio-t.__prio}return en(Bx,r),en(kx,r),i._scheduler=new Oy(i,n,kx,Bx),i._messageCenter=new Qv,i._initEvents(),i.resize=ae(i.resize,i),e.animation.on("frame",i._onframe,i),lx(e,i),ux(e,i),ke(i),i}function _x(e){e.clearColorPalette(),e.eachSeries((function(e){e.clearColorPalette()}))}function bx(e){for(var t=[],n=e.currentStates,i=0;i<n.length;i++){var r=n[i];"emphasis"!==r&&"blur"!==r&&"select"!==r&&t.push(r)}e.selected&&e.states.select&&t.push("select"),2===e.hoverState&&e.states.emphasis?t.push("emphasis"):1===e.hoverState&&e.states.blur&&t.push("blur"),e.useStates(t)}function Sx(e,t){var n,i;e.preventAutoZ||(n=e.get("z")||0,i=e.get("zlevel")||0,t.eachRendered((function(e){return function e(t,n,i,r){var o=t.getTextContent(),a=t.getTextGuideLine(),s=t.isGroup;if(s)for(var l=t.childrenRef(),u=0;u<l.length;u++)r=Math.max(e(l[u],n,i,r),r);else t.z=n,t.zlevel=i,r=Math.max(t.z2,r);return o&&(o.z=n,o.zlevel=i,isFinite(r)&&(o.z2=r+2)),a&&(s=t.textGuideLineConfig,a.z=n,a.zlevel=i,isFinite(r)&&(a.z2=r+(s&&s.showAbove?1:-1))),r}(e,n,i,-1/0),!0})))}function Ax(e,t){t.eachRendered((function(e){var t,n;Iu(e)||(t=e.getTextContent(),n=e.getTextGuideLine(),e.stateTransition&&(e.stateTransition=null),t&&t.stateTransition&&(t.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),e.hasState()?(e.prevStates=e.currentStates,e.clearStates()):e.prevStates&&(e.prevStates=null))}))}function Mx(e,t){var n=e.getModel("stateAnimation"),i=e.isAnimationEnabled(),r=0<(e=n.get("duration"))?{duration:e,delay:n.get("delay"),easing:n.get("easing")}:null;t.eachRendered((function(e){var t,n,o;e.states&&e.states.emphasis&&(Iu(e)||(e instanceof Us&&((o=kl(n=e)).normalFill=n.style.fill,o.normalStroke=n.style.stroke,n=n.states.select||{},o.selectFill=n.style&&n.style.fill||null,o.selectStroke=n.style&&n.style.stroke||null),e.__dirty&&(o=e.prevStates)&&e.useStates(o),i&&(e.stateTransition=r,n=e.getTextContent(),t=e.getTextGuideLine(),n&&(n.stateTransition=r),t&&(t.stateTransition=r)),e.__dirty&&bx(e)))}))}var Cx=((nv=vx.prototype).on=Xv("on"),nv.off=Xv("off"),nv.one=function(e,t,n){var i=this;this.on.call(this,e,(function n(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];t&&t.apply&&t.apply(this,r),i.off(e,n)}),n)},["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"]);var Tx={},Ix={},kx=[],Dx=[],Bx=[],Ex={},Px={},Lx={},Rx={},Ox=+new Date,Fx=+new Date,Nx="_echarts_instance_";function zx(e,t,n){var i=!(n&&n.ssr);if(i){var r=Zx(e);if(r)return r}return(r=new vx(e,t,n)).id="ec_"+Ox++,Lx[r.id]=r,i&&sa(e,Nx,r.id),fx(r),Ov.trigger("afterinit",r),r}function Gx(e){var t;return le(e)&&(t=e,e=null,ee(t,(function(t){null!=t.group&&(e=t.group)})),e=e||"g_"+Fx++,ee(t,(function(t){t.group=e}))),Rx[e]=!0,e}function Hx(e){Rx[e]=!1}var Vx=Hx;function Ux(e){ce(e)?e=Lx[e]:e instanceof vx||(e=Zx(e)),e instanceof vx&&!e.isDisposed()&&e.dispose()}function Zx(e){return Lx[(t=Nx,e.getAttribute?e.getAttribute(t):e[t])];var t}function Wx(e){return Lx[e]}function jx(e,t){Ex[e]=t}function Xx(e){K(Dx,e)<0&&Dx.push(e)}function Yx(e,t){r_(kx,e,t,2e3)}function Jx(e){Qx("afterinit",e)}function Kx(e){Qx("afterupdate",e)}function Qx(e,t){Ov.on(e,t)}function qx(e,t,n){ue(t)&&(n=t,t="");var i=pe(e)?e.type:[e,e={event:t}][0];e.event=(e.event||i).toLowerCase(),t=e.event,Ix[t]||(Ce(Wv.test(i)&&Wv.test(t)),Tx[i]||(Tx[i]={action:n,actionInfo:e}),Ix[t]=i)}function $x(e,t){dd.register(e,t)}function e_(e){if(e=dd.get(e))return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function t_(e,t){r_(Bx,e,t,1e3,"layout")}function n_(e,t){r_(Bx,e,t,3e3,"visual")}var i_=[];function r_(e,t,n,i,r){(ue(t)||pe(t))&&(n=t,t=i),0<=K(i_,n)||(i_.push(n),(i=Oy.wrapStageHandler(n,r)).__prio=t,i.__raw=n,e.push(i))}function o_(e,t){Px[e]=t}function a_(e){k({createCanvas:e})}function s_(e,t,n){var i=Fv.registerMap;i&&i(e,t,n)}function l_(e){var t=Fv.getMap;return t&&t(e)}var u_=function(e){var t=(e=Z(e)).type,n=(t||Sp(""),t.split(":")),i=(2!==n.length&&Sp(""),!1);"echarts"===n[0]&&(t=n[1],i=!0),e.__isBuiltIn=i,Gp.set(t,e)},c_=(n_(2e3,hg),n_(4500,Ig),n_(4500,$u),n_(2e3,Uy),n_(4500,_a),n_(7e3,(function(e,t){e.eachRawSeries((function(n){var i;e.isSeriesFiltered(n)||((i=n.getData()).hasItemVisual()&&i.each((function(e){var n=i.getItemVisual(e,"decal");n&&(i.ensureUniqueItemVisual(e,"style").decal=Lv(n,t))})),(n=i.getVisual("decal"))&&(i.getVisual("style").decal=Lv(n,t)))}))})),Xx(Pd),Yx(900,(function(e){var t=Pe();e.eachSeries((function(e){var n,i=e.get("stack");i&&(i=t.get(i)||t.set(i,[]),(e={stackResultDimension:(n=e.getData()).getCalculationInfo("stackResultDimension"),stackedOverDimension:n.getCalculationInfo("stackedOverDimension"),stackedDimension:n.getCalculationInfo("stackedDimension"),stackedByDimension:n.getCalculationInfo("stackedByDimension"),isStackedByIndex:n.getCalculationInfo("isStackedByIndex"),data:n,seriesModel:e}).stackedDimension&&(e.isStackedByIndex||e.stackedByDimension)&&(i.length&&n.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(e)))})),t.each(Ld)})),o_("default",(function(e,t){Y(t=t||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n,i=new ao,r=new sl({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4}),o=(i.add(r),new Ml({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001})),a=new sl({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});return i.add(a),t.showSpinner&&((n=new om({shape:{startAngle:-_y/2,endAngle:-_y/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*_y/2}).start("circularInOut"),n.animateShape(!0).when(1e3,{startAngle:3*_y/2}).delay(300).start("circularInOut"),i.add(n)),i.resize=function(){var i=o.getBoundingRect().width,s=t.showSpinner?t.spinnerRadius:0,l=(i=(e.getWidth()-2*s-(t.showSpinner&&i?10:0)-i)/2-(t.showSpinner&&i?0:5+i/2)+(t.showSpinner?0:i/2)+(i?0:s),e.getHeight()/2);t.showSpinner&&n.setShape({cx:i,cy:l}),a.setShape({x:i-s,y:l-s,width:2*s,height:2*s}),r.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},i.resize(),i})),qx({type:Pl,event:Pl,update:Pl},Ne),qx({type:Ll,event:Ll,update:Ll},Ne),qx({type:Rl,event:Rl,update:Rl},Ne),qx({type:Ol,event:Ol,update:Ol},Ne),qx({type:Fl,event:Fl,update:Fl},Ne),jx("light",Fy),jx("dark",t),{}),h_=[],d_={registerPreprocessor:Xx,registerProcessor:Yx,registerPostInit:Jx,registerPostUpdate:Kx,registerUpdateLifecycle:Qx,registerAction:qx,registerCoordinateSystem:$x,registerLayout:t_,registerVisual:n_,registerTransform:u_,registerLoading:o_,registerMap:s_,registerImpl:function(e,t){Fv[e]=t},PRIORITY:Hv,ComponentModel:Mh,ComponentView:Rf,SeriesModel:Pf,ChartView:sy,registerComponentModel:function(e){Mh.registerClass(e)},registerComponentView:function(e){Rf.registerClass(e)},registerSeriesModel:function(e){Pf.registerClass(e)},registerChartView:function(e){sy.registerClass(e)},registerSubTypeDefaulter:function(e,t){Mh.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){mo(e,t)}};function p_(e){le(e)?ee(e,(function(e){p_(e)})):0<=K(h_,e)||(h_.push(e),(e=ue(e)?{install:e}:e).install(d_))}function f_(e){return null==e?0:e.length||1}function g_(e){return e}function m_(e,t,n,i,r,o){this._old=e,this._new=t,this._oldKeyGetter=n||g_,this._newKeyGetter=i||g_,this.context=r,this._diffModeMultiple="multiple"===o}m_.prototype.add=function(e){return this._add=e,this},m_.prototype.update=function(e){return this._update=e,this},m_.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},m_.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},m_.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},m_.prototype.remove=function(e){return this._remove=e,this},m_.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},m_.prototype._executeOneToOne=function(){var e=this._old,t=this._new,n={},i=new Array(e.length),r=new Array(t.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(t,n,r,"_newKeyGetter");for(var o=0;o<e.length;o++){var a,s=i[o],l=n[s],u=f_(l);1<u?(a=l.shift(),1===l.length&&(n[s]=l[0]),this._update&&this._update(a,o)):1===u?(n[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(r,n)},m_.prototype._executeMultiple=function(){var e=this._old,t=this._new,n={},i={},r=[],o=[];this._initIndexMap(e,n,r,"_oldKeyGetter"),this._initIndexMap(t,i,o,"_newKeyGetter");for(var a=0;a<r.length;a++){var s=r[a],l=n[s],u=i[s],c=f_(l),h=f_(u);if(1<c&&1===h)this._updateManyToOne&&this._updateManyToOne(u,l),i[s]=null;else if(1===c&&1<h)this._updateOneToMany&&this._updateOneToMany(u,l),i[s]=null;else if(1===c&&1===h)this._update&&this._update(u,l),i[s]=null;else if(1<c&&1<h)this._updateManyToMany&&this._updateManyToMany(u,l),i[s]=null;else if(1<c)for(var d=0;d<c;d++)this._remove&&this._remove(l[d]);else this._remove&&this._remove(l)}this._performRestAdd(o,i)},m_.prototype._performRestAdd=function(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=t[i],o=f_(r);if(1<o)for(var a=0;a<o;a++)this._add&&this._add(r[a]);else 1===o&&this._add&&this._add(r);t[i]=null}},m_.prototype._initIndexMap=function(e,t,n,i){for(var r=this._diffModeMultiple,o=0;o<e.length;o++){var a,s,l="_ec_"+this[i](e[o],o);r||(n[o]=l),t&&(0===(s=f_(a=t[l]))?(t[l]=o,r&&n.push(l)):1===s?t[l]=[a,o]:a.push(o))}};var y_=m_,v_=(x_.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},x_.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},x_);function x_(e,t){this._encode=e,this._schema=t}function __(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function b_(e){return"category"===e?"ordinal":"time"===e?"time":"float"}var w_=function(e){this.otherDims={},null!=e&&X(this,e)},S_=ea(),A_={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},M_=(C_.prototype.isDimensionOmitted=function(){return this._dimOmitted},C_.prototype._updateDimOmitted=function(e){(this._dimOmitted=e)&&!this._dimNameMap&&(this._dimNameMap=k_(this.source))},C_.prototype.getSourceDimensionIndex=function(e){return we(this._dimNameMap.get(e),-1)},C_.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},C_.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=Zd(this.source),n=!(30<e),i="",r=[],o=0,a=0;o<e;o++){var s,l=void 0,u=void 0,c=void 0,h=this.dimensions[a];h&&h.storeDimIndex===o?(l=t?h.name:null,u=h.type,c=h.ordinalMeta,a++):(s=this.getSourceDimension(o))&&(l=t?s.name:null,u=s.type),r.push({property:l,type:u,ordinalMeta:c}),!t||null==l||h&&h.isCalculationCoord||(i+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i=i+"$"+(A_[u]||"f"),c&&(i+=c.uid),i+="$"}var d=this.source;return{dimensions:r,hash:[d.seriesLayoutBy,d.startIndex,i].join("$$")}},C_.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,n=0;t<this._fullDimCount;t++){var i=void 0,r=this.dimensions[n];r&&r.storeDimIndex===t?(r.isCalculationCoord||(i=r.name),n++):(r=this.getSourceDimension(t))&&(i=r.name),e.push(i)}return e},C_.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},C_);function C_(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}function T_(e){return e instanceof M_}function I_(e){for(var t=Pe(),n=0;n<(e||[]).length;n++){var i;null!=(i=pe(i=e[n])?i.name:i)&&null==t.get(i)&&t.set(i,n)}return t}function k_(e){var t=S_(e);return t.dimNameMap||(t.dimNameMap=I_(e.dimensionsDefine))}var D_,B_,E_,P_,L_,R_,O_,F_=pe,N_=te,z_="undefined"==typeof Int32Array?Array:Int32Array,G_=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],H_=["_approximateExtent"];function V_(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"];for(var n,i,r=!(this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"]),o=(T_(e)?(n=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(r=!0,n=e),n=n||["x","y"],{}),a=[],s={},l=!1,u={},c=0;c<n.length;c++){var h,d=(h=ce(h=n[c])?new w_({name:h}):h instanceof w_?h:new w_(h)).name,p=(h.type=h.type||"float",h.coordDim||(h.coordDim=d,h.coordDimIndex=0),h.otherDims=h.otherDims||{});a.push(d),o[d]=h,null!=u[d]&&(l=!0),h.createInvertedIndices&&(s[d]=[]),0===p.itemName&&(this._nameDimIdx=c),0===p.itemId&&(this._idDimIdx=c),r&&(h.storeDimIndex=c)}this.dimensions=a,this._dimInfos=o,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=s,this._dimOmitted&&(i=this._dimIdxToName=Pe(),ee(a,(function(e){i.set(o[e].storeDimIndex,e)})))}V_.prototype.getDimension=function(e){if(null==this._recognizeDimIndex(e))return e;if(!this._dimOmitted)return this.dimensions[e];var t=this._dimIdxToName.get(e);return null!=t?t:(t=this._schema.getSourceDimension(e))?t.name:void 0},V_.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);return null!=t?t:null==e?-1:(t=this._getDimInfo(e))?t.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},V_.prototype._recognizeDimIndex=function(e){if(de(e)||null!=e&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},V_.prototype._getStoreDimIndex=function(e){return this.getDimensionIndex(e)},V_.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},V_.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(e){return t.hasOwnProperty(e)?t[e]:void 0}:function(e){return t[e]}},V_.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},V_.prototype.mapDimension=function(e,t){var n=this._dimSummary;return null==t?n.encodeFirstDimNotExtra[e]:(n=n.encode[e])?n[t]:null},V_.prototype.mapDimensionsAll=function(e){return(this._dimSummary.encode[e]||[]).slice()},V_.prototype.getStore=function(){return this._store},V_.prototype.initData=function(e,t,n){var i,r,o=this;(i=e instanceof Qp?e:i)||(r=this.dimensions,e=Nd(e)||$(e)?new Yd(e,r.length):e,i=new Qp,r=N_(r,(function(e){return{type:o._dimInfos[e].type,property:e}})),i.initData(e,r,n)),this._store=i,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,i.count()),this._dimSummary=function(e,t){var n={},i=n.encode={},r=Pe(),o=[],a=[],s={},l=(ee(e.dimensions,(function(t){var n,l,u=e.getDimensionInfo(t),c=u.coordDim;c&&(n=u.coordDimIndex,__(i,c)[n]=t,u.isExtraCoord||(r.set(c,1),"ordinal"!==(l=u.type)&&"time"!==l&&(o[0]=t),__(s,c)[n]=e.getDimensionIndex(u.name)),u.defaultTooltip&&a.push(t)),Th.each((function(e,t){var n=__(i,t);null!=(t=u.otherDims[t])&&!1!==t&&(n[t]=u.name)}))})),[]),u={},c=(r.each((function(e,t){var n=i[t];u[t]=n[0],l=l.concat(n)})),n.dataDimsOnCoord=l,n.dataDimIndicesOnCoord=te(l,(function(t){return e.getDimensionInfo(t).storeDimIndex})),n.encodeFirstDimNotExtra=u,i.label);return c&&c.length&&(o=c.slice()),(c=i.tooltip)&&c.length?a=c.slice():a.length||(a=o.slice()),i.defaultedLabel=o,i.defaultedTooltip=a,n.userOutput=new v_(s,t),n}(this,this._schema),this.userOutput=this._dimSummary.userOutput},V_.prototype.appendData=function(e){e=this._store.appendData(e),this._doInit(e[0],e[1])},V_.prototype.appendValues=function(e,t){var n=(e=this._store.appendValues(e,t.length)).start,i=e.end,r=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var o=n;o<i;o++)this._nameList[o]=t[o-n],r&&O_(this,o)},V_.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,n=0;n<t.length;n++){var i=this._dimInfos[t[n]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},V_.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return null==this._idDimIdx&&e.getSource().sourceFormat!==Eh&&!e.fillStorage},V_.prototype._doInit=function(e,t){if(!(t<=e)){var n=this._store.getProvider(),i=(this._updateOrdinalMeta(),this._nameList),r=this._idList;if(n.getSource().sourceFormat===Ih&&!n.pure)for(var o=[],a=e;a<t;a++){var s,l=n.getItem(a,o);this.hasItemOption||!pe(s=l)||s instanceof Array||(this.hasItemOption=!0),l&&(s=l.name,null==i[a]&&null!=s&&(i[a]=Ko(s,null)),l=l.id,null==r[a]&&null!=l&&(r[a]=Ko(l,null)))}if(this._shouldMakeIdFromName())for(a=e;a<t;a++)O_(this,a);D_(this)}},V_.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},V_.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},V_.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},V_.prototype.setCalculationInfo=function(e,t){F_(e)?X(this._calculationInfo,e):this._calculationInfo[e]=t},V_.prototype.getName=function(e){e=this.getRawIndex(e);var t=this._nameList[e];return null==(t=null==t&&null!=this._nameDimIdx?E_(this,this._nameDimIdx,e):t)?"":t},V_.prototype._getCategory=function(e,t){return t=this._store.get(e,t),(e=this._store.getOrdinalMeta(e))?e.categories[t]:t},V_.prototype.getId=function(e){return B_(this,this.getRawIndex(e))},V_.prototype.count=function(){return this._store.count()},V_.prototype.get=function(e,t){var n=this._store;if(e=this._dimInfos[e])return n.get(e.storeDimIndex,t)},V_.prototype.getByRawIndex=function(e,t){var n=this._store;if(e=this._dimInfos[e])return n.getByRawIndex(e.storeDimIndex,t)},V_.prototype.getIndices=function(){return this._store.getIndices()},V_.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},V_.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},V_.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},V_.prototype.getValues=function(e,t){var n=this,i=this._store;return le(e)?i.getValues(N_(e,(function(e){return n._getStoreDimIndex(e)})),t):i.getValues(e)},V_.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,n=0,i=t.length;n<i;n++)if(isNaN(this._store.get(t[n],e)))return!1;return!0},V_.prototype.indexOfName=function(e){for(var t=0,n=this._store.count();t<n;t++)if(this.getName(t)===e)return t;return-1},V_.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},V_.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},V_.prototype.rawIndexOf=function(e,t){return null==(e=(e&&this._invertedIndicesMap[e])[t])||isNaN(e)?-1:e},V_.prototype.indicesOfNearest=function(e,t,n){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,n)},V_.prototype.each=function(e,t,n){ue(e)&&(n=t,t=e,e=[]),n=n||this,e=N_(P_(e),this._getStoreDimIndex,this),this._store.each(e,n?ae(t,n):t)},V_.prototype.filterSelf=function(e,t,n){return ue(e)&&(n=t,t=e,e=[]),n=n||this,e=N_(P_(e),this._getStoreDimIndex,this),this._store=this._store.filter(e,n?ae(t,n):t),this},V_.prototype.selectRange=function(e){var t=this,n={},i=oe(e),r=[];return ee(i,(function(i){var o=t._getStoreDimIndex(i);n[o]=e[i],r.push(o)})),this._store=this._store.selectRange(n),this},V_.prototype.mapArray=function(e,t,n){ue(e)&&(n=t,t=e,e=[]);var i=[];return this.each(e,(function(){i.push(t&&t.apply(this,arguments))}),n=n||this),i},V_.prototype.map=function(e,t,n,i){return n=n||i||this,i=N_(P_(e),this._getStoreDimIndex,this),(e=R_(this))._store=this._store.map(i,n?ae(t,n):t),e},V_.prototype.modify=function(e,t,n,i){n=n||i||this,i=N_(P_(e),this._getStoreDimIndex,this),this._store.modify(i,n?ae(t,n):t)},V_.prototype.downSample=function(e,t,n,i){var r=R_(this);return r._store=this._store.downSample(this._getStoreDimIndex(e),t,n,i),r},V_.prototype.lttbDownSample=function(e,t){var n=R_(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),n},V_.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},V_.prototype.getItemModel=function(e){var t=this.hostModel;e=this.getRawDataItem(e);return new ac(e,t,t&&t.ecModel)},V_.prototype.diff=function(e){var t=this;return new y_(e?e.getStore().getIndices():[],this.getStore().getIndices(),(function(t){return B_(e,t)}),(function(e){return B_(t,e)}))},V_.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},V_.prototype.setVisual=function(e,t){this._visual=this._visual||{},F_(e)?X(this._visual,e):this._visual[e]=t},V_.prototype.getItemVisual=function(e,t){return null==(e=(e=this._itemVisuals[e])&&e[t])?this.getVisual(t):e},V_.prototype.hasItemVisual=function(){return 0<this._itemVisuals.length},V_.prototype.ensureUniqueItemVisual=function(e,t){var n,i=(n=this._itemVisuals)[e];return null==(n=(i=i||(n[e]={}))[t])&&(le(n=this.getVisual(t))?n=n.slice():F_(n)&&(n=X({},n)),i[t]=n),n},V_.prototype.setItemVisual=function(e,t,n){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,F_(t)?X(i,t):i[t]=n},V_.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},V_.prototype.setLayout=function(e,t){F_(e)?X(this._layout,e):this._layout[e]=t},V_.prototype.getLayout=function(e){return this._layout[e]},V_.prototype.getItemLayout=function(e){return this._itemLayouts[e]},V_.prototype.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?X(this._itemLayouts[e]||{},t):t},V_.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},V_.prototype.setItemGraphicEl=function(e,t){Al(this.hostModel&&this.hostModel.seriesIndex,this.dataType,e,t),this._graphicEls[e]=t},V_.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},V_.prototype.eachItemGraphicEl=function(e,t){ee(this._graphicEls,(function(n,i){n&&e&&e.call(t,n,i)}))},V_.prototype.cloneShallow=function(e){return e=e||new V_(this._schema||N_(this.dimensions,this._getDimInfo,this),this.hostModel),L_(e,this),e._store=this._store,e},V_.prototype.wrapMethod=function(e,t){var n=this[e];ue(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=n.apply(this,arguments);return t.apply(this,[e].concat(Ae(arguments)))})},V_.internalField=(D_=function(e){var t=e._invertedIndicesMap;ee(t,(function(n,i){var r=e._dimInfos[i],o=r.ordinalMeta,a=e._store;if(o){n=t[i]=new z_(o.categories.length);for(var s=0;s<n.length;s++)n[s]=-1;for(s=0;s<a.count();s++)n[a.get(r.storeDimIndex,s)]=s}}))},E_=function(e,t,n){return Ko(e._getCategory(t,n),null)},B_=function(e,t){var n=e._idList[t];return null==(n=null==n&&null!=e._idDimIdx?E_(e,e._idDimIdx,t):n)?"e\0\0"+t:n},P_=function(e){return le(e)?e:null!=e?[e]:[]},R_=function(e){var t=new V_(e._schema||N_(e.dimensions,e._getDimInfo,e),e.hostModel);return L_(t,e),t},L_=function(e,t){ee(G_.concat(t.__wrappedMethods||[]),(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e.__wrappedMethods=t.__wrappedMethods,ee(H_,(function(n){e[n]=Z(t[n])})),e._calculationInfo=X({},t._calculationInfo)},void(O_=function(e,t){var n=e._nameList,i=e._idList,r=e._nameDimIdx,o=e._idDimIdx,a=n[t],s=i[t];null==a&&null!=r&&(n[t]=a=E_(e,r,t)),null==s&&null!=o&&(i[t]=s=E_(e,o,t)),null==s&&null!=a&&(s=a,1<(r=(n=e._nameRepeatCount)[a]=(n[a]||0)+1)&&(s+="__ec__"+r),i[t]=s)}));var U_=V_;function Z_(e,t){return W_(e,t).dimensions}function W_(e,t){Nd(e)||(e=Gd(e));for(var n,i,r=(t=t||{}).coordDimensions||[],o=t.dimensionsDefine||e.dimensionsDefine||[],a=Pe(),s=[],l=(u=e,n=r,d=t.dimensionsCount,i=Math.max(u.dimensionsDetectedCount||1,n.length,o.length,d||0),ee(n,(function(e){pe(e)&&(e=e.dimsDef)&&(i=Math.max(i,e.length))})),i),u=t.canOmitUnusedDimensions&&30<l,c=o===e.dimensionsDefine,h=c?k_(e):I_(o),d=t.encodeDefine,p=Pe(d=!d&&t.encodeDefaulter?t.encodeDefaulter(e,l):d),f=new Wp(l),g=0;g<f.length;g++)f[g]=-1;function m(e){var t,n,i,r=f[e];return r<0?(t=pe(t=o[e])?t:{name:t},n=new w_,null!=(i=t.name)&&null!=h.get(i)&&(n.name=n.displayName=i),null!=t.type&&(n.type=t.type),null!=t.displayName&&(n.displayName=t.displayName),i=s.length,f[e]=i,n.storeDimIndex=e,s.push(n),n):s[r]}if(!u)for(g=0;g<l;g++)m(g);p.each((function(e,t){var n;1===(e=Uo(e).slice()).length&&!ce(e[0])&&e[0]<0?p.set(t,!1):(n=p.set(t,[]),ee(e,(function(e,i){null!=(e=ce(e)?h.get(e):e)&&e<l&&v(m(n[i]=e),t,i)})))}));var y=0;function v(e,t,n){null!=Th.get(t)?e.otherDims[t]=n:(e.coordDim=t,e.coordDimIndex=n,a.set(t,!0))}ee(r,(function(e){ce(e)?(r=e,i={}):(r=(i=e).name,e=i.ordinalMeta,i.ordinalMeta=null,(i=X({},i)).ordinalMeta=e,t=i.dimsDef,n=i.otherDims,i.name=i.coordDim=i.coordDimIndex=i.dimsDef=i.otherDims=null);var t,n,i,r,o=p.get(r);if(!1!==o){if(!(o=Uo(o)).length)for(var a=0;a<(t&&t.length||1);a++){for(;y<l&&null!=m(y).coordDim;)y++;y<l&&o.push(y++)}ee(o,(function(e,o){e=m(e),c&&null!=i.type&&(e.type=i.type),v(Y(e,i),r,o),null==e.name&&t&&(pe(o=t[o])||(o={name:o}),e.name=e.displayName=o.name,e.defaultTooltip=o.defaultTooltip),n&&Y(e.otherDims,n)}))}}));var x=t.generateCoord,_=null!=(b=t.generateCoordCount),b=x?b||1:0,w=x||"value";function S(e){null==e.name&&(e.name=e.coordDim)}if(u)ee(s,(function(e){S(e)})),s.sort((function(e,t){return e.storeDimIndex-t.storeDimIndex}));else for(var A=0;A<l;A++){var M=m(A);null==M.coordDim&&(M.coordDim=function(e,t,n){var i=t.data;if(n||i.hasOwnProperty(e)){for(var r=0;i.hasOwnProperty(e+r);)r++;e+=r}return t.set(e,!0),e}(w,a,_),M.coordDimIndex=0,(!x||b<=0)&&(M.isExtraCoord=!0),b--),S(M),null!=M.type||Uh(e,A)!==Oh&&(!M.isExtraCoord||null==M.otherDims.itemName&&null==M.otherDims.seriesName)||(M.type="ordinal")}for(var C=s,T=Pe(),I=0;I<C.length;I++){var k=C[I],D=k.name,B=T.get(D)||0;0<B&&(k.name=D+(B-1)),B++,T.set(D,B)}return new M_({source:e,dimensions:s,fullDimensionCount:l,dimensionOmitted:u})}var j_=function(e){this.coordSysDims=[],this.axisMap=Pe(),this.categoryAxisMap=Pe(),this.coordSysName=e},X_={cartesian2d:function(e,t,n,i){var r=e.getReferringComponents("xAxis",ra).models[0];e=e.getReferringComponents("yAxis",ra).models[0];t.coordSysDims=["x","y"],n.set("x",r),n.set("y",e),Y_(r)&&(i.set("x",r),t.firstCategoryDimIndex=0),Y_(e)&&(i.set("y",e),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,n,i){e=e.getReferringComponents("singleAxis",ra).models[0],t.coordSysDims=["single"],n.set("single",e),Y_(e)&&(i.set("single",e),t.firstCategoryDimIndex=0)},polar:function(e,t,n,i){var r=(e=e.getReferringComponents("polar",ra).models[0]).findAxisModel("radiusAxis");e=e.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",r),n.set("angle",e),Y_(r)&&(i.set("radius",r),t.firstCategoryDimIndex=0),Y_(e)&&(i.set("angle",e),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,i){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,i){var r=e.ecModel,o=(e=r.getComponent("parallel",e.get("parallelIndex")),t.coordSysDims=e.dimensions.slice());ee(e.parallelAxisIndex,(function(e,a){e=r.getComponent("parallelAxis",e);var s=o[a];n.set(s,e),Y_(e)&&(i.set(s,e),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=a))}))}};function Y_(e){return"category"===e.get("type")}function J_(e,t,n){var i,r,o,a,s,l,u,c,h,d=(n=n||{}).byIndex,p=n.stackedCoordDimension,f=(T_(t.schema)?(r=t.schema,i=r.dimensions,o=t.store):i=t,!(!e||!e.get("stack")));return ee(i,(function(e,t){ce(e)&&(i[t]=e={name:e}),f&&!e.isExtraCoord&&(d||a||!e.ordinalMeta||(a=e),s||"ordinal"===e.type||"time"===e.type||p&&p!==e.coordDim||(s=e))})),!s||d||a||(d=!0),s&&(l="__\0ecstackresult_"+e.id,u="__\0ecstackedover_"+e.id,a&&(a.createInvertedIndices=!0),c=s.coordDim,n=s.type,h=0,ee(i,(function(e){e.coordDim===c&&h++})),t={name:l,coordDim:c,coordDimIndex:h,type:n,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},e={name:u,coordDim:u,coordDimIndex:h+1,type:n,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1},r?(o&&(t.storeDimIndex=o.ensureCalculationDimension(u,n),e.storeDimIndex=o.ensureCalculationDimension(l,n)),r.appendCalculationDimension(t),r.appendCalculationDimension(e)):(i.push(t),i.push(e))),{stackedDimension:s&&s.name,stackedByDimension:a&&a.name,isStackedByIndex:d,stackedOverDimension:u,stackResultDimension:l}}function K_(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function Q_(e,t){return K_(e,t)?e.getCalculationInfo("stackResultDimension"):t}var q_=function(e,t,n){n=n||{};var i,r,o,a,s,l,u=t.getSourceManager(),c=!1,h=(e=(e?(c=!0,i=Gd(e)):c=(i=u.getSource()).sourceFormat===Ih,function(e){var t=e.get("coordinateSystem"),n=new j_(t);if(t=X_[t])return t(e,n,n.axisMap,n.categoryAxisMap),n}(t)),r=e,h=(h=t).get("coordinateSystem"),h=dd.get(h),d=(d=r&&r.coordSysDims?te(r.coordSysDims,(function(e){var t={name:e};return(e=r.axisMap.get(e))&&(e=e.get("type"),t.type=b_(e)),t})):d)||h&&(h.getDimensionsInfo?h.getDimensionsInfo():h.dimensions.slice())||["x","y"]),d=ue(d=n.useEncodeDefaulter)?d:d?se(Gh,h,t):null,p=(d=(h=W_(i,{coordDimensions:h,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:d,canOmitUnusedDimensions:!c})).dimensions,o=n.createInvertedIndices,(a=e)&&ee(d,(function(e,t){var n=e.coordDim;(n=a.categoryAxisMap.get(n))&&(null==s&&(s=t),e.ordinalMeta=n.getOrdinalMeta(),o&&(e.createInvertedIndices=!0)),null!=e.otherDims.itemName&&(l=!0)})),l||null==s||(d[s].otherDims.itemName=0),s);e=J_(t,{schema:h,store:n=c?null:u.getSharedDataStore(h)}),(d=new U_(h,t)).setCalculationInfo(e),u=null!=p&&function(e){if(e.sourceFormat===Ih)return!le(jo(function(e){for(var t=0;t<e.length&&null==e[t];)t++;return e[t]}(e.data||[])))}(i)?function(e,t,n,i){return i===p?n:this.defaultDimValueGetter(e,t,n,i)}:null;return d.hasItemOption=!1,d.initData(c?i:n,null,u),d};$_.prototype.getSetting=function(e){return this._setting[e]},$_.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},$_.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},$_.prototype.getExtent=function(){return this._extent.slice()},$_.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},$_.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},$_.prototype.isBlank=function(){return this._isBlank},$_.prototype.setBlank=function(e){this._isBlank=e},iv=$_;function $_(e){this._setting=e||{},this._extent=[1/0,-1/0]}ya(iv);var eb=iv,tb=0;function nb(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++tb}function ib(e){return pe(e)&&null!=e.value?e.value:e+""}nb.createByAxisModel=function(e){var t;return new nb({categories:t=(t=(e=e.option).data)&&te(t,ib),needCollect:!t,deduplication:!1!==e.dedplication})},nb.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},nb.prototype.parseAndCollect=function(e){var t=this._needCollect;if(!ce(e)&&!t)return e;if(t&&!this._deduplication)return n=this.categories.length,this.categories[n]=e,n;var n,i=this._getOrCreateMap();return null==(n=i.get(e))&&(t?(n=this.categories.length,this.categories[n]=e,i.set(e,n)):n=NaN),n},nb.prototype._getOrCreateMap=function(){return this._map||(this._map=Pe(this.categories))};var rb=nb;function ob(e){return"interval"===e.type||"log"===e.type}function ab(e){var t=Math.pow(10,Po(e));return(e=e/t)?2===e?e=3:3===e?e=5:e*=2:e=1,bo(e*t)}function sb(e){return So(e)+2}function lb(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function ub(e,t){return e>=t[0]&&e<=t[1]}function cb(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function hb(e,t){return e*(t[1]-t[0])+t[0]}_(pb,db=eb),pb.prototype.parse=function(e){return null==e?NaN:ce(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},pb.prototype.contain=function(e){return ub(e=this.parse(e),this._extent)&&null!=this._ordinalMeta.categories[e]},pb.prototype.normalize=function(e){return cb(e=this._getTickNumber(this.parse(e)),this._extent)},pb.prototype.scale=function(e){return e=Math.round(hb(e,this._extent)),this.getRawOrdinalNumber(e)},pb.prototype.getTicks=function(){for(var e=[],t=this._extent,n=t[0];n<=t[1];)e.push({value:n}),n++;return e},pb.prototype.getMinorTicks=function(e){},pb.prototype.setSortInfo=function(e){if(null==e)this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;else{for(var t=e.ordinalNumbers,n=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],r=0,o=this._ordinalMeta.categories.length,a=Math.min(o,t.length);r<a;++r){var s=t[r];i[n[r]=s]=r}for(var l=0;r<o;++r){for(;null!=i[l];)l++;n.push(l),i[l]=r}}},pb.prototype._getTickNumber=function(e){var t=this._ticksByOrdinalNumber;return t&&0<=e&&e<t.length?t[e]:e},pb.prototype.getRawOrdinalNumber=function(e){var t=this._ordinalNumbersByTick;return t&&0<=e&&e<t.length?t[e]:e},pb.prototype.getLabel=function(e){if(!this.isBlank())return e=this.getRawOrdinalNumber(e.value),null==(e=this._ordinalMeta.categories[e])?"":e+""},pb.prototype.count=function(){return this._extent[1]-this._extent[0]+1},pb.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},pb.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},pb.prototype.getOrdinalMeta=function(){return this._ordinalMeta},pb.prototype.calcNiceTicks=function(){},pb.prototype.calcNiceExtent=function(){},pb.type="ordinal";var db;ev=pb;function pb(e){var t=((e=db.call(this,e)||this).type="ordinal",e.getSetting("ordinalMeta"));return le(t=t||new rb({}))&&(t=new rb({categories:te(t,(function(e){return pe(e)?e.value:e}))})),e._ordinalMeta=t,e._extent=e.getSetting("extent")||[0,t.categories.length-1],e}eb.registerClass(ev);var fb,gb=ev,mb=bo;_(yb,fb=eb),yb.prototype.parse=function(e){return e},yb.prototype.contain=function(e){return ub(e,this._extent)},yb.prototype.normalize=function(e){return cb(e,this._extent)},yb.prototype.scale=function(e){return hb(e,this._extent)},yb.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=parseFloat(e)),isNaN(t)||(n[1]=parseFloat(t))},yb.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),this.setExtent(t[0],t[1])},yb.prototype.getInterval=function(){return this._interval},yb.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=sb(e)},yb.prototype.getTicks=function(e){var t=this._interval,n=this._extent,i=this._niceExtent,r=this._intervalPrecision,o=[];if(!t)return o;n[0]<i[0]&&(e?o.push({value:mb(i[0]-t,r)}):o.push({value:n[0]}));for(var a=i[0];a<=i[1]&&(o.push({value:a}),(a=mb(a+t,r))!==o[o.length-1].value);)if(1e4<o.length)return[];var s=o.length?o[o.length-1].value:i[1];return n[1]>s&&(e?o.push({value:mb(s+t,r)}):o.push({value:n[1]})),o},yb.prototype.getMinorTicks=function(e){for(var t=this.getTicks(!0),n=[],i=this.getExtent(),r=1;r<t.length;r++){for(var o=t[r],a=t[r-1],s=0,l=[],u=(o.value-a.value)/e;s<e-1;){var c=mb(a.value+(s+1)*u);c>i[0]&&c<i[1]&&l.push(c),s++}n.push(l)}return n},yb.prototype.getLabel=function(e,t){return null==e?"":(null==(t=t&&t.precision)?t=So(e.value)||0:"auto"===t&&(t=this._intervalPrecision),Wc(mb(e.value,t,!0)))},yb.prototype.calcNiceTicks=function(e,t,n){e=e||5;var i=this._extent,r=i[1]-i[0];isFinite(r)&&(r<0&&i.reverse(),r=function(e,t,n,i){var r={},o=e[1]-e[0];return o=r.interval=Lo(o/t,!0),null!=n&&o<n&&(o=r.interval=n),null!=i&&i<o&&(o=r.interval=i),t=r.intervalPrecision=sb(o),i=n=r.niceTickExtent=[bo(Math.ceil(e[0]/o)*o,t),bo(Math.floor(e[1]/o)*o,t)],o=e,isFinite(i[0])||(i[0]=o[0]),isFinite(i[1])||(i[1]=o[1]),lb(i,0,o),lb(i,1,o),i[0]>i[1]&&(i[0]=i[1]),r}(i,e,t,n),this._intervalPrecision=r.intervalPrecision,this._interval=r.interval,this._niceExtent=r.niceTickExtent)},yb.prototype.calcNiceExtent=function(e){var t=this._extent,n=(t[0]===t[1]&&(0!==t[0]?(n=t[0],e.fixMax||(t[1]+=n/2),t[0]-=n/2):t[1]=1),t[1]-t[0]);isFinite(n)||(t[0]=0,t[1]=1),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval),n=this._interval;e.fixMin||(t[0]=mb(Math.floor(t[0]/n)*n)),e.fixMax||(t[1]=mb(Math.ceil(t[1]/n)*n))},yb.prototype.setNiceExtent=function(e,t){this._niceExtent=[e,t]},yb.type="interval",$y=yb;function yb(){var e=null!==fb&&fb.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}eb.registerClass($y);var vb=$y,xb="undefined"!=typeof Float32Array,_b=xb?Float32Array:Array;function bb(e){return le(e)?xb?new Float32Array(e):e:new _b(e)}var wb="__ec_stack_";function Sb(e){return e.get("stack")||wb+e.seriesIndex}function Ab(e){return e.dim+e.index}function Mb(e,t){var n=[];return t.eachSeriesByType(e,(function(e){Db(e)&&n.push(e)})),n}function Cb(e){var t=function(e){var t,n={},i=(ee(e,(function(e){var t=e.coordinateSystem.getBaseAxis();if("time"===t.type||"value"===t.type){e=e.getData();for(var i=t.dim+"_"+t.index,r=e.getDimensionIndex(e.mapDimension(t.dim)),o=e.getStore(),a=0,s=o.count();a<s;++a){var l=o.get(r,a);n[i]?n[i].push(l):n[i]=[l]}}})),{});for(t in n)if(n.hasOwnProperty(t)){var r=n[t];if(r){r.sort((function(e,t){return e-t}));for(var o=null,a=1;a<r.length;++a){var s=r[a]-r[a-1];0<s&&(o=null===o?s:Math.min(o,s))}i[t]=o}}return i}(e),n=[];return ee(e,(function(e){var i,r=e.coordinateSystem.getBaseAxis(),o=r.getExtent(),a=(i="category"===r.type?r.getBandWidth():"value"===r.type||"time"===r.type?(i=r.dim+"_"+r.index,i=t[i],a=Math.abs(o[1]-o[0]),s=r.scale.getExtent(),s=Math.abs(s[1]-s[0]),i?a/s*i:a):(s=e.getData(),Math.abs(o[1]-o[0])/s.count()),_o(e.get("barWidth"),i)),s=(o=_o(e.get("barMaxWidth"),i),_o(e.get("barMinWidth")||(Bb(e)?.5:1),i)),l=e.get("barGap"),u=e.get("barCategoryGap");n.push({bandWidth:i,barWidth:a,barMaxWidth:o,barMinWidth:s,barGap:l,barCategoryGap:u,axisKey:Ab(r),stackId:Sb(e)})})),Tb(n)}function Tb(e){var t={},n=(ee(e,(function(e,n){var i,r=e.axisKey,o=e.bandWidth,a=((a=((a=((i=(o=t[r]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}}).stacks)[r=(t[r]=o,e.stackId)]||o.autoWidthCount++,i[r]=i[r]||{width:0,maxWidth:0},e.barWidth))&&!i[r].width&&(i[r].width=a,a=Math.min(o.remainedWidth,a),o.remainedWidth-=a),e.barMaxWidth))&&(i[r].maxWidth=a),e.barMinWidth);null!=(r=(null!=(i=(a&&(i[r].minWidth=a),e.barGap))&&(o.gap=i),e.barCategoryGap))&&(o.categoryGap=r)})),{});return ee(t,(function(e,t){n[t]={};var i,r=e.stacks,o=e.bandWidth,a=e.categoryGap,s=(null==a&&(s=oe(r).length,a=Math.max(35-4*s,15)+"%"),_o(a,o)),l=_o(e.gap,1),u=e.remainedWidth,c=e.autoWidthCount,h=(u-s)/(c+(c-1)*l),d=(h=Math.max(h,0),ee(r,(function(e){var t,n=e.maxWidth,i=e.minWidth;e.width?(t=e.width,n&&(t=Math.min(t,n)),i&&(t=Math.max(t,i)),e.width=t,u-=t+l*t,c--):(t=h,n&&n<t&&(t=Math.min(n,u)),(t=i&&t<i?i:t)!==h&&(e.width=t,u-=t+l*t,c--))})),h=(u-s)/(c+(c-1)*l),h=Math.max(h,0),0),p=(ee(r,(function(e,t){e.width||(e.width=h),d+=(i=e).width*(1+l)})),i&&(d-=i.width*l),-d/2);ee(r,(function(e,i){n[t][i]=n[t][i]||{bandWidth:o,offset:p,width:e.width},p+=e.width*(1+l)}))})),n}function Ib(e,t){var n=Cb(e=Mb(e,t));ee(e,(function(e){var t=e.getData(),i=e.coordinateSystem.getBaseAxis(),r=(e=Sb(e),e=(i=n[Ab(i)][e]).offset,i.width);t.setLayout({bandWidth:i.bandWidth,offset:e,size:r})}))}function kb(e){return{seriesType:e,plan:Of(),reset:function(e){var t,n,i,r,o,a,s,l,u,c,h,d,p,f,g,m;if(Db(e))return t=e.getData(),s=(n=e.coordinateSystem).getBaseAxis(),i=n.getOtherAxis(s),r=t.getDimensionIndex(t.mapDimension(i.dim)),o=t.getDimensionIndex(t.mapDimension(s.dim)),a=e.get("showBackground",!0),s=t.mapDimension(i.dim),l=t.getCalculationInfo("stackResultDimension"),u=K_(t,s)&&!!t.getCalculationInfo("stackedOnSeries"),c=i.isHorizontal(),h=i.toGlobalCoord(i.dataToCoord("log"===i.type?1:0)),d=Bb(e),p=e.get("barMinHeight")||0,f=l&&t.getDimensionIndex(l),g=t.getLayout("size"),m=t.getLayout("offset"),{progress:function(e,t){for(var i,s=e.count,l=d&&bb(3*s),y=d&&a&&bb(3*s),v=d&&bb(s),x=n.master.getRect(),_=c?x.width:x.height,b=t.getStore(),w=0;null!=(i=e.next());){var S,A=b.get(u?f:r,i),M=b.get(o,i),C=h,T=void 0,I=void(u&&(T=+A-b.get(r,i))),k=void 0,D=void 0,B=void 0;c?(S=n.dataToPoint([A,M]),I=C=u?n.dataToPoint([T,M])[0]:C,k=S[1]+m,D=S[0]-C,B=g,Math.abs(D)<p&&(D=(D<0?-1:1)*p)):(S=n.dataToPoint([M,A]),u&&(C=n.dataToPoint([M,T])[1]),I=S[0]+m,k=C,D=g,B=S[1]-C,Math.abs(B)<p&&(B=(B<=0?-1:1)*p)),d?(l[w]=I,l[w+1]=k,l[w+2]=c?D:B,y&&(y[w]=c?x.x:I,y[w+1]=c?k:x.y,y[w+2]=_),v[i]=i):t.setItemLayout(i,{x:I,y:k,width:D,height:B}),w+=3}d&&t.setLayout({largePoints:l,largeDataIndices:v,largeBackgroundPoints:y,valueAxisHorizontal:c})}}}}}function Db(e){return e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type}function Bb(e){return e.pipelineContext&&e.pipelineContext.large}_(Pb,Eb=vb),Pb.prototype.getLabel=function(e){var t=this.getSetting("useUTC");return kc(e.value,Ac[function(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(Ic(this._minLevelUnit))]||Ac.second,t,this.getSetting("locale"))},Pb.prototype.getFormattedLabel=function(e,t,n){var i=this.getSetting("useUTC"),r=this.getSetting("locale"),o=null;if(ce(n))o=n;else if(ue(n))o=n(e.value,t,{level:e.level});else{var a=X({},Sc);if(0<e.level)for(var s=0;s<Mc.length;++s)a[Mc[s]]="{primary|"+a[Mc[s]]+"}";var l=n?!1===n.inherit?n:Y(n,a):a,u=Dc(e.value,i);if(l[u])o=l[u];else if(l.inherit){for(s=Cc.indexOf(u)-1;0<=s;--s)if(l[u]){o=l[u];break}o=o||a.none}le(o)&&(t=null==e.level?0:0<=e.level?e.level:o.length+e.level,o=o[t=Math.min(t,o.length-1)])}return kc(new Date(e.value),o,i,r)},Pb.prototype.getTicks=function(){var e=this._interval,t=this._extent,n=[];return e?(n.push({value:t[0],level:0}),e=this.getSetting("useUTC"),e=function(e,t,n,i){var r=Cc,o=0;function a(e,r,o){var a=[],s=!r.length;if(!function(e,t,n,i){function r(e){return Bc(h,e,i)===Bc(d,e,i)}function o(){return r("year")}function a(){return o()&&r("month")}function s(){return a()&&r("day")}function l(){return s()&&r("hour")}function u(){return l()&&r("minute")}function c(){return u()&&r("second")}var h=Bo(t),d=Bo(n);switch(e){case"year":return o();case"month":return a();case"day":return s();case"hour":return l();case"minute":return u();case"second":return c();case"millisecond":return c()&&r("millisecond")}}(Ic(e),i[0],i[1],n)){s&&(r=[{value:function(e,t,n){var i=new Date(e);switch(Ic(t)){case"year":case"month":i[zc(n)](0);case"day":i[Gc(n)](1);case"hour":i[Hc(n)](0);case"minute":i[Vc(n)](0);case"second":i[Uc(n)](0),i[Zc(n)](0)}return i.getTime()}(new Date(i[0]),e,n)},{value:i[1]}]);for(var l,u,c=0;c<r.length-1;c++){var h=r[c].value,d=r[c+1].value;if(h!==d){var p=void 0,f=void 0,g=void 0;switch(e){case"year":p=Math.max(1,Math.round(t/bc/365)),f=Ec(n),g=n?"setUTCFullYear":"setFullYear";break;case"half-year":case"quarter":case"month":u=t,p=6<(u/=30*bc)?6:3<u?3:2<u?2:1,f=Pc(n),g=zc(n);break;case"week":case"half-week":case"day":u=t,p=16<(u/=bc)?16:7.5<u?7:3.5<u?4:1.5<u?2:1,f=Lc(n),g=Gc(n);break;case"half-day":case"quarter-day":case"hour":l=t,p=12<(l/=_c)?12:6<l?6:3.5<l?4:2<l?2:1,f=Rc(n),g=Hc(n);break;case"minute":p=Rb(t,!0),f=Oc(n),g=Vc(n);break;case"second":p=Rb(t,!1),f=Fc(n),g=Uc(n);break;case"millisecond":p=Lo(t,!0),f=Nc(n),g=Zc(n)}A=S=w=b=void 0;for(var m=p,y=h,v=d,x=f,_=g,b=a,w=new Date(y),S=y,A=w[x]();S<v&&S<=i[1];)b.push({value:S}),w[_](A+=m),S=w.getTime();b.push({value:S,notAdd:!0}),"year"===e&&1<o.length&&0===c&&o.unshift({value:o[0].value-p})}}for(c=0;c<a.length;c++)o.push(a[c])}}for(var s=[],l=[],u=0,c=0,h=0;h<r.length&&o++<1e4;++h){var d=Ic(r[h]);if(function(e){return e===Ic(e)}(r[h]))if(a(r[h],s[s.length-1]||[],l),d!==(r[h+1]?Ic(r[h+1]):null)){if(l.length){c=u,l.sort((function(e,t){return e.value-t.value}));for(var p=[],f=0;f<l.length;++f){var g=l[f].value;0!==f&&l[f-1].value===g||(p.push(l[f]),g>=i[0]&&g<=i[1]&&u++)}if(1.5*(d=(i[1]-i[0])/t)<u&&d/1.5<c)break;if(s.push(p),d<u||e===r[h])break}l=[]}}var m=ie(te(s,(function(e){return ie(e,(function(e){return e.value>=i[0]&&e.value<=i[1]&&!e.notAdd}))})),(function(e){return 0<e.length})),y=[],v=m.length-1;for(h=0;h<m.length;++h)for(var x=m[h],_=0;_<x.length;++_)y.push({value:x[_].value,level:v-h});y.sort((function(e,t){return e.value-t.value}));var b=[];for(h=0;h<y.length;++h)0!==h&&y[h].value===y[h-1].value||b.push(y[h]);return b}(this._minLevelUnit,this._approxInterval,e,t),(n=n.concat(e)).push({value:t[1],level:0}),n):n},Pb.prototype.calcNiceExtent=function(e){var t,n=this._extent;n[0]===n[1]&&(n[0]-=bc,n[1]+=bc),n[1]===-1/0&&n[0]===1/0&&(t=new Date,n[1]=+new Date(t.getFullYear(),t.getMonth(),t.getDate()),n[0]=n[1]-bc),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},Pb.prototype.calcNiceTicks=function(e,t,n){var i=(i=this._extent)[1]-i[0];this._approxInterval=i/(e=e||10),null!=t&&this._approxInterval<t&&(this._approxInterval=t),null!=n&&this._approxInterval>n&&(this._approxInterval=n),i=Lb.length,e=Math.min(function(e,t,n,i){for(;n<i;){var r=n+i>>>1;e[r][1]<t?n=1+r:i=r}return n}(Lb,this._approxInterval,0,i),i-1);this._interval=Lb[e][1],this._minLevelUnit=Lb[Math.max(e-1,0)][0]},Pb.prototype.parse=function(e){return de(e)?e:+Bo(e)},Pb.prototype.contain=function(e){return ub(this.parse(e),this._extent)},Pb.prototype.normalize=function(e){return cb(this.parse(e),this._extent)},Pb.prototype.scale=function(e){return hb(e,this._extent)},Pb.type="time";var Eb;tv=Pb;function Pb(e){return(e=Eb.call(this,e)||this).type="time",e}var Lb=[["second",vc],["minute",xc],["hour",_c],["quarter-day",6*_c],["half-day",12*_c],["day",1.2*bc],["half-week",3.5*bc],["week",7*bc],["month",31*bc],["quarter",95*bc],["half-year",wc/2],["year",wc]];function Rb(e,t){return 30<(e/=t?xc:vc)?30:20<e?20:15<e?15:10<e?10:5<e?5:2<e?2:1}eb.registerClass(tv);var Ob,Fb=tv,Nb=eb.prototype,zb=vb.prototype,Gb=bo,Hb=Math.floor,Vb=Math.ceil,Ub=Math.pow,Zb=Math.log;_(Wb,Ob=eb),Wb.prototype.getTicks=function(e){var t=this._originalScale,n=this._extent,i=t.getExtent();return te(zb.getTicks.call(this,e),(function(e){e=e.value;var t=bo(Ub(this.base,e));t=e===n[0]&&this._fixMin?jb(t,i[0]):t;return{value:t=e===n[1]&&this._fixMax?jb(t,i[1]):t}}),this)},Wb.prototype.setExtent=function(e,t){var n=this.base;e=Zb(e)/Zb(n),t=Zb(t)/Zb(n),zb.setExtent.call(this,e,t)},Wb.prototype.getExtent=function(){var e=this.base,t=Nb.getExtent.call(this);return t[0]=Ub(e,t[0]),t[1]=Ub(e,t[1]),e=this._originalScale.getExtent(),this._fixMin&&(t[0]=jb(t[0],e[0])),this._fixMax&&(t[1]=jb(t[1],e[1])),t},Wb.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=Zb(e[0])/Zb(t),e[1]=Zb(e[1])/Zb(t),Nb.unionExtent.call(this,e)},Wb.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},Wb.prototype.calcNiceTicks=function(e){e=e||10;var t=this._extent,n=t[1]-t[0];if(!(n==1/0||n<=0)){var i=Eo(n);for(e/n*i<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&0<Math.abs(i);)i*=10;e=[bo(Vb(t[0]/i)*i),bo(Hb(t[1]/i)*i)],this._interval=i,this._niceExtent=e}},Wb.prototype.calcNiceExtent=function(e){zb.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},Wb.prototype.parse=function(e){return e},Wb.prototype.contain=function(e){return ub(e=Zb(e)/Zb(this.base),this._extent)},Wb.prototype.normalize=function(e){return cb(e=Zb(e)/Zb(this.base),this._extent)},Wb.prototype.scale=function(e){return e=hb(e,this._extent),Ub(this.base,e)},Wb.type="log",nv=Wb;function Wb(){var e=null!==Ob&&Ob.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new vb,e._interval=0,e}function jb(e,t){return Gb(e,So(t))}(hg=nv.prototype).getMinorTicks=zb.getMinorTicks,hg.getLabel=zb.getLabel,eb.registerClass(nv);var Xb=nv,Yb=(Jb.prototype._prepareParams=function(e,t,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal="ordinal"===e.type,r=(ue(r=(this._needCrossZero="interval"===e.type&&t.getNeedCrossZero&&t.getNeedCrossZero(),this._modelMinRaw=t.get("min",!0)))?this._modelMinNum=$b(e,r({min:n[0],max:n[1]})):"dataMin"!==r&&(this._modelMinNum=$b(e,r)),this._modelMaxRaw=t.get("max",!0));ue(r)?this._modelMaxNum=$b(e,r({min:n[0],max:n[1]})):"dataMax"!==r&&(this._modelMaxNum=$b(e,r)),i?this._axisDataLen=t.getCategories().length:"boolean"==typeof(e=le(n=t.get("boundaryGap"))?n:[n||0,n||0])[0]||"boolean"==typeof e[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Xr(e[0],1),Xr(e[1],1)]},Jb.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,n=this._dataMax,i=this._axisDataLen,r=this._boundaryGapInner,o=e?null:n-t||Math.abs(t),a="dataMin"===this._modelMinRaw?t:this._modelMinNum,s="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,l=null!=a,u=null!=s;null==a&&(a=e?i?0:NaN:t-r[0]*o),null==s&&(s=e?i?i-1:NaN:n+r[1]*o),null!=a&&isFinite(a)||(a=NaN),null!=s&&isFinite(s)||(s=NaN),t=_e(a)||_e(s)||e&&!i;return null!=(n=(this._needCrossZero&&(a=0<a&&0<s&&!l?0:a)<0&&s<0&&!u&&(s=0),this._determinedMin))&&(a=n,l=!0),null!=(r=this._determinedMax)&&(s=r,u=!0),{min:a,max:s,minFixed:l,maxFixed:u,isBlank:t}},Jb.prototype.modifyDataMinMax=function(e,t){this[Qb[e]]=t},Jb.prototype.setDeterminedMinMax=function(e,t){this[Kb[e]]=t},Jb.prototype.freeze=function(){this.frozen=!0},Jb);function Jb(e,t,n){this._prepareParams(e,t,n)}var Kb={min:"_determinedMin",max:"_determinedMax"},Qb={min:"_dataMin",max:"_dataMax"};function qb(e,t,n){var i=e.rawExtentInfo;return i||(i=new Yb(e,t,n),e.rawExtentInfo=i)}function $b(e,t){return null==t?null:_e(t)?NaN:e.parse(t)}function ew(e,t){var n,i=e.type,r=qb(e,t,e.getExtent()).calculate(),o=(e=(e.setBlank(r.isBlank),r.min),r.max),a=t.ecModel;return a&&"time"===i&&(i=Mb("bar",a),n=!1,ee(i,(function(e){n=n||e.getBaseAxis()===t.axis})),n&&(a=Cb(i),e=(i=function(e,t,n,i){var r=(r=n.axis.getExtent())[1]-r[0];i=function(e,t,n){if(e&&t)return e=e[Ab(t)]}(i,n.axis);if(void 0===i)return{min:e,max:t};var o=1/0,a=(ee(i,(function(e){o=Math.min(e.offset,o)})),-1/0);ee(i,(function(e){a=Math.max(e.offset+e.width,a)})),o=Math.abs(o),a=Math.abs(a),n=o+a;return{min:e-=o/n*(r=(i=t-e)/(1-(o+a)/r)-i),max:t+=a/n*r}}(e,o,t,a)).min,o=i.max)),{extent:[e,o],fixMin:r.minFixed,fixMax:r.maxFixed}}function tw(e,t){var n=ew(e,t),i=n.extent,r=t.get("splitNumber"),o=(e instanceof Xb&&(e.base=t.get("logBase")),e.type),a=t.get("interval");o="interval"===o||"time"===o;e.setExtent(i[0],i[1]),e.calcNiceExtent({splitNumber:r,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:o?t.get("minInterval"):null,maxInterval:o?t.get("maxInterval"):null}),null!=a&&e.setInterval&&e.setInterval(a)}function nw(e,t){if(t=t||e.get("type"))switch(t){case"category":return new gb({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new Fb({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(eb.getClass(t)||vb)}}function iw(e){var t,n,i,r=e.getLabelModel().get("formatter"),o="category"===e.type?e.scale.getExtent()[0]:null;return"time"===e.scale.type?(i=r,function(t,n){return e.scale.getFormattedLabel(t,n,i)}):ce(r)?(n=r,function(t){return t=e.scale.getLabel(t),n.replace("{value}",null!=t?t:"")}):ue(r)?(t=r,function(n,i){return null!=o&&(i=n.value-o),t(rw(e,n),i,null!=n.level?{level:n.level}:null)}):function(t){return e.scale.getLabel(t)}}function rw(e,t){return"category"===e.type?e.scale.getLabel(t):t.value}function ow(e){return null==(e=e.get("interval"))?"auto":e}function aw(e){return"category"===e.type&&0===ow(e.getLabelModel())}function sw(e,t){var n={};return ee(e.mapDimensionsAll(t),(function(t){n[Q_(e,t)]=!0})),oe(n)}uw.prototype.getNeedCrossZero=function(){return!this.option.scale},uw.prototype.getCoordSysModel=function(){};var lw=uw;function uw(){}function cw(e){return q_(null,e)}var hw={isDimensionStacked:K_,enableDataStack:J_,getStackedDimension:Q_};function dw(e,t){var n;return(t=nw(n=t instanceof ac?t:new ac(t))).setExtent(e[0],e[1]),tw(t,n),t}function pw(e){q(e,lw)}function fw(e,t){return Nu(e,null,null,"normal"!==(t=t||{}).state)}function gw(e,t){return Math.abs(e-t)<1e-8}function mw(e,t,n){var i=0,r=e[0];if(!r)return!1;for(var o=1;o<e.length;o++){var a=e[o];i+=ks(r[0],r[1],a[0],a[1],t,n),r=a}var s=e[0];return gw(r[0],s[0])&&gw(r[1],s[1])||(i+=ks(r[0],r[1],s[0],s[1],t,n)),0!==i}var yw=[];function vw(e,t){for(var n=0;n<e.length;n++)ct(e[n],e[n],t)}function xw(e,t,n,i){for(var r=0;r<e.length;r++){var o=e[r];(o=i?i.project(o):o)&&isFinite(o[0])&&isFinite(o[1])&&(ht(t,t,o),dt(n,n,o))}}function _w(e){this.name=e}_w.prototype.setCenter=function(e){this._center=e},_w.prototype.getCenter=function(){return this._center||(this._center=this.calcCenter())};var bw,ww=function(e,t){this.type="polygon",this.exterior=e,this.interiors=t},Sw=function(e){this.type="linestring",this.points=e},Aw=(_(Mw,bw=Ig=_w),Mw.prototype.calcCenter=function(){for(var e,t=this.geometries,n=0,i=0;i<t.length;i++){var r,o=t[i];n<(r=(r=o.exterior)&&r.length)&&(e=o,n=r)}if(e){for(var a=e.exterior,s=0,l=0,u=0,c=a.length,h=a[c-1][0],d=a[c-1][1],p=0;p<c;p++){var f=a[p][0],g=a[p][1],m=h*g-f*d;s+=m,l+=(h+f)*m,u+=(d+g)*m,h=f,d=g}return s?[l/s/3,u/s/3,s]:[a[0][0]||0,a[0][1]||0]}var y=this.getBoundingRect();return[y.x+y.width/2,y.y+y.height/2]},Mw.prototype.getBoundingRect=function(e){var t=this._rect;if(t&&!e)return t;var n=[1/0,1/0],i=[-1/0,-1/0];return ee(this.geometries,(function(t){"polygon"===t.type?xw(t.exterior,n,i,e):ee(t.points,(function(t){xw(t,n,i,e)}))})),isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])||(n[0]=n[1]=i[0]=i[1]=0),t=new zr(n[0],n[1],i[0]-n[0],i[1]-n[1]),e||(this._rect=t),t},Mw.prototype.contain=function(e){var t=this.getBoundingRect(),n=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var i=0,r=n.length;i<r;i++){var o=n[i];if("polygon"===o.type){var a=o.exterior,s=o.interiors;if(mw(a,e[0],e[1])){for(var l=0;l<(s?s.length:0);l++)if(mw(s[l],e[0],e[1]))continue e;return!0}}}return!1},Mw.prototype.transformTo=function(e,t,n,i){for(var r=this.getBoundingRect(),o=r.width/r.height,a=(o=(n?i=i||n/o:n=o*i,new zr(e,t,n,i)),r.calculateTransform(o)),s=this.geometries,l=0;l<s.length;l++){var u=s[l];"polygon"===u.type?(vw(u.exterior,a),ee(u.interiors,(function(e){vw(e,a)}))):ee(u.points,(function(e){vw(e,a)}))}(r=this._rect).copy(o),this._center=[r.x+r.width/2,r.y+r.height/2]},Mw.prototype.cloneShallow=function(e){return(e=new Mw(e=null==e?this.name:e,this.geometries,this._center))._rect=this._rect,e.transformTo=null,e},Mw);function Mw(e,t,n){return(e=bw.call(this,e)||this).type="geoJSON",e.geometries=t,e._center=n&&[n[0],n[1]],e}_(Iw,Cw=Ig),Iw.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,t=[(t=e.getBoundingRect()).x+t.width/2,t.y+t.height/2],n=ur(yw),i=e;i&&!i.isGeoSVGGraphicRoot;)hr(n,i.getLocalTransform(),n),i=i.parent;return gr(n,n),ct(t,t,n),t};var Cw,Tw=Iw;function Iw(e,t){return(e=Cw.call(this,e)||this).type="geoSVG",e._elOnlyForCalculate=t,e}function kw(e,t,n){for(var i=0;i<e.length;i++)e[i]=Dw(e[i],t[i],n)}function Dw(e,t,n){for(var i=[],r=t[0],o=t[1],a=0;a<e.length;a+=2){var s=(s=e.charCodeAt(a)-64)>>1^-(1&s),l=(l=e.charCodeAt(a+1)-64)>>1^-(1&l);s+=r,l+=o,i.push([(r=s)/n,(o=l)/n])}return i}function Bw(e,t){return te(ie((e=function(e){if(!e.UTF8Encoding)return e;var t=e.UTF8Scale;return null==t&&(t=1024),ee(e.features,(function(e){var n=e.geometry,i=n.encodeOffsets,r=n.coordinates;if(i)switch(n.type){case"LineString":n.coordinates=Dw(r,i,t);break;case"Polygon":case"MultiLineString":kw(r,i,t);break;case"MultiPolygon":ee(r,(function(e,n){return kw(e,i[n],t)}))}})),e.UTF8Encoding=!1,e}(e)).features,(function(e){return e.geometry&&e.properties&&0<e.geometry.coordinates.length})),(function(e){var n=e.properties,i=e.geometry,r=[];switch(i.type){case"Polygon":var o=i.coordinates;r.push(new ww(o[0],o.slice(1)));break;case"MultiPolygon":ee(i.coordinates,(function(e){e[0]&&r.push(new ww(e[0],e.slice(1)))}));break;case"LineString":r.push(new Sw([i.coordinates]));break;case"MultiLineString":r.push(new Sw(i.coordinates))}return(e=new Aw(n[t||"name"],r,n.cp)).properties=n,e}))}function Ew(e,t,n,i,r,o,a,s){return new Ml({style:{text:e,font:t,align:n,verticalAlign:i,padding:r,rich:o,overflow:a?"truncate":null,lineHeight:s}}).getBoundingRect()}var Pw=ea();function Lw(e,t){var n,i=Rw(e,"labels"),r=Ow(i,t=ow(t));return r||Fw(i,t,{labels:ue(t)?zw(e,t):Nw(e,n="auto"===t?null!=(i=Pw(r=e).autoInterval)?i:Pw(r).autoInterval=r.calculateCategoryInterval():t),labelCategoryInterval:n})}function Rw(e,t){return Pw(e)[t]||(Pw(e)[t]=[])}function Ow(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return e[n].value}function Fw(e,t,n){return e.push({key:t,value:n}),n}function Nw(e,t,n){for(var i=iw(e),r=e.scale,o=r.getExtent(),a=e.getLabelModel(),s=[],l=Math.max((t||0)+1,1),u=(t=o[0],r.count()),c=(u=(0!==t&&1<l&&2<u/l&&(t=Math.round(Math.ceil(t/l)*l)),aw(e)),e=a.get("showMinLabel")||u,a=a.get("showMaxLabel")||u,e&&t!==o[0]&&h(o[0]),t);c<=o[1];c+=l)h(c);function h(e){var t={value:e};s.push(n?e:{formattedLabel:i(t),rawLabel:r.getLabel(t),tickValue:e})}return a&&c-l!==o[1]&&h(o[1]),s}function zw(e,t,n){var i=e.scale,r=iw(e),o=[];return ee(i.getTicks(),(function(e){var a=i.getLabel(e),s=e.value;t(e.value,a)&&o.push(n?s:{formattedLabel:r(e),rawLabel:a,tickValue:s})})),o}var Gw=[0,1];function Hw(e,t,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=n||[0,0]}function Vw(e,t){t=(e[1]-e[0])/t/2,e[0]+=t,e[1]-=t}Hw.prototype.contain=function(e){var t=this._extent,n=Math.min(t[0],t[1]);t=Math.max(t[0],t[1]);return n<=e&&e<=t},Hw.prototype.containData=function(e){return this.scale.contain(e)},Hw.prototype.getExtent=function(){return this._extent.slice()},Hw.prototype.getPixelPrecision=function(e){return Mo(e||this.scale.getExtent(),this._extent)},Hw.prototype.setExtent=function(e,t){var n=this._extent;n[0]=e,n[1]=t},Hw.prototype.dataToCoord=function(e,t){var n=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&"ordinal"===i.type&&Vw(n=n.slice(),i.count()),xo(e,Gw,n,t)},Hw.prototype.coordToData=function(e,t){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&Vw(n=n.slice(),i.count()),i=xo(e,n,Gw,t);return this.scale.scale(i)},Hw.prototype.pointToData=function(e,t){},Hw.prototype.getTicksCoords=function(e){var t,n,i,r,o,a,s,l=te(function(e,t){var n,i,r,o,a,s;return"category"===e.type?(s=Ow(o=Rw(n=e,"ticks"),a=ow(t)))||(t.get("show")&&!n.scale.isBlank()||(i=[]),i=ue(a)?zw(n,a,!0):"auto"===a?(r=(s=Lw(n,n.getLabelModel())).labelCategoryInterval,te(s.labels,(function(e){return e.tickValue}))):Nw(n,r=a,!0),Fw(o,a,{ticks:i,tickCategoryInterval:r})):{ticks:te(e.scale.getTicks(),(function(e){return e.value}))}}(this,u=(e=e||{}).tickModel||this.getTickModel()).ticks,(function(e){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(e):e),tickValue:e}}),this),u=u.get("alignWithLabel");function c(e,t){return e=bo(e),t=bo(t),a?t<e:e<t}return t=this,n=l,e=e.clamp,s=n.length,t.onBand&&!u&&s&&(u=t.getExtent(),1===s?(n[0].coord=u[0],i=n[1]={coord:u[0]}):(o=n[s-1].tickValue-n[0].tickValue,r=(n[s-1].coord-n[0].coord)/o,ee(n,(function(e){e.coord-=r/2})),t=1+(o=t.scale.getExtent())[1]-n[s-1].tickValue,i={coord:n[s-1].coord+r*t},n.push(i)),a=u[0]>u[1],c(n[0].coord,u[0])&&(e?n[0].coord=u[0]:n.shift()),e&&c(u[0],n[0].coord)&&n.unshift({coord:u[0]}),c(u[1],i.coord)&&(e?i.coord=u[1]:n.pop()),e&&c(i.coord,u[1])&&n.push({coord:u[1]})),l},Hw.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick").get("splitNumber");return te(this.scale.getMinorTicks(e=0<e&&e<100?e:5),(function(e){return te(e,(function(e){return{coord:this.dataToCoord(e),tickValue:e}}),this)}),this)},Hw.prototype.getViewLabels=function(){return function(e){return"category"===e.type?(r=(i=e).getLabelModel(),o=Lw(i,r),!r.get("show")||i.scale.isBlank()?{labels:[],labelCategoryInterval:o.labelCategoryInterval}:o):(r=(t=e).scale.getTicks(),n=iw(t),{labels:te(r,(function(e,i){return{level:e.level,formattedLabel:n(e,i),rawLabel:t.scale.getLabel(e),tickValue:e.value}}))});var t,n,i,r,o}(this).labels},Hw.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},Hw.prototype.getTickModel=function(){return this.model.getModel("axisTick")},Hw.prototype.getBandWidth=function(){var e,t=this._extent;0===(e=(e=this.scale.getExtent())[1]-e[0]+(this.onBand?1:0))&&(e=1),t=Math.abs(t[1]-t[0]);return Math.abs(t)/e},Hw.prototype.calculateCategoryInterval=function(){r=(n=p=this).getLabelModel();var e={axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:r.get("rotate")||0,font:r.getFont()},t=iw(p),n=(e.axisRotate-e.labelRotate)/180*Math.PI,i=(r=p.scale).getExtent(),r=r.count();if(i[1]-i[0]<1)return 0;for(var o=1,a=(40<r&&(o=Math.max(1,Math.floor(r/40))),i[0]),s=p.dataToCoord(a+1)-p.dataToCoord(a),l=Math.abs(s*Math.cos(n)),u=(s=Math.abs(s*Math.sin(n)),0),c=0;a<=i[1];a+=o){var h=1.3*(d=Ur(t({value:a}),e.font,"center","top")).width,d=1.3*d.height;u=Math.max(u,h,7),c=Math.max(c,d,7)}n=u/l,l=c/s,isNaN(n)&&(n=1/0),isNaN(l)&&(l=1/0),s=Math.max(0,Math.floor(Math.min(n,l))),n=Pw(p.model),l=p.getExtent();var p=n.lastAutoInterval,f=n.lastTickCount;return null!=p&&null!=f&&Math.abs(p-s)<=1&&Math.abs(f-r)<=1&&s<p&&n.axisExtent0===l[0]&&n.axisExtent1===l[1]?s=p:(n.lastTickCount=r,n.lastAutoInterval=s,n.axisExtent0=l[0],n.axisExtent1=l[1]),s};var Uw=Hw;function Zw(e){return e=Mh.extend(e),Mh.registerClass(e),e}function Ww(e){return e=Rf.extend(e),Rf.registerClass(e),e}function jw(e){return e=Pf.extend(e),Pf.registerClass(e),e}function Xw(e){return e=sy.extend(e),sy.registerClass(e),e}var Yw=2*Math.PI,Jw=Ss.CMD,Kw=["top","right","bottom","left"];function Qw(e,t,n,i,r,o,a,s){var l=r-e,u=o-t,c=(n=n-e,i=i-t,Math.sqrt(n*n+i*i));l=(l*(n/=c)+u*(i/=c))/c,s&&(l=Math.min(Math.max(l,0),1)),u=a[0]=e+(l*=c)*n,s=a[1]=t+l*i;return Math.sqrt((u-r)*(u-r)+(s-o)*(s-o))}function qw(e,t,n,i,r,o,a){return n<0&&(e+=n,n=-n),i<0&&(t+=i,i=-i),n=e+n,i=t+i,e=a[0]=Math.min(Math.max(r,e),n),n=a[1]=Math.min(Math.max(o,t),i),Math.sqrt((e-r)*(e-r)+(n-o)*(n-o))}var $w=[];function eS(e,t,n){for(var i,r,o,a,s,l,u,c,h,d=0,p=0,f=0,g=0,m=1/0,y=t.data,v=e.x,x=e.y,_=0;_<y.length;){var b=y[_++],w=(1===_&&(f=d=y[_],g=p=y[_+1]),m);switch(b){case Jw.M:d=f=y[_++],p=g=y[_++];break;case Jw.L:w=Qw(d,p,y[_],y[_+1],v,x,$w,!0),d=y[_++],p=y[_++];break;case Jw.C:w=An(d,p,y[_++],y[_++],y[_++],y[_++],y[_],y[_+1],v,x,$w),d=y[_++],p=y[_++];break;case Jw.Q:w=kn(d,p,y[_++],y[_++],y[_],y[_+1],v,x,$w),d=y[_++],p=y[_++];break;case Jw.A:var S=y[_++],A=y[_++],M=y[_++],C=y[_++],T=y[_++],I=y[_++],k=(_+=1,!!(1-y[_++])),D=Math.cos(T)*M+S,B=Math.sin(T)*C+A;_<=1&&(f=D,g=B),B=(D=T)+I,a=(v-S)*(o=C)/M+S,s=x,l=$w,h=c=u=void 0,a-=i=S,s-=r=A,c=(a/=u=Math.sqrt(a*a+s*s))*o+i,h=(s/=u)*o+r,w=Math.abs(D-B)%Yw<1e-4?(l[0]=c,l[1]=h,u-o):((B=k?(k=D,D=Ts(B),Ts(k)):(D=Ts(D),Ts(B)))<D&&(B+=Yw),(k=Math.atan2(s,a))<0&&(k+=Yw),D<=k&&k<=B||D<=k+Yw&&k+Yw<=B?(l[0]=c,l[1]=h,u-o):(D=((k=o*Math.cos(D)+i)-a)*(k-a)+((c=o*Math.sin(D)+r)-s)*(c-s))<(i=((h=o*Math.cos(B)+i)-a)*(h-a)+((u=o*Math.sin(B)+r)-s)*(u-s))?(l[0]=k,l[1]=c,Math.sqrt(D)):(l[0]=h,l[1]=u,Math.sqrt(i))),d=Math.cos(T+I)*M+S,p=Math.sin(T+I)*C+A;break;case Jw.R:w=qw(f=d=y[_++],g=p=y[_++],y[_++],y[_++],v,x,$w);break;case Jw.Z:w=Qw(d,p,f,g,v,x,$w,!0),d=f,p=g}w<m&&(m=w,n.set($w[0],$w[1]))}return m}var tS=new kr,nS=new kr,iS=new kr,rS=new kr,oS=new kr;function aS(e,t){if(e){var n=e.getTextGuideLine(),i=e.getTextContent();if(i&&n){var r=e.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=r.candidates||Kw,s=i.getBoundingRect().clone(),l=(s.applyTransform(i.getComputedTransform()),1/0),u=r.anchor,c=e.getComputedTransform(),h=c&&gr([],c),d=t.get("length2")||0;u&&iS.copy(u);for(var p,f=0;f<a.length;f++){var g=a[f],m=(x=v=m=void 0,g),y=s,v=tS,x=rS,_=y.width,b=y.height;switch(m){case"top":v.set(y.x+_/2,y.y-0),x.set(0,-1);break;case"bottom":v.set(y.x+_/2,y.y+b+0),x.set(0,1);break;case"left":v.set(y.x-0,y.y+b/2),x.set(-1,0);break;case"right":v.set(y.x+_+0,y.y+b/2),x.set(1,0)}kr.scaleAndAdd(nS,tS,rS,d),nS.transform(h),g=e.getBoundingRect(),(g=u?u.distance(nS):e instanceof Us?eS(nS,e.path,iS):(m=iS,p=qw((p=g).x,g.y,g.width,g.height,nS.x,nS.y,$w),m.set($w[0],$w[1]),p))<l&&(l=g,nS.transform(c),iS.transform(c),iS.toArray(o[0]),nS.toArray(o[1]),tS.toArray(o[2]))}uS(o,t.get("minTurnAngle")),n.setShape({points:o})}}}var sS=[],lS=new kr;function uS(e,t){var n,i;t<=180&&0<t&&(t=t/180*Math.PI,tS.fromArray(e[0]),nS.fromArray(e[1]),iS.fromArray(e[2]),kr.sub(rS,tS,nS),kr.sub(oS,iS,nS),i=rS.len(),n=oS.len(),i<.001||n<.001||(rS.scale(1/i),oS.scale(1/n),i=rS.dot(oS),Math.cos(t)<i&&(n=Qw(nS.x,nS.y,iS.x,iS.y,tS.x,tS.y,sS,!1),lS.fromArray(sS),lS.scaleAndAdd(oS,n/Math.tan(Math.PI-t)),i=iS.x!==nS.x?(lS.x-nS.x)/(iS.x-nS.x):(lS.y-nS.y)/(iS.y-nS.y),isNaN(i)||(i<0?kr.copy(lS,nS):1<i&&kr.copy(lS,iS),lS.toArray(e[1])))))}function cS(e,t,n,i){var r="normal"===n;(t=((n=r?e:e.ensureState(n)).ignore=t,i.get("smooth")))&&!0===t&&(t=.3),n.shape=n.shape||{},0<t&&(n.shape.smooth=t),t=i.getModel("lineStyle").getLineStyle();r?e.useStyle(t):n.style=t}function hS(e,t){var n=t.smooth,i=t.points;if(i)if(e.moveTo(i[0][0],i[0][1]),0<n&&3<=i.length){t=ot(i[0],i[1]);var r=ot(i[1],i[2]);if(!t||!r)return e.lineTo(i[1][0],i[1][1]),void e.lineTo(i[2][0],i[2][1]);n=Math.min(t,r)*n,t=ut([],i[1],i[0],n/t),n=ut([],i[1],i[2],n/r),r=ut([],t,n,.5),e.bezierCurveTo(t[0],t[1],t[0],t[1],r[0],r[1]),e.bezierCurveTo(n[0],n[1],n[0],n[1],i[2][0],i[2][1])}else for(var o=1;o<i.length;o++)e.lineTo(i[o][0],i[o][1])}function dS(e,t,n){var i=e.getTextGuideLine(),r=e.getTextContent();if(r){for(var o=t.normal,a=o.get("show"),s=r.ignore,l=0;l<El.length;l++){var u,c=El[l],h=t[c],d="normal"===c;h&&(u=h.get("show"),(d?s:we(r.states[c]&&r.states[c].ignore,s))||!we(u,a)?(u=d?i:i&&i.states[c])&&(u.ignore=!0):(i||(i=new Zg,e.setTextGuideLine(i),d||!s&&a||cS(i,!0,"normal",t.normal),e.stateProxy&&(i.stateProxy=e.stateProxy)),cS(i,!1,c,h)))}i&&(Y(i.style,n),i.style.fill=null,n=o.get("showAbove"),(e.textGuideLineConfig=e.textGuideLineConfig||{}).showAbove=n||!1,i.buildPath=hS)}else i&&e.removeTextGuideLine()}function pS(e,t){for(var n={normal:e.getModel(t=t||"labelLine")},i=0;i<Bl.length;i++){var r=Bl[i];n[r]=e.getModel([r,t])}return n}function fS(e){for(var t=[],n=0;n<e.length;n++){var i,r,o,a,s,l,u=e[n];u.defaultAttr.ignore||(r=(i=u.label).getComputedTransform(),o=i.getBoundingRect(),a=!r||r[1]<1e-5&&r[2]<1e-5,l=i.style.margin||0,(s=o.clone()).applyTransform(r),s.x-=l/2,s.y-=l/2,s.width+=l,s.height+=l,l=a?new bm(o,r):null,t.push({label:i,labelLine:u.labelLine,rect:s,localRect:o,obb:l,priority:u.priority,defaultAttr:u.defaultAttr,layoutOption:u.computedLayoutOption,axisAligned:a,transform:r}))}return t}function gS(e,t,n,i,r,o){var a=e.length;if(!(a<2)){e.sort((function(e,n){return e.rect[t]-n.rect[t]}));for(var s=0,l=!1,u=[],c=0,h=0;h<a;h++){var d,p=(f=e[h]).rect,f=((d=p[t]-s)<0&&(p[t]-=d,f.label[t]-=d,l=!0),Math.max(-d,0));u.push(f),c+=f,s=p[t]+p[n]}0<c&&o&&b(-c/a,0,a);var g,m,y=e[0],v=e[a-1];return x(),g<0&&w(-g,.8),m<0&&w(m,.8),x(),_(g,m,1),_(m,g,-1),x(),g<0&&S(-g),m<0&&S(m),l}function x(){g=y.rect[t]-i,m=r-v.rect[t]-v.rect[n]}function _(e,t,n){e<0&&(0<(t=Math.min(t,-e))?(b(t*n,0,a),(t+=e)<0&&w(-t*n,1)):w(-e*n,1))}function b(n,i,r){0!==n&&(l=!0);for(var o=i;o<r;o++){var a=e[o];a.rect[t]+=n,a.label[t]+=n}}function w(i,r){for(var o=[],s=0,l=1;l<a;l++){var u=e[l-1].rect;u=Math.max(e[l].rect[t]-u[t]-u[n],0);o.push(u),s+=u}if(s){var c=Math.min(Math.abs(i)/s,r);if(0<i)for(l=0;l<a-1;l++)b(o[l]*c,0,l+1);else for(l=a-1;0<l;l--)b(-o[l-1]*c,l,a)}}function S(e){for(var t=e<0?-1:1,n=(e=Math.abs(e),Math.ceil(e/(a-1))),i=0;i<a-1;i++)if(0<t?b(n,0,i+1):b(-n,a-i-1,a),(e-=n)<=0)return}}function mS(e,t,n,i){return gS(e,"y","height",t,n,i)}function yS(e){var t=[],n=(e.sort((function(e,t){return t.priority-e.priority})),new zr(0,0,0,0));function i(e){var t;e.ignore||null==(t=e.ensureState("emphasis")).ignore&&(t.ignore=!1),e.ignore=!0}for(var r=0;r<e.length;r++){for(var o=e[r],a=o.axisAligned,s=o.localRect,l=o.transform,u=o.label,c=o.labelLine,h=(n.copy(o.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05,o.obb),d=!1,p=0;p<t.length;p++){var f=t[p];if(n.intersect(f.rect)){if(a&&f.axisAligned){d=!0;break}if(f.obb||(f.obb=new bm(f.localRect,f.transform)),(h=h||new bm(s,l)).intersect(f.obb)){d=!0;break}}}d?(i(u),c&&i(c)):(u.attr("ignore",o.defaultAttr.ignore),c&&c.attr("ignore",o.defaultAttr.labelGuideIgnore),t.push(o))}}function vS(e,t){var n=e.label;t=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:function(e){if(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].slice());return t}}(t&&t.shape.points)}}var xS=["align","verticalAlign","width","height","fontSize"],_S=new Tr,bS=ea(),wS=ea();function SS(e,t,n){for(var i=0;i<n.length;i++){var r=n[i];null!=t[r]&&(e[r]=t[r])}}var AS=["x","y","rotation"];function MS(){this._labelList=[],this._chartViewList=[]}MS.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},MS.prototype._addLabel=function(e,t,n,i,r){var o,a=i.style,s=i.__hostTarget.textConfig||{},l=i.getComputedTransform(),u=i.getBoundingRect().plain(),c=((l=(zr.applyTransform(u,u,l),l?_S.setLocalTransform(l):(_S.x=_S.y=_S.rotation=_S.originX=_S.originY=0,_S.scaleX=_S.scaleY=1),i.__hostTarget))&&(o=l.getBoundingRect().plain(),c=l.getComputedTransform(),zr.applyTransform(o,o,c)),o&&l.getTextGuideLine());this._labelList.push({label:i,labelLine:c,seriesModel:n,dataIndex:e,dataType:t,layoutOption:r,computedLayoutOption:null,rect:u,hostRect:o,priority:o?o.width*o.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:c&&c.ignore,x:_S.x,y:_S.y,scaleX:_S.scaleX,scaleY:_S.scaleY,rotation:_S.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:i.cursor,attachedPos:s.position,attachedRot:s.rotation}})},MS.prototype.addLabelsOfSeries=function(e){var t=this,n=(this._chartViewList.push(e),e.__model),i=n.get("labelLayout");(ue(i)||oe(i).length)&&e.group.traverse((function(e){if(e.ignore)return!0;var r=e.getTextContent();e=Cl(e);r&&!r.disableLabelLayout&&t._addLabel(e.dataIndex,e.dataType,n,r,i)}))},MS.prototype.updateLayoutConfig=function(e){for(var t=e.getWidth(),n=e.getHeight(),i=0;i<this._labelList.length;i++){var r=this._labelList[i],o=r.label,a=o.__hostTarget,s=r.defaultAttr,l=void 0,u=(l=ue(r.layoutOption)?r.layoutOption(vS(r,a)):r.layoutOption,r.computedLayoutOption=l=l||{},Math.PI/180),c=(a&&a.setTextConfig({local:!1,position:null!=l.x||null!=l.y?null:s.attachedPos,rotation:null!=l.rotate?l.rotate*u:s.attachedRot,offset:[l.dx||0,l.dy||0]}),!1);null!=l.x?(o.x=_o(l.x,t),o.setStyle("x",0),c=!0):(o.x=s.x,o.setStyle("x",s.style.x)),null!=l.y?(o.y=_o(l.y,n),o.setStyle("y",0),c=!0):(o.y=s.y,o.setStyle("y",s.style.y)),!l.labelLinePoints||(h=a.getTextGuideLine())&&(h.setShape({points:l.labelLinePoints}),c=!1),bS(o).needsUpdateLabelLine=c,o.rotation=null!=l.rotate?l.rotate*u:s.rotation,o.scaleX=s.scaleX,o.scaleY=s.scaleY;for(var h,d=0;d<xS.length;d++){var p=xS[d];o.setStyle(p,(null!=l[p]?l:s.style)[p])}l.draggable?(o.draggable=!0,o.cursor="move",a&&(h=r.seriesModel,null!=r.dataIndex&&(h=r.seriesModel.getData(r.dataType).getItemModel(r.dataIndex)),o.on("drag",function(e,t){return function(){aS(e,t)}}(a,h.getModel("labelLine"))))):(o.off("drag"),o.cursor=s.cursor)}},MS.prototype.layout=function(e){var t=e.getWidth(),n=(e=e.getHeight(),fS(this._labelList)),i=ie(n,(function(e){return"shiftX"===e.layoutOption.moveOverlap})),r=ie(n,(function(e){return"shiftY"===e.layoutOption.moveOverlap}));gS(i,"x","width",0,t,undefined),mS(r,0,e),yS(ie(n,(function(e){return e.layoutOption.hideOverlap})))},MS.prototype.processLabelsOverall=function(){var e=this;ee(this._chartViewList,(function(t){var n=t.__model,i=t.ignoreLabelLineUpdate,r=n.isAnimationEnabled();t.group.traverse((function(t){if(t.ignore&&!t.forceLabelAnimation)return!0;var o=!i,a=t.getTextContent();(o=!o&&a?bS(a).needsUpdateLabelLine:o)&&e._updateLabelLine(t,n),r&&e._animateLabels(t,n)}))}))},MS.prototype._updateLabelLine=function(e,t){var n=e.getTextContent(),i=Cl(e),r=i.dataIndex;n&&null!=r&&(t=(n=t.getData(i.dataType)).getItemModel(r),i={},r=n.getItemVisual(r,"style"),n=n.getVisual("drawType"),i.stroke=r[n],r=t.getModel("labelLine"),dS(e,pS(t),i),aS(e,r))},MS.prototype._animateLabels=function(e,t){var n,i,r,o,a,s=e.getTextContent(),l=e.getTextGuideLine();!s||!e.forceLabelAnimation&&(s.ignore||s.invisible||e.disableLabelAnimation||Iu(e))||(o=(r=bS(s)).oldLayout,n=(i=Cl(e)).dataIndex,a={x:s.x,y:s.y,rotation:s.rotation},i=t.getData(i.dataType),o?(s.attr(o),(e=e.prevStates)&&(0<=K(e,"select")&&s.attr(r.oldLayoutSelect),0<=K(e,"emphasis")&&s.attr(r.oldLayoutEmphasis)),Cu(s,a,t,n)):(s.attr(a),Wu(s).valueAnimation||(e=we(s.style.opacity,1),s.style.opacity=0,Tu(s,{style:{opacity:e}},t,n))),r.oldLayout=a,s.states.select&&(SS(e=r.oldLayoutSelect={},a,AS),SS(e,s.states.select,AS)),s.states.emphasis&&(SS(e=r.oldLayoutEmphasis={},a,AS),SS(e,s.states.emphasis,AS)),Xu(s,n,i,t,t)),!l||l.ignore||l.invisible||(o=(r=wS(l)).oldLayout,a={points:l.shape.points},o?(l.attr({shape:o}),Cu(l,{shape:a},t)):(l.setShape(a),l.style.strokePercent=0,Tu(l,{style:{strokePercent:1}},t)),r.oldLayout=a)};var CS,TS=MS,IS=ea();function kS(e){e.registerUpdateLifecycle("series:beforeupdate",(function(e,t,n){(IS(t).labelManager||(IS(t).labelManager=new TS)).clearLabels()})),e.registerUpdateLifecycle("series:layoutlabels",(function(e,t,n){var i=IS(t).labelManager;n.updatedSeries.forEach((function(e){i.addLabelsOfSeries(t.getViewOfSeriesModel(e))})),i.updateLayoutConfig(t),i.layout(t),i.processLabelsOverall()}))}function DS(e,t,n){var i=I.createCanvas(),r=t.getWidth(),o=(t=t.getHeight(),i.style);return o&&(o.position="absolute",o.left="0",o.top="0",o.width=r+"px",o.height=t+"px",i.setAttribute("data-zr-dom-id",e)),i.width=r*n,i.height=t*n,i}function BS(e,t,n){var i,r=CS.call(this)||this;return(e=(r.motionBlur=!1,r.lastFrameAlpha=.7,r.dpr=1,r.virtual=!1,r.config={},r.incremental=!1,r.zlevel=0,r.maxRepaintRectCount=5,r.__dirty=!0,r.__firstTimePaint=!0,r.__used=!1,r.__drawIndex=0,r.__startIndex=0,r.__endIndex=0,r.__prevStartIndex=null,r.__prevEndIndex=null,n=n||sr,"string"==typeof e?i=DS(e,t,n):pe(e)&&(e=(i=e).id),r.id=e,(r.dom=i).style))&&(Oe(i),i.onselectstart=function(){return!1},e.padding="0",e.margin="0",e.borderWidth="0"),r.painter=t,r.dpr=n,r}p_(kS),He(BS,CS=yt),BS.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},BS.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},BS.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},BS.prototype.setUnpainted=function(){this.__firstTimePaint=!0},BS.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=DS("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},BS.prototype.createRepaintRects=function(e,t,n,i){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var r=[],o=this.maxRepaintRectCount,a=!1,s=new zr(0,0,0,0);function l(e){if(e.isFinite()&&!e.isZero())if(0===r.length)(t=new zr(0,0,0,0)).copy(e),r.push(t);else{for(var t,n=!1,i=1/0,l=0,u=0;u<r.length;++u){var c=r[u];if(c.intersect(e)){var h=new zr(0,0,0,0);h.copy(c),h.union(e),r[u]=h,n=!0;break}a&&(s.copy(e),s.union(c),h=e.width*e.height,c=c.width*c.height,(c=s.width*s.height-h-c)<i&&(i=c,l=u))}a&&(r[l].union(e),n=!0),n||((t=new zr(0,0,0,0)).copy(e),r.push(t)),a=a||r.length>=o}}for(var u,c=this.__startIndex;c<this.__endIndex;++c)(h=e[c])&&(p=h.shouldBePainted(n,i,!0,!0),(d=h.__isRendered&&(1&h.__dirty||!p)?h.getPrevPaintRect():null)&&l(d),(u=p&&(1&h.__dirty||!h.__isRendered)?h.getPaintRect():null)&&l(u));for(c=this.__prevStartIndex;c<this.__prevEndIndex;++c){var h,d,p=(h=t[c]).shouldBePainted(n,i,!0,!0);!h||p&&h.__zr||!h.__isRendered||(d=h.getPrevPaintRect())&&l(d)}do{var f=!1;for(c=0;c<r.length;)if(r[c].isZero())r.splice(c,1);else{for(var g=c+1;g<r.length;)r[c].intersect(r[g])?(f=!0,r[c].union(r[g]),r.splice(g,1)):g++;c++}}while(f);return this._paintRects=r},BS.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},BS.prototype.resize=function(e,t){var n=this.dpr,i=this.dom,r=i.style,o=this.domBack;r&&(r.width=e+"px",r.height=t+"px"),i.width=e*n,i.height=t*n,o&&(o.width=e*n,o.height=t*n,1!==n&&this.ctxBack.scale(n,n))},BS.prototype.clear=function(e,t,n){var i=this.dom,r=this.ctx,o=i.width,a=i.height,s=(t=t||this.clearColor,this.motionBlur&&!e),l=this.lastFrameAlpha,u=this.dpr,c=this,h=(s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,o/u,a/u)),this.domBack);function d(e,n,i,o){var a;r.clearRect(e,n,i,o),t&&"transparent"!==t&&(a=void 0,ye(t)?(a=t.__canvasGradient||hv(r,t,{x:0,y:0,width:i,height:o}),t.__canvasGradient=a):ve(t)&&(a=bv(r,t,{dirty:function(){c.setUnpainted(),c.__painter.refresh()}})),r.save(),r.fillStyle=a||t,r.fillRect(e,n,i,o),r.restore()),s&&(r.save(),r.globalAlpha=l,r.drawImage(h,e,n,i,o),r.restore())}!n||s?d(0,0,o,a):n.length&&ee(n,(function(e){d(e.x*u,e.y*u,e.width*u,e.height*u)}))};var ES=BS,PS=314159;function LS(e,t,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var r=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=n=X({},n||{}),this.dpr=n.devicePixelRatio||sr,this._singleCanvas=r,(this.root=e).style&&(Oe(e),e.innerHTML=""),this.storage=t;t=this._zlevelList;var o,a,s=(this._prevDisplayList=[],this._layers);r?(o=(r=e).width,a=r.height,null!=n.width&&(o=n.width),null!=n.height&&(a=n.height),this.dpr=n.devicePixelRatio||1,r.width=o*this.dpr,r.height=a*this.dpr,this._width=o,this._height=a,(o=new ES(r,this,this.dpr)).__builtin__=!0,o.initContext(),(s[PS]=o).zlevel=PS,t.push(PS),this._domRoot=e):(this._width=pv(e,0,n),this._height=pv(e,1,n),o=this._domRoot=(a=this._width,r=this._height,(s=document.createElement("div")).style.cssText=["position:relative","width:"+a+"px","height:"+r+"px","padding:0","margin:0","border-width:0"].join(";")+";",s),e.appendChild(o))}LS.prototype.getType=function(){return"canvas"},LS.prototype.isSingleCanvas=function(){return this._singleCanvas},LS.prototype.getViewportRoot=function(){return this._domRoot},LS.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},LS.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,n,e,this._redrawId);for(var r=0;r<i.length;r++){var o,a=i[r];!(a=this._layers[a]).__builtin__&&a.refresh&&(o=0===r?this._backgroundColor:null,a.refresh(o))}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},LS.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},LS.prototype._paintHoverList=function(e){var t=e.length,n=this._hoverlayer;if(n&&n.clear(),t){for(var i,r={inHover:!0,viewWidth:this._width,viewHeight:this._height},o=0;o<t;o++){var a=e[o];a.__inHover&&(n=n||(this._hoverlayer=this.getLayer(1e5)),i||(i=n.ctx).save(),Dv(i,a,r,o===t-1))}i&&i.restore()}},LS.prototype.getHoverLayer=function(){return this.getLayer(1e5)},LS.prototype.paintOne=function(e,t){kv(e,t)},LS.prototype._paintList=function(e,t,n,i){var r,o,a;this._redrawId===i&&(n=n||!1,this._updateLayerStatus(e),r=(o=this._doPaintList(e,t,n)).finished,o=o.needsRefreshHover,this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(e),r?this.eachLayer((function(e){e.afterBrush&&e.afterBrush()})):(a=this,on((function(){a._paintList(e,t,n,i)}))))},LS.prototype._compositeManually=function(){var e=this.getLayer(PS).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer((function(i){i.virtual&&e.drawImage(i.dom,0,0,t,n)}))},LS.prototype._doPaintList=function(e,t,n){for(var i=this,r=[],o=this._opts.useDirtyRect,a=0;a<this._zlevelList.length;a++){var s=this._zlevelList[a];(s=this._layers[s]).__builtin__&&s!==this._hoverlayer&&(s.__dirty||n)&&r.push(s)}for(var l=!0,u=!1,c=function(a){function s(t){var n={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(d=m;d<p.__endIndex;d++){var r=e[d];if(r.__inHover&&(u=!0),i._doPaintEl(r,p,o,t,n,d===p.__endIndex-1),y&&15<Date.now()-v)break}n.prevElClipPaths&&f.restore()}var c,d,p=r[a],f=p.ctx,g=o&&p.createRepaintRects(e,t,h._width,h._height),m=n?p.__startIndex:p.__drawIndex,y=!n&&p.incremental&&Date.now,v=y&&Date.now();a=p.zlevel===h._zlevelList[0]?h._backgroundColor:null;if(p.__startIndex!==p.__endIndex&&(m!==p.__startIndex||(c=e[m]).incremental&&c.notClear&&!n)||p.clear(!1,a,g),-1===m&&(m=p.__startIndex),g)if(0===g.length)d=p.__endIndex;else for(var x=h.dpr,_=0;_<g.length;++_){var b=g[_];f.save(),f.beginPath(),f.rect(b.x*x,b.y*x,b.width*x,b.height*x),f.clip(),s(b),f.restore()}else f.save(),s(),f.restore();p.__drawIndex=d,p.__drawIndex<p.__endIndex&&(l=!1)},h=this,d=0;d<r.length;d++)c(d);return A.wxa&&ee(this._layers,(function(e){e&&e.ctx&&e.ctx.draw&&e.ctx.draw()})),{finished:l,needsRefreshHover:u}},LS.prototype._doPaintEl=function(e,t,n,i,r,o){t=t.ctx,n?(n=e.getPaintRect(),(!i||n&&n.intersect(i))&&(Dv(t,e,r,o),e.setPrevPaintRect(n))):Dv(t,e,r,o)},LS.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=PS);var n=this._layers[e];return n||((n=new ES("zr_"+e,this,this.dpr)).zlevel=e,n.__builtin__=!0,this._layerConfig[e]?W(n,this._layerConfig[e],!0):this._layerConfig[e-.01]&&W(n,this._layerConfig[e-.01],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},LS.prototype.insertLayer=function(e,t){var n,i=this._layers,r=this._zlevelList,o=r.length,a=this._domRoot,s=null,l=-1;if(!i[e]&&(n=t)&&(n.__builtin__||"function"==typeof n.resize&&"function"==typeof n.refresh)){if(0<o&&e>r[0]){for(l=0;l<o-1&&!(r[l]<e&&r[l+1]>e);l++);s=i[r[l]]}r.splice(l+1,0,e),(i[e]=t).virtual||(s?(n=s.dom).nextSibling?a.insertBefore(t.dom,n.nextSibling):a.appendChild(t.dom):a.firstChild?a.insertBefore(t.dom,a.firstChild):a.appendChild(t.dom)),t.__painter=this}},LS.prototype.eachLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var r=n[i];e.call(t,this._layers[r],r)}},LS.prototype.eachBuiltinLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var r=n[i],o=this._layers[r];o.__builtin__&&e.call(t,o,r)}},LS.prototype.eachOtherLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var r=n[i],o=this._layers[r];o.__builtin__||e.call(t,o,r)}},LS.prototype.getLayers=function(){return this._layers},LS.prototype._updateLayerStatus=function(e){function t(e){r&&(r.__endIndex!==e&&(r.__dirty=!0),r.__endIndex=e)}if(this.eachBuiltinLayer((function(e,t){e.__dirty=e.__used=!1})),this._singleCanvas)for(var n=1;n<e.length;n++)if((s=e[n]).zlevel!==e[n-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}for(var i,r=null,o=0,a=0;a<e.length;a++){var s,l=(s=e[a]).zlevel,u=void 0;i!==l&&(i=l,o=0),s.incremental?((u=this.getLayer(l+.001,this._needsManuallyCompositing)).incremental=!0,o=1):u=this.getLayer(l+(0<o?.01:0),this._needsManuallyCompositing),u.__builtin__||U("ZLevel "+l+" has been used by unkown layer "+u.id),u!==r&&(u.__used=!0,u.__startIndex!==a&&(u.__dirty=!0),u.__startIndex=a,u.incremental?u.__drawIndex=-1:u.__drawIndex=a,t(a),r=u),1&s.__dirty&&!s.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=a))}t(a),this.eachBuiltinLayer((function(e,t){!e.__used&&0<e.getElementCount()&&(e.__dirty=!0,e.__startIndex=e.__endIndex=e.__drawIndex=0),e.__dirty&&e.__drawIndex<0&&(e.__drawIndex=e.__startIndex)}))},LS.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},LS.prototype._clearLayer=function(e){e.clear()},LS.prototype.setBackgroundColor=function(e){this._backgroundColor=e,ee(this._layers,(function(e){e.setUnpainted()}))},LS.prototype.configLayer=function(e,t){if(t){var n=this._layerConfig;n[e]?W(n[e],t,!0):n[e]=t;for(var i=0;i<this._zlevelList.length;i++){var r=this._zlevelList[i];r!==e&&r!==e+.01||W(this._layers[r],n[e],!0)}}},LS.prototype.delLayer=function(e){var t=this._layers,n=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],n.splice(K(n,e),1))},LS.prototype.resize=function(e,t){if(this._domRoot.style){var n=this._domRoot,i=(n.style.display="none",this._opts),r=this.root;if(null!=e&&(i.width=e),null!=t&&(i.height=t),e=pv(r,0,i),t=pv(r,1,i),n.style.display="",this._width!==e||t!==this._height){for(var o in n.style.width=e+"px",n.style.height=t+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(PS).resize(e,t)}return this},LS.prototype.clearLayer=function(e){(e=this._layers[e])&&e.clear()},LS.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},LS.prototype.getRenderedCanvas=function(e){if(this._singleCanvas&&!this._compositeManually)return this._layers[PS].dom;var t=new ES("image",this,(e=e||{}).pixelRatio||this.dpr),n=(t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor),t.ctx);if(e.pixelRatio<=this.dpr){this.refresh();var i=t.dom.width,r=t.dom.height;this.eachLayer((function(e){e.__builtin__?n.drawImage(e.dom,0,0,i,r):e.renderToCanvas&&(n.save(),e.renderToCanvas(n),n.restore())}))}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},a=this.storage.getDisplayList(!0),s=0,l=a.length;s<l;s++){var u=a[s];Dv(n,u,o,s===l-1)}return t.dom},LS.prototype.getWidth=function(){return this._width},LS.prototype.getHeight=function(){return this._height};var RS=LS,OS=Math.sin,FS=Math.cos,NS=Math.PI,zS=2*Math.PI,GS=180/NS;function HS(){}HS.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},HS.prototype.moveTo=function(e,t){this._add("M",e,t)},HS.prototype.lineTo=function(e,t){this._add("L",e,t)},HS.prototype.bezierCurveTo=function(e,t,n,i,r,o){this._add("C",e,t,n,i,r,o)},HS.prototype.quadraticCurveTo=function(e,t,n,i){this._add("Q",e,t,n,i)},HS.prototype.arc=function(e,t,n,i,r,o){this.ellipse(e,t,n,n,0,i,r,o)},HS.prototype.ellipse=function(e,t,n,i,r,o,a,s){var l,u=a-o,c=(s=!s,di((d=Math.abs(u))-zS)||(s?zS<=u:zS<=-u)),h=!!c||!di(d)&&NS<=(0<u?u%zS:u%zS+zS)==!!s,d=e+n*FS(o);u=t+i*OS(o),this._start&&this._add("M",d,u),r=Math.round(r*GS);c?(c=1/this._p,this._add("A",n,i,r,1,+s,e+n*FS(o+(l=(s?1:-1)*(zS-c))),t+i*OS(o+l)),.01<c&&this._add("A",n,i,r,0,+s,d,u)):(o=e+n*FS(a),l=t+i*OS(a),this._add("A",n,i,r,+h,+s,o,l))},HS.prototype.rect=function(e,t,n,i){this._add("M",e,t),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},HS.prototype.closePath=function(){0<this._d.length&&this._add("Z")},HS.prototype._add=function(e,t,n,i,r,o,a,s,l){for(var u=[],c=this._p,h=1;h<arguments.length;h++){var d=arguments[h];if(isNaN(d))return void(this._invalid=!0);u.push(Math.round(d*c)/c)}this._d.push(e+u.join(" ")),this._start="Z"===e},HS.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},HS.prototype.getStr=function(){return this._str};var VS=HS,US="none",ZS=Math.round,WS=["lineCap","miterLimit","lineJoin"],jS=te(WS,(function(e){return"stroke-"+e.toLowerCase()}));var XS="http://www.w3.org/2000/svg",YS="http://www.w3.org/1999/xlink";function JS(e){return document.createElementNS(XS,e)}function KS(e,t,n,i,r){return{tag:e,attrs:n||{},children:i,text:r,key:t}}function QS(e,t){var n=(t=t||{}).newline?"\n":"";return function e(t){var i=t.children,r=t.tag;return function(e,t){var n=[];if(t)for(var i in t){var r=t[i];!1!==r&&(!0!==r&&null!=r&&(i+='="'+r+'"'),n.push(i))}return"<"+e+" "+n.join(" ")+">"}(r,t.attrs)+(t.text||"")+(i?n+te(i,e).join(n)+n:"")+"</"+r+">"}(e)}function qS(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function $S(e,t,n,i){return KS("svg","root",{width:e,height:t,xmlns:XS,"xmlns:xlink":YS,version:"1.1",baseProfile:"full",viewBox:!!i&&"0 0 "+e+" "+t},n)}var eA={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},tA="transform-origin",nA={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function iA(e,t){var n=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[n]=e,n}function rA(e){return ce(e)?eA[e]?"cubic-bezier("+eA[e]+")":Bn(e)?e:"":""}function oA(e,t,n,i){var r=e.animators,o=r.length,a=[];if(e instanceof lm){if(l=function(e,t,n){e=e.shape.paths;var i,r,o={};if(ee(e,(function(e){(t=qS(n.zrId)).animation=!0,oA(e,{},t,!0),e=t.cssAnims;var t,a=t.cssNodes,s=(t=oe(e)).length;if(s){var l,u,c=e[r=t[s-1]];for(l in c){var h=c[l];o[l]=o[l]||{d:""},o[l].d+=h.d||""}for(u in a){var d=a[u].animation;0<=d.indexOf(r)&&(i=d)}}})),i)return t.d=!1,e=iA(o,n),i.replace(r,e)}(e,t,n))a.push(l);else if(!o)return}else if(!o)return;for(var s,l,u,c={},h=0;h<o;h++){var d=r[h],p=[d.getMaxTime()/1e3+"s"],f=rA(d.getClip().easing),g=d.getDelay();c[f=(f?p.push(f):p.push("linear"),g&&p.push(g/1e3+"s"),d.getLoop()&&p.push("infinite"),p.join(" "))]=c[f]||[f,[]],c[f][1].push(d)}function m(r){var o=r[1],a=o.length,s={},l={},u={},c="animation-timing-function";function h(e,t,n){for(var i=e.getTracks(),r=e.getMaxTime(),o=0;o<i.length;o++){var a=i[o];if(a.needsAnimate()){var s=a.keyframes,l=a.propName;if(l=n?n(l):l)for(var u=0;u<s.length;u++){var h=s[u],d=Math.round(h.time/r*100)+"%",p=rA(h.easing),f=h.rawValue;(ce(f)||de(f))&&(t[d]=t[d]||{},t[d][l]=h.rawValue,p&&(t[d][c]=p))}}}}for(var d,p,f=0;f<a;f++)(T=(C=o[f]).targetName)?"shape"===T&&h(C,l):i||h(C,s);for(M in s){var g={},m=(Cr(g,e),X(g,s[M]),bi(g)),y=s[M][c];u[M]=m?{transform:m}:{},m=u[M],void 0,d=g.originX,g=g.originY,(d||g)&&(m[tA]=d+"px "+g+"px"),y&&(u[M][c]=y)}var v,x,_,b=!0;for(M in l){u[M]=u[M]||{};var w=!p,S=(y=l[M][c],(p=w?new Ss:p).len()),A=(p.reset(),u[M].d=(x=l[M],_=p,A=void 0,A=X({},(v=e).shape),X(A,x),v.buildPath(_,A),(x=new VS).reset(_i(v)),_.rebuildPath(x,1),x.generateStr(),x.getStr()),p.len());if(!w&&S!==A){b=!1;break}y&&(u[M][c]=y)}if(!b)for(var M in u)delete u[M].d;if(!i){var C,T;for(f=0;f<a;f++)"style"===(T=(C=o[f]).targetName)&&h(C,u,(function(e){return nA[e]}))}var I,k=oe(u),D=!0;for(f=1;f<k.length;f++){var B=k[f-1],E=k[f];if(u[B][tA]!==u[E][tA]){D=!1;break}I=u[B][tA]}if(D&&I){for(var M in u)u[M][tA]&&delete u[M][tA];t[tA]=I}if(ie(k,(function(e){return 0<oe(u[e]).length})).length)return iA(u,n)+" "+r[0]+" both"}for(s in c)(l=m(c[s]))&&a.push(l);a.length&&(u=n.zrId+"-cls-"+n.cssClassIdx++,n.cssNodes["."+u]={animation:a.join(",")},t.class=u)}var aA=Math.round;function sA(e){return e&&ce(e.src)}function lA(e){return e&&ue(e.toDataURL)}function uA(e,t,n,i){!function(e,t,n,i){var r=null==t.opacity?1:t.opacity;if(n instanceof Qs)e("opacity",r);else if(null!=(a=(a=t).fill)&&a!==US?(e("fill",(a=hi(t.fill)).color),a=null!=t.fillOpacity?t.fillOpacity*a.opacity*r:a.opacity*r,(i||a<1)&&e("fill-opacity",a)):e("fill",US),null!=(a=(a=t).stroke)&&a!==US){var o=(e("stroke",(a=hi(t.stroke)).color),(o=t.strokeNoScale?n.getLineScale():1)?(t.lineWidth||0)/o:0),a=null!=t.strokeOpacity?t.strokeOpacity*a.opacity*r:a.opacity*r;r=t.strokeFirst,!i&&1==o||e("stroke-width",o),(i||r)&&e("paint-order",r?"stroke":"fill"),(i||a<1)&&e("stroke-opacity",a),t.lineDash?(r=(o=fv(n))[0],a=o[1],r&&(a=ZS(a||0),e("stroke-dasharray",r.join(",")),(a||i)&&e("stroke-dashoffset",a))):i&&e("stroke-dasharray",US);for(var s=0;s<WS.length;s++){var l=WS[s];!i&&t[l]===Ns[l]||(l=t[l]||Ns[l])&&e(jS[s],l)}}else i&&e("stroke",US)}((function(r,o){var a,s,l,u,c,h,d,p="fill"===r||"stroke"===r;if(p&&(g=o)&&("linear"===g.type||"radial"===g.type)){var f,g=e,m=r,y=i,v={gradientUnits:(C=(C=t)[m]).global?"userSpaceOnUse":"objectBoundingBox"};if(yi(C))f="linearGradient",v.x1=C.x,v.y1=C.y,v.x2=C.x2,v.y2=C.y2;else{if(!vi(C))return;f="radialGradient",v.cx=we(C.x,.5),v.cy=we(C.y,.5),v.r=we(C.r,.5)}for(var x=C.colorStops,_=[],b=0,w=x.length;b<w;++b){var S=100*fi(x[b].offset)+"%",A=(M=hi(x[b].color)).color,M=M.opacity;(S={offset:S})["stop-color"]=A,M<1&&(S["stop-opacity"]=M),_.push(KS("stop",b+"",S))}var C=QS(KS(f,"",v,_)),T=y.gradientCache,I=T[C];I||(I=y.zrId+"-g"+y.gradientIdx++,T[C]=I,v.id=I,y.defs[I]=KS(f,I,v,_)),g[m]=xi(I)}else p&&(mi(T=o)||T&&T.svgElement)?(C=e,y=r,f=i,m={patternUnits:"userSpaceOnUse"},mi(g=(v=n).style[y])?(l=g.imageWidth,u=g.imageHeight,c=void 0,ce(d=g.image)?c=d:sA(d)?c=d.src:lA(d)&&(c=d.toDataURL()),"undefined"==typeof Image?(Ce(l,d="Image width/height must been given explictly in svg-ssr renderer."),Ce(u,d)):null!=l&&null!=u||(h=function(e,t){var n,i;e&&(n=e.elm,i=e.attrs.width=l||t.width,e=e.attrs.height=u||t.height,n&&(n.setAttribute("width",i),n.setAttribute("height",e)))},(d=Sa(c,null,v,(function(e){h(s,e),h(a,e)})))&&d.width&&d.height&&(l=l||d.width,u=u||d.height)),a=KS("image","img",{href:c,width:l,height:u}),m.width=l,m.height=u):g.svgElement&&(a=Z(g.svgElement),m.width=g.svgWidth,m.height=g.svgHeight),a&&(m.patternTransform=bi(g),v=QS(s=KS("pattern","",m,[a])),(c=(d=f.patternCache)[v])||(c=f.zrId+"-p"+f.patternIdx++,d[v]=c,m.id=c,s=f.defs[c]=KS("pattern",c,m,[a])),C[y]=xi(c))):e[r]=o}),t,n,!1);var r=e,o=i;if(function(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY)}(g=(c=n).style)){var a=function(e){var t=e.style;e=e.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),e[0],e[1]].join(",")}(c),s=o.shadowCache,l=s[a];if(!l){var u=(c=c.getGlobalScale())[0],c=c[1];if(!u||!c)return;var h=g.shadowOffsetX||0,d=g.shadowOffsetY||0,p=g.shadowBlur,f=(g=hi(g.shadowColor)).opacity,g=g.color;p=p/2/u+" "+p/2/c;l=o.zrId+"-s"+o.shadowIdx++,o.defs[l]=KS("filter",l,{id:l,x:"-100%",y:"-100%",width:"300%",height:"300%"},[KS("feDropShadow","",{dx:h/u,dy:d/c,stdDeviation:p,"flood-color":g,"flood-opacity":f})]),s[a]=l}r.filter=xi(l)}}function cA(e){return di(e[0]-1)&&di(e[1])&&di(e[2])&&di(e[3]-1)}function hA(e,t,n){var i;!t||di((i=t)[4])&&di(i[5])&&cA(t)||(i=n?10:1e4,e.transform=cA(t)?"translate("+aA(t[4]*i)/i+" "+aA(t[5]*i)/i+")":"matrix("+pi((n=t)[0])+","+pi(n[1])+","+pi(n[2])+","+pi(n[3])+","+fi(n[4])+","+fi(n[5])+")")}function dA(e,t,n){for(var i=e.points,r=[],o=0;o<i.length;o++)r.push(aA(i[o][0]*n)/n),r.push(aA(i[o][1]*n)/n);t.points=r.join(" ")}function pA(e){return!e.smooth}var fA,gA={circle:[(fA=te(["cx","cy","r"],(function(e){return"string"==typeof e?[e,e]:e})),function(e,t,n){for(var i=0;i<fA.length;i++){var r=fA[i],o=e[r[0]];null!=o&&(t[r[1]]=aA(o*n)/n)}})],polyline:[dA,pA],polygon:[dA,pA]};function mA(e,t){var n,i,r,o=e.style,a=e.shape,s=gA[e.type],l={},u=t.animation,c="path",h=e.style.strokePercent,d=t.compress&&_i(e)||4;return!s||t.willUpdate||s[1]&&!s[1](a)||u&&function(e){for(var t=e.animators,n=0;n<t.length;n++)if("shape"===t[n].targetName)return 1}(e)||h<1?(e.path||e.createPathProxy(),u=e.path,e.shapeChanged()&&(u.beginPath(),e.buildPath(u,e.shape),e.pathUpdated()),n=u.getVersion(),r=(i=e).__svgPathBuilder,i.__svgPathVersion===n&&r&&h===i.__svgPathStrokePercent||((r=r||(i.__svgPathBuilder=new VS)).reset(d),u.rebuildPath(r,h),r.generateStr(),i.__svgPathVersion=n,i.__svgPathStrokePercent=h),l.d=r.getStr()):(c=e.type,u=Math.pow(10,d),s[0](a,l,u)),hA(l,e.transform),uA(l,o,e,t),t.animation&&oA(e,l,t),KS(c,e.id+"",l)}function yA(e,t){if(e instanceof Us)return mA(e,t);if(e instanceof Qs){var n=t;if((s=(i=(a=e).style).image)&&!ce(s)&&(sA(s)?s=s.src:lA(s)&&(s=s.toDataURL())),s)return r=i.x||0,o=i.y||0,s={href:s,width:i.width,height:i.height},r&&(s.x=r),o&&(s.y=o),hA(s,a.transform),uA(s,i,a,n),n.animation&&oA(a,s,n),KS("image",a.id+"",s)}else if(e instanceof Xs){var i,r=e,o=t;if(null!=(n=(i=r.style).text)&&(n+=""),n&&!isNaN(i.x)&&!isNaN(i.y)){var a=i.font||C,s=i.x||0,l=(e=i.y||0,t=jr(a),"top"===(l=i.textBaseline)?e+=t/2:"bottom"===l&&(e-=t/2),e);t={"dominant-baseline":"central","text-anchor":gi[i.textAlign]||i.textAlign};if(yl(i)){e="";var u=i.fontStyle,c=gl(i.fontSize);if(!parseFloat(c))return;var h=i.fontFamily||M,d=i.fontWeight;e+="font-size:"+c+";font-family:"+h+";",u&&"normal"!==u&&(e+="font-style:"+u+";"),d&&"normal"!==d&&(e+="font-weight:"+d+";"),t.style=e}else t.style="font: "+a;return n.match(/\s/)&&(t["xml:space"]="preserve"),s&&(t.x=s),l&&(t.y=l),hA(t,r.transform),uA(t,i,r,o),o.animation&&oA(r,t,o),KS("text",r.id+"",t,void 0,n)}}}function vA(e){return document.createTextNode(e)}function xA(e,t,n){e.insertBefore(t,n)}function _A(e,t){e.removeChild(t)}function bA(e,t){e.appendChild(t)}function wA(e){return e.parentNode}function SA(e){return e.nextSibling}function AA(e,t){e.textContent=t}var MA=KS("","");function CA(e){return void 0===e}function TA(e){return void 0!==e}function IA(e,t){var n=e.key===t.key;return e.tag===t.tag&&n}function kA(e){var t,n=e.children,i=e.tag;if(TA(i)){var r=e.elm=JS(i);if(EA(MA,e),le(n))for(t=0;t<n.length;++t){var o=n[t];null!=o&&bA(r,kA(o))}else TA(e.text)&&!pe(e.text)&&bA(r,vA(e.text))}else e.elm=vA(e.text);return e.elm}function DA(e,t,n,i,r){for(;i<=r;++i){var o=n[i];null!=o&&xA(e,kA(o),t)}}function BA(e,t,n,i){for(;n<=i;++n){var r=t[n];null!=r&&(TA(r.tag)?_A(wA(r.elm),r.elm):_A(e,r.elm))}}function EA(e,t){var n,i=t.elm,r=e&&e.attrs||{},o=t.attrs||{};if(r!==o){for(n in o){var a=o[n];r[n]!==a&&(!0===a?i.setAttribute(n,""):!1===a?i.removeAttribute(n):120!==n.charCodeAt(0)?i.setAttribute(n,a):"xmlns:xlink"===n||"xmlns"===n?i.setAttributeNS("http://www.w3.org/2000/xmlns/",n,a):58===n.charCodeAt(3)?i.setAttributeNS("http://www.w3.org/XML/1998/namespace",n,a):58===n.charCodeAt(5)?i.setAttributeNS(YS,n,a):i.setAttribute(n,a))}for(n in r)n in o||i.removeAttribute(n)}}function PA(e,t){var n=t.elm=e.elm,i=e.children,r=t.children;e!==t&&(EA(e,t),CA(t.text)?TA(i)&&TA(r)?i!==r&&function(e,t,n){for(var i,r,o,a=0,s=0,l=t.length-1,u=t[0],c=t[l],h=n.length-1,d=n[0],p=n[h];a<=l&&s<=h;)null==u?u=t[++a]:null==c?c=t[--l]:null==d?d=n[++s]:null==p?p=n[--h]:IA(u,d)?(PA(u,d),u=t[++a],d=n[++s]):IA(c,p)?(PA(c,p),c=t[--l],p=n[--h]):IA(u,p)?(PA(u,p),xA(e,u.elm,SA(c.elm)),u=t[++a],p=n[--h]):(IA(c,d)?(PA(c,d),xA(e,c.elm,u.elm),c=t[--l]):(CA(i)&&(i=function(e,t,n){for(var i={},r=t;r<=n;++r){var o=e[r].key;void 0!==o&&(i[o]=r)}return i}(t,a,l)),CA(r=i[d.key])||(o=t[r]).tag!==d.tag?xA(e,kA(d),u.elm):(PA(o,d),t[r]=void 0,xA(e,o.elm,u.elm))),d=n[++s]);(a<=l||s<=h)&&(l<a?DA(e,null==n[h+1]?null:n[h+1].elm,n,s,h):BA(e,t,a,l))}(n,i,r):TA(r)?(TA(e.text)&&AA(n,""),DA(n,null,r,0,r.length-1)):TA(i)?BA(n,i,0,i.length-1):TA(e.text)&&AA(n,""):e.text!==t.text&&(TA(i)&&BA(n,i,0,i.length-1),AA(n,t.text)))}var LA=0;function RA(e,t,n){var i;this.type="svg",this.refreshHover=function(){},this.configLayer=function(){},this.storage=t,this._opts=n=X({},n),this.root=e,this._id="zr"+LA++,this._oldVNode=$S(n.width,n.height),e&&!n.ssr&&((t=this._viewport=document.createElement("div")).style.cssText="position:relative;overflow:hidden",i=this._svgDom=this._oldVNode.elm=JS("svg"),EA(null,this._oldVNode),t.appendChild(i),e.appendChild(t)),this.resize(n.width,n.height)}RA.prototype.getType=function(){return this.type},RA.prototype.getViewportRoot=function(){return this._viewport},RA.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},RA.prototype.getSvgDom=function(){return this._svgDom},RA.prototype.refresh=function(){var e,t,n,i,r;this.root&&((e=this.renderToVNode({willUpdate:!0})).attrs.style="position:absolute;left:0;top:0;user-select:none",IA(t=this._oldVNode,n=e)?PA(t,n):(r=wA(i=t.elm),kA(n),null!==r&&(xA(r,n.elm,SA(i)),BA(r,[t],0,0))),this._oldVNode=e)},RA.prototype.renderOneToVNode=function(e){return yA(e,qS(this._id))},RA.prototype.renderToVNode=function(e){e=e||{};var t,n,i,r,o,a=this.storage.getDisplayList(!0),s=this._backgroundColor,l=this._width,u=this._height,c=qS(this._id),h=(c.animation=e.animation,c.willUpdate=e.willUpdate,c.compress=e.compress,[]),d=(s&&"none"!==s?(d=(s=hi(s)).color,s=s.opacity,this._bgVNode=KS("rect","bg",{width:l,height:u,x:"0",y:"0",id:"0",fill:d,"fill-opacity":s}),h.push(this._bgVNode)):this._bgVNode=null,e.compress?null:this._mainVNode=KS("g","main",{},[]));this._paintList(a,c,d?d.children:h),d&&h.push(d),s=te(oe(c.defs),(function(e){return c.defs[e]}));return s.length&&h.push(KS("defs","defs",{},s)),e.animation&&(t=c.cssNodes,n=c.cssAnims,i=(a=(a={newline:!0})||{}).newline?"\n":"",r=" {"+i,o=i+"}",a=te(oe(t),(function(e){return e+r+te(oe(t[e]),(function(n){return n+":"+t[e][n]+";"})).join(i)+o})).join(i),d=te(oe(n),(function(e){return"@keyframes "+e+r+te(oe(n[e]),(function(t){return t+r+te(oe(n[e][t]),(function(i){var r=n[e][t][i];return i+":"+(r="d"===i?'path("'+r+'")':r)+";"})).join(i)+o})).join(i)+o})).join(i),(s=a||d?["<![CDATA[",a,d,"]]>"].join(i):"")&&(a=KS("style","stl",{},[],s),h.push(a))),$S(l,u,h,e.useViewBox)},RA.prototype.renderToString=function(e){return QS(this.renderToVNode({animation:we((e=e||{}).cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:we(e.useViewBox,!0)}),{newline:!0})},RA.prototype.setBackgroundColor=function(e){this._backgroundColor=e;var t,n=this._bgVNode;n&&n.elm&&(t=(e=hi(e)).color,e=e.opacity,n.elm.setAttribute("fill",t),e<1&&n.elm.setAttribute("fill-opacity",e))},RA.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},RA.prototype._paintList=function(e,t,n){for(var i,r,o,a,s,l,u,c=e.length,h=[],d=0,p=0,f=0;f<c;f++){var g=e[f];if(!g.invisible){var m=g.__clipPaths,y=m&&m.length||0,v=A&&A.length||0,x=void 0;for(x=Math.max(y-1,v-1);0<=x&&(!m||!A||m[x]!==A[x]);x--);for(var _=v-1;x<_;_--)i=h[--d-1];for(var b=x+1;b<y;b++){var w={},S=(r=m[b],o=w,u=S=l=s=void 0,l=(a=t).clipPathCache,S=a.defs,(u=l[r.id])||(s={id:u=a.zrId+"-c"+a.clipPathIdx++},S[l[r.id]=u]=KS("clipPath",u,s,[mA(r,a)])),o["clip-path"]=xi(u),KS("g","clip-g-"+p++,w,[]));(i?i.children:n).push(S),i=h[d++]=S}var A=m;(v=yA(g,t))&&(i?i.children:n).push(v)}}},RA.prototype.resize=function(e,t){var n=this._opts,i=this.root,r=this._viewport;null!=e&&(n.width=e),null!=t&&(n.height=t),i&&r&&(r.style.display="none",e=pv(i,0,n),t=pv(i,1,n),r.style.display=""),this._width===e&&this._height===t||(this._width=e,this._height=t,r&&((i=r.style).width=e+"px",i.height=t+"px"),(n=this._svgDom)&&(n.setAttribute("width",e),n.setAttribute("height",t)))},RA.prototype.getWidth=function(){return this._width},RA.prototype.getHeight=function(){return this._height},RA.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},RA.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},RA.prototype.toDataURL=function(e){var t=encodeURIComponent(this.renderToString()),n="data:image/svg+xml;";return e?(t=wi(t))&&n+"base64,"+t:n+"charset=UTF-8,"+t};var OA,FA=RA;function NA(){var e=null!==OA&&OA.apply(this,arguments)||this;return e.type=NA.type,e.hasSymbolVisual=!0,e}_(NA,OA=Pf),NA.prototype.getInitialData=function(e){return q_(null,this,{useEncodeDefaulter:!0})},NA.prototype.getLegendIcon=function(e){var t=new ao,n=lv("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1),i=(n=(t.add(n),n.setStyle(e.lineStyle),this.getData().getVisual("symbol")),this.getData().getVisual("symbolRotate")),r=(n="none"===n?"circle":n,.8*e.itemHeight);r=lv(n,(e.itemWidth-r)/2,(e.itemHeight-r)/2,r,r,e.itemStyle.fill),t.add(r),r.setStyle(e.itemStyle),i="inherit"===e.iconRotate?i:e.iconRotate||0;return r.rotation=i*Math.PI/180,r.setOrigin([e.itemWidth/2,e.itemHeight/2]),-1<n.indexOf("empty")&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),t},NA.type="series.line",NA.dependencies=["grid","polar"],NA.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1};var zA,GA=NA;function HA(e,t){var n,i=e.mapDimensionsAll("defaultedLabel"),r=i.length;if(1===r)return null!=(n=sp(e,t,i[0]))?n+"":null;if(r){for(var o=[],a=0;a<i.length;a++)o.push(sp(e,t,i[a]));return o.join(" ")}}function VA(e,t){var n=e.mapDimensionsAll("defaultedLabel");if(!le(t))return t+"";for(var i=[],r=0;r<n.length;r++){var o=e.getDimensionIndex(n[r]);0<=o&&i.push(t[o])}return i.join(" ")}function UA(e,t,n,i){var r=zA.call(this)||this;return r.updateData(e,t,n,i),r}function ZA(e,t){this.parent.drift(e,t)}_(UA,zA=ao),UA.prototype._createSymbol=function(e,t,n,i,r){this.removeAll(),(r=lv(e,-1,-1,2,2,null,r)).attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),r.drift=ZA,this._symbolType=e,this.add(r)},UA.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},UA.prototype.getSymbolType=function(){return this._symbolType},UA.prototype.getSymbolPath=function(){return this.childAt(0)},UA.prototype.highlight=function(){tu(this.childAt(0))},UA.prototype.downplay=function(){nu(this.childAt(0))},UA.prototype.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},UA.prototype.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":t.cursor},UA.prototype.updateData=function(e,t,n,i){this.silent=!1;var r,o,a,s=e.getItemVisual(t,"symbol")||"circle",l=e.hostModel,u=UA.getSymbolSize(e,t),c=s!==this._symbolType,h=i&&i.disableAnimation;c?(r=e.getItemVisual(t,"symbolKeepAspect"),this._createSymbol(s,e,t,u,r)):((o=this.childAt(0)).silent=!1,a={scaleX:u[0]/2,scaleY:u[1]/2},h?o.attr(a):Cu(o,a,l,t),Eu(o)),this._updateCommon(e,t,u,n,i),c&&(o=this.childAt(0),h||(a={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:o.style.opacity}},o.scaleX=o.scaleY=0,o.style.opacity=0,Tu(o,a,l,t))),h&&this.childAt(0).stopAnimation("leave")},UA.prototype._updateCommon=function(e,t,n,i,r){var o,a,s,l,u,c,h,d,p=this.childAt(0),f=e.hostModel,g=(i&&(o=i.emphasisItemStyle,s=i.blurItemStyle,a=i.selectItemStyle,l=i.focus,u=i.blurScope,h=i.labelStatesModels,d=i.hoverScale,m=i.cursorStyle,c=i.emphasisDisabled),i&&!e.hasItemOption||(o=(g=(i=i&&i.itemModel?i.itemModel:e.getItemModel(t)).getModel("emphasis")).getModel("itemStyle").getItemStyle(),a=i.getModel(["select","itemStyle"]).getItemStyle(),s=i.getModel(["blur","itemStyle"]).getItemStyle(),l=g.get("focus"),u=g.get("blurScope"),c=g.get("disabled"),h=Fu(i),d=g.getShallow("scale"),m=i.getShallow("cursor")),e.getItemVisual(t,"symbolRotate")),m=(i=(g=((i=(p.attr("rotation",(g||0)*Math.PI/180||0),cv(e.getItemVisual(t,"symbolOffset"),n)))&&(p.x=i[0],p.y=i[1]),m&&p.attr("cursor",m),e.getItemVisual(t,"style"))).fill,p instanceof Qs?(m=p.style,p.useStyle(X({image:m.image,x:m.x,y:m.y,width:m.width,height:m.height},g))):(p.__isEmptyBrush?p.useStyle(X({},g)):p.useStyle(g),p.style.decal=null,p.setColor(i,r&&r.symbolInnerColor),p.style.strokeNoScale=!0),e.getItemVisual(t,"liftZ")),y=this._z2,v=(null!=m?null==y&&(this._z2=p.z2,p.z2+=m):null!=y&&(p.z2=y,this._z2=null),r&&r.useNameLabel);Ou(p,h,{labelFetcher:f,labelDataIndex:t,defaultText:function(t){return v?e.getName(t):HA(e,t)},inheritColor:i,defaultOpacity:g.opacity}),this._sizeX=n[0]/2,this._sizeY=n[1]/2,(m=p.ensureState("emphasis")).style=o,p.ensureState("select").style=a,p.ensureState("blur").style=s,d&&(y=Math.max(de(d)?d:1.1,3/this._sizeY),m.scaleX=this._sizeX*y,m.scaleY=this._sizeY*y),this.setSymbolScale(1),fu(this,l,u,c)},UA.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},UA.prototype.fadeOut=function(e,t,n){var i=this.childAt(0),r=Cl(this).dataIndex,o=n&&n.animation;this.silent=i.silent=!0,n&&n.fadeLabel?(n=i.getTextContent())&&ku(n,{style:{opacity:0}},t,{dataIndex:r,removeOpt:o,cb:function(){i.removeTextContent()}}):i.removeTextContent(),ku(i,{style:{opacity:0},scaleX:0,scaleY:0},t,{dataIndex:r,cb:e,removeOpt:o})},UA.getSymbolSize=function(e,t){return uv(e.getItemVisual(t,"symbolSize"))};var WA=UA;function jA(e,t,n,i){return t&&!isNaN(t[0])&&!isNaN(t[1])&&(!i.isIgnore||!i.isIgnore(n))&&(!i.clipShape||i.clipShape.contain(t[0],t[1]))&&"none"!==e.getItemVisual(n,"symbol")}function XA(e){return(e=null==e||pe(e)?e:{isIgnore:e})||{}}function YA(e){var t=(e=e.hostModel).getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:Fu(e),cursorStyle:e.get("cursor")}}function JA(e){this.group=new ao,this._SymbolCtor=e||WA}JA.prototype.updateData=function(e,t){this._progressiveEls=null,t=XA(t);var n=this.group,i=e.hostModel,r=this._data,o=this._SymbolCtor,a=t.disableAnimation,s=YA(e),l={disableAnimation:a},u=t.getSymbolPoint||function(t){return e.getItemLayout(t)};r||n.removeAll(),e.diff(r).add((function(i){var r,a=u(i);jA(e,a,i,t)&&((r=new o(e,i,s,l)).setPosition(a),e.setItemGraphicEl(i,r),n.add(r))})).update((function(c,h){h=r.getItemGraphicEl(h);var d,p,f=u(c);jA(e,f,c,t)?(d=e.getItemVisual(c,"symbol")||"circle",p=h&&h.getSymbolType&&h.getSymbolType(),!h||p&&p!==d?(n.remove(h),(h=new o(e,c,s,l)).setPosition(f)):(h.updateData(e,c,s,l),p={x:f[0],y:f[1]},a?h.attr(p):Cu(h,p,i)),n.add(h),e.setItemGraphicEl(c,h)):n.remove(h)})).remove((function(e){var t=r.getItemGraphicEl(e);t&&t.fadeOut((function(){n.remove(t)}),i)})).execute(),this._getSymbolPoint=u,this._data=e},JA.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl((function(t,n){n=e._getSymbolPoint(n),t.setPosition(n),t.markRedraw()}))},JA.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=YA(e),this._data=null,this.group.removeAll()},JA.prototype.incrementalUpdate=function(e,t,n){function i(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],n=XA(n);for(var r=e.start;r<e.end;r++){var o,a=t.getItemLayout(r);jA(t,a,r,n)&&((o=new this._SymbolCtor(t,r,this._seriesScope)).traverse(i),o.setPosition(a),this.group.add(o),t.setItemGraphicEl(r,o),this._progressiveEls.push(o))}},JA.prototype.eachRendered=function(e){qm(this._progressiveEls||this.group,e)},JA.prototype.remove=function(e){var t=this.group,n=this._data;n&&e?n.eachItemGraphicEl((function(e){e.fadeOut((function(){t.remove(e)}),n.hostModel)})):t.removeAll()};var KA=JA;function QA(e,t,n){var i=e.getBaseAxis(),r=(n=function(e,t){var n=0;e=e.scale.getExtent();return"start"===t?n=e[0]:"end"===t?n=e[1]:de(t)&&!isNaN(t)?n=t:0<e[0]?n=e[0]:e[1]<0&&(n=e[1]),n}(r=e.getOtherAxis(i),n),i=i.dim,r.dim),o=t.mapDimension(r),a=t.mapDimension(i),s="x"===r||"radius"===r?1:0,l=(e=te(e.dimensions,(function(e){return t.mapDimension(e)})),!1),u=t.getCalculationInfo("stackResultDimension");return K_(t,e[0])&&(l=!0,e[0]=u),K_(t,e[1])&&(l=!0,e[1]=u),{dataDimsForPoint:e,valueStart:n,valueAxisDim:r,baseAxisDim:i,stacked:!!l,valueDim:o,baseDim:a,baseDataOffset:s,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function qA(e,t,n,i){var r=NaN,o=(e.stacked&&(r=n.get(n.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=e.valueStart),e.baseDataOffset),a=[];return a[o]=n.get(e.baseDim,i),a[1-o]=r,t.dataToPoint(a)}var $A=Math.min,eM=Math.max;function tM(e,t){return isNaN(e)||isNaN(t)}function nM(e,t,n,i,r,o,a,s,l){for(var u,c,h,d,p=n,f=0;f<i;f++){var g=t[2*p],m=t[2*p+1];if(r<=p||p<0)break;if(tM(g,m)){if(l){p+=o;continue}break}if(p===n)e[0<o?"moveTo":"lineTo"](g,m),h=g,d=m;else{if((D=g-u)*D+(B=m-c)*B<.5){p+=o;continue}if(0<a){for(var y=p+o,v=t[2*y],x=t[2*y+1];v===g&&x===m&&f<i;)f++,p+=o,v=t[2*(y+=o)],x=t[2*y+1],g=t[2*p],m=t[2*p+1];var _=f+1;if(l)for(;tM(v,x)&&_<i;)_++,v=t[2*(y+=o)],x=t[2*y+1];var b,w,S,A,M,C,T,I,k,D=0,B=0,E=void 0,P=void 0;i<=_||tM(v,x)?(T=g,I=m):(D=v-u,B=x-c,b=g-u,w=v-g,S=m-c,A=x-m,C=M=void 0,P="x"===s?(T=g-(k=0<D?1:-1)*(M=Math.abs(b))*a,I=m,E=g+k*(C=Math.abs(w))*a,m):"y"===s?(I=m-(k=0<B?1:-1)*(M=Math.abs(S))*a,E=T=g,m+k*(C=Math.abs(A))*a):(M=Math.sqrt(b*b+S*S),T=g-D*a*(1-(b=(C=Math.sqrt(w*w+A*A))/(C+M))),I=m-B*a*(1-b),P=m+B*a*b,E=$A(E=g+D*a*b,eM(v,g)),P=$A(P,eM(x,m)),E=eM(E,$A(v,g)),I=m-(B=(P=eM(P,$A(x,m)))-m)*M/C,T=$A(T=g-(D=E-g)*M/C,eM(u,g)),I=$A(I,eM(c,m)),E=g+(D=g-(T=eM(T,$A(u,g))))*C/M,m+(B=m-(I=eM(I,$A(c,m))))*C/M)),e.bezierCurveTo(h,d,T,I,g,m),h=E,d=P}else e.lineTo(g,m)}u=g,c=m,p+=o}return f}var iM,rM=function(){this.smooth=0,this.smoothConstraint=!0},oM=(_(aM,iM=Us),aM.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},aM.prototype.getDefaultShape=function(){return new rM},aM.prototype.buildPath=function(e,t){var n=t.points,i=0,r=n.length/2;if(t.connectNulls){for(;0<r&&tM(n[2*r-2],n[2*r-1]);r--);for(;i<r&&tM(n[2*i],n[2*i+1]);i++);}for(;i<r;)i+=nM(e,n,i,r,r,1,t.smooth,t.smoothMonotone,t.connectNulls)+1},aM.prototype.getPointOn=function(e,t){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,i,r=this.path.data,o=Ss.CMD,a="x"===t,s=[],l=0;l<r.length;){var u=void 0,c=void 0;switch(r[l++]){case o.M:n=r[l++],i=r[l++];break;case o.L:var h;u=r[l++],c=r[l++];if((h=a?(e-n)/(u-n):(e-i)/(c-i))<=1&&0<=h)return v=a?(c-i)*h+i:(u-n)*h+n,a?[e,v]:[v,e];n=u,i=c;break;case o.C:u=r[l++],c=r[l++];var d=r[l++],p=r[l++],f=r[l++],g=r[l++],m=a?bn(n,u,d,f,e,s):bn(i,c,p,g,e,s);if(0<m)for(var y=0;y<m;y++){var v,x=s[y];if(x<=1&&0<=x)return v=a?xn(i,c,p,g,x):xn(n,u,d,f,x),a?[e,v]:[v,e]}n=f,i=g}}},aM);function aM(e){return(e=iM.call(this,e)||this).type="ec-polyline",e}_(uM,sM=rM);var sM,lM=uM;function uM(){return null!==sM&&sM.apply(this,arguments)||this}_(pM,cM=Us),pM.prototype.getDefaultShape=function(){return new lM},pM.prototype.buildPath=function(e,t){var n=t.points,i=t.stackedOnPoints,r=0,o=n.length/2,a=t.smoothMonotone;if(t.connectNulls){for(;0<o&&tM(n[2*o-2],n[2*o-1]);o--);for(;r<o&&tM(n[2*r],n[2*r+1]);r++);}for(;r<o;){var s=nM(e,n,r,o,o,1,t.smooth,a,t.connectNulls);nM(e,i,r+s-1,s,o,-1,t.stackedOnSmooth,a,t.connectNulls),r+=s+1,e.closePath()}};var cM,hM,dM=pM;function pM(e){return(e=cM.call(this,e)||this).type="ec-polygon",e}function fM(e,t,n,i,r){var o=(l=e.getArea()).x,a=l.y,s=l.width,l=l.height,u=n.get(["lineStyle","width"])||2,c=(o-=u/2,a-=u/2,s+=u,l+=u,o=Math.floor(o),s=Math.round(s),new sl({shape:{x:o,y:a,width:s,height:l}}));return t&&(t=(u=e.getBaseAxis()).isHorizontal(),e=u.inverse,t?(e&&(c.shape.x+=s),c.shape.width=0):(e||(c.shape.y+=l),c.shape.height=0),u=ue(r)?function(e){r(e,c)}:null,Tu(c,{shape:{width:s,height:l,x:o,y:a}},n,null,i,u)),c}function gM(e,t,n){var i=e.getArea(),r=bo(i.r0,1),o=bo(i.r,1),a=new Bg({shape:{cx:bo(e.cx,1),cy:bo(e.cy,1),r0:r,r:o,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return t&&("angle"===e.getBaseAxis().dim?a.shape.endAngle=i.startAngle:a.shape.r=r,Tu(a,{shape:{endAngle:i.endAngle,r:o}},n)),a}function mM(e,t,n,i,r){return e?"polar"===e.type?gM(e,t,n):"cartesian2d"===e.type?fM(e,t,n,i,r):null:null}function yM(e,t){return e.type===t}function vM(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return;return 1}}function xM(e){for(var t=1/0,n=1/0,i=-1/0,r=-1/0,o=0;o<e.length;){var a=e[o++],s=e[o++];isNaN(a)||(t=Math.min(a,t),i=Math.max(a,i)),isNaN(s)||(n=Math.min(s,n),r=Math.max(s,r))}return[[t,n],[i,r]]}function _M(e,t){var n=(e=xM(e))[0],i=(e=e[1],(t=xM(t))[0]);t=t[1];return Math.max(Math.abs(n[0]-i[0]),Math.abs(n[1]-i[1]),Math.abs(e[0]-t[0]),Math.abs(e[1]-t[1]))}function bM(e){return de(e)?e:e?.5:0}function wM(e,t,n,i){var r="x"===(t=t.getBaseAxis()).dim||"radius"===t.dim?0:1,o=[],a=0,s=[],l=[],u=[],c=[];if(i){for(a=0;a<e.length;a+=2)isNaN(e[a])||isNaN(e[a+1])||c.push(e[a],e[a+1]);e=c}for(a=0;a<e.length-2;a+=2)switch(u[0]=e[a+2],u[1]=e[a+3],l[0]=e[a],l[1]=e[a+1],o.push(l[0],l[1]),n){case"end":s[r]=u[r],s[1-r]=l[1-r],o.push(s[0],s[1]);break;case"middle":var h=(l[r]+u[r])/2,d=[];s[r]=d[r]=h,s[1-r]=l[1-r],d[1-r]=u[1-r],o.push(s[0],s[1]),o.push(d[0],d[1]);break;default:s[r]=l[r],s[1-r]=u[1-r],o.push(s[0],s[1])}return o.push(e[a++],e[a++]),o}function SM(e,t){return[e[2*t],e[2*t+1]]}function AM(e){if(e.get(["endLabel","show"]))return 1;for(var t=0;t<Bl.length;t++)if(e.get([Bl[t],"endLabel","show"]))return 1}function MM(e,t,n,i){var r,o,a,s,l,u,c,h,d;return yM(t,"cartesian2d")?(r=i.getModel("endLabel"),o=r.get("valueAnimation"),a=i.getData(),s={lastFrameIndex:0},l=AM(i)?function(n,i){e._endLabelOnDuring(n,i,a,s,o,r,t)}:null,u=t.getBaseAxis().isHorizontal(),c=fM(t,n,i,(function(){var t=e._endLabel;t&&n&&null!=s.originalX&&t.attr({x:s.originalX,y:s.originalY})}),l),i.get("clip",!0)||(h=c.shape,d=Math.max(h.width,h.height),u?(h.y-=d,h.height+=2*d):(h.x-=d,h.width+=2*d)),l&&l(1,c),c):gM(t,n,i)}function CM(){return null!==hM&&hM.apply(this,arguments)||this}_(CM,hM=sy),CM.prototype.init=function(){var e=new ao,t=new KA;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},CM.prototype.render=function(e,t,n){function i(e){o._changePolyState(e)}var r,o=this,a=e.coordinateSystem,s=this.group,l=e.getData(),u=e.getModel("lineStyle"),c=e.getModel("areaStyle"),h=l.getLayout("points")||[],d="polar"===a.type,p=this._coordSys,f=this._symbolDraw,g=this._polyline,m=this._polygon,y=this._lineGroup,v=e.get("animation"),x=!c.isEmpty(),_=c.get("origin"),b=QA(a,l,_),w=(b=x&&function(e,t,n){if(!n.valueDim)return[];for(var i=t.count(),r=bb(2*i),o=0;o<i;o++){var a=qA(n,e,t,o);r[2*o]=a[0],r[2*o+1]=a[1]}return r}(a,l,b),e.get("showSymbol")),S=e.get("connectNulls"),A=w&&!d&&function(e,t,n){var i="auto"===(e=e.get("showAllSymbol"));if(!e||i){var r,o,a=n.getAxesByScale("ordinal")[0];if(a&&(!i||!function(e,t){for(var n=e.getExtent(),i=Math.abs(n[1]-n[0])/e.scale.count(),r=(isNaN(i)&&(i=0),t.count()),o=Math.max(1,Math.round(r/5)),a=0;a<r;a+=o)if(1.5*WA.getSymbolSize(t,a)[e.isHorizontal()?1:0]>i)return;return 1}(a,t)))return r=t.mapDimension(a.dim),o={},ee(a.getViewLabels(),(function(e){e=a.scale.getRawOrdinalNumber(e.tickValue),o[e]=1})),function(e){return!o.hasOwnProperty(t.get(r,e))}}}(e,l,a),M=this._data,C=(M&&M.eachItemGraphicEl((function(e,t){e.__temp&&(s.remove(e),M.setItemGraphicEl(t,null))})),w||f.remove(),s.add(y),!d&&e.get("step")),T=(a&&a.getArea&&e.get("clip",!0)&&(null!=(r=a.getArea()).width?(r.x-=.1,r.y-=.1,r.width+=.2,r.height+=.2):r.r0&&(r.r0-=.5,r.r+=.5)),this._clipShapeForSymbol=r,function(e,t,n){var i=e.getVisual("visualMeta");if(i&&i.length&&e.count()&&"cartesian2d"===t.type){for(var r,o=i.length-1;0<=o;o--){var a,s=e.getDimensionInfo(i[o].dimension);if("x"===(a=s&&s.coordDim)||"y"===a){r=i[o];break}}if(r){var l=t.getAxis(a),u=(t=te(r.stops,(function(e){return{coord:l.toGlobalCoord(l.dataToCoord(e.value)),color:e.color}})),t.length),c=r.outerColors.slice(),h=(u&&t[0].coord>t[u-1].coord&&(t.reverse(),c.reverse()),n=function(e,t){var n,i,r=[],o=e.length;function a(e,t,n){var i=e.coord;return{coord:n,color:ii((n-i)/(t.coord-i),[e.color,t.color])}}for(var s=0;s<o;s++){var l=e[s],u=l.coord;if(u<0)n=l;else{if(t<u){i?r.push(a(i,l,t)):n&&r.push(a(n,l,0),a(n,l,t));break}n&&(r.push(a(n,l,0)),n=null),r.push(l),i=l}}return r}(t,"x"===a?n.getWidth():n.getHeight()),n.length);if(!h&&u)return t[0].coord<0?c[1]||t[u-1].color:c[0]||t[0].color;var d=n[0].coord-10,p=(u=n[h-1].coord+10)-d;return p<.001?"transparent":(ee(n,(function(e){e.offset=(e.coord-d)/p})),n.push({offset:h?n[h-1].offset:.5,color:c[1]||"transparent"}),n.unshift({offset:h?n[0].offset:.5,color:c[0]||"transparent"}),(t=new dm(0,0,0,0,n,!0))[a]=d,t[a+"2"]=u,t)}}}(l,a,n)||l.getVisual("style")[l.getVisual("drawType")]);n=(p=(g&&p.type===a.type&&C===this._step?(x&&!m?m=this._newPolygon(h,b):m&&!x&&(y.remove(m),m=this._polygon=null),d||this._initOrUpdateEndLabel(e,a,rh(T)),(p=y.getClipPath())?Tu(p,{shape:MM(this,a,!1,e).shape},e):y.setClipPath(MM(this,a,!0,e)),w&&f.updateData(l,{isIgnore:A,clipShape:r,disableAnimation:!0,getSymbolPoint:function(e){return[h[2*e],h[2*e+1]]}}),vM(this._stackedOnPoints,b)&&vM(this._points,h)||(v?this._doUpdateAnimation(l,b,a,n,C,_,S):(C&&(h=wM(h,a,C,S),b=b&&wM(b,a,C,S)),g.setShape({points:h}),m&&m.setShape({points:h,stackedOnPoints:b})))):(w&&f.updateData(l,{isIgnore:A,clipShape:r,disableAnimation:!0,getSymbolPoint:function(e){return[h[2*e],h[2*e+1]]}}),v&&this._initSymbolLabelAnimation(l,a,r),C&&(h=wM(h,a,C,S),b=b&&wM(b,a,C,S)),g=this._newPolyline(h),x&&(m=this._newPolygon(h,b)),d||this._initOrUpdateEndLabel(e,a,rh(T)),y.setClipPath(MM(this,a,!0,e))),e.getModel("emphasis"))).get("focus"),w=p.get("blurScope"),f=p.get("disabled"),g.useStyle(Y(u.getLineStyle(),{fill:"none",stroke:T,lineJoin:"bevel"})),vu(g,e,"lineStyle"),0<g.style.lineWidth&&"bolder"===e.get(["emphasis","lineStyle","width"])&&(g.getState("emphasis").style.lineWidth=+g.style.lineWidth+1),Cl(g).seriesIndex=e.seriesIndex,fu(g,n,w,f),A=bM(e.get("smooth")),v=e.get("smoothMonotone");g.setShape({smooth:A,smoothMonotone:v,connectNulls:S}),m&&(r=l.getCalculationInfo("stackedOnSeries"),x=0,m.useStyle(Y(c.getAreaStyle(),{fill:T,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),r&&(x=bM(r.get("smooth"))),m.setShape({smooth:A,stackedOnSmooth:x,smoothMonotone:v,connectNulls:S}),vu(m,e,"areaStyle"),Cl(m).seriesIndex=e.seriesIndex,fu(m,n,w,f)),l.eachItemGraphicEl((function(e){e&&(e.onHoverStateChange=i)})),this._polyline.onHoverStateChange=i,this._data=l,this._coordSys=a,this._stackedOnPoints=b,this._points=h,this._step=C,this._valueOrigin=_,e.get("triggerLineEvent")&&(this.packEventData(e,g),m&&this.packEventData(e,m))},CM.prototype.packEventData=function(e,t){Cl(t).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},CM.prototype.highlight=function(e,t,n,i){var r=e.getData(),o=$o(r,i);if(this._changePolyState("emphasis"),!(o instanceof Array)&&null!=o&&0<=o){var a=r.getLayout("points");if(!(l=r.getItemGraphicEl(o))){var s=a[2*o];a=a[2*o+1];if(isNaN(s)||isNaN(a))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(s,a))return;var l,u=e.get("zlevel"),c=e.get("z");(s=((l=new WA(r,o)).x=s,l.y=a,l.setZ(u,c),l.getSymbolPath().getTextContent()))&&(s.zlevel=u,s.z=c,s.z2=this._polyline.z2+1),l.__temp=!0,r.setItemGraphicEl(o,l),l.stopSymbolAnimation(!0),this.group.add(l)}l.highlight()}else sy.prototype.highlight.call(this,e,t,n,i)},CM.prototype.downplay=function(e,t,n,i){var r,o=e.getData(),a=$o(o,i);this._changePolyState("normal"),null!=a&&0<=a?(r=o.getItemGraphicEl(a))&&(r.__temp?(o.setItemGraphicEl(a,null),this.group.remove(r)):r.downplay()):sy.prototype.downplay.call(this,e,t,n,i)},CM.prototype._changePolyState=function(e){var t=this._polygon;Kl(this._polyline,e),t&&Kl(t,e)},CM.prototype._newPolyline=function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new oM({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(t),this._polyline=t},CM.prototype._newPolygon=function(e,t){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new dM({shape:{points:e,stackedOnPoints:t},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n},CM.prototype._initSymbolLabelAnimation=function(e,t,n){var i,r,o,a=(o=t.getBaseAxis()).inverse,s=(o=("cartesian2d"===t.type?(i=o.isHorizontal(),r=!1):"polar"===t.type&&(i="angle"===o.dim,r=!0),e.hostModel)).get("animationDuration"),l=(ue(s)&&(s=s(null)),o.get("animationDelay")||0),u=ue(l)?l(null):l;e.eachItemGraphicEl((function(e,o){var c,h,d,p,f,g=e;g&&(p=[e.x,e.y],f=h=c=void 0,n&&(f=r?(d=n,p=t.pointToCoord(p),i?(c=d.startAngle,h=d.endAngle,-p[1]/180*Math.PI):(c=d.r0,h=d.r,p[0])):i?(c=n.x,h=n.x+n.width,e.x):(c=n.y+n.height,h=n.y,e.y)),d=h===c?0:(f-c)/(h-c),a&&(d=1-d),p=ue(l)?l(o):s*d+u,f=(e=g.getSymbolPath()).getTextContent(),g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:p}),f&&f.animateFrom({style:{opacity:0}},{duration:300,delay:p}),e.disableLabelAnimation=!0)}))},CM.prototype._initOrUpdateEndLabel=function(e,t,n){var i=e.getModel("endLabel");if(AM(e)){var r=e.getData(),o=this._polyline,a=r.getLayout("points");if(!a)return o.removeTextContent(),void(this._endLabel=null);var s=((s=this._endLabel)||((s=this._endLabel=new Ml({z2:200})).ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0),function(e){for(var t,n,i=e.length/2;0<i&&(t=e[2*i-2],n=e[2*i-1],isNaN(t)||isNaN(n));i--);return i-1}(a));0<=s&&(Ou(o,Fu(e,"endLabel"),{inheritColor:n,labelFetcher:e,labelDataIndex:s,defaultText:function(e,t,n){return null!=n?VA(r,n):HA(r,e)},enableTextSetter:!0},(a=i,e=(n=(n=t).getBaseAxis()).isHorizontal(),n=n.inverse,s=e?n?"right":"left":"center",e=e?"middle":n?"top":"bottom",{normal:{align:a.get("align")||s,verticalAlign:a.get("verticalAlign")||e}})),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},CM.prototype._endLabelOnDuring=function(e,t,n,i,r,o,a){var s,l,u,c,h,d,p,f,g,m,y=this._endLabel,v=this._polyline;y&&(e<1&&null==i.originalX&&(i.originalX=y.x,i.originalY=y.y),s=n.getLayout("points"),g=(l=n.hostModel).get("connectNulls"),u=o.get("precision"),o=o.get("distance")||0,h=(a=a.getBaseAxis()).isHorizontal(),a=a.inverse,t=t.shape,c=(h?o:0)*(a?-1:1),o=(h?0:-o)*(a?-1:1),p=void 0,1<=(f=(d=(h=function(e,t,n){for(var i,r,o=e.length/2,a="x"===n?0:1,s=0,l=-1,u=0;u<o;u++)if(r=e[2*u+a],!isNaN(r)&&!isNaN(e[2*u+1-a]))if(0===u)i=r;else{if(i<=t&&t<=r||t<=i&&r<=t){l=u;break}s=u,i=r}return{range:[s,l],t:(t-i)/(r-i)}}(s,a=a?h?t.x:t.y+t.height:h?t.x+t.width:t.y,t=h?"x":"y")).range)[1]-d[0])?(1<f&&!g?(m=SM(s,d[0]),y.attr({x:m[0]+c,y:m[1]+o}),r&&(p=l.getRawValue(d[0]))):((m=v.getPointOn(a,t))&&y.attr({x:m[0]+c,y:m[1]+o}),f=l.getRawValue(d[0]),g=l.getRawValue(d[1]),r&&(p=ua(n,u,f,g,h.t))),i.lastFrameIndex=d[0]):(m=SM(s,v=1===e||0<i.lastFrameIndex?d[0]:0),r&&(p=l.getRawValue(v)),y.attr({x:m[0]+c,y:m[1]+o})),r&&Wu(y).setLabelText(p))},CM.prototype._doUpdateAnimation=function(e,t,n,i,r,o,a){var s=this._polyline,l=this._polygon,u=e.hostModel,c=(t=function(e,t,n,i,r,o){a=[],t.diff(e).add((function(e){a.push({cmd:"+",idx:e})})).update((function(e,t){a.push({cmd:"=",idx:t,idx1:e})})).remove((function(e){a.push({cmd:"-",idx:e})})).execute();for(var a,s=a,l=[],u=[],c=[],h=[],d=[],p=[],f=[],g=QA(r,t,o),m=e.getLayout("points")||[],y=t.getLayout("points")||[],v=0;v<s.length;v++){var x=s[v],_=!0,b=void 0;switch(x.cmd){case"=":var w=2*x.idx,S=(b=2*x.idx1,m[w]),A=m[1+w],M=y[b],C=y[b+1];(isNaN(S)||isNaN(A))&&(S=M,A=C),l.push(S,A),u.push(M,C),c.push(n[w],n[1+w]),h.push(i[b],i[b+1]),f.push(t.getRawIndex(x.idx1));break;case"+":S=x.idx,A=g.dataDimsForPoint,M=r.dataToPoint([t.get(A[0],S),t.get(A[1],S)]),b=2*S,l.push(M[0],M[1]),u.push(y[b],y[b+1]),C=qA(g,r,t,S),c.push(C[0],C[1]),h.push(i[b],i[b+1]),f.push(t.getRawIndex(S));break;case"-":_=!1}_&&(d.push(x),p.push(p.length))}p.sort((function(e,t){return f[e]-f[t]}));var T=bb(o=l.length),I=bb(o),k=bb(o),D=bb(o),B=[];for(v=0;v<p.length;v++){var E=p[v],P=2*v,L=2*E;T[P]=l[L],T[1+P]=l[1+L],I[P]=u[L],I[1+P]=u[1+L],k[P]=c[L],k[1+P]=c[1+L],D[P]=h[L],D[1+P]=h[1+L],B[v]=d[E]}return{current:T,next:I,stackedOnCurrent:k,stackedOnNext:D,status:B}}(this._data,e,this._stackedOnPoints,t,this._coordSys,this._valueOrigin),t.current),h=t.stackedOnCurrent,d=t.next,p=t.stackedOnNext;if(r&&(c=wM(t.current,n,r,a),h=wM(t.stackedOnCurrent,n,r,a),d=wM(t.next,n,r,a),p=wM(t.stackedOnNext,n,r,a)),3e3<_M(c,d)||l&&3e3<_M(h,p))return s.stopAnimation(),s.setShape({points:d}),void(l&&(l.stopAnimation(),l.setShape({points:d,stackedOnPoints:p})));s.shape.__points=t.current,s.shape.points=c;n={shape:{points:d}};for(var f,g=(t.current!==c&&(n.shape.__points=t.next),s.stopAnimation(),Cu(s,n,u),l&&(l.setShape({points:c,stackedOnPoints:h}),l.stopAnimation(),Cu(l,{shape:{stackedOnPoints:p}},u),s.shape.points!==l.shape.points&&(l.shape.points=s.shape.points)),[]),m=t.status,y=0;y<m.length;y++)"="===m[y].cmd&&(f=e.getItemGraphicEl(m[y].idx1))&&g.push({el:f,ptIdx:y});s.animators&&s.animators.length&&s.animators[0].during((function(){l&&l.dirtyShape();for(var e=s.shape.__points,t=0;t<g.length;t++){var n=g[t].el,i=2*g[t].ptIdx;n.x=e[i],n.y=e[1+i],n.markRedraw()}}))},CM.prototype.remove=function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl((function(e,i){e.__temp&&(t.remove(e),n.setItemGraphicEl(i,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},CM.type="line";var TM=CM;function IM(e,t){return{seriesType:e,plan:Of(),reset:function(e){var n,i,r,o,a,s=e.getData(),l=e.coordinateSystem,u=(e=e.pipelineContext,t||e.large);if(l)return e=te(l.dimensions,(function(e){return s.mapDimension(e)})).slice(0,2),n=e.length,i=s.getCalculationInfo("stackResultDimension"),K_(s,e[0])&&(e[0]=i),K_(s,e[1])&&(e[1]=i),r=s.getStore(),o=s.getDimensionIndex(e[0]),a=s.getDimensionIndex(e[1]),n&&{progress:function(e,t){for(var i=e.end-e.start,s=u&&bb(i*n),c=[],h=[],d=e.start,p=0;d<e.end;d++){var f,g=void 0;g=1===n?(f=r.get(o,d),l.dataToPoint(f,null,h)):(c[0]=r.get(o,d),c[1]=r.get(a,d),l.dataToPoint(c,null,h)),u?(s[p++]=g[0],s[p++]=g[1]):t.setItemLayout(d,g.slice())}u&&t.setLayout("points",s)}}}}}var kM={average:function(e){for(var t=0,n=0,i=0;i<e.length;i++)isNaN(e[i])||(t+=e[i],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},DM=function(e){return Math.round(e.length/2)};function BM(e){return{seriesType:e,reset:function(e,t,n){var i,r=e.getData(),o=e.get("sampling"),a=e.coordinateSystem,s=r.count();10<s&&"cartesian2d"===a.type&&o&&(i=a.getBaseAxis(),a=a.getOtherAxis(i),i=i.getExtent(),n=n.getDevicePixelRatio(),i=Math.abs(i[1]-i[0])*(n||1),n=Math.round(s/i),isFinite(n)&&1<n&&("lttb"===o&&e.setData(r.lttbDownSample(r.mapDimension(a.dim),1/n)),s=void 0,ce(o)?s=kM[o]:ue(o)&&(s=o),s&&e.setData(r.downSample(r.mapDimension(a.dim),1/n,s,DM))))}}}_(LM,EM=Pf),LM.prototype.getInitialData=function(e,t){return q_(null,this,{useEncodeDefaulter:!0})},LM.prototype.getMarkerPosition=function(e){var t,n,i=this.coordinateSystem;return i&&i.clampData?(e=i.dataToPoint(i.clampData(e)),t=(n=this.getData()).getLayout("offset"),n=n.getLayout("size"),e[i.getBaseAxis().isHorizontal()?0:1]+=t+n/2,e):[NaN,NaN]},LM.type="series.__base_bar__",LM.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"};var EM,PM;$u=LM;function LM(){var e=null!==EM&&EM.apply(this,arguments)||this;return e.type=LM.type,e}function RM(){var e=null!==PM&&PM.apply(this,arguments)||this;return e.type=RM.type,e}Pf.registerClass($u),_(RM,PM=Uy=$u),RM.prototype.getInitialData=function(){return q_(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},RM.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},RM.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return e<t?t:e},RM.prototype.brushSelector=function(e,t,n){return n.rect(t.getItemLayout(e))},RM.type="series.bar",RM.dependencies=["grid","polar"],RM.defaultOption=uc(Uy.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1});var OM,FM=RM,NM=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0};function zM(e){return(e=OM.call(this,e)||this).type="sausage",e}_(zM,OM=Us),zM.prototype.getDefaultShape=function(){return new NM},zM.prototype.buildPath=function(e,t){var n=t.cx,i=t.cy,r=Math.max(t.r0||0,0),o=Math.max(t.r,0),a=.5*(o-r),s=r+a,l=t.startAngle,u=t.endAngle,c=(t=t.clockwise,2*Math.PI),h=t?u-l<c:l-u<c,d=(c=(h||(l=u-(t?c:-c)),Math.cos(l)),Math.sin(l)),p=Math.cos(u),f=Math.sin(u);h?(e.moveTo(c*r+n,d*r+i),e.arc(c*s+n,d*s+i,a,-Math.PI+l,l,!t)):e.moveTo(c*o+n,d*o+i),e.arc(n,i,o,l,u,!t),e.arc(p*s+n,f*s+i,a,u-2*Math.PI,u-Math.PI,!t),0!==r&&e.arc(n,i,r,u,l,t)};var GM=zM;function HM(e,t,n){return t*Math.sin(e)*(n?-1:1)}function VM(e,t,n){return t*Math.cos(e)*(n?1:-1)}var UM=Math.max,ZM=Math.min;_(jM,WM=sy),jM.prototype.render=function(e,t,n,i){this._model=e,this._removeOnRenderedListener(n),this._updateDrawMode(e);var r=e.get("coordinateSystem");"cartesian2d"!==r&&"polar"!==r||(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,t,n):this._renderNormal(e,t,n,i))},jM.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},jM.prototype.incrementalRender=function(e,t){this._progressiveEls=[],this._incrementalRenderLarge(e,t)},jM.prototype.eachRendered=function(e){qm(this._progressiveEls||this.group,e)},jM.prototype._updateDrawMode=function(e){e=e.pipelineContext.large,null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},jM.prototype._renderNormal=function(e,t,n,i){var r,o,a,s=this.group,l=e.getData(),u=this._data,c=e.coordinateSystem,h=c.getBaseAxis(),d=("cartesian2d"===c.type?r=h.isHorizontal():"polar"===c.type&&(r="angle"===h.dim),e.isAnimationEnabled()?e:null),p=function(e,t){e=e.get("realtimeSort",!0);var n=t.getBaseAxis();if(e&&"category"===n.type&&"cartesian2d"===t.type)return{baseAxis:n,otherAxis:t.getOtherAxis(n)}}(e,c),f=(p&&this._enableRealtimeSort(p,l,n),e.get("clip",!0)||p),g=(n=l,a=(o=c).getArea&&o.getArea(),!yM(o,"cartesian2d")||"category"===(o=o.getBaseAxis()).type&&o.onBand||(n=n.getLayout("bandWidth"),o.isHorizontal()?(a.x-=n,a.width+=2*n):(a.y-=n,a.height+=2*n)),a),m=(s.removeClipPath(),e.get("roundCap",!0)),y=e.get("showBackground",!0),v=e.getModel("backgroundStyle"),x=v.get("borderRadius")||0,_=[],b=this._backgroundEls,w=i&&i.isInitSort,S=i&&"changeAxisOrder"===i.type;function A(e){var t=eC[c.type](l,e),n=(n=r,new("polar"===c.type?Bg:sl)({shape:uC(n,t,c),silent:!0,z2:0}));return n.useStyle(v.getItemStyle()),"cartesian2d"===c.type&&n.setShape("r",x),_[e]=n}l.diff(u).add((function(t){var n,i,o=l.getItemModel(t),a=eC[c.type](l,t,o);y&&A(t),l.hasValue(t)&&$M[c.type](a)&&(n=!1,f&&(n=XM[c.type](g,a)),i=YM[c.type](e,l,t,a,r,d,h.model,!1,m),p&&(i.forceLabelAnimation=!0),nC(i,l,t,o,a,e,r,"polar"===c.type),w?i.attr({shape:a}):p?JM(p,d,i,a,t,r,!1,!1):Tu(i,{shape:a},e,t),l.setItemGraphicEl(t,i),s.add(i),i.ignore=n)})).update((function(t,n){var i,o=l.getItemModel(t),a=eC[c.type](l,t,o),M=(y&&(M=void 0,0===b.length?M=A(n):((M=b[n]).useStyle(v.getItemStyle()),"cartesian2d"===c.type&&M.setShape("r",x),_[t]=M),i=eC[c.type](l,t),Cu(M,{shape:uC(r,i,c)},d,t)),u.getItemGraphicEl(n));l.hasValue(t)&&$M[c.type](a)?(i=!1,f&&(i=XM[c.type](g,a))&&s.remove(M),M?Eu(M):M=YM[c.type](e,l,t,a,r,d,h.model,!!M,m),p&&(M.forceLabelAnimation=!0),S?(n=M.getTextContent())&&null!=(n=Wu(n)).prevValue&&(n.prevValue=n.value):nC(M,l,t,o,a,e,r,"polar"===c.type),w?M.attr({shape:a}):p?JM(p,d,M,a,t,r,!0,S):Cu(M,{shape:a},e,t,null),l.setItemGraphicEl(t,M),M.ignore=i,s.add(M)):s.remove(M)})).remove((function(t){var n=u.getItemGraphicEl(t);n&&Bu(n,e,t)})).execute();var M=this._backgroundGroup||(this._backgroundGroup=new ao);M.removeAll();for(var C=0;C<_.length;++C)M.add(_[C]);s.add(M),this._backgroundEls=_,this._data=l},jM.prototype._renderLarge=function(e,t,n){this._clear(),sC(e,this.group),this._updateLargeClip(e)},jM.prototype._incrementalRenderLarge=function(e,t){this._removeBackground(),sC(t,this.group,this._progressiveEls,!0)},jM.prototype._updateLargeClip=function(e){e=e.get("clip",!0)&&mM(e.coordinateSystem,!1,e);var t=this.group;e?t.setClipPath(e):t.removeClipPath()},jM.prototype._enableRealtimeSort=function(e,t,n){var i,r,o=this;t.count()&&(i=e.baseAxis,this._isFirstFrame?(this._dispatchInitSort(t,e,n),this._isFirstFrame=!1):(r=function(e){return(e=(e=t.getItemGraphicEl(e))&&e.shape)&&Math.abs(i.isHorizontal()?e.height:e.width)||0},this._onRendered=function(){o._updateSortWithinSameData(t,r,i,n)},n.getZr().on("rendered",this._onRendered)))},jM.prototype._dataSort=function(e,t,n){var i=[];return e.each(e.mapDimension(t.dim),(function(e,t){var r=null==(r=n(t))?NaN:r;i.push({dataIndex:t,mappedValue:r,ordinalNumber:e})})),i.sort((function(e,t){return t.mappedValue-e.mappedValue})),{ordinalNumbers:te(i,(function(e){return e.ordinalNumber}))}},jM.prototype._isOrderChangedWithinSameData=function(e,t,n){for(var i=n.scale,r=e.mapDimension(n.dim),o=Number.MAX_VALUE,a=0,s=i.getOrdinalMeta().categories.length;a<s;++a){var l;if(o<(l=(l=e.rawIndexOf(r,i.getRawOrdinalNumber(a)))<0?Number.MIN_VALUE:t(e.indexOfRawIndex(l))))return!0;o=l}return!1},jM.prototype._isOrderDifferentInView=function(e,t){for(var n=t.scale,i=(t=n.getExtent(),Math.max(0,t[0])),r=Math.min(t[1],n.getOrdinalMeta().categories.length-1);i<=r;++i)if(e.ordinalNumbers[i]!==n.getRawOrdinalNumber(i))return!0},jM.prototype._updateSortWithinSameData=function(e,t,n,i){this._isOrderChangedWithinSameData(e,t,n)&&(e=this._dataSort(e,n,t),this._isOrderDifferentInView(e,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:e})))},jM.prototype._dispatchInitSort=function(e,t,n){var i=t.baseAxis,r=this._dataSort(e,i,(function(n){return e.get(e.mapDimension(t.otherAxis.dim),n)}));n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:r})},jM.prototype.remove=function(e,t){this._clear(this._model),this._removeOnRenderedListener(t)},jM.prototype.dispose=function(e,t){this._removeOnRenderedListener(t)},jM.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},jM.prototype._clear=function(e){var t=this.group,n=this._data;e&&e.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl((function(t){Bu(t,e,Cl(t).dataIndex)}))):t.removeAll(),this._data=null,this._isFirstFrame=!0},jM.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},jM.type="bar";var WM;_a=jM;function jM(){var e=WM.call(this)||this;return e.type=jM.type,e._isFirstFrame=!0,e}var XM={cartesian2d:function(e,t){var n=t.width<0?-1:1,i=t.height<0?-1:1,r=(n<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height),e.x+e.width),o=e.y+e.height,a=UM(t.x,e.x),s=ZM(t.x+t.width,r),l=(e=UM(t.y,e.y),ZM(t.y+t.height,o)),u=s<a,c=l<e;return t.x=u&&r<a?s:a,t.y=c&&o<e?l:e,t.width=u?0:s-a,t.height=c?0:l-e,n<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height),u||c},polar:function(e,t){var n,i=t.r0<=t.r?1:-1,r=(i<0&&(n=t.r,t.r=t.r0,t.r0=n),ZM(t.r,e.r));e=UM(t.r0,e.r0),r=(t.r=r)-(t.r0=e)<0;return i<0&&(n=t.r,t.r=t.r0,t.r0=n),r}},YM={cartesian2d:function(e,t,n,i,r,o,a,s,l){return(i=new sl({shape:X({},i),z2:1})).__dataIndex=n,i.name="item",o&&(i.shape[r?"height":"width"]=0),i},polar:function(e,t,n,i,r,o,a,s,l){var u,c,h=new(l=!r&&l?GM:Bg)({shape:i,z2:1}),d=(h.name="item",tC(r));return h.calculateTextPosition=(u=d,c=({isRoundCap:l===GM}||{}).isRoundCap,function(e,t,n){if(!(i=t.position)||i instanceof Array)return Yr(e,t,n);var i=u(i),r=null!=t.distance?t.distance:5,o=this.shape,a=o.cx,s=o.cy,l=o.r,h=o.r0,d=(l+h)/2,p=o.startAngle,f=o.endAngle,g=(p+f)/2,m=c?Math.abs(l-h)/2:0,y=Math.cos,v=Math.sin,x=a+l*y(p),_=s+l*v(p),b="left",w="top";switch(i){case"startArc":x=a+(h-r)*y(g),_=s+(h-r)*v(g),b="center",w="top";break;case"insideStartArc":x=a+(h+r)*y(g),_=s+(h+r)*v(g),b="center",w="bottom";break;case"startAngle":x=a+d*y(p)+HM(p,r+m,!1),_=s+d*v(p)+VM(p,r+m,!1),b="right",w="middle";break;case"insideStartAngle":x=a+d*y(p)+HM(p,m-r,!1),_=s+d*v(p)+VM(p,m-r,!1),b="left",w="middle";break;case"middle":x=a+d*y(g),_=s+d*v(g),b="center",w="middle";break;case"endArc":x=a+(l+r)*y(g),_=s+(l+r)*v(g),b="center",w="bottom";break;case"insideEndArc":x=a+(l-r)*y(g),_=s+(l-r)*v(g),b="center",w="top";break;case"endAngle":x=a+d*y(f)+HM(f,r+m,!0),_=s+d*v(f)+VM(f,r+m,!0),b="left",w="middle";break;case"insideEndAngle":x=a+d*y(f)+HM(f,m-r,!0),_=s+d*v(f)+VM(f,m-r,!0),b="right",w="middle";break;default:return Yr(e,t,n)}return(e=e||{}).x=x,e.y=_,e.align=b,e.verticalAlign=w,e}),o&&(d={},h.shape[l=r?"r":"endAngle"]=r?0:i.startAngle,d[l]=i[l],(s?Cu:Tu)(h,{shape:d},o)),h}};function JM(e,t,n,i,r,o,a,s){var l;o=o?(l={x:i.x,width:i.width},{y:i.y,height:i.height}):(l={y:i.y,height:i.height},{x:i.x,width:i.width});s||(a?Cu:Tu)(n,{shape:o},t,r,null),(a?Cu:Tu)(n,{shape:l},t?e.baseAxis.model:null,r)}function KM(e,t){for(var n=0;n<t.length;n++)if(!isFinite(e[t[n]]))return 1}var QM=["x","y","width","height"],qM=["cx","cy","r","startAngle","endAngle"],$M={cartesian2d:function(e){return!KM(e,QM)},polar:function(e){return!KM(e,qM)}},eC={cartesian2d:function(e,t,n){e=e.getItemLayout(t),t=n?function(e,t){var n=e.get(["itemStyle","borderColor"]);return n&&"none"!==n?(n=e.get(["itemStyle","borderWidth"])||0,e=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),t=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height),Math.min(n,e,t)):0}(n,e):0,n=0<e.width?1:-1;var i=0<e.height?1:-1;return{x:e.x+n*t/2,y:e.y+i*t/2,width:e.width-n*t,height:e.height-i*t}},polar:function(e,t,n){return{cx:(e=e.getItemLayout(t)).cx,cy:e.cy,r0:e.r0,r:e.r,startAngle:e.startAngle,endAngle:e.endAngle,clockwise:e.clockwise}}};function tC(e){return t=e?"Arc":"Angle",function(e){switch(e){case"start":case"insideStart":case"end":case"insideEnd":return e+t;default:return e}};var t}function nC(e,t,n,i,r,o,a,s){var l=t.getItemVisual(n,"style"),u=((u=(s||e.setShape("r",i.get(["itemStyle","borderRadius"])||0),e.useStyle(l),i.getShallow("cursor")))&&e.attr("cursor",u),s?a?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":a?0<=r.height?"bottom":"top":0<=r.width?"right":"left"),c=Fu(i);Ou(e,c,{labelFetcher:o,labelDataIndex:n,defaultText:HA(o.getData(),n),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:u}),l=e.getTextContent(),s&&l&&(s=i.get(["label","position"]),e.textConfig.inside="middle"===s||null,function(e,t,n,i){if(de(i))e.setTextConfig({rotation:i});else if(le(t))e.setTextConfig({rotation:0});else{var r,o=(i=e.shape).clockwise?i.startAngle:i.endAngle,a=i.clockwise?i.endAngle:i.startAngle,s=(o+a)/2;switch(i=n(t)){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":r=s;break;case"startAngle":case"insideStartAngle":r=o;break;case"endAngle":case"insideEndAngle":r=a;break;default:return e.setTextConfig({rotation:0})}n=1.5*Math.PI-r,"middle"===i&&n>Math.PI/2&&n<1.5*Math.PI&&(n-=Math.PI),e.setTextConfig({rotation:n})}}(e,"outside"===s?u:s,tC(a),i.get(["label","rotate"]))),ju(l,c,o.getRawValue(n),(function(e){return VA(t,e)})),u=i.getModel(["emphasis"]);fu(e,u.get("focus"),u.get("blurScope"),u.get("disabled")),vu(e,i),null!=(s=r).startAngle&&null!=s.endAngle&&s.startAngle===s.endAngle&&(e.style.fill="none",e.style.stroke="none",ee(e.states,(function(e){e.style&&(e.style.fill=e.style.stroke="none")})))}var iC,rC=function(){},oC=(_(aC,iC=Us),aC.prototype.getDefaultShape=function(){return new rC},aC.prototype.buildPath=function(e,t){for(var n=t.points,i=this.baseDimIdx,r=1-this.baseDimIdx,o=[],a=[],s=this.barWidth,l=0;l<n.length;l+=3)a[i]=s,a[r]=n[l+2],o[i]=n[l+i],o[r]=n[l+r],e.rect(o[0],o[1],a[0],a[1])},aC);function aC(e){return(e=iC.call(this,e)||this).type="largeBar",e}function sC(e,t,n,i){var r=e.getData(),o=r.getLayout("valueAxisHorizontal")?1:0,a=r.getLayout("largeDataIndices"),s=r.getLayout("size"),l=e.getModel("backgroundStyle"),u=r.getLayout("largeBackgroundPoints");(l=(u&&((u=new oC({shape:{points:u},incremental:!!i,silent:!0,z2:0})).baseDimIdx=o,u.largeDataIndices=a,u.barWidth=s,u.useStyle(l.getItemStyle()),t.add(u),n&&n.push(u)),new oC({shape:{points:r.getLayout("largePoints")},incremental:!!i,z2:1}))).baseDimIdx=o,l.largeDataIndices=a,l.barWidth=s,t.add(l),l.useStyle(r.getVisual("style")),Cl(l).seriesIndex=e.seriesIndex,e.get("silent")||(l.on("mousedown",lC),l.on("mousemove",lC)),n&&n.push(l)}var lC=hy((function(e){e=function(e,t,n){for(var i=e.baseDimIdx,r=1-i,o=e.shape.points,a=e.largeDataIndices,s=[],l=[],u=e.barWidth,c=0,h=o.length/3;c<h;c++){var d=3*c;if(l[i]=u,l[r]=o[2+d],s[i]=o[d+i],s[r]=o[d+r],l[r]<0&&(s[r]+=l[r],l[r]=-l[r]),t>=s[0]&&t<=s[0]+l[0]&&n>=s[1]&&n<=s[1]+l[1])return a[c]}return-1}(this,e.offsetX,e.offsetY),Cl(this).dataIndex=0<=e?e:null}),30,!1);function uC(e,t,n){var i,r;return yM(n,"cartesian2d")?(i=t,r=n.getArea(),{x:(e?i:r).x,y:(e?r:i).y,width:(e?i:r).width,height:(e?r:i).height}):{cx:(r=n.getArea()).cx,cy:r.cy,r0:(e?r:t).r0,r:(e?r:t).r,startAngle:e?t.startAngle:0,endAngle:e?t.endAngle:2*Math.PI}}var cC=_a,hC=2*Math.PI,dC=Math.PI/180;function pC(e,t){return hh(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function fC(e,t){var n=pC(e,t),i=e.get("center"),r=(le(e=e.get("radius"))||(e=[0,e]),le(i)||(i=[i,i]),_o(n.width,t.getWidth())),o=(t=_o(n.height,t.getHeight()),Math.min(r,t));return{cx:_o(i[0],r)+n.x,cy:_o(i[1],t)+n.y,r0:_o(e[0],o/2),r:_o(e[1],o/2)}}function gC(e,t,n){t.eachSeriesByType(e,(function(e){var t,i=e.getData(),r=i.mapDimension("value"),o=pC(e,n),a=fC(e,n),s=a.cx,l=a.cy,u=a.r,c=a.r0,h=-e.get("startAngle")*dC,d=e.get("minAngle")*dC,p=0,f=(i.each(r,(function(e){isNaN(e)||p++})),i.getSum(r)),g=Math.PI/(f||p)*2,m=e.get("clockwise"),y=e.get("roseType"),v=e.get("stillShowZeroSum"),x=i.getDataExtent(r),_=(x[0]=0,hC),b=0,w=h,S=m?1:-1;i.setLayout({viewRect:o,r:u}),i.each(r,(function(e,t){var n,r;isNaN(e)?i.setItemLayout(t,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:m,cx:s,cy:l,r0:c,r:y?NaN:u}):((n="area"!==y?0===f&&v?g:e*g:hC/p)<d?_-=n=d:b+=e,r=w+S*n,i.setItemLayout(t,{angle:n,startAngle:w,endAngle:r,clockwise:m,cx:s,cy:l,r0:c,r:y?xo(e,x,[c,u]):u}),w=r)})),_<hC&&p&&(_<=.001?(t=hC/p,i.each(r,(function(e,n){isNaN(e)||((e=i.getItemLayout(n)).angle=t,e.startAngle=h+S*n*t,e.endAngle=h+S*(n+1)*t)}))):(g=_/b,w=h,i.each(r,(function(e,t){isNaN(e)||(e=(t=i.getItemLayout(t)).angle===d?d:e*g,t.startAngle=w,t.endAngle=w+S*e,w+=S*e)}))))}))}function mC(e){return{seriesType:e,reset:function(e,t){var n,i=t.findComponents({mainType:"legend"});i&&i.length&&(n=e.getData()).filterSelf((function(e){for(var t=n.getName(e),r=0;r<i.length;r++)if(!i[r].isSelected(t))return!1;return!0}))}}}var yC=Math.PI/180;function vC(e,t,n,i,r,o,a,s,l,u){if(!(e.length<2)){for(var c,h=e.length,d=0;d<h;d++)"outer"===e[d].position&&"labelLine"===e[d].labelAlignTo&&(c=e[d].label.x-u,e[d].linePoints[1][0]+=c,e[d].label.x=u);if(mS(e,l,l+a)){for(var p,f,g,m,y,v=e,x={list:[],maxY:0},_={list:[],maxY:0},b=0;b<v.length;b++)"none"===v[b].labelAlignTo&&(f=(p=v[b]).label.y>n?_:x,(g=Math.abs(p.label.y-n))>=f.maxY&&(y=p.label.x-t-p.len2*r,m=i+p.len,y=Math.abs(y)<m?Math.sqrt(g*g/(1-y*y/m/m)):m,f.rB=y,f.maxY=g),f.list.push(p));w(x),w(_)}}function w(e){for(var o=e.rB,a=o*o,s=0;s<e.list.length;s++){var l=e.list[s],u=Math.abs(l.label.y-n),c=(c=i+l.len)*c;u=Math.sqrt((1-Math.abs(u*u/a))*c),u=(c=t+(u+l.len2)*r)-l.label.x;xC(l,l.targetTextWidth-u*r,!0),l.label.x=c}}}function xC(e,t,n){var i,r,o,a,s,l,u;void 0===n&&(n=!1),null==e.labelStyleWidth&&(s=(i=e.label).style,r=e.rect,l=s.backgroundColor,u=(u=s.padding)?u[1]+u[3]:0,s=s.overflow,(t<(o=r.width+(l?0:u))||n)&&(a=r.height,s&&s.match("break")?(i.setStyle("backgroundColor",null),i.setStyle("width",t-u),s=i.getBoundingRect(),i.setStyle("width",Math.ceil(s.width)),i.setStyle("backgroundColor",l)):(s=t-u,l=t<o||n&&!(s>e.unconstrainedWidth)?s:null,i.setStyle("width",l)),u=i.getBoundingRect(),r.width=u.width,t=(i.style.margin||0)+2.1,r.height=u.height+t,r.y-=(r.height-a)/2))}function _C(e){return"center"===e.position}function bC(e,t,n){if(null==(e=e.get("borderRadius")))return n?{cornerRadius:0}:null;le(e)||(e=[e,e,e,e]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:te(e,(function(e){return Xr(e,i)}))}}_(MC,wC=Bg),MC.prototype.updateData=function(e,t,n,i){var r=this,o=e.hostModel,a=e.getItemModel(t),s=a.getModel("emphasis"),l=e.getItemLayout(t),u=X(bC(a.getModel("itemStyle"),l,!0),l);isNaN(u.startAngle)?r.setShape(u):(i?(r.setShape(u),i=o.getShallow("animationType"),o.ecModel.ssr?(Tu(r,{scaleX:0,scaleY:0},o,{dataIndex:t,isFrom:!0}),r.originX=u.cx,r.originY=u.cy):"scale"===i?(r.shape.r=l.r0,Tu(r,{shape:{r:l.r}},o,t)):null!=n?(r.setShape({startAngle:n,endAngle:n}),Tu(r,{shape:{startAngle:l.startAngle,endAngle:l.endAngle}},o,t)):(r.shape.endAngle=l.startAngle,Cu(r,{shape:{endAngle:l.endAngle}},o,t))):(Eu(r),Cu(r,{shape:u},o,t)),r.useStyle(e.getItemVisual(t,"style")),vu(r,a),i=(l.startAngle+l.endAngle)/2,n=o.get("selectedOffset"),u=Math.cos(i)*n,i=Math.sin(i)*n,(n=a.getShallow("cursor"))&&r.attr("cursor",n),this._updateLabel(o,e,t),r.ensureState("emphasis").shape=X({r:l.r+(s.get("scale")&&s.get("scaleSize")||0)},bC(s.getModel("itemStyle"),l)),X(r.ensureState("select"),{x:u,y:i,shape:bC(a.getModel(["select","itemStyle"]),l)}),X(r.ensureState("blur"),{shape:bC(a.getModel(["blur","itemStyle"]),l)}),n=r.getTextGuideLine(),o=r.getTextContent(),n&&X(n.ensureState("select"),{x:u,y:i}),X(o.ensureState("select"),{x:u,y:i}),fu(this,s.get("focus"),s.get("blurScope"),s.get("disabled")))},MC.prototype._updateLabel=function(e,t,n){var i=t.getItemModel(n),r=i.getModel("labelLine"),o=(a=t.getItemVisual(n,"style"))&&a.fill,a=a&&a.opacity;Ou(this,Fu(i),{labelFetcher:t.hostModel,labelDataIndex:n,inheritColor:o,defaultOpacity:a,defaultText:e.getFormattedLabel(n,"normal")||t.getName(n)}),t=this.getTextContent();"outside"!==(n=(this.setTextConfig({position:null,rotation:null}),t.attr({z2:10}),e.get(["label","position"])))&&"outer"!==n?this.removeTextGuideLine():(this.getTextGuideLine()||(t=new Zg,this.setTextGuideLine(t)),dS(this,pS(i),{stroke:o,opacity:Se(r.get(["lineStyle","opacity"]),a,1)}))};var wC,SC,AC=MC;function MC(e,t,n){var i=wC.call(this)||this,r=(i.z2=2,new Ml);return i.setTextContent(r),i.updateData(e,t,n,!0),i}function CC(){var e=null!==SC&&SC.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}_(CC,SC=sy),CC.prototype.render=function(e,t,n,i){var r,o=e.getData(),a=this._data,s=this.group;if(!a&&0<o.count()){for(var l=o.getItemLayout(0),u=1;isNaN(l&&l.startAngle)&&u<o.count();++u)l=o.getItemLayout(u);l&&(r=l.startAngle)}this._emptyCircleSector&&s.remove(this._emptyCircleSector),0===o.count()&&e.get("showEmptyCircle")&&((n=new Bg({shape:fC(e,n)})).useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=n,s.add(n)),o.diff(a).add((function(e){var t=new AC(o,e,r);o.setItemGraphicEl(e,t),s.add(t)})).update((function(e,t){(t=a.getItemGraphicEl(t)).updateData(o,e,r),t.off("click"),s.add(t),o.setItemGraphicEl(e,t)})).remove((function(t){Bu(a.getItemGraphicEl(t),e,t)})).execute(),function(e){var t,n,i=e.getData(),r=[],o=!1,a=(e.get("minShowLabelAngle")||0)*yC,s=i.getLayout("viewRect"),l=i.getLayout("r"),u=s.width,c=s.x,h=s.y;function d(e){e.ignore=!0}if(s=s.height,i.each((function(e){var s,h,p,f,g,m,y,v,x,_,b=i.getItemGraphicEl(e),w=b.shape,S=b.getTextContent(),A=b.getTextGuideLine(),M=(e=i.getItemModel(e)).getModel("label"),C=M.get("position")||e.get(["emphasis","label","position"]),T=M.get("distanceToLabelLine"),I=M.get("alignTo"),k=_o(M.get("edgeDistance"),u),D=M.get("bleedMargin"),B=_o((e=e.getModel("labelLine")).get("length"),u),E=_o(e.get("length2"),u);if(Math.abs(w.endAngle-w.startAngle)<a)return ee(S.states,d),void(S.ignore=!0);!function(e){if(!e.ignore)return 1;for(var t in e.states)if(!1===e.states[t].ignore)return 1}(S)||(_=(w.startAngle+w.endAngle)/2,s=Math.cos(_),h=Math.sin(_),t=w.cx,n=w.cy,p="inside"===C||"inner"===C,y="center"===C?(f=w.cx,g=w.cy,"center"):(f=(y=(p?(w.r+w.r0)/2*s:w.r*s)+t)+3*s,g=(v=(p?(w.r+w.r0)/2*h:w.r*h)+n)+3*h,p||(m=y+s*(B+l-w.r),w=v+h*(B+l-w.r),x=m+(s<0?-1:1)*E,f="edge"===I?s<0?c+k:c+u-k:x+(s<0?-T:T),m=[[y,v],[m,g=w],[x,w]]),p?"center":"edge"===I?0<s?"right":"left":0<s?"left":"right"),v=Math.PI,x=0,de(w=M.get("rotate"))?x=w*(v/180):"center"===C?x=0:"radial"===w||!0===w?x=s<0?-_+v:-_:"tangential"===w&&"outside"!==C&&"outer"!==C&&((M=Math.atan2(s,h))<0&&(M=2*v+M),x=(M=0<h?v+M:M)-v),o=!!x,S.x=f,S.y=g,S.rotation=x,S.setStyle({verticalAlign:"middle"}),p?(S.setStyle({align:y}),(_=S.states.select)&&(_.x+=S.x,_.y+=S.y)):((w=S.getBoundingRect().clone()).applyTransform(S.getComputedTransform()),M=(S.style.margin||0)+2.1,w.y-=M/2,w.height+=M,r.push({label:S,labelLine:A,position:C,len:B,len2:E,minTurnAngle:e.get("minTurnAngle"),maxSurfaceAngle:e.get("maxSurfaceAngle"),surfaceNormal:new kr(s,h),linePoints:m,textAlign:y,labelDistance:T,labelAlignTo:I,edgeDistance:k,bleedMargin:D,rect:w,unconstrainedWidth:w.width,labelStyleWidth:S.style.width})),b.setTextConfig({inside:p}))})),!o&&e.get("avoidLabelOverlap")){for(var p=r,f=t,g=(e=n,l),m=u,y=c,v=[],x=[],_=Number.MAX_VALUE,b=-Number.MAX_VALUE,w=0;w<p.length;w++){var S=p[w].label;_C(p[w])||(S.x<f?(_=Math.min(_,S.x),v.push(p[w])):(b=Math.max(b,S.x),x.push(p[w])))}var A,M,C,T,I,k;for(w=0;w<p.length;w++)!_C(M=p[w])&&M.linePoints&&null==M.labelStyleWidth&&(S=M.label,C=M.linePoints,A="edge"===M.labelAlignTo?S.x<f?C[2][0]-M.labelDistance-y-M.edgeDistance:y+m-M.edgeDistance-C[2][0]-M.labelDistance:"labelLine"===M.labelAlignTo?S.x<f?_-y-M.bleedMargin:y+m-b-M.bleedMargin:S.x<f?S.x-y-M.bleedMargin:y+m-S.x-M.bleedMargin,M.targetTextWidth=A,xC(M,A));for(vC(x,f,e,g,1,0,s,0,h,b),vC(v,f,e,g,-1,0,s,0,h,_),w=0;w<p.length;w++)!_C(M=p[w])&&M.linePoints&&(S=M.label,C=M.linePoints,T="edge"===M.labelAlignTo,I=(I=S.style.padding)?I[1]+I[3]:0,I=S.style.backgroundColor?0:I,I=M.rect.width+I,k=C[1][0]-C[2][0],T?S.x<f?C[2][0]=y+M.edgeDistance+I+M.labelDistance:C[2][0]=y+m-M.edgeDistance-I-M.labelDistance:(S.x<f?C[2][0]=S.x+M.labelDistance:C[2][0]=S.x-M.labelDistance,C[1][0]=C[2][0]+k),C[1][1]=C[2][1]=S.y)}for(var D=0;D<r.length;D++){var B,E=r[D],P=E.label,L=E.labelLine,R=isNaN(P.x)||isNaN(P.y);P&&(P.setStyle({align:E.textAlign}),R&&(ee(P.states,d),P.ignore=!0),(B=P.states.select)&&(B.x+=P.x,B.y+=P.y)),L&&(B=E.linePoints,R||!B?(ee(L.states,d),L.ignore=!0):(uS(B,E.minTurnAngle),function(e,t,n){if(n<=180&&0<n){n=n/180*Math.PI,tS.fromArray(e[0]),nS.fromArray(e[1]),iS.fromArray(e[2]),kr.sub(rS,nS,tS),kr.sub(oS,iS,nS);var i=rS.len(),r=oS.len();if(!(i<.001||r<.001)&&(rS.scale(1/i),oS.scale(1/r),rS.dot(t)<Math.cos(n))){if(i=Qw(nS.x,nS.y,iS.x,iS.y,tS.x,tS.y,sS,!1),lS.fromArray(sS),(r=Math.PI/2)<=(t=r+Math.acos(oS.dot(t))-n))kr.copy(lS,iS);else{if(lS.scaleAndAdd(oS,i/Math.tan(Math.PI/2-t)),n=iS.x!==nS.x?(lS.x-nS.x)/(iS.x-nS.x):(lS.y-nS.y)/(iS.y-nS.y),isNaN(n))return;n<0?kr.copy(lS,nS):1<n&&kr.copy(lS,iS)}lS.toArray(e[1])}}}(B,E.surfaceNormal,E.maxSurfaceAngle),L.setShape({points:B}),P.__hostTarget.textGuideLineConfig={anchor:new kr(B[0][0],B[0][1])}))}}(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=o)},CC.prototype.dispose=function(){},CC.prototype.containPoint=function(e,t){var n;if(t=t.getData().getItemLayout(0))return n=e[0]-t.cx,e=e[1]-t.cy,(n=Math.sqrt(n*n+e*e))<=t.r&&n>=t.r0},CC.type="pie";var TC=CC;function IC(e,t,n){t=le(t)?{coordDimensions:t}:X({encodeDefine:e.getEncode()},t);var i=e.getSource();t=W_(i,t).dimensions;return(t=new U_(t,e)).initData(i,n),t}function kC(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}kC.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},kC.prototype.containName=function(e){return 0<=this._getRawData().indexOfName(e)},kC.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},kC.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)};var DC,BC=kC;function EC(){return null!==DC&&DC.apply(this,arguments)||this}_(EC,DC=Pf),EC.prototype.init=function(e){DC.prototype.init.apply(this,arguments),this.legendVisualProvider=new BC(ae(this.getData,this),ae(this.getRawData,this)),this._defaultLabelLine(e)},EC.prototype.mergeOption=function(){DC.prototype.mergeOption.apply(this,arguments)},EC.prototype.getInitialData=function(){return IC(this,{coordDimensions:["value"],encodeDefaulter:se(Hh,this)})},EC.prototype.getDataParams=function(e){var t=this.getData(),n=DC.prototype.getDataParams.call(this,e),i=[];return t.each(t.mapDimension("value"),(function(e){i.push(e)})),n.percent=Co(i,e,t.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},EC.prototype._defaultLabelLine=function(e){Zo(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},EC.type="series.pie",EC.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"};var PC,LC=EC;function RC(){var e=null!==PC&&PC.apply(this,arguments)||this;return e.type=RC.type,e.hasSymbolVisual=!0,e}_(RC,PC=Pf),RC.prototype.getInitialData=function(e,t){return q_(null,this,{useEncodeDefaulter:!0})},RC.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},RC.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},RC.prototype.brushSelector=function(e,t,n){return n.point(t.getItemLayout(e))},RC.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},RC.type="series.scatter",RC.dependencies=["grid","polar","geo","singleAxis","calendar"],RC.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}};var OC,FC=RC,NC=function(){},zC=(_(GC,OC=Us),GC.prototype.getDefaultShape=function(){return new NC},GC.prototype.reset=function(){this.notClear=!1,this._off=0},GC.prototype.buildPath=function(e,t){var n,i=t.points,r=t.size,o=this.symbolProxy,a=o.shape,s=(t=e.getContext?e.getContext():e)&&r[0]<4,l=this.softClipShape;if(s)this._ctx=t;else{for(this._ctx=null,n=this._off;n<i.length;){var u=i[n++],c=i[n++];isNaN(u)||isNaN(c)||l&&!l.contain(u,c)||(a.x=u-r[0]/2,a.y=c-r[1]/2,a.width=r[0],a.height=r[1],o.buildPath(e,a,!0))}this.incremental&&(this._off=n,this.notClear=!0)}},GC.prototype.afterBrush=function(){var e,t=this.shape,n=t.points,i=t.size,r=this._ctx,o=this.softClipShape;if(r){for(e=this._off;e<n.length;){var a=n[e++],s=n[e++];isNaN(a)||isNaN(s)||o&&!o.contain(a,s)||r.fillRect(a-i[0]/2,s-i[1]/2,i[0],i[1])}this.incremental&&(this._off=e,this.notClear=!0)}},GC.prototype.findDataIndex=function(e,t){for(var n=(i=this.shape).points,i=i.size,r=Math.max(i[0],4),o=Math.max(i[1],4),a=n.length/2-1;0<=a;a--){var s=n[l=2*a]-r/2,l=n[1+l]-o/2;if(s<=e&&l<=t&&e<=s+r&&t<=l+o)return a}return-1},GC.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),i=this.getBoundingRect();return e=n[0],t=n[1],i.contain(e,t)?0<=(this.hoverDataIdx=this.findDataIndex(e,t)):!(this.hoverDataIdx=-1)},GC.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=(i=this.shape).points,n=(i=i.size)[0],i=i[1],r=1/0,o=1/0,a=-1/0,s=-1/0,l=0;l<t.length;){var u=t[l++],c=t[l++];r=Math.min(u,r),a=Math.max(u,a),o=Math.min(c,o),s=Math.max(c,s)}e=this._rect=new zr(r-n/2,o-i/2,a-r+n,s-o+i)}return e},GC);function GC(e){return(e=OC.call(this,e)||this)._off=0,e.hoverDataIdx=-1,e}function HC(){this.group=new ao}HC.prototype.updateData=function(e,t){this._clear();var n=this._create();n.setShape({points:e.getLayout("points")}),this._setCommon(n,e,t)},HC.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild((function(e){var n,i;null!=e.startIndex&&(n=2*(e.endIndex-e.startIndex),i=4*e.startIndex*2,t=new Float32Array(t.buffer,i,n)),e.setShape("points",t),e.reset()}))},HC.prototype.incrementalPrepareUpdate=function(e){this._clear()},HC.prototype.incrementalUpdate=function(e,t,n){var i,r,o=this._newAdded[0],a=t.getLayout("points"),s=o&&o.shape.points;s&&s.length<2e4?(i=s.length,(r=new Float32Array(i+a.length)).set(s),r.set(a,i),o.endIndex=e.end,o.setShape({points:r})):(this._newAdded=[],(s=this._create()).startIndex=e.start,s.endIndex=e.end,s.incremental=!0,s.setShape({points:a}),this._setCommon(s,t,n))},HC.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},HC.prototype._create=function(){var e=new zC({cursor:"default"});return this.group.add(e),this._newAdded.push(e),e},HC.prototype._setCommon=function(e,t,n){var i=t.hostModel,r=(n=n||{},t.getVisual("symbolSize")),o=(r=(e.setShape("size",r instanceof Array?r:[r,r]),e.softClipShape=n.clipShape||null,e.symbolProxy=lv(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor,e.shape.size[0]<4),(r=(n=(e.useStyle(i.getModel("itemStyle").getItemStyle(r?["color","shadowBlur","shadowColor"]:["color"])),t.getVisual("style")))&&n.fill)&&e.setColor(r),Cl(e));o.seriesIndex=i.seriesIndex,e.on("mousemove",(function(t){o.dataIndex=null;var n=e.hoverDataIdx;0<=n&&(o.dataIndex=n+(e.startIndex||0))}))},HC.prototype.remove=function(){this._clear()},HC.prototype._clear=function(){this._newAdded=[],this.group.removeAll()};var VC,UC=HC;function ZC(){var e=null!==VC&&VC.apply(this,arguments)||this;return e.type=ZC.type,e}_(ZC,VC=sy),ZC.prototype.render=function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).updateData(i,{clipShape:this._getClipShape(e)}),this._finished=!0},ZC.prototype.incrementalPrepareRender=function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).incrementalPrepareUpdate(i),this._finished=!1},ZC.prototype.incrementalRender=function(e,t,n){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},ZC.prototype.updateTransform=function(e,t,n){var i=e.getData();if(this.group.dirty(),!this._finished||1e4<i.count())return{update:!0};(e=IM("").reset(e,t,n)).progress&&e.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},ZC.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},ZC.prototype._getClipShape=function(e){var t=(t=e.coordinateSystem)&&t.getArea&&t.getArea();return e.get("clip",!0)?t:null},ZC.prototype._updateSymbolDraw=function(e,t){var n=this._symbolDraw;t=t.pipelineContext.large;return n&&t===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=new(t?UC:KA),this._isLargeDraw=t,this.group.removeAll()),this.group.add(n.group),n},ZC.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},ZC.prototype.dispose=function(){},ZC.type="scatter";var WC,jC=ZC;function XC(){return null!==WC&&WC.apply(this,arguments)||this}_(XC,WC=Mh),XC.type="grid",XC.dependencies=["xAxis","yAxis"],XC.layoutMode="box",XC.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"};var YC,JC=XC,KC=(_(QC,YC=Mh),QC.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",ra).models[0]},QC.type="cartesian2dAxis",QC);function QC(){return null!==YC&&YC.apply(this,arguments)||this}q(KC,lw);var qC={category:t=W({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Fy={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}}),value:iv=W({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Fy),time:W({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},iv),log:Y({logBase:10},iv)},$C={value:1,category:1,time:1,log:1};function eT(e,t,n,i){ee($C,(function(r,o){var a,s=W(W({},qC[o],!0),i,!0);_(l,a=n),l.prototype.mergeDefaultAndTheme=function(e,t){var n=ph(this),i=n?gh(e):{};W(e,t.getTheme().get(o+"Axis")),W(e,this.getDefaultOption()),e.type=tT(e),n&&fh(e,i,n)},l.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=rb.createByAxisModel(this))},l.prototype.getCategories=function(e){var t=this.option;if("category"===t.type)return e?t.data:this.__ordinalMeta.categories},l.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},l.type=t+"Axis."+o,l.defaultOption=s,s=l;function l(){var e=null!==a&&a.apply(this,arguments)||this;return e.type=t+"Axis."+o,e}e.registerComponentModel(s)})),e.registerSubTypeDefaulter(t+"Axis",tT)}function tT(e){return e.type||(e.data?"category":"value")}function nT(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}nT.prototype.getAxis=function(e){return this._axes[e]},nT.prototype.getAxes=function(){return te(this._dimList,(function(e){return this._axes[e]}),this)},nT.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),ie(this.getAxes(),(function(t){return t.scale.type===e}))},nT.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)};var iT,rT=["x","y"];function oT(e){return"interval"===e.type||"time"===e.type}function aT(){var e=null!==iT&&iT.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=rT,e}_(aT,iT=nT),aT.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e,t,n,i,r=this.getAxis("x").scale,o=this.getAxis("y").scale;oT(r)&&oT(o)&&(r=r.getExtent(),o=o.getExtent(),i=this.dataToPoint([r[0],o[0]]),t=this.dataToPoint([r[1],o[1]]),e=r[1]-r[0],n=o[1]-o[0],e&&n&&(e=(t[0]-i[0])/e,t=(t[1]-i[1])/n,n=i[0]-r[0]*e,r=i[1]-o[0]*t,i=this._transform=[e,0,0,t,n,r],this._invTransform=gr([],i)))},aT.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},aT.prototype.containPoint=function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},aT.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},aT.prototype.dataToPoint=function(e,t,n){n=n||[];var i=e[0],r=e[1];if(this._transform&&null!=i&&isFinite(i)&&null!=r&&isFinite(r))return ct(n,e,this._transform);e=this.getAxis("x");var o=this.getAxis("y");return n[0]=e.toGlobalCoord(e.dataToCoord(i,t)),n[1]=o.toGlobalCoord(o.dataToCoord(r,t)),n},aT.prototype.clampData=function(e,t){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,r=n.getExtent(),o=i.getExtent();n=n.parse(e[0]),i=i.parse(e[1]);return(t=t||[])[0]=Math.min(Math.max(Math.min(r[0],r[1]),n),Math.max(r[0],r[1])),t[1]=Math.min(Math.max(Math.min(o[0],o[1]),i),Math.max(o[0],o[1])),t},aT.prototype.pointToData=function(e,t){var n=[];if(this._invTransform)return ct(n,e,this._invTransform);var i=this.getAxis("x"),r=this.getAxis("y");return n[0]=i.coordToData(i.toLocalCoord(e[0]),t),n[1]=r.coordToData(r.toLocalCoord(e[1]),t),n},aT.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},aT.prototype.getArea=function(){var e=this.getAxis("x").getGlobalExtent(),t=this.getAxis("y").getGlobalExtent(),n=Math.min(e[0],e[1]),i=Math.min(t[0],t[1]);e=Math.max(e[0],e[1])-n,t=Math.max(t[0],t[1])-i;return new zr(n,i,e,t)};var sT,lT=aT;function uT(e,t,n,i,r){return(e=sT.call(this,e,t,n)||this).index=0,e.type=i||"value",e.position=r||"bottom",e}_(uT,sT=Uw),uT.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},uT.prototype.getGlobalExtent=function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},uT.prototype.pointToData=function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},uT.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)};var cT=uT;function hT(e,t,n){n=n||{};e=e.coordinateSystem;var i={},r=(s=t.axis).getAxesOnZeroOf()[0],o=s.position,a=r?"onZero":o,s=s.dim,l=(e=[(e=e.getRect()).x,e.x+e.width,e.y,e.y+e.height],{left:0,right:1,top:0,bottom:1,onZero:2}),u=t.get("offset")||0,c=(u="x"===s?[e[2]-u,e[3]+u]:[e[0]-u,e[1]+u],r&&(c=r.toGlobalCoord(r.dataToCoord(0)),u[l.onZero]=Math.max(Math.min(c,u[1]),u[0])),i.position=["y"===s?u[l[a]]:e[0],"x"===s?u[l[a]]:e[3]],i.rotation=Math.PI/2*("x"===s?0:1),i.labelDirection=i.tickDirection=i.nameDirection={top:-1,bottom:1,left:-1,right:1}[o],i.labelOffset=r?u[l[o]]-u[l.onZero]:0,t.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),be(n.labelInside,t.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection),t.get(["axisLabel","rotate"]));return i.labelRotate="top"===a?-c:c,i.z2=1,i}function dT(e){return"cartesian2d"===e.get("coordinateSystem")}function pT(e){var t={xAxisModel:null,yAxisModel:null};return ee(t,(function(n,i){var r=i.replace(/Model$/,"");r=e.getReferringComponents(r,ra).models[0];t[i]=r})),t}var fT=Math.log;function gT(e,t,n){var i=vb.prototype,r=i.getTicks.call(n),o=i.getTicks.call(n,!0),a=r.length-1,s=(n=i.getInterval.call(n),(t=ew(e,t)).extent),l=t.fixMin,u=(t=t.fixMax,"log"===e.type&&(u=fT(e.base),s=[fT(s[0])/u,fT(s[1])/u]),e.setExtent(s[0],s[1]),e.calcNiceExtent({splitNumber:a,fixMin:l,fixMax:t}),i.getExtent.call(e)),c=(l&&(s[0]=u[0]),t&&(s[1]=u[1]),i.getInterval.call(e)),h=s[0],d=s[1];if(l&&t)c=(d-h)/a;else if(l)for(d=s[0]+c*a;d<s[1]&&isFinite(d)&&isFinite(s[1]);)c=ab(c),d=s[0]+c*a;else if(t)for(h=s[1]-c*a;h>s[0]&&isFinite(h)&&isFinite(s[0]);)c=ab(c),h=s[1]-c*a;else u=(c=a<e.getTicks().length-1?ab(c):c)*a,(h=bo((d=Math.ceil(s[1]/c)*c)-u))<0&&0<=s[0]?(h=0,d=bo(u)):0<d&&s[1]<=0&&(d=0,h=-bo(u));l=(r[0].value-o[0].value)/n,t=(r[a].value-o[a].value)/n,i.setExtent.call(e,h+c*l,d+c*t),i.setInterval.call(e,c),(l||t)&&i.setNiceExtent.call(e,h+c,d-c)}function mT(e,t,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=rT,this._initCartesian(e,t,n),this.model=e}function yT(e,t){return e.getCoordSysModel()===t}function vT(e,t,n,i){n.getAxesOnZeroOf=function(){return r?[r]:[]};var r,o=e[t];t=(e=n.model).get(["axisLine","onZero"]),n=e.get(["axisLine","onZeroAxisIndex"]);if(t){if(null!=n)xT(o[n])&&(r=o[n]);else for(var a in o)if(o.hasOwnProperty(a)&&xT(o[a])&&!i[s(o[a])]){r=o[a];break}r&&(i[s(r)]=!0)}function s(e){return e.dim+"_"+e.index}}function xT(e){return e&&"category"!==e.type&&"time"!==e.type&&(t=(e=e.scale.getExtent())[0],e=e[1],!(0<t&&0<e||t<0&&e<0));var t}mT.prototype.getRect=function(){return this._rect},mT.prototype.update=function(e,t){var n=this._axesMap;function i(e){var t,n=oe(e),i=n.length;if(i){for(var r=[],o=i-1;0<=o;o--){var a=e[+n[o]],s=a.model,l=a.scale;ob(l)&&s.get("alignTicks")&&null==s.get("interval")?r.push(a):(tw(l,s),ob(l)&&(t=a))}r.length&&(t||tw((t=r.pop()).scale,t.model),ee(r,(function(e){gT(e.scale,e.model,t.scale)})))}}this._updateScale(e,this.model),i(n.x),i(n.y);var r={};ee(n.x,(function(e){vT(n,"y",e,r)})),ee(n.y,(function(e){vT(n,"x",e,r)})),this.resize(this.model,t)},mT.prototype.resize=function(e,t,n){var i=e.getBoxLayoutParams(),r=(n=!n&&e.get("containLabel"),hh(i,{width:t.getWidth(),height:t.getHeight()})),o=(this._rect=r,this._axesList);function a(){ee(o,(function(e){var t,n,i=e.isHorizontal(),o=i?[0,r.width]:[0,r.height],a=e.inverse?1:0;e.setExtent(o[a],o[1-a]),o=e,t=i?r.x:r.y,a=o.getExtent(),n=a[0]+a[1],o.toGlobalCoord="x"===o.dim?function(e){return e+t}:function(e){return n-e+t},o.toLocalCoord="x"===o.dim?function(e){return e-t}:function(e){return n-e+t}}))}a(),n&&(ee(o,(function(e){var t,n,i;e.model.get(["axisLabel","inside"])||(t=function(e){var t=e.model,n=e.scale;if(t.get(["axisLabel","show"])&&!n.isBlank()){var i,r,o=n.getExtent(),a=n instanceof gb?n.count():(i=n.getTicks()).length,s=e.getLabelModel(),l=iw(e),u=1;40<a&&(u=Math.ceil(a/40));for(var c,h,d,p=0;p<a;p+=u){var f=l(i?i[p]:{value:o[0]+p},p),g=(f=s.getTextRect(f),h=g=h=void 0,c=(c=s.get("rotate")||0)*Math.PI/180,h=f.width,g=f.height,d=h*Math.abs(Math.cos(c))+Math.abs(g*Math.sin(c)),h=h*Math.abs(Math.sin(c))+Math.abs(g*Math.cos(c)),new zr(f.x,f.y,d,h));r?r.union(g):r=g}return r}}(e))&&(n=e.isHorizontal()?"height":"width",i=e.model.get(["axisLabel","margin"]),r[n]-=t[n]+i,"top"===e.position?r.y+=t.height+i:"left"===e.position&&(r.x+=t.width+i))})),a()),ee(this._coordsList,(function(e){e.calcAffineTransform()}))},mT.prototype.getAxis=function(e,t){if(null!=(e=this._axesMap[e]))return e[t||0]},mT.prototype.getAxes=function(){return this._axesList.slice()},mT.prototype.getCartesian=function(e,t){if(null!=e&&null!=t)return this._coordsMap["x"+e+"y"+t];pe(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var n=0,i=this._coordsList;n<i.length;n++)if(i[n].getAxis("x").index===e||i[n].getAxis("y").index===t)return i[n]},mT.prototype.getCartesians=function(){return this._coordsList.slice()},mT.prototype.convertToPixel=function(e,t,n){return(t=this._findConvertTarget(t)).cartesian?t.cartesian.dataToPoint(n):t.axis?t.axis.toGlobalCoord(t.axis.dataToCoord(n)):null},mT.prototype.convertFromPixel=function(e,t,n){return(t=this._findConvertTarget(t)).cartesian?t.cartesian.pointToData(n):t.axis?t.axis.coordToData(t.axis.toLocalCoord(n)):null},mT.prototype._findConvertTarget=function(e){var t,n,i=e.seriesModel,r=e.xAxisModel||i&&i.getReferringComponents("xAxis",ra).models[0],o=e.yAxisModel||i&&i.getReferringComponents("yAxis",ra).models[0],a=(e=e.gridModel,this._coordsList);return i?K(a,t=i.coordinateSystem)<0&&(t=null):r&&o?t=this.getCartesian(r.componentIndex,o.componentIndex):r?n=this.getAxis("x",r.componentIndex):o?n=this.getAxis("y",o.componentIndex):e&&e.coordinateSystem===this&&(t=this._coordsList[0]),{cartesian:t,axis:n}},mT.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},mT.prototype._initCartesian=function(e,t,n){var i=this,r=this,o={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},s={x:0,y:0};if(t.eachComponent("xAxis",l("x"),this),t.eachComponent("yAxis",l("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);function l(t){return function(n,i){var l,u;yT(n,e)&&(l=n.get("position"),"x"===t?"top"!==l&&"bottom"!==l&&(l=o.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=o.left?"right":"left"),o[l]=!0,u="category"===(l=new cT(t,nw(n),[0,0],n.get("type"),l)).type,l.onBand=u&&n.get("boundaryGap"),l.inverse=n.get("inverse"),(n.axis=l).model=n,l.grid=r,l.index=i,r._axesList.push(l),a[t][i]=l,s[t]++)}}ee((this._axesMap=a).x,(function(t,n){ee(a.y,(function(r,o){var a=new lT(o="x"+n+"y"+o);a.master=i,a.model=e,i._coordsMap[o]=a,i._coordsList.push(a),a.addAxis(t),a.addAxis(r)}))}))},mT.prototype._updateScale=function(e,t){function n(e,t){ee(sw(e,t.dim),(function(n){t.scale.unionExtentFromData(e,n)}))}ee(this._axesList,(function(e){var t;e.scale.setExtent(1/0,-1/0),"category"===e.type&&(t=e.model.get("categorySortInfo"),e.scale.setSortInfo(t))})),e.eachSeries((function(e){var i,r;dT(e)&&(r=(i=pT(e)).xAxisModel,i=i.yAxisModel,yT(r,t)&&yT(i,t)&&(r=this.getCartesian(r.componentIndex,i.componentIndex),i=e.getData(),e=r.getAxis("x"),r=r.getAxis("y"),n(i,e),n(i,r)))}),this)},mT.prototype.getTooltipAxes=function(e){var t=[],n=[];return ee(this.getCartesians(),(function(i){var r=null!=e&&"auto"!==e?i.getAxis(e):i.getBaseAxis();i=i.getOtherAxis(r);K(t,r)<0&&t.push(r),K(n,i)<0&&n.push(i)})),{baseAxes:t,otherAxes:n}},mT.create=function(e,t){var n=[];return e.eachComponent("grid",(function(i,r){var o=new mT(i,e,t);o.name="grid_"+r,o.resize(i,t,!0),i.coordinateSystem=o,n.push(o)})),e.eachSeries((function(e){var t,n,i;dT(e)&&(t=(n=pT(e)).xAxisModel,n=n.yAxisModel,i=t.getCoordSysModel().coordinateSystem,e.coordinateSystem=i.getCartesian(t.componentIndex,n.componentIndex))})),n},mT.dimensions=rT;var _T=mT,bT=Math.PI,wT=(ST.prototype.hasBuilder=function(e){return!!AT[e]},ST.prototype.add=function(e){AT[e](this.opt,this.axisModel,this.group,this._transformGroup)},ST.prototype.getGroup=function(){return this.group},ST.innerTextLayout=function(e,t,n){var i;return{rotation:t=Io(t-e),textAlign:e=ko(t)?(i=0<n?"top":"bottom","center"):ko(t-bT)?(i=0<n?"bottom":"top","center"):(i="middle",0<t&&t<bT?0<n?"right":"left":0<n?"left":"right"),textVerticalAlign:i}},ST.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},ST.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},ST);function ST(e,t){this.group=new ao,this.opt=t,this.axisModel=e,Y(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}}),(e=new ao({x:t.position[0],y:t.position[1],rotation:t.rotation})).updateTransform(),this._transformGroup=e}var AT={axisLine:function(e,t,n,i){var r,o,a,s,l,u=t.get(["axisLine","show"]);(u="auto"===u&&e.handleAutoShown?e.handleAutoShown("axisLine"):u)&&(u=t.axis.getExtent(),i=i.transform,r=[u[0],0],u=[u[1],0],i&&(ct(r,r,i),ct(u,u,i)),o=X({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),(i=new Jg({subPixelOptimize:!0,shape:{x1:r[0],y1:r[1],x2:u[0],y2:u[1]},style:o,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1})).anid="line",n.add(i),null!=(a=t.get(["axisLine","symbol"]))&&(i=t.get(["axisLine","symbolSize"]),ce(a)&&(a=[a,a]),(ce(i)||de(i))&&(i=[i,i]),t=cv(t.get(["axisLine","symbolOffset"])||0,i),s=i[0],l=i[1],ee([{rotate:e.rotation+Math.PI/2,offset:t[0],r:0},{rotate:e.rotation-Math.PI/2,offset:t[1],r:Math.sqrt((r[0]-u[0])*(r[0]-u[0])+(r[1]-u[1])*(r[1]-u[1]))}],(function(t,i){var u;"none"!==a[i]&&null!=a[i]&&(i=lv(a[i],-s/2,-l/2,s,l,o.stroke,!0),u=t.r+t.offset,i.attr({rotation:t.rotate,x:r[0]+u*Math.cos(e.rotation),y:r[1]-u*Math.sin(e.rotation),silent:!0,z2:11}),n.add(i))}))))},axisTickLabel:function(e,t,n,i){var r,o,a,s,l,u=function(e,t,n,i){var r=n.axis,o=n.getModel("axisTick");if("auto"===(a=o.get("show"))&&i.handleAutoShown&&(a=i.handleAutoShown("axisTick")),a&&!r.scale.isBlank()){for(var a=o.getModel("lineStyle"),s=(i=i.tickDirection*o.get("length"),IT(r.getTicksCoords(),t.transform,i,Y(a.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks")),l=0;l<s.length;l++)e.add(s[l]);return s}}(n,i,t,e),c=function(e,t,n,i){var r,o,a,s,l,u,c,h,d,p=n.axis;if(be(i.axisLabelShow,n.get(["axisLabel","show"]))&&!p.scale.isBlank())return r=n.getModel("axisLabel"),o=r.get("margin"),a=p.getViewLabels(),s=(be(i.labelRotate,r.get("rotate"))||0)*bT/180,l=wT.innerTextLayout(i.rotation,s,i.labelDirection),u=n.getCategories&&n.getCategories(!0),c=[],h=wT.isLabelSilent(n),d=n.get("triggerEvent"),ee(a,(function(a,s){var f="ordinal"===p.scale.type?p.scale.getRawOrdinalNumber(a.tickValue):a.tickValue,g=a.formattedLabel,m=a.rawLabel,y=r,v=(u&&u[f]&&pe(v=u[f])&&v.textStyle&&(y=new ac(v.textStyle,r,n.ecModel)),y.getTextColor()||n.get(["axisLine","lineStyle","color"])),x=p.dataToCoord(f);(x=new Ml({x:x,y:i.labelOffset+i.labelDirection*o,rotation:l.rotation,silent:h,z2:10+(a.level||0),style:Nu(y,{text:g,align:y.getShallow("align",!0)||l.textAlign,verticalAlign:y.getShallow("verticalAlign",!0)||y.getShallow("baseline",!0)||l.textVerticalAlign,fill:ue(v)?v("category"===p.type?m:"value"===p.type?f+"":f,s):v})})).anid="label_"+f,d&&((a=wT.makeAxisEventDataBase(n)).targetType="axisLabel",a.value=m,a.tickIndex=s,"category"===p.type&&(a.dataIndex=f),Cl(x).eventData=a),t.add(x),x.updateTransform(),c.push(x),e.add(x),x.decomposeTransform()})),c}(n,i,t,e),h=(o=c,aw((r=t).axis)||(p=r.get(["axisLabel","showMinLabel"]),r=r.get(["axisLabel","showMaxLabel"]),u=u||[],m=(o=o||[])[0],f=o[1],a=o[o.length-1],o=o[o.length-2],s=u[0],g=u[1],l=u[u.length-1],u=u[u.length-2],!1===p?(MT(m),MT(s)):CT(m,f)&&(p?(MT(f),MT(g)):(MT(m),MT(s))),!1===r?(MT(a),MT(l)):CT(o,a)&&(r?(MT(o),MT(u)):(MT(a),MT(l)))),n),d=i,p=t,f=e.tickDirection,g=p.axis,m=p.getModel("minorTick");if(m.get("show")&&!g.scale.isBlank()){var y=g.getMinorTicksCoords();if(y.length){g=m.getModel("lineStyle");for(var v=f*m.get("length"),x=Y(g.getLineStyle(),Y(p.getModel("axisTick").getLineStyle(),{stroke:p.get(["axisLine","lineStyle","color"])})),_=0;_<y.length;_++)for(var b=IT(y[_],d.transform,v,x,"minorticks_"+_),w=0;w<b.length;w++)h.add(b[w])}}t.get(["axisLabel","hideOverlap"])&&yS(fS(te(c,(function(e){return{label:e,priority:e.z2,defaultAttr:{ignore:e.ignore}}}))))},axisName:function(e,t,n,i){var r,o,a,s,l,u,c,h,d=be(e.axisName,t.get("name"));d&&(h=t.get("nameLocation"),l=e.nameDirection,r=t.getModel("nameTextStyle"),u=t.get("nameGap")||0,o=(c=t.axis.getExtent())[0]>c[1]?-1:1,o=["start"===h?c[0]-o*u:"end"===h?c[1]+o*u:(c[0]+c[1])/2,TT(h)?e.labelOffset+l*u:0],null!=(u=t.get("nameRotate"))&&(u=u*bT/180),TT(h)?a=wT.innerTextLayout(e.rotation,null!=u?u:e.rotation,l):(a=function(e,t,n,i){var r;n=Io(n-e),e=i[0]>i[1],i="start"===t&&!e||"start"!==t&&e;return{rotation:n,textAlign:t=ko(n-bT/2)?(r=i?"bottom":"top","center"):ko(n-1.5*bT)?(r=i?"top":"bottom","center"):(r="middle",n<1.5*bT&&bT/2<n?i?"left":"right":i?"right":"left"),textVerticalAlign:r}}(e.rotation,h,u||0,c),null!=(s=e.axisNameAvailableWidth)&&(s=Math.abs(s/Math.sin(a.rotation)),isFinite(s)||(s=null))),l=r.getFont(),u=(h=t.get("nameTruncate",!0)||{}).ellipsis,c=be(e.nameTruncateMaxWidth,h.maxWidth,s),Km({el:e=new Ml({x:o[0],y:o[1],rotation:a.rotation,silent:wT.isLabelSilent(t),style:Nu(r,{text:d,font:l,overflow:"truncate",width:c,ellipsis:u,fill:r.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:r.get("align")||a.textAlign,verticalAlign:r.get("verticalAlign")||a.textVerticalAlign}),z2:1}),componentModel:t,itemName:d}),e.__fullText=d,e.anid="name",t.get("triggerEvent")&&((h=wT.makeAxisEventDataBase(t)).targetType="axisName",h.name=d,Cl(e).eventData=h),i.add(e),e.updateTransform(),n.add(e),e.decomposeTransform())}};function MT(e){e&&(e.ignore=!0)}function CT(e,t){var n,i=e&&e.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(i&&r)return pr(n=ur([]),n,-e.rotation),i.applyTransform(hr([],n,e.getLocalTransform())),r.applyTransform(hr([],n,t.getLocalTransform())),i.intersect(r)}function TT(e){return"middle"===e||"center"===e}function IT(e,t,n,i,r){for(var o=[],a=[],s=[],l=0;l<e.length;l++){var u=e[l].coord;(u=(a[0]=u,s[a[1]=0]=u,s[1]=n,t&&(ct(a,a,t),ct(s,s,t)),new Jg({subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:i,z2:2,autoBatch:!0,silent:!0}))).anid=r+"_"+e[l].tickValue,o.push(u)}return o}var kT=wT;function DT(e,t){return"all"===e||le(e)&&0<=K(e,t)||e===t}function BT(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[PT(e)]}function ET(e){return!!e.get(["handle","show"])}function PT(e){return e.type+"||"+e.id}var LT,RT={};function OT(){var e=null!==LT&&LT.apply(this,arguments)||this;return e.type=OT.type,e}_(OT,LT=Rf),OT.prototype.render=function(e,t,n,i){var r,o,a,s,l,u;this.axisPointerClass&&(r=BT(r=e))&&(l=r.axisPointerModel,o=r.axis.scale,a=l.option,u=l.get("status"),null!=(s=l.get("value"))&&(s=o.parse(s)),l=ET(l),null==u&&(a.status=l?"show":"hide"),(u=o.getExtent().slice())[0]>u[1]&&u.reverse(),(s=null==s||s>u[1]?u[1]:s)<u[0]&&(s=u[0]),a.value=s,l&&(a.status=r.axis.scale.isBlank()?"hide":"show")),LT.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,n,!0)},OT.prototype.updateAxisPointer=function(e,t,n,i){this._doUpdateAxisPointerClass(e,n,!1)},OT.prototype.remove=function(e,t){var n=this._axisPointer;n&&n.remove(t)},OT.prototype.dispose=function(e,t){this._disposeAxisPointer(t),LT.prototype.dispose.apply(this,arguments)},OT.prototype._doUpdateAxisPointerClass=function(e,t,n){var i,r=OT.getAxisPointerClass(this.axisPointerClass);r&&((i=(i=BT(i=e))&&i.axisPointerModel)?(this._axisPointer||(this._axisPointer=new r)).render(e,i,t,n):this._disposeAxisPointer(t))},OT.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},OT.registerAxisPointerClass=function(e,t){RT[e]=t},OT.getAxisPointerClass=function(e){return e&&RT[e]},OT.type="axis";var FT=OT,NT=ea();function zT(e,t,n,i){var r=n.axis;if(!r.scale.isBlank()){var o=(n=n.getModel("splitArea")).getModel("areaStyle"),a=o.get("color"),s=i.coordinateSystem.getRect(),l=r.getTicksCoords({tickModel:n,clamp:!0});if(l.length){var u=a.length,c=NT(e).splitAreaColors,h=Pe(),d=0;if(c)for(var p=0;p<l.length;p++){var f=c.get(l[p].tickValue);if(null!=f){d=(f+(u-1)*p)%u;break}}var g=r.toGlobalCoord(l[0].coord),m=o.getAreaStyle();for(a=le(a)?a:[a],p=1;p<l.length;p++){var y=r.toGlobalCoord(l[p].coord),v=void 0,x=void 0,_=void 0,b=void 0;g=r.isHorizontal()?(v=g,x=s.y,b=s.height,v+(_=y-v)):(v=s.x,x=g,_=s.width,x+(b=y-x));null!=(y=l[p-1].tickValue)&&h.set(y,d),t.add(new sl({anid:null!=y?"area_"+y:null,shape:{x:v,y:x,width:_,height:b},style:Y({fill:a[d]},m),autoBatch:!0,silent:!0})),d=(d+1)%u}NT(e).splitAreaColors=h}}}function GT(e){NT(e).splitAreaColors=null}var HT,VT=["axisLine","axisTickLabel","axisName"],UT=["splitArea","splitLine","minorSplitLine"];_(ZT,HT=FT),ZT.prototype.render=function(e,t,n,i){this.group.removeAll();var r,o,a=this._axisGroup;this._axisGroup=new ao,this.group.add(this._axisGroup),e.get("show")&&(o=hT(r=e.getCoordSysModel(),e),o=new kT(e,X({handleAutoShown:function(t){for(var n=r.coordinateSystem.getCartesians(),i=0;i<n.length;i++)if(ob(n[i].getOtherAxis(e.axis).scale))return!0;return!1}},o)),ee(VT,o.add,o),this._axisGroup.add(o.getGroup()),ee(UT,(function(t){e.get([t,"show"])&&jT[t](this,this._axisGroup,e,r)}),this),i&&"changeAxisOrder"===i.type&&i.isInitSort||Zm(a,this._axisGroup,e),HT.prototype.render.call(this,e,t,n,i))},ZT.prototype.remove=function(){GT(this)},ZT.type="cartesianAxis",ev=ZT;function ZT(){var e=null!==HT&&HT.apply(this,arguments)||this;return e.type=ZT.type,e.axisPointerClass="CartesianAxisPointer",e}var WT,jT={splitLine:function(e,t,n,i){var r=n.axis;if(!r.scale.isBlank())for(var o=(n=n.getModel("splitLine")).getModel("lineStyle"),a=le(a=o.get("color"))?a:[a],s=i.coordinateSystem.getRect(),l=r.isHorizontal(),u=0,c=r.getTicksCoords({tickModel:n}),h=[],d=[],p=o.getLineStyle(),f=0;f<c.length;f++){var g=r.toGlobalCoord(c[f].coord),m=(g=(l?(h[0]=g,h[1]=s.y,d[0]=g,d[1]=s.y+s.height):(h[0]=s.x,h[1]=g,d[0]=s.x+s.width,d[1]=g),u++%a.length),c[f].tickValue);t.add(new Jg({anid:null!=m?"line_"+c[f].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:d[0],y2:d[1]},style:Y({stroke:a[g]},p),silent:!0}))}},minorSplitLine:function(e,t,n,i){var r=n.axis,o=(n=n.getModel("minorSplitLine").getModel("lineStyle"),i.coordinateSystem.getRect()),a=r.isHorizontal(),s=r.getMinorTicksCoords();if(s.length)for(var l=[],u=[],c=n.getLineStyle(),h=0;h<s.length;h++)for(var d=0;d<s[h].length;d++){var p=r.toGlobalCoord(s[h][d].coord);a?(l[0]=p,l[1]=o.y,u[0]=p,u[1]=o.y+o.height):(l[0]=o.x,l[1]=p,u[0]=o.x+o.width,u[1]=p),t.add(new Jg({anid:"minor_line_"+s[h][d].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:l[0],y1:l[1],x2:u[0],y2:u[1]},style:c,silent:!0}))}},splitArea:function(e,t,n,i){zT(e,t,n,i)}},XT=(_(YT,WT=ev),YT.type="xAxis",YT);function YT(){var e=null!==WT&&WT.apply(this,arguments)||this;return e.type=YT.type,e}_(QT,JT=ev),QT.type="yAxis";var JT,KT=QT;function QT(){var e=null!==JT&&JT.apply(this,arguments)||this;return e.type=XT.type,e}_(eI,qT=Rf),eI.prototype.render=function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new sl({shape:e.coordinateSystem.getRect(),style:Y({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},eI.type="grid";var qT,$T=eI;function eI(){var e=null!==qT&&qT.apply(this,arguments)||this;return e.type="grid",e}var tI,nI={offset:0};function iI(e){e.registerComponentView($T),e.registerComponentModel(JC),e.registerCoordinateSystem("cartesian2d",_T),eT(e,"x",KC,nI),eT(e,"y",KC,nI),e.registerComponentView(XT),e.registerComponentView(KT),e.registerPreprocessor((function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}))}function rI(e){e.eachSeriesByType("radar",(function(e){var t,n=e.getData(),i=[],r=e.coordinateSystem;r&&(ee(t=r.getIndicatorAxes(),(function(e,o){n.each(n.mapDimension(t[o].dim),(function(e,t){i[t]=i[t]||[],e=r.dataToPoint(e,o),i[t][o]=oI(e)?e:aI(r)}))})),n.each((function(e){var t=re(i[e],oI)||aI(r);i[e].push(t.slice()),n.setItemLayout(e,i[e])})))}))}function oI(e){return!isNaN(e[0])&&!isNaN(e[1])}function aI(e){return[e.cx,e.cy]}function sI(e){var t,n=e.polar;n&&(le(n)||(n=[n]),t=[],ee(n,(function(n,i){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),e.radar=e.radar||[],le(e.radar)||(e.radar=[e.radar]),e.radar.push(n)):t.push(n)})),e.polar=t),ee(e.series,(function(e){e&&"radar"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)}))}function lI(){var e=null!==tI&&tI.apply(this,arguments)||this;return e.type=lI.type,e}_(lI,tI=sy),lI.prototype.render=function(e,t,n){var i=e.coordinateSystem,r=this.group,o=e.getData(),a=this._data;function s(t,n,i,r,o,a){i.removeAll();for(var s=0;s<n.length-1;s++){var u=function(e,t){var n,i=e.getItemVisual(t,"symbol")||"circle";if("none"!==i)return n=uv(e.getItemVisual(t,"symbolSize")),i=lv(i,-1,-1,2,2),e=e.getItemVisual(t,"symbolRotate")||0,i.attr({style:{strokeNoScale:!0},z2:100,scaleX:n[0]/2,scaleY:n[1]/2,rotation:e*Math.PI/180||0}),i}(r,o);u&&(t[u.__dimIdx=s]?(u.setPosition(t[s]),l[a?"initProps":"updateProps"](u,{x:n[s][0],y:n[s][1]},e,o)):u.setPosition(n[s]),i.add(u))}}function u(e){return te(e,(function(e){return[i.cx,i.cy]}))}o.diff(a).add((function(t){var n,i,r,a,l=o.getItemLayout(t);l&&(n=new Gg,i=new Zg,r={shape:{points:l}},n.shape.points=u(l),i.shape.points=u(l),Tu(n,r,e,t),Tu(i,r,e,t),r=new ao,a=new ao,r.add(i),r.add(n),r.add(a),s(i.shape.points,l,a,o,t,!0),o.setItemGraphicEl(t,r))})).update((function(t,n){var i=(n=a.getItemGraphicEl(n)).childAt(0),r=n.childAt(1),l=n.childAt(2),u={shape:{points:o.getItemLayout(t)}};u.shape.points&&(s(i.shape.points,u.shape.points,l,o,t,!1),Eu(r),Eu(i),Cu(i,u,e),Cu(r,u,e),o.setItemGraphicEl(t,n))})).remove((function(e){r.remove(a.getItemGraphicEl(e))})).execute(),o.eachItemGraphicEl((function(e,t){var n=o.getItemModel(t),i=e.childAt(0),a=e.childAt(1),s=e.childAt(2),l=o.getItemVisual(t,"style"),u=l.fill,c=(i=(r.add(e),i.useStyle(Y(n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:u})),vu(i,n,"lineStyle"),vu(a,n,"areaStyle"),n.getModel("areaStyle"))).isEmpty()&&i.parentModel.isEmpty(),h=(i=(a.ignore=c,ee(["emphasis","select","blur"],(function(e){var t=(t=n.getModel([e,"areaStyle"])).isEmpty()&&t.parentModel.isEmpty();a.ensureState(e).ignore=t&&c})),a.useStyle(Y(i.getAreaStyle(),{fill:u,opacity:.7,decal:l.decal})),n.getModel("emphasis")),i.getModel("itemStyle").getItemStyle());s.eachChild((function(e){e instanceof Qs?(i=e.style,e.useStyle(X({image:i.image,x:i.x,y:i.y,width:i.width,height:i.height},l))):(e.useStyle(l),e.setColor(u),e.style.strokeNoScale=!0),e.ensureState("emphasis").style=Z(h);var i=o.getStore().get(o.getDimensionIndex(e.__dimIdx),t);null!=i&&!isNaN(i)||(i=""),Ou(e,Fu(n),{labelFetcher:o.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:i,inheritColor:u,defaultOpacity:l.opacity})})),fu(e,i.get("focus"),i.get("blurScope"),i.get("disabled"))})),this._data=o},lI.prototype.remove=function(){this.group.removeAll(),this._data=null},lI.type="radar";var uI,cI=lI;function hI(){var e=null!==uI&&uI.apply(this,arguments)||this;return e.type=hI.type,e.hasSymbolVisual=!0,e}_(hI,uI=Pf),hI.prototype.init=function(e){uI.prototype.init.apply(this,arguments),this.legendVisualProvider=new BC(ae(this.getData,this),ae(this.getRawData,this))},hI.prototype.getInitialData=function(e,t){return IC(this,{generateCoord:"indicator_",generateCoordCount:1/0})},hI.prototype.formatTooltip=function(e,t,n){var i=this.getData(),r=this.coordinateSystem.getIndicatorAxes(),o=""===(o=this.getData().getName(e))?this.name:o,a=mf(this,e);return lf("section",{header:o,sortBlocks:!0,blocks:te(r,(function(t){var n=i.get(i.mapDimension(t.dim),e);return lf("nameValue",{markerType:"subItem",markerColor:a,name:t.name,value:n,sortParam:n})}))})},hI.prototype.getTooltipPosition=function(e){if(null!=e)for(var t,n=this.getData(),i=this.coordinateSystem,r=n.getValues(te(i.dimensions,(function(e){return n.mapDimension(e)})),e),o=0,a=r.length;o<a;o++)if(!isNaN(r[o]))return t=i.getIndicatorAxes(),i.coordToPoint(t[o].dataToCoord(r[o]),o)},hI.type="series.radar",hI.dependencies=["radar"],hI.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8};var dI,pI=hI;$y=qC.value;function fI(e,t){return Y({show:t},e)}function gI(){var e=null!==dI&&dI.apply(this,arguments)||this;return e.type=gI.type,e}_(gI,dI=Mh),gI.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),t=this.get("splitNumber"),n=this.get("scale"),i=this.get("axisLine"),r=this.get("axisTick"),o=this.get("axisLabel"),a=this.get("axisName"),s=this.get(["axisName","show"]),l=this.get(["axisName","formatter"]),u=this.get("axisNameGap"),c=this.get("triggerEvent"),h=te(this.get("indicator")||[],(function(h){null!=h.max&&0<h.max&&!h.min?h.min=0:null!=h.min&&h.min<0&&!h.max&&(h.max=0);var d=a;null!=h.color&&(d=Y({color:h.color},a)),h=W(Z(h),{boundaryGap:e,splitNumber:t,scale:n,axisLine:i,axisTick:r,axisLabel:o,name:h.text,showName:s,nameLocation:"end",nameGap:u,nameTextStyle:d,triggerEvent:c},!1);return q(d=(s||(h.name=""),ce(l)?(d=h.name,h.name=l.replace("{value}",null!=d?d:"")):ue(l)&&(h.name=l(h.name,h)),new ac(h,null,this.ecModel)),lw.prototype),d.mainType="radar",d.componentIndex=this.componentIndex,d}),this);this._indicatorModels=h},gI.prototype.getIndicatorModels=function(){return this._indicatorModels},gI.type="radar",gI.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:W({lineStyle:{color:"#bbb"}},$y.axisLine),axisLabel:fI($y.axisLabel,!1),axisTick:fI($y.axisTick,!1),splitLine:fI($y.splitLine,!0),splitArea:fI($y.splitArea,!0),indicator:[]};var mI,yI=gI,vI=["axisLine","axisTickLabel","axisName"];function xI(){var e=null!==mI&&mI.apply(this,arguments)||this;return e.type=xI.type,e}_(xI,mI=Rf),xI.prototype.render=function(e,t,n){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},xI.prototype._buildAxes=function(e){var t=e.coordinateSystem;ee(te(t.getIndicatorAxes(),(function(e){var n=e.model.get("showName")?e.name:"";return new kT(e.model,{axisName:n,position:[t.cx,t.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})})),(function(e){ee(vI,e.add,e),this.group.add(e.getGroup())}),this)},xI.prototype._buildSplitLineAndArea=function(e){var t=e.coordinateSystem,n=t.getIndicatorAxes();if(n.length){var i=e.get("shape"),r=e.getModel("splitLine"),o=(e=e.getModel("splitArea"),r.getModel("lineStyle")),a=e.getModel("areaStyle"),s=r.get("show"),l=e.get("show"),u=(r=o.get("color"),e=a.get("color"),le(r)?r:[r]),c=le(e)?e:[e],h=[],d=[];if("circle"===i)for(var p=n[0].getTicksCoords(),f=t.cx,g=t.cy,m=0;m<p.length;m++)s&&h[A(h,u,m)].push(new ug({shape:{cx:f,cy:g,r:p[m].coord}})),l&&m<p.length-1&&d[A(d,c,m)].push(new Lg({shape:{cx:f,cy:g,r0:p[m].coord,r:p[m+1].coord}}));else{var y,v=te(n,(function(e,n){return e=e.getTicksCoords(),y=null==y?e.length-1:Math.min(e.length-1,y),te(e,(function(e){return t.coordToPoint(e.coord,n)}))})),x=[];for(m=0;m<=y;m++){for(var _=[],b=0;b<n.length;b++)_.push(v[b][m]);_[0]&&_.push(_[0].slice()),s&&h[A(h,u,m)].push(new Zg({shape:{points:_}})),l&&x&&d[A(d,c,m-1)].push(new Gg({shape:{points:_.concat(x)}})),x=_.slice().reverse()}}var w=o.getLineStyle(),S=a.getAreaStyle();ee(d,(function(e,t){this.group.add(Rm(e,{style:Y({stroke:"none",fill:c[t%c.length]},S),silent:!0}))}),this),ee(h,(function(e,t){this.group.add(Rm(e,{style:Y({fill:"none",stroke:u[t%u.length]},w),silent:!0}))}),this)}function A(e,t,n){return e[n%=t.length]=e[n]||[],n}},xI.type="radar";var _I,bI=xI;function wI(e,t,n){return(e=_I.call(this,e,t,n)||this).type="value",e.angle=0,e.name="",e}_(wI,_I=Uw);var SI=wI;function AI(e,t,n){this.dimensions=[],this._model=e,this._indicatorAxes=te(e.getIndicatorModels(),(function(e,t){var n=new SI(t="indicator_"+t,new vb);return n.name=e.get("name"),(n.model=e).axis=n,this.dimensions.push(t),n}),this),this.resize(e,n)}AI.prototype.getIndicatorAxes=function(){return this._indicatorAxes},AI.prototype.dataToPoint=function(e,t){var n=this._indicatorAxes[t];return this.coordToPoint(n.dataToCoord(e),t)},AI.prototype.coordToPoint=function(e,t){return t=this._indicatorAxes[t].angle,[this.cx+e*Math.cos(t),this.cy-e*Math.sin(t)]},AI.prototype.pointToData=function(e){for(var t,n=e[0]-this.cx,i=(e=e[1]-this.cy,Math.sqrt(n*n+e*e)),r=(n/=i,e/=i,Math.atan2(-e,n)),o=1/0,a=-1,s=0;s<this._indicatorAxes.length;s++){var l=this._indicatorAxes[s],u=Math.abs(r-l.angle);u<o&&(t=l,a=s,o=u)}return[a,+(t&&t.coordToData(i))]},AI.prototype.resize=function(e,t){var n=e.get("center"),i=t.getWidth(),r=(t=t.getHeight(),Math.min(i,t)/2);(ce(i=(this.cx=_o(n[0],i),this.cy=_o(n[1],t),this.startAngle=e.get("startAngle")*Math.PI/180,e.get("radius")))||de(i))&&(i=[0,i]),this.r0=_o(i[0],r),this.r=_o(i[1],r),ee(this._indicatorAxes,(function(e,t){e.setExtent(this.r0,this.r),t=this.startAngle+t*Math.PI*2/this._indicatorAxes.length,t=Math.atan2(Math.sin(t),Math.cos(t)),e.angle=t}),this)},AI.prototype.update=function(e,t){var n=this._indicatorAxes,i=this._model,r=(ee(n,(function(e){e.scale.setExtent(1/0,-1/0)})),e.eachSeriesByType("radar",(function(t,r){var o;"radar"===t.get("coordinateSystem")&&e.getComponent("radar",t.get("radarIndex"))===i&&(o=t.getData(),ee(n,(function(e){e.scale.unionExtentFromData(o,o.mapDimension(e.dim))})))}),this),i.get("splitNumber")),o=new vb;o.setExtent(0,r),o.setInterval(1),ee(n,(function(e,t){gT(e.scale,e.model,o)}))},AI.prototype.convertToPixel=function(e,t,n){return null},AI.prototype.convertFromPixel=function(e,t,n){return null},AI.prototype.containPoint=function(e){return!1},AI.create=function(e,t){var n=[];return e.eachComponent("radar",(function(e){var i=new AI(e,0,t);n.push(i),e.coordinateSystem=i})),e.eachSeriesByType("radar",(function(e){"radar"===e.get("coordinateSystem")&&(e.coordinateSystem=n[e.get("radarIndex")||0])})),n},AI.dimensions=[];var MI=AI;function CI(e){e.registerCoordinateSystem("radar",MI),e.registerComponentModel(yI),e.registerComponentView(bI),e.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each((function(e){t.setItemVisual(e,"legendIcon","roundRect")})),t.setVisual("legendIcon","roundRect")}})}var TI,II="\0_ec_interaction_mutex";function kI(e,t){return DI(e)[t]}function DI(e){return e[II]||(e[II]={})}function BI(e){var t=TI.call(this)||this,n=(t._zr=e,ae(t._mousedownHandler,t)),i=ae(t._mousemoveHandler,t),r=ae(t._mouseupHandler,t),o=ae(t._mousewheelHandler,t),a=ae(t._pinchHandler,t);return t.enable=function(t,s){this.disable(),this._opt=Y(Z(s)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),!0!==(t=null==t||t)&&"move"!==t&&"pan"!==t||(e.on("mousedown",n),e.on("mousemove",i),e.on("mouseup",r)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",o),e.on("pinch",a))},t.disable=function(){e.off("mousedown",n),e.off("mousemove",i),e.off("mouseup",r),e.off("mousewheel",o),e.off("pinch",a)},t}function EI(e,t,n,i,r){e.pointerChecker&&e.pointerChecker(i,r.originX,r.originY)&&(Pt(i.event),PI(e,t,n,i,r))}function PI(e,t,n,i,r){r.isAvailableBehavior=ae(LI,null,n,i),e.trigger(t,r)}function LI(e,t,n){return n=n[e],!e||n&&(!ce(n)||t.event[n+"Key"])}qx({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Ne),_(BI,TI=yt),BI.prototype.isDragging=function(){return this._dragging},BI.prototype.isPinching=function(){return this._pinching},BI.prototype.setPointerChecker=function(e){this.pointerChecker=e},BI.prototype.dispose=function(){this.disable()},BI.prototype._mousedownHandler=function(e){var t,n;Lt(e)||e.target&&e.target.draggable||(t=e.offsetX,n=e.offsetY,this.pointerChecker&&this.pointerChecker(e,t,n)&&(this._x=t,this._y=n,this._dragging=!0))},BI.prototype._mousemoveHandler=function(e){var t,n,i,r,o,a;this._dragging&&LI("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!kI(this._zr,"globalPan")&&(t=e.offsetX,n=e.offsetY,o=t-(i=this._x),a=n-(r=this._y),this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&Pt(e.event),PI(this,"pan","moveOnMouseMove",e,{dx:o,dy:a,oldX:i,oldY:r,newX:t,newY:n,isAvailableBehavior:null}))},BI.prototype._mouseupHandler=function(e){Lt(e)||(this._dragging=!1)},BI.prototype._mousewheelHandler=function(e){var t=LI("zoomOnMouseWheel",e,this._opt),n=LI("moveOnMouseWheel",e,this._opt),i=e.wheelDelta,r=Math.abs(i),o=e.offsetX,a=e.offsetY;0!==i&&(t||n)&&(t&&(t=3<r?1.4:1<r?1.2:1.1,EI(this,"zoom","zoomOnMouseWheel",e,{scale:0<i?t:1/t,originX:o,originY:a,isAvailableBehavior:null})),n&&EI(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(0<i?1:-1)*(3<(r=Math.abs(i))?.4:1<r?.15:.05),originX:o,originY:a,isAvailableBehavior:null}))},BI.prototype._pinchHandler=function(e){kI(this._zr,"globalPan")||EI(this,"zoom",null,e,{scale:1<e.pinchScale?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})};var RI=BI;function OI(e,t,n){(e=e.target).x+=t,e.y+=n,e.dirty()}function FI(e,t,n,i){var r=e.target,o=e.zoomLimit,a=e.zoom=e.zoom||1;a*=t,o&&(t=o.min||0,o=o.max||1/0,a=Math.max(Math.min(o,a),t)),o=a/e.zoom;e.zoom=a,r.x-=(n-r.x)*(o-1),r.y-=(i-r.y)*(o-1),r.scaleX*=o,r.scaleY*=o,r.dirty()}var NI,zI={axisPointer:1,tooltip:1,brush:1};function GI(e,t,n){return e=(t=t.getComponentByElement(e.topTarget))&&t.coordinateSystem,t&&t!==n&&!zI.hasOwnProperty(t.mainType)&&e&&e.model!==n}function HI(e){var t=e=ce(e)?(new DOMParser).parseFromString(e,"text/xml"):e;for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var VI={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},UI=oe(VI),ZI={"alignment-baseline":"textBaseline","stop-color":"stopColor"},WI=oe(ZI),jI=(XI.prototype.parse=function(e,t){t=t||{};e=HI(e);for(var n,i,r=(this._defsUsePending=[],new ao),o=(this._root=r,[]),a=e.getAttribute("viewBox")||"",s=parseFloat(e.getAttribute("width")||t.width),l=parseFloat(e.getAttribute("height")||t.height),u=(isNaN(s)&&(s=null),isNaN(l)&&(l=null),$I(e,r,null,!0,!1),e.firstChild);u;)this._parseNode(u,r,o,null,!1,!1),u=u.nextSibling;for(var c=this._defs,h=this._defsUsePending,d=0;d<h.length;d++){var p=h[d];p[0].style[p[1]]=c[p[2]]}return this._defsUsePending=[],(n=a&&4<=(e=ik(a)).length?{x:parseFloat(e[0]||0),y:parseFloat(e[1]||0),width:parseFloat(e[2]),height:parseFloat(e[3])}:n)&&null!=s&&null!=l&&(i=lk(n,{x:0,y:0,width:s,height:l}),t.ignoreViewBox||(a=r,(r=new ao).add(a),a.scaleX=a.scaleY=i.scale,a.x=i.x,a.y=i.y)),t.ignoreRootClip||null==s||null==l||r.setClipPath(new sl({shape:{x:0,y:0,width:s,height:l}})),{root:r,width:s,height:l,viewBoxRect:n,viewBoxTransform:i,named:o}},XI.prototype._parseNode=function(e,t,n,i,r,o){var a,s,l=e.nodeName.toLowerCase(),u=i;if("defs"===l&&(r=!0),"text"===l&&(o=!0),"defs"===l||"switch"===l?a=t:(r||(s=NI[l])&&Fe(NI,l)&&(a=s.call(this,e,t),(s=e.getAttribute("name"))?(n.push(s={name:s,namedFrom:null,svgNodeTagLower:l,el:a}),"g"===l&&(u=s)):i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:l,el:a}),t.add(a)),(s=YI[l])&&Fe(YI,l)&&(i=s.call(this,e),(t=e.getAttribute("id"))&&(this._defs[t]=i))),a&&a.isGroup)for(var c=e.firstChild;c;)1===c.nodeType?this._parseNode(c,a,n,u,r,o):3===c.nodeType&&o&&this._parseText(c,a),c=c.nextSibling},XI.prototype._parseText=function(e,t){var n,i=new Xs({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0}),r=(e=(QI(t,i),$I(e,i,this._defsUsePending,!1,!1),i),(n=((n=(o=t).__selfStyle)&&((r=n=n.textBaseline)&&"auto"!==n&&"baseline"!==n?"before-edge"===n||"text-before-edge"===n?r="top":"after-edge"===n||"text-after-edge"===n?r="bottom":"central"!==n&&"mathematical"!==n||(r="middle"):r="alphabetic",e.style.textBaseline=r),(n=o.__inheritedStyle)&&((o=r=n.textAlign)&&("middle"===r&&(o="center"),e.style.textAlign=o)),i.style)).fontSize),o=(e=(r&&r<9&&(n.fontSize=9,i.scaleX*=r/9,i.scaleY*=r/9),(n.fontSize||n.fontFamily)&&[n.fontStyle,n.fontWeight,(n.fontSize||12)+"px",n.fontFamily||"sans-serif"].join(" ")),n.font=e,i.getBoundingRect());return this._textX+=o.width,t.add(i),i},XI.internalField=void(NI={g:function(e,t){return QI(t,t=new ao),$I(e,t,this._defsUsePending,!1,!1),t},rect:function(e,t){return QI(t,t=new sl),$I(e,t,this._defsUsePending,!1,!1),t.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),t.silent=!0,t},circle:function(e,t){return QI(t,t=new ug),$I(e,t,this._defsUsePending,!1,!1),t.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),t.silent=!0,t},line:function(e,t){return QI(t,t=new Jg),$I(e,t,this._defsUsePending,!1,!1),t.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),t.silent=!0,t},ellipse:function(e,t){return QI(t,t=new pg),$I(e,t,this._defsUsePending,!1,!1),t.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),t.silent=!0,t},polygon:function(e,t){var n,i=e.getAttribute("points");return i&&(n=qI(i)),QI(t,i=new Gg({shape:{points:n||[]},silent:!0})),$I(e,i,this._defsUsePending,!1,!1),i},polyline:function(e,t){var n,i=e.getAttribute("points");return i&&(n=qI(i)),QI(t,i=new Zg({shape:{points:n||[]},silent:!0})),$I(e,i,this._defsUsePending,!1,!1),i},image:function(e,t){var n=new Qs;return QI(t,n),$I(e,n,this._defsUsePending,!1,!1),n.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),n.silent=!0,n},text:function(e,t){var n=e.getAttribute("x")||"0",i=e.getAttribute("y")||"0",r=e.getAttribute("dx")||"0",o=e.getAttribute("dy")||"0";return QI(t,n=(this._textX=parseFloat(n)+parseFloat(r),this._textY=parseFloat(i)+parseFloat(o),new ao)),$I(e,n,this._defsUsePending,!1,!0),n},tspan:function(e,t){var n=e.getAttribute("x"),i=e.getAttribute("y"),r=(n=(null!=n&&(this._textX=parseFloat(n)),null!=i&&(this._textY=parseFloat(i)),e.getAttribute("dx")||"0"),i=e.getAttribute("dy")||"0",new ao);return QI(t,r),$I(e,r,this._defsUsePending,!1,!0),this._textX+=parseFloat(n),this._textY+=parseFloat(i),r},path:function(e,t){return QI(t,t=ig(e.getAttribute("d")||"")),$I(e,t,this._defsUsePending,!1,!1),t.silent=!0,t}}),XI);function XI(){this._defs={},this._root=null}var YI={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||"0",10),n=parseInt(e.getAttribute("y1")||"0",10),i=parseInt(e.getAttribute("x2")||"10",10),r=parseInt(e.getAttribute("y2")||"0",10);return JI(e,t=new dm(t,n,i,r)),KI(e,t),t},radialgradient:function(e){var t=parseInt(e.getAttribute("cx")||"0",10),n=parseInt(e.getAttribute("cy")||"0",10),i=parseInt(e.getAttribute("r")||"0",10);return JI(e,t=new fm(t,n,i)),KI(e,t),t}};function JI(e,t){"userSpaceOnUse"===e.getAttribute("gradientUnits")&&(t.global=!0)}function KI(e,t){for(var n,i,r=e.firstChild;r;)1===r.nodeType&&"stop"===r.nodeName.toLocaleLowerCase()&&(void 0,n=(i=r.getAttribute("offset"))&&0<i.indexOf("%")?parseInt(i,10)/100:i?parseFloat(i):0,sk(r,i={},i),i=i.stopColor||r.getAttribute("stop-color")||"#000000",t.colorStops.push({offset:n,color:i})),r=r.nextSibling}function QI(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),Y(t.__inheritedStyle,e.__inheritedStyle))}function qI(e){for(var t=ik(e),n=[],i=0;i<t.length;i+=2){var r=parseFloat(t[i]),o=parseFloat(t[i+1]);n.push([r,o])}return n}function $I(e,t,n,i,r){var o=t,a=o.__inheritedStyle=o.__inheritedStyle||{},s={};if(1===e.nodeType){var l=e;if(l=l.getAttribute("transform")){l=l.replace(/,/g," ");var u=[],c=null;l.replace(rk,(function(e,t,n){return u.push(t,n),""}));for(var h=u.length-1;0<h;h-=2){var d=u[h],p=u[h-1],f=ik(d);switch(c=c||[1,0,0,1,0,0],p){case"translate":dr(c,c,[parseFloat(f[0]),parseFloat(f[1]||"0")]);break;case"scale":fr(c,c,[parseFloat(f[0]),parseFloat(f[1]||f[0])]);break;case"rotate":pr(c,c,-parseFloat(f[0])*ok);break;case"skewX":var g=Math.tan(parseFloat(f[0])*ok);hr(c,[1,0,g,1,0,0],c);break;case"skewY":hr(c,[1,g=Math.tan(parseFloat(f[0])*ok),0,1,0,0],c);break;case"matrix":c[0]=parseFloat(f[0]),c[1]=parseFloat(f[1]),c[2]=parseFloat(f[2]),c[3]=parseFloat(f[3]),c[4]=parseFloat(f[4]),c[5]=parseFloat(f[5])}}t.setLocalTransform(c)}if(sk(e,a,s),!i){for(var m=e,y=a,v=s,x=0;x<UI.length;x++){var _=UI[x];null!=(b=m.getAttribute(_))&&(y[VI[_]]=b)}for(x=0;x<WI.length;x++){var b;_=WI[x];null!=(b=m.getAttribute(_))&&(v[ZI[_]]=b)}}}o.style=o.style||{},null!=a.fill&&(o.style.fill=tk(o,"fill",a.fill,n)),null!=a.stroke&&(o.style.stroke=tk(o,"stroke",a.stroke,n)),ee(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(e){null!=a[e]&&(o.style[e]=parseFloat(a[e]))})),ee(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],(function(e){null!=a[e]&&(o.style[e]=a[e])})),r&&(o.__selfStyle=s),a.lineDash&&(o.style.lineDash=te(ik(a.lineDash),(function(e){return parseFloat(e)}))),"hidden"!==a.visibility&&"collapse"!==a.visibility||(o.invisible=!0),"none"===a.display&&(o.ignore=!0)}var ek=/^url\(\s*#(.*?)\)/;function tk(e,t,n,i){var r=n&&n.match(ek);return r?(r=Te(r[1]),void i.push([e,t,r])):"none"===n?null:n}var nk=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function ik(e){return e.match(nk)||[]}var rk=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,ok=Math.PI/180,ak=/([^\s:;]+)\s*:\s*([^:;]+)/g;function sk(e,t,n){var i,r=e.getAttribute("style");if(r)for(ak.lastIndex=0;null!=(i=ak.exec(r));){var o,a=i[1];(o=((o=Fe(VI,a)?VI[a]:null)&&(t[o]=i[2]),Fe(ZI,a)?ZI[a]:null))&&(n[o]=i[2])}}function lk(e,t){var n=t.width/e.width,i=t.height/e.height;return{scale:n=Math.min(n,i),x:-(e.x+e.width/2)*n+(t.x+t.width/2),y:-(e.y+e.height/2)*n+(t.y+t.height/2)}}var uk=Pe(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),ck=(hk.prototype.load=function(){var e,t,n,i;return this._firstGraphic||(t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone(),t=t.named,n=[],i=Pe(),ee(t,(function(e){var t;null==e.namedFrom&&(t=new Tw(e.name,e.el),n.push(t),i.set(e.name,t))})),e=(t={regions:n,regionsMap:i}).regionsMap,this._regions=t.regions,this._regionsMap=e),{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},hk.prototype._buildGraphic=function(e){var t,n,i,r;try{Ce(null!=(n=(t=e&&(i=e,r={ignoreViewBox:!0,ignoreRootClip:!0},(new jI).parse(i,r))||{}).root))}catch(e){throw new Error("Invalid svg format\n"+e.message)}var o,a,s,l,u=((e=new ao).add(n),e.isGeoSVGGraphicRoot=!0,t.width),c=t.height,h=t.viewBoxRect,d=this._boundingRect,p=(d||(l=s=a=o=void 0,null!=u?(o=0,s=u):h&&(o=h.x,s=h.width),null!=c?(a=0,l=c):h&&(a=h.y,l=h.height),null!=o&&null!=a||(u=n.getBoundingRect(),null==o&&(o=u.x,s=u.width),null==a&&(a=u.y,l=u.height)),d=this._boundingRect=new zr(o,a,s,l)),h&&(c=lk(h,d),n.scaleX=n.scaleY=c.scale,n.x=c.x,n.y=c.y),e.setClipPath(new sl({shape:d.plain()})),[]);return ee(t.named,(function(e){null!=uk.get(e.svgNodeTagLower)&&(p.push(e),(e=e.el).silent=!1,e.isGroup&&e.traverse((function(e){e.silent=!1})))})),{root:e,boundingRect:d,named:p}},hk.prototype.useGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,n),n)},hk.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);n&&(t.removeKey(e),this._freedGraphics.push(n))},hk);function hk(e,t){this.type="geoSVG",this._usedGraphicMap=Pe(),this._freedGraphics=[],this._mapName=e,this._parsedXML=HI(t)}for(var dk=[126,25],pk=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],fk=0;fk<pk.length;fk++)for(var gk=0;gk<pk[fk].length;gk++)pk[fk][gk][0]/=10.5,pk[fk][gk][1]/=-14,pk[fk][gk][0]+=dk[0],pk[fk][gk][1]+=dk[1];var mk={"\u5357\u6d77\u8bf8\u5c9b":[32,80],"\u5e7f\u4e1c":[0,-10],"\u9999\u6e2f":[10,5],"\u6fb3\u95e8":[-10,10],"\u5929\u6d25":[5,5]},yk=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];xk.prototype.load=function(e,t){var n,i=this._parsedMap.get(t=t||"name"),r=(i||(n=this._parseToRegions(t),i=this._parsedMap.set(t,{regions:n,boundingRect:function(e){for(var t,n=0;n<e.length;n++){var i=e[n].getBoundingRect();(t=t||i.clone()).union(i)}return t}(n)})),Pe()),o=[];return ee(i.regions,(function(t){var n=t.name;e&&Fe(e,n)&&(t=t.cloneShallow(n=e[n])),o.push(t),r.set(n,t)})),{regions:o,boundingRect:i.boundingRect||new zr(0,0,0,0),regionsMap:r}},xk.prototype._parseToRegions=function(e){var t,n=this._mapName,i=this._geoJSON;try{t=i?Bw(i,e):[]}catch(e){throw new Error("Invalid geoJson format\n"+e.message)}return function(e,t){if("china"===e){for(var n=0;n<t.length;n++)if("\u5357\u6d77\u8bf8\u5c9b"===t[n].name)return;t.push(new Aw("\u5357\u6d77\u8bf8\u5c9b",te(pk,(function(e){return{type:"polygon",exterior:e}})),dk))}}(n,t),ee(t,(function(e){var t,i,r=e.name,o=(o=e,"china"===(i=n)&&(i=mk[o.name])&&((t=o.getCenter())[0]+=i[0]/10.5,t[1]+=-i[1]/14,o.setCenter(t)),i=e,"china"===n&&"\u53f0\u6e7e"===i.name&&i.geometries.push({type:"polygon",exterior:yk[0]}),this._specialAreas&&this._specialAreas[r]);o&&e.transformTo(o.left,o.top,o.width,o.height)}),this),t},xk.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}};var vk=xk;function xk(e,t,n){this.type="geoJSON",this._parsedMap=Pe(),this._mapName=e,this._specialAreas=n,this._geoJSON=ce(e=t)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e}var _k=Pe(),bk=function(e,t,n){var i;t=t.svg?new ck(e,t.svg):((i=t.geoJson||t.geoJSON)&&!t.features?n=t.specialAreas:i=t,new vk(e,i,n)),_k.set(e,t)},wk=function(e){return _k.get(e)},Sk=function(e){return(e=_k.get(e))&&"geoJSON"===e.type&&e.getMapForUser()},Ak=function(e,t,n){if(e=_k.get(e))return e.load(t,n)},Mk=Pe(wc=["rect","circle","line","ellipse","polygon","polyline","path"]),Ck=Pe(wc.concat(["g"])),Tk=Pe(wc.concat(["g"])),Ik=ea();function kk(e){var t=e.getItemStyle();return null!=(e=e.get("areaColor"))&&(t.fill=e),t}function Dk(e){(e=e.style)&&(e.stroke=e.stroke||e.fill,e.fill=null)}function Bk(e){var t=new ao;this.uid=lc("ec_map_draw"),this._controller=new RI(e.getZr()),this._controllerHost={target:t},(this.group=t).add(this._regionsGroup=new ao),t.add(this._svgGroup=new ao)}function Ek(e,t,n,i){var r,o=i.getModel("itemStyle"),a=i.getModel(["emphasis","itemStyle"]),s=i.getModel(["blur","itemStyle"]),l=(i=i.getModel(["select","itemStyle"]),o=kk(o),a=kk(a),i=kk(i),s=kk(s),e.data);l&&(r=l.getItemVisual(n,"style"),l=l.getItemVisual(n,"decal"),e.isVisualEncodedByVisualMap&&r.fill&&(o.fill=r.fill),l&&(o.decal=Lv(l,e.api))),t.setStyle(o),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=a,t.ensureState("select").style=i,t.ensureState("blur").style=s,ql(t)}function Pk(e,t,n,i,r,o,a){var s=e.data,l=(e=e.isGeo,s&&isNaN(s.get(s.mapDimension("value"),o))),u=s&&s.getItemLayout(o);e||l||u&&u.showLabel?(l=e?n:o,u=!s||0<=o?r:void 0,e=a?{normal:{align:"center",verticalAlign:"middle"}}:null,Ou(t,Fu(i),{labelFetcher:u,labelDataIndex:l,defaultText:n},e),(s=t.getTextContent())&&(Ik(s).ignore=s.ignore,t.textConfig&&a&&(o=t.getBoundingRect().clone(),t.textConfig.layoutRect=o,t.textConfig.position=[(a[0]-o.x)/o.width*100+"%",(a[1]-o.y)/o.height*100+"%"])),t.disableLabelAnimation=!0):(t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null)}function Lk(e,t,n,i,r,o){e.data?e.data.setItemGraphicEl(o,t):Cl(t).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:n,region:i&&i.option||{}}}function Rk(e,t,n,i,r){e.data||Km({el:t,componentModel:r,itemName:n,itemTooltipOption:i.get("tooltip")})}function Ok(e,t,n,i,r){t.highDownSilentOnTouch=!!r.get("selectedMode");var o=(i=i.getModel("emphasis")).get("focus");return fu(t,o,i.get("blurScope"),i.get("disabled")),e.isGeo&&(i=r,e=n,(r=Cl(r=t)).componentMainType=i.mainType,r.componentIndex=i.componentIndex,r.componentHighDownName=e),o}function Fk(e,t,n){var i,r=[];function o(){i=[]}function a(){i.length&&(r.push(i),i=[])}var s=t({polygonStart:o,polygonEnd:a,lineStart:o,lineEnd:a,point:function(e,t){isFinite(e)&&isFinite(t)&&i.push([e,t])},sphere:function(){}});return n||s.polygonStart(),ee(e,(function(e){s.lineStart();for(var t=0;t<e.length;t++)s.point(e[t][0],e[t][1]);s.lineEnd()})),n||s.polygonEnd(),r}Bk.prototype.draw=function(e,t,n,i,r){var o="geo"===e.mainType,a=e.getData&&e.getData(),s=(o&&t.eachComponent({mainType:"series",subType:"map"},(function(t){a||t.getHostGeoModel()!==e||(a=t.getData())})),e.coordinateSystem),l=this._regionsGroup,u=this.group,c=(h=s.getTransformInfo()).raw,h=h.roam;!l.childAt(0)||r?(u.x=h.x,u.y=h.y,u.scaleX=h.scaleX,u.scaleY=h.scaleY,u.dirty()):Cu(u,h,e),r=a&&a.getVisual("visualMeta")&&0<a.getVisual("visualMeta").length,u={api:n,geo:s,mapOrGeoModel:e,data:a,isVisualEncodedByVisualMap:r,isGeo:o,transformInfoRaw:c};"geoJSON"===s.resourceType?this._buildGeoJSON(u):"geoSVG"===s.resourceType&&this._buildSVG(u),this._updateController(e,t,n),this._updateMapSelectHandler(e,l,n,i)},Bk.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=Pe(),n=Pe(),i=this._regionsGroup,r=e.transformInfoRaw,o=e.mapOrGeoModel,a=e.data,s=e.geo.projection,l=s&&s.stream;function u(e,t){return(e=t?t(e):e)&&[e[0]*r.scaleX+r.x,e[1]*r.scaleY+r.y]}function c(e){return{shape:{points:function(e){for(var t=[],n=!l&&s&&s.project,i=0;i<e.length;++i){var r=u(e[i],n);r&&t.push(r)}return t}(e)}}}i.removeAll(),ee(e.geo.regions,(function(r){var h=r.name,d=t.get(h),p=n.get(h)||{},f=p.dataIdx,g=p.regionModel,m=(d||(d=t.set(h,new ao),i.add(d),f=a?a.indexOfName(h):null,g=e.isGeo?o.getRegionModel(h):a?a.getItemModel(f):null,n.set(h,{dataIdx:f,regionModel:g})),[]),y=[],v=(ee(r.geometries,(function(e){var t;"polygon"===e.type?(t=[e.exterior].concat(e.interiors||[]),ee(t=l?Fk(t,l):t,(function(e){m.push(new Gg(c(e)))}))):(t=e.points,ee(t=l?Fk(t,l,!0):t,(function(e){y.push(new Zg(c(e)))})))})),u(r.getCenter(),s&&s.project));function x(t,n){t.length&&(t=new lm({culling:!0,segmentIgnoreThreshold:1,shape:{paths:t}}),d.add(t),Ek(e,t,f,g),Pk(e,t,h,g,o,f,v),n&&(Dk(t),ee(t.states,Dk)))}x(m),x(y,!0)})),t.each((function(t,i){var r=(a=n.get(i)).dataIdx,a=a.regionModel;Lk(e,t,i,a,o,r),Rk(e,t,i,a,o),Ok(e,t,i,a,o)}),this)},Bk.prototype._buildSVG=function(e){var t=e.geo.map,n=e.transformInfoRaw,i=(this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t)),this._svgDispatcherMap=Pe()),r=!1;ee(this._svgGraphicRecord.named,(function(t){var n=t.name,o=e.mapOrGeoModel,a=e.data,s=t.svgNodeTagLower,l=t.el,u=(a=a?a.indexOfName(n):null,o.getRegionModel(n));null!=Mk.get(s)&&l instanceof Wa&&Ek(e,l,a,u),l instanceof Wa&&(l.culling=!0),l.z2EmphasisLift=0,t.namedFrom||(null!=Tk.get(s)&&Pk(e,l,n,u,o,a,null),Lk(e,l,n,u,o,a),Rk(e,l,n,u,o),null!=Ck.get(s)&&("self"===Ok(e,l,n,u,o)&&(r=!0),(i.get(n)||i.set(n,[])).push(l)))}),this),this._enableBlurEntireSVG(r,e)},Bk.prototype._enableBlurEntireSVG=function(e,t){var n;e&&t.isGeo&&(n=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity,this._svgGraphicRecord.root.traverse((function(e){var t;e.isGroup||(ql(e),null==(t=e.ensureState("blur").style||{}).opacity&&null!=n&&(t.opacity=n),e.ensureState("emphasis"))})))},Bk.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},Bk.prototype.findHighDownDispatchers=function(e,t){if(null==e)return[];if("geoJSON"===(t=t.coordinateSystem).resourceType){var n=this._regionsGroupByName;if(n)return(n=n.get(e))?[n]:[]}else if("geoSVG"===t.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},Bk.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},Bk.prototype._useSVG=function(e){var t=wk(e);t&&"geoSVG"===t.type&&(t=t.useGraphic(this.uid),this._svgGroup.add(t.root),this._svgGraphicRecord=t,this._svgMapName=e)},Bk.prototype._freeSVG=function(){var e=this._svgMapName;null!=e&&((e=wk(e))&&"geoSVG"===e.type&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null)},Bk.prototype._updateController=function(e,t,n){var i=e.coordinateSystem,r=this._controller,o=this._controllerHost,a=(o.zoomLimit=e.get("scaleLimit"),o.zoom=i.getZoom(),r.enable(e.get("roam")||!1),e.mainType);function s(){var t={type:"geoRoam",componentType:a};return t[a+"Id"]=e.id,t}r.off("pan").on("pan",(function(e){this._mouseDownFlag=!1,OI(o,e.dx,e.dy),n.dispatchAction(X(s(),{dx:e.dx,dy:e.dy,animation:{duration:0}}))}),this),r.off("zoom").on("zoom",(function(e){this._mouseDownFlag=!1,FI(o,e.scale,e.originX,e.originY),n.dispatchAction(X(s(),{zoom:e.scale,originX:e.originX,originY:e.originY,animation:{duration:0}}))}),this),r.setPointerChecker((function(t,r,o){return i.containPoint([r,o])&&!GI(t,n,e)}))},Bk.prototype.resetForLabelLayout=function(){this.group.traverse((function(e){(e=e.getTextContent())&&(e.ignore=Ik(e).ignore)}))},Bk.prototype._updateMapSelectHandler=function(e,t,n,i){var r=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",(function(){r._mouseDownFlag=!0})),t.on("click",(function(e){r._mouseDownFlag&&(r._mouseDownFlag=!1)})))};var Nk,zk=Bk;function Gk(){var e=null!==Nk&&Nk.apply(this,arguments)||this;return e.type=Gk.type,e}_(Gk,Nk=sy),Gk.prototype.render=function(e,t,n,i){var r,o;i&&"mapToggleSelect"===i.type&&i.from===this.uid||((r=this.group).removeAll(),e.getHostGeoModel()||(this._mapDraw&&i&&"geoRoam"===i.type&&this._mapDraw.resetForLabelLayout(),i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===e.id?(o=this._mapDraw)&&r.add(o.group):e.needsDrawMap?(o=this._mapDraw||new zk(n),r.add(o.group),o.draw(e,t,n,this,i),this._mapDraw=o):(this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null),e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,n)))},Gk.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},Gk.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},Gk.prototype._renderSymbols=function(e,t,n){var i=e.originalData,r=this.group;i.each(i.mapDimension("value"),(function(t,n){var o,a,s,l;isNaN(t)||(t=i.getItemLayout(n))&&t.point&&(l=t.point,t=t.offset,o=new ug({style:{fill:e.getData().getVisual("style").fill},shape:{cx:l[0]+9*t,cy:l[1],r:3},silent:!0,z2:8+(t?0:11)}),t||(l=e.mainSeries.getData(),t=i.getName(n),a=l.indexOfName(t),s=(n=i.getItemModel(n)).getModel("label"),l=l.getItemGraphicEl(a),Ou(o,Fu(n),{labelFetcher:{getFormattedLabel:function(t,n){return e.getFormattedLabel(a,n)}},defaultText:t}),o.disableLabelAnimation=!0,s.get("position")||o.setTextConfig({position:"bottom"}),l.onHoverStateChange=function(e){Kl(o,e)}),r.add(o))}))},Gk.type="map";var Hk,Vk=Gk;function Uk(){var e=null!==Hk&&Hk.apply(this,arguments)||this;return e.type=Uk.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(e){var t;if(null!=e)return e=this.getData().getName(e),(e=(t=this.coordinateSystem).getRegion(e))&&t.dataToPoint(e.getCenter())},e}_(Uk,Hk=Pf),Uk.prototype.getInitialData=function(e){for(var t=IC(this,{coordDimensions:["value"],encodeDefaulter:se(Hh,this)}),n=Pe(),i=[],r=0,o=t.count();r<o;r++){var a=t.getName(r);n.set(a,!0)}return ee(Ak(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,(function(e){e=e.name,n.get(e)||i.push(e)})),t.appendValues([],i),t},Uk.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},Uk.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},Uk.prototype.getRawValue=function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},Uk.prototype.getRegionModel=function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},Uk.prototype.formatTooltip=function(e,t,n){for(var i=this.getData(),r=this.getRawValue(e),o=i.getName(e),a=this.seriesGroup,s=[],l=0;l<a.length;l++){var u=a[l].originalData.indexOfName(o),c=i.mapDimension("value");isNaN(a[l].originalData.get(c,u))||s.push(a[l].name)}return lf("section",{header:s.join(", "),noHeader:!s.length,blocks:[lf("nameValue",{name:o,value:r})]})},Uk.prototype.setZoom=function(e){this.option.zoom=e},Uk.prototype.setCenter=function(e){this.option.center=e},Uk.prototype.getLegendIcon=function(e){var t=e.icon||"roundRect",n=lv(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return n.setStyle(e.itemStyle),n.style.stroke="none",-1<t.indexOf("empty")&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n},Uk.type="series.map",Uk.dependencies=["geo"],Uk.layoutMode="box",Uk.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"};var Zk=Uk;function Wk(e){var t={};e.eachSeriesByType("map",(function(e){var n=(n=e.getHostGeoModel())?"o"+n.id:"i"+e.getMapType();(t[n]=t[n]||[]).push(e)})),ee(t,(function(e,t){n=te(e,(function(e){return e.getData()})),i=e[0].get("mapValueCalculation"),r={},ee(n,(function(e){e.each(e.mapDimension("value"),(function(t,n){n="ec-"+e.getName(n),r[n]=r[n]||[],isNaN(t)||r[n].push(t)}))}));for(var n,i,r,o=n[0].map(n[0].mapDimension("value"),(function(e,t){for(var o="ec-"+n[0].getName(t),a=0,s=1/0,l=-1/0,u=r[o].length,c=0;c<u;c++)s=Math.min(s,r[o][c]),l=Math.max(l,r[o][c]),a+=r[o][c];return t="min"===i?s:"max"===i?l:"average"===i?a/u:a,0===u?NaN:t})),a=0;a<e.length;a++)e[a].originalData=e[a].getData();for(a=0;a<e.length;a++)(e[a].seriesGroup=e)[a].needsDrawMap=0===a&&!e[a].getHostGeoModel(),e[a].setData(o.cloneShallow()),e[a].mainSeries=e[0]}))}function jk(e){var t={};e.eachSeriesByType("map",(function(n){var i,r,o=n.getMapType();n.getHostGeoModel()||t[o]||(i={},ee(n.seriesGroup,(function(t){var n=t.coordinateSystem,r=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&r.each(r.mapDimension("value"),(function(e,t){var o=r.getName(t),a=n.getRegion(o);a&&!isNaN(e)&&(e=i[o]||0,a=n.dataToPoint(a.getCenter()),i[o]=e+1,r.setItemLayout(t,{point:a,offset:e}))}))})),(r=n.getData()).each((function(e){var t=r.getName(e),n=r.getItemLayout(e)||{};n.showLabel=!i[t],r.setItemLayout(e,n)})),t[o]=!0)}))}var Xk,Yk=ct;function Jk(e){var t=Xk.call(this)||this;return t.type="view",t.dimensions=["x","y"],t._roamTransformable=new Tr,t._rawTransformable=new Tr,t.name=e,t}function Kk(e){return(e=e.seriesModel)?e.coordinateSystem:null}_(Jk,Xk=Tr),Jk.prototype.setBoundingRect=function(e,t,n,i){return this._rect=new zr(e,t,n,i),this._rect},Jk.prototype.getBoundingRect=function(){return this._rect},Jk.prototype.setViewRect=function(e,t,n,i){this._transformTo(e,t,n,i),this._viewRect=new zr(e,t,n,i)},Jk.prototype._transformTo=function(e,t,n,i){var r=this.getBoundingRect(),o=this._rawTransformable;o.transform=r.calculateTransform(new zr(e,t,n,i)),r=o.parent;o.parent=null,o.decomposeTransform(),o.parent=r,this._updateTransform()},Jk.prototype.setCenter=function(e){e&&(this._center=e,this._updateCenterAndZoom())},Jk.prototype.setZoom=function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},Jk.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},Jk.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},Jk.prototype.getZoom=function(){return this._zoom||1},Jk.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},Jk.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),r=this.getZoom();i=ct([],i,e),n=ct([],n,e);t.originX=i[0],t.originY=i[1],t.x=n[0]-i[0],t.y=n[1]-i[1],t.scaleX=t.scaleY=r,this._updateTransform()},Jk.prototype._updateTransform=function(){var e=this._roamTransformable,t=this._rawTransformable;(t.parent=e).updateTransform(),t.updateTransform(),cr(this.transform||(this.transform=[]),t.transform||[1,0,0,1,0,0]),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],gr(this.invTransform,this.transform),this.decomposeTransform()},Jk.prototype.getTransformInfo=function(){var e=this._rawTransformable,t=this._roamTransformable,n=new Tr;return n.transform=t.transform,n.decomposeTransform(),{roam:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},Jk.prototype.getViewRect=function(){return this._viewRect},Jk.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},Jk.prototype.dataToPoint=function(e,t,n){return n=n||[],(t=t?this._rawTransform:this.transform)?Yk(n,e,t):Ue(n,e)},Jk.prototype.pointToData=function(e){var t=this.invTransform;return t?Yk([],e,t):[e[0],e[1]]},Jk.prototype.convertToPixel=function(e,t,n){return(t=Kk(t))===this?t.dataToPoint(n):null},Jk.prototype.convertFromPixel=function(e,t,n){return(t=Kk(t))===this?t.pointToData(n):null},Jk.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},Jk.dimensions=["x","y"];var Qk,qk=Jk,$k={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},eD=["lng","lat"];_(tD,Qk=qk),tD.prototype._transformTo=function(e,t,n,i){var r=this.getBoundingRect(),o=this._invertLongitute,a=(r=r.clone(),o&&(r.y=-r.y-r.height),this._rawTransformable);a.transform=r.calculateTransform(new zr(e,t,n,i)),r=a.parent;a.parent=null,a.decomposeTransform(),a.parent=r,o&&(a.scaleY=-a.scaleY),this._updateTransform()},tD.prototype.getRegion=function(e){return this._regionsMap.get(e)},tD.prototype.getRegionByCoord=function(e){for(var t=this.regions,n=0;n<t.length;n++){var i=t[n];if("geoJSON"===i.type&&i.contain(e))return t[n]}},tD.prototype.addGeoCoord=function(e,t){this._nameCoordMap.set(e,t)},tD.prototype.getGeoCoord=function(e){var t=this._regionsMap.get(e);return this._nameCoordMap.get(e)||t&&t.getCenter()},tD.prototype.dataToPoint=function(e,t,n){var i;if(e=ce(e)?this.getGeoCoord(e):e)return(e=(i=this.projection)?i.project(e):e)&&this.projectedToPoint(e)},tD.prototype.pointToData=function(e){var t=this.projection;return(e=t?t.unproject(e):e)&&this.pointToProjected(e)},tD.prototype.pointToProjected=function(e){return Qk.prototype.pointToData.call(this,e)},tD.prototype.projectedToPoint=function(e,t,n){return Qk.prototype.dataToPoint.call(this,e,t,n)},tD.prototype.convertToPixel=function(e,t,n){return(t=nD(t))===this?t.dataToPoint(n):null},tD.prototype.convertFromPixel=function(e,t,n){return(t=nD(t))===this?t.pointToData(n):null},tv=tD;function tD(e,t,n){var i=((e=Qk.call(this,e)||this).dimensions=eD,e.type="geo",e._nameCoordMap=Pe(),e.map=t,n.projection),r=Ak(t,n.nameMap,n.nameProperty),o=(t=wk(t),e.resourceType=t?t.type:null,e.regions=r.regions);t=$k[t.type];if(e._regionsMap=r.regionsMap,e.regions=r.regions,e.projection=i)for(var a=0;a<o.length;a++){var s,l=o[a].getBoundingRect(i);(s=s||l.clone()).union(l)}else s=r.boundingRect;return e.setBoundingRect(s.x,s.y,s.width,s.height),e.aspectScale=i?1:we(n.aspectScale,t.aspectScale),e._invertLongitute=!i&&t.invertLongitute,e}function nD(e){var t=e.geoModel;e=e.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",ra).models[0]||{}).coordinateSystem:null}q(tv,qk);var iD=tv;function rD(e,t){var n,i,r,o,a,s,l=(null!=(u=e.get("boundingCoords"))&&(i=u[0],r=u[1],isFinite(i[0])&&isFinite(i[1])&&isFinite(r[0])&&isFinite(r[1])&&((n=this.projection)&&(u=i[0],d=i[1],h=r[0],c=r[1],i=[1/0,1/0],r=[-1/0,-1/0],(l=function(e,t,o,a){for(var s=o-e,l=a-t,u=0;u<=100;u++){var c=u/100;c=n.project([e+s*c,t+l*c]);ht(i,i,c),dt(r,r,c)}})(u,d,h,d),l(h,d,h,c),l(h,c,u,c),l(u,c,h,d)),this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1]))),this.getBoundingRect()),u=e.get("layoutCenter"),c=e.get("layoutSize"),h=t.getWidth(),d=t.getHeight();t=l.width/l.height*this.aspectScale,l=!1;u&&c&&(o=[_o(u[0],h),_o(u[1],d)],a=_o(c,Math.min(h,d)),isNaN(o[0])||isNaN(o[1])||isNaN(a)||(l=!0)),l?(s={},1<t?(s.width=a,s.height=a/t):(s.height=a,s.width=a*t),s.y=o[1]-s.height/2,s.x=o[0]-s.width/2):((u=e.getBoxLayoutParams()).aspect=t,s=hh(u,{width:h,height:d})),this.setViewRect(s.x,s.y,s.width,s.height),this.setCenter(e.get("center")),this.setZoom(e.get("zoom"))}function oD(){this.dimensions=eD}oD.prototype.create=function(e,t){var n=[];function i(e){return{nameProperty:e.get("nameProperty"),aspectScale:e.get("aspectScale"),projection:e.get("projection")}}e.eachComponent("geo",(function(e,r){var o=e.get("map");(r=new iD(o+r,o,X({nameMap:e.get("nameMap")},i(e)))).zoomLimit=e.get("scaleLimit"),n.push(r),(e.coordinateSystem=r).model=e,r.resize=rD,r.resize(e,t)})),e.eachSeries((function(e){var t;"geo"===e.get("coordinateSystem")&&(t=e.get("geoIndex")||0,e.coordinateSystem=n[t])}));var r={};return e.eachSeriesByType("map",(function(e){var t;e.getHostGeoModel()||(t=e.getMapType(),r[t]=r[t]||[],r[t].push(e))})),ee(r,(function(e,r){var o=te(e,(function(e){return e.get("nameMap")})),a=new iD(r,r,X({nameMap:j(o)},i(e[0])));a.zoomLimit=be.apply(null,te(e,(function(e){return e.get("scaleLimit")}))),n.push(a),a.resize=rD,a.resize(e[0],t),ee(e,(function(e){var t;e.coordinateSystem=a,t=a,ee(e.get("geoCoord"),(function(e,n){t.addGeoCoord(n,e)}))}))})),n},oD.prototype.getFilledRegions=function(e,t,n,i){for(var r=(e||[]).slice(),o=Pe(),a=0;a<r.length;a++)o.set(r[a].name,r[a]);return ee(Ak(t,n,i).regions,(function(e){e=e.name,o.get(e)||r.push({name:e})})),r};var aD,sD=new oD;function lD(){var e=null!==aD&&aD.apply(this,arguments)||this;return e.type=lD.type,e}_(lD,aD=Mh),lD.prototype.init=function(e,t,n){var i=wk(e.map);!i||"geoJSON"!==i.type||"color"in(i=e.itemStyle=e.itemStyle||{})||(i.color="#eee"),this.mergeDefaultAndTheme(e,n),Zo(e,"label",["show"])},lD.prototype.optionUpdated=function(){var e=this,t=this.option,n=(t.regions=sD.getFilledRegions(t.regions,t.map,t.nameMap,t.nameProperty),{});this._optionModelMap=ne(t.regions||[],(function(t,i){var r=i.name;return r&&(t.set(r,new ac(i,e,e.ecModel)),i.selected&&(n[r]=!0)),t}),Pe()),t.selectedMap||(t.selectedMap=n)},lD.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new ac(null,this,this.ecModel)},lD.prototype.getFormattedLabel=function(e,t){var n=this.getRegionModel(e),i={name:e};return ue(n="normal"===t?n.get(["label","formatter"]):n.get(["emphasis","label","formatter"]))?(i.status=t,n(i)):ce(n)?n.replace("{a}",null!=e?e:""):void 0},lD.prototype.setZoom=function(e){this.option.zoom=e},lD.prototype.setCenter=function(e){this.option.center=e},lD.prototype.select=function(e){var t=this.option,n=t.selectedMode;n&&("multiple"!==n&&(t.selectedMap=null),(t.selectedMap||(t.selectedMap={}))[e]=!0)},lD.prototype.unSelect=function(e){var t=this.option.selectedMap;t&&(t[e]=!1)},lD.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},lD.prototype.isSelected=function(e){var t=this.option.selectedMap;return!(!t||!t[e])},lD.type="geo",lD.layoutMode="box",lD.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]};var uD,cD=lD;function hD(e,t){return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}function dD(e,t,n){var i,r=e.getZoom(),o=e.getCenter(),a=t.zoom;o=e.projectedToPoint?e.projectedToPoint(o):e.dataToPoint(o);return null!=t.dx&&null!=t.dy&&(o[0]-=t.dx,o[1]-=t.dy,e.setCenter(hD(e,o))),null!=a&&(n&&(i=n.min||0,n=n.max||1/0,a=Math.max(Math.min(r*a,n),i)/r),e.scaleX*=a,e.scaleY*=a,n=(t.originX-e.x)*(a-1),i=(t.originY-e.y)*(a-1),e.x-=n,e.y-=i,e.updateTransform(),e.setCenter(hD(e,o)),e.setZoom(a*r)),{center:e.getCenter(),zoom:e.getZoom()}}function pD(){var e=null!==uD&&uD.apply(this,arguments)||this;return e.type=pD.type,e.focusBlurEnabled=!0,e}_(pD,uD=Rf),pD.prototype.init=function(e,t){this._api=t},pD.prototype.render=function(e,t,n,i){if(!(this._model=e).get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new zk(n));var r=this._mapDraw;r.draw(e,t,n,this,i),r.group.on("click",this._handleRegionClick,this),r.group.silent=e.get("silent"),this.group.add(r.group),this.updateSelectStatus(e,t,n)},pD.prototype._handleRegionClick=function(e){var t;Jy(e.target,(function(e){return null!=(t=Cl(e).eventData)}),!0),t&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:t.name})},pD.prototype.updateSelectStatus=function(e,t,n){var i=this;this._mapDraw.group.traverse((function(e){var t=Cl(e).eventData;if(t)return i._model.isSelected(t.name)?n.enterSelect(e):n.leaveSelect(e),!0}))},pD.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},pD.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},pD.type="geo";var fD=pD;function gD(e,t,n){bk(e,t,n)}function mD(e){function t(t,n){n.update="geo:updateSelectStatus",e.registerAction(n,(function(e,n){var i={},r=[];return n.eachComponent({mainType:"geo",query:e},(function(n){n[t](e.name),ee(n.coordinateSystem.regions,(function(e){i[e.name]=n.isSelected(e.name)||!1}));var o=[];ee(i,(function(e,t){i[t]&&o.push(t)})),r.push({geoIndex:n.componentIndex,name:o})})),{selected:i,allSelected:r,name:e.name}}))}e.registerCoordinateSystem("geo",sD),e.registerComponentModel(cD),e.registerComponentView(fD),e.registerImpl("registerMap",gD),e.registerImpl("getMap",(function(e){return Sk(e)})),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},(function(t){var i,r=t.coordinateSystem;"geo"===r.type&&(i=dD(r,e,t.get("scaleLimit")),t.setCenter&&t.setCenter(i.center),t.setZoom&&t.setZoom(i.zoom),"series"===n&&ee(t.seriesGroup,(function(e){e.setCenter(i.center),e.setZoom(i.zoom)})))}))}))}function yD(e,t){var n=e.isExpand?e.children:[],i=e.parentNode.children,r=e.hierNode.i?i[e.hierNode.i-1]:null;if(n.length){for(var o=e.children,a=o.length,s=0,l=0;0<=--a;){var u=o[a];u.hierNode.prelim+=s,u.hierNode.modifier+=s,l+=u.hierNode.change,s+=u.hierNode.shift+l}n=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2,r?(e.hierNode.prelim=r.hierNode.prelim+t(e,r),e.hierNode.modifier=e.hierNode.prelim-n):e.hierNode.prelim=n}else r&&(e.hierNode.prelim=r.hierNode.prelim+t(e,r));e.parentNode.hierNode.defaultAncestor=function(e,t,n,i){if(t){for(var r=e,o=e,a=o.parentNode.children[0],s=t,l=r.hierNode.modifier,u=o.hierNode.modifier,c=a.hierNode.modifier,h=s.hierNode.modifier;s=bD(s),o=wD(o),s&&o;){r=bD(r),a=wD(a),r.hierNode.ancestor=e;var d=s.hierNode.prelim+h-o.hierNode.prelim-u+i(s,o);0<d&&(function(e,t,n){var i=n/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=i,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,e.hierNode.change+=i}(function(e,t,n){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:n}(s,e,n),e,d),u+=d,l+=d),h+=s.hierNode.modifier,u+=o.hierNode.modifier,l+=r.hierNode.modifier,c+=a.hierNode.modifier}s&&!bD(r)&&(r.hierNode.thread=s,r.hierNode.modifier+=h-l),o&&!wD(a)&&(a.hierNode.thread=o,a.hierNode.modifier+=u-c,n=e)}return n}(e,r,e.parentNode.hierNode.defaultAncestor||i[0],t)}function vD(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function xD(e){return arguments.length?e:SD}function _D(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function bD(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function wD(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function SD(e,t){return e.parentNode===t.parentNode?1:2}var AD,MD,CD=function(){this.parentPoint=[],this.childPoints=[]},TD=(_(ID,AD=Us),ID.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},ID.prototype.getDefaultShape=function(){return new CD},ID.prototype.buildPath=function(e,t){var n=t.childPoints,i=n.length,r=t.parentPoint,o=n[0],a=n[i-1];if(1===i)return e.moveTo(r[0],r[1]),void e.lineTo(o[0],o[1]);var s="TB"===(l=t.orient)||"BT"===l?0:1,l=1-s,u=(t=_o(t.forkPosition,1),[]);u[s]=r[s],u[l]=r[l]+(a[l]-r[l])*t,e.moveTo(r[0],r[1]),e.lineTo(u[0],u[1]),e.moveTo(o[0],o[1]),u[s]=o[s],e.lineTo(u[0],u[1]),u[s]=a[s],e.lineTo(u[0],u[1]),e.lineTo(a[0],a[1]);for(var c=1;c<i-1;c++){var h=n[c];e.moveTo(h[0],h[1]),u[s]=h[s],e.lineTo(u[0],u[1])}},ID);function ID(e){return AD.call(this,e)||this}function kD(){var e=null!==MD&&MD.apply(this,arguments)||this;return e.type=kD.type,e._mainGroup=new ao,e}function DD(e,t){return(e=e.getItemLayout(t))&&!isNaN(e.x)&&!isNaN(e.y)}function BD(e,t,n,i,r){var o=!n,a=e.tree.getNodeByDataIndex(t),s=a.getModel(),l=a.getVisual("style").fill,u=(l=!1===a.isExpand&&0!==a.children.length?l:"#fff",e.tree.root),c=a.parentNode!==u&&a.parentNode||a,h=e.getItemGraphicEl(c.dataIndex),d=(c=c.getLayout(),h=h?{x:h.__oldX,y:h.__oldY,rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:c,a.getLayout()),p=(o=(o?((n=new WA(e,t,null,{symbolInnerColor:l,useNameLabel:!0})).x=h.x,n.y=h.y):n.updateData(e,t,null,{symbolInnerColor:l,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=d.rawX,n.__radialRawY=d.rawY,i.add(n),e.setItemGraphicEl(t,n),n.__oldX=n.x,n.__oldY=n.y,Cu(n,{x:d.x,y:d.y},r),n.getSymbolPath()),o=("radial"===r.get("layout")&&(t=(l=u.children[0]).getLayout(),p=l.children.length,m=g=void 0,d.x===t.x&&!0===a.isExpand?(f=(l.children[0].getLayout().x+l.children[p-1].getLayout().x)/2,l=(l.children[0].getLayout().y+l.children[p-1].getLayout().y)/2,(g=Math.atan2(l-t.y,f-t.x))<0&&(g=2*Math.PI+g),(m=f<t.x)&&(g-=Math.PI)):((g=Math.atan2(d.y-t.y,d.x-t.x))<0&&(g=2*Math.PI+g),0===a.children.length||0!==a.children.length&&!1===a.isExpand?(m=d.x<t.x)&&(g-=Math.PI):(m=d.x>t.x)||(g-=Math.PI)),p=m?"left":"right",t=(f=(l=s.getModel("label")).get("rotate"))*(Math.PI/180),(m=o.getTextContent())&&(o.setTextConfig({position:l.get("position")||p,rotation:null==f?-g:t,origin:"center"}),m.setStyle("verticalAlign","middle"))),s.get(["emphasis","focus"])),(l="ancestor"===o?a.getAncestorsIndices():"descendant"===o?a.getDescendantIndices():null)&&(Cl(n).focus=l),r),f=a,g=u,m=(t=n,h),y=(s=c,o=d,l=i,r=f.getModel(),u=p.get("edgeShape"),h=p.get("layout"),c=p.getOrient(),d=p.get(["lineStyle","curveness"]),i=p.get("edgeForkPosition"),r.getModel("lineStyle").getLineStyle()),v=t.__edge;if("curve"===u)f.parentNode&&f.parentNode!==g&&Cu(v=v||(t.__edge=new tm({shape:RD(h,c,d,m,m)})),{shape:RD(h,c,d,s,o)},p);else if("polyline"===u&&"orthogonal"===h&&f!==g&&f.children&&0!==f.children.length&&!0===f.isExpand){for(var x=f.children,_=[],b=0;b<x.length;b++){var w=x[b].getLayout();_.push([w.x,w.y])}Cu(v=v||(t.__edge=new TD({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:c,forkPosition:i}})),{shape:{parentPoint:[o.x,o.y],childPoints:_}},p)}v&&(v.useStyle(Y({strokeNoScale:!0,fill:null},y)),vu(v,r,"lineStyle"),ql(v),l.add(v)),n.__edge&&(n.onHoverStateChange=function(t){var i;"blur"===t||(i=a.parentNode&&e.getItemGraphicEl(a.parentNode.dataIndex))&&1===i.hoverState||Kl(n.__edge,t)})}function ED(e,t,n,i,r){var o,a,s=(l=PD(t.tree.root,e)).source,l=l.sourceLayout;(e=t.getItemGraphicEl(e.dataIndex))&&(t=t.getItemGraphicEl(s.dataIndex).__edge,o=e.__edge||(!1===s.isExpand||1===s.children.length?t:void 0),e=i.get("edgeShape"),s=i.get("layout"),t=i.get("orient"),a=i.get(["lineStyle","curveness"]),o&&("curve"===e?ku(o,{shape:RD(s,t,a,l,l),style:{opacity:0}},i,{cb:function(){n.remove(o)},removeOpt:r}):"polyline"===e&&"orthogonal"===i.get("layout")&&ku(o,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},i,{cb:function(){n.remove(o)},removeOpt:r})))}function PD(e,t){for(var n,i=t.parentNode!==e&&t.parentNode||t;null==(n=i.getLayout());)i=i.parentNode!==e&&i.parentNode||i;return{source:i,sourceLayout:n}}function LD(e,t,n,i,r){var o=e.tree.getNodeByDataIndex(t),a=PD(e.tree.root,o).sourceLayout,s={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};ku(n,{x:a.x+1,y:a.y+1},r,{cb:function(){i.remove(n),e.setItemGraphicEl(t,null)},removeOpt:s}),n.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:s}),o.children.forEach((function(t){ED(t,e,i,r,s)})),ED(o,e,i,r,s)}function RD(e,t,n,i,r){var o,a,s,l,u,c,h,d,p,f,g;return"radial"===e?(u=i.rawX,c=i.rawY,h=r.rawX,d=r.rawY,e=_D(u,c),p=_D(u,c+(d-c)*n),f=_D(h,d+(c-d)*n),g=_D(h,d),{x1:e.x||0,y1:e.y||0,x2:g.x||0,y2:g.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:f.x||0,cpy2:f.y||0}):(u=i.x,c=i.y,h=r.x,d=r.y,"LR"!==t&&"RL"!==t||(o=u+(h-u)*n,a=c,s=h+(u-h)*n,l=d),"TB"!==t&&"BT"!==t||(o=u,a=c+(d-c)*n,s=h,l=d+(c-d)*n),{x1:u,y1:c,x2:h,y2:d,cpx1:o,cpy1:a,cpx2:s,cpy2:l})}_(kD,MD=sy),kD.prototype.init=function(e,t){this._controller=new RI(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},kD.prototype.render=function(e,t,n){var i=e.getData(),r=e.layoutInfo,o=this._mainGroup,a=("radial"===e.get("layout")?(o.x=r.x+r.width/2,o.y=r.y+r.height/2):(o.x=r.x,o.y=r.y),this._updateViewCoordSys(e),this._updateController(e,t,n),this._data);i.diff(a).add((function(t){DD(i,t)&&BD(i,t,null,o,e)})).update((function(t,n){var r=a.getItemGraphicEl(n);DD(i,t)?BD(i,t,r,o,e):r&&LD(a,n,r,o,e)})).remove((function(t){var n=a.getItemGraphicEl(t);n&&LD(a,t,n,o,e)})).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&i.eachItemGraphicEl((function(t,i){t.off("click").on("click",(function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:i})}))})),this._data=i},kD.prototype._updateViewCoordSys=function(e){var t=e.getData(),n=[],i=(t.each((function(e){!(e=t.getItemLayout(e))||isNaN(e.x)||isNaN(e.y)||n.push([+e.x,+e.y])})),[]),r=[],o=(es(n,i,r),this._min),a=this._max;(o=(r[0]-i[0]==0&&(i[0]=o?o[0]:i[0]-1,r[0]=a?a[0]:r[0]+1),r[1]-i[1]==0&&(i[1]=o?o[1]:i[1]-1,r[1]=a?a[1]:r[1]+1),e.coordinateSystem=new qk)).zoomLimit=e.get("scaleLimit"),o.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1]),o.setCenter(e.get("center")),o.setZoom(e.get("zoom")),this.group.attr({x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY}),this._min=i,this._max=r},kD.prototype._updateController=function(e,t,n){var i=this,r=this._controller,o=this._controllerHost,a=this.group;r.setPointerChecker((function(t,i,r){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(i,r)&&!GI(t,n,e)})),r.enable(e.get("roam")),o.zoomLimit=e.get("scaleLimit"),o.zoom=e.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",(function(t){OI(o,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){FI(o,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),i._updateNodeAndLinkScale(e),n.updateLabelLayout()}))},kD.prototype._updateNodeAndLinkScale=function(e){var t=e.getData(),n=this._getNodeGlobalScale(e);t.eachItemGraphicEl((function(e,t){e.setSymbolScale(n)}))},kD.prototype._getNodeGlobalScale=function(e){if("view"!==(e=e.coordinateSystem).type)return 1;var t=this._nodeScaleRatio,n=e.scaleX||1;return((e.getZoom()-1)*t+1)/n},kD.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},kD.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},kD.type="tree";var OD=kD,FD=ea();function ND(e,t){var n;return FD(n=this).mainData===n?UD((n=X({},FD(this).datas))[this.dataType]=t,n,e):ZD(t,this.dataType,FD(this).mainData,e),t}function zD(e,t){return e.struct&&e.struct.update(),t}function GD(e,t){return ee(FD(t).datas,(function(n,i){n!==t&&ZD(n.cloneShallow(),i,t,e)})),t}function HD(e){var t=FD(this).mainData;return null==e||null==t?t:FD(t).datas[e]}function VD(){var e=FD(this).mainData;return null==e?[{data:e}]:te(oe(FD(e).datas),(function(t){return{type:t,data:FD(e).datas[t]}}))}function UD(e,t,n){FD(e).datas={},ee(t,(function(t,i){ZD(t,i,e,n)}))}function ZD(e,t,n,i){FD(n).datas[t]=e,FD(e).mainData=n,e.dataType=t,i.struct&&(e[i.structAttr]=i.struct,i.struct[i.datasAttr[t]]=e),e.getLinkedData=HD,e.getLinkedDataAll=VD}var WD=function(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,UD(t,n,e),ee(n,(function(n){ee(t.TRANSFERABLE_METHODS,(function(t){n.wrapMethod(t,se(ND,e))}))})),t.wrapMethod("cloneShallow",se(GD,e)),ee(t.CHANGABLE_METHODS,(function(n){t.wrapMethod(n,se(zD,e))})),Ce(n[t.dataType]===t)},jD=(XD.prototype.isRemoved=function(){return this.dataIndex<0},XD.prototype.eachNode=function(e,t,n){ue(e)&&(n=t,t=e,e=null);var i,r=(e=ce(e=e||{})?{order:e}:e).order||"preorder",o=this[e.attr||"children"];"preorder"===r&&(i=t.call(n,this));for(var a=0;!i&&a<o.length;a++)o[a].eachNode(e,t,n);"postorder"===r&&t.call(n,this)},XD.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(e+1),i.height>t&&(t=i.height)}this.height=t+1},XD.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,i=n.length;t<i;t++){var r=n[t].getNodeById(e);if(r)return r}},XD.prototype.contains=function(e){if(e===this)return!0;for(var t=0,n=this.children,i=n.length;t<i;t++){var r=n[t].contains(e);if(r)return r}},XD.prototype.getAncestors=function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},XD.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},XD.prototype.getDescendantIndices=function(){var e=[];return this.eachNode((function(t){e.push(t.dataIndex)})),e},XD.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},XD.prototype.setLayout=function(e,t){0<=this.dataIndex&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},XD.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},XD.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},XD.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},XD.prototype.setVisual=function(e,t){0<=this.dataIndex&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},XD.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},XD.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},XD.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},XD.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},XD.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},XD.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},XD);function XD(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}function YD(e){this.type="tree",this._nodes=[],this.hostModel=e}YD.prototype.eachNode=function(e,t,n){this.root.eachNode(e,t,n)},YD.prototype.getNodeByDataIndex=function(e){return e=this.data.getRawIndex(e),this._nodes[e]},YD.prototype.getNodeById=function(e){return this.root.getNodeById(e)},YD.prototype.update=function(){for(var e=this.data,t=this._nodes,n=0,i=t.length;n<i;n++)t[n].dataIndex=-1;for(n=0,i=e.count();n<i;n++)t[e.getRawIndex(n)].dataIndex=n},YD.prototype.clearLayouts=function(){this.data.clearItemLayouts()},YD.createTree=function(e,t,n){var i=new YD(t),r=[],o=1;return function e(t,n){var a=t.value;o=Math.max(o,le(a)?a.length:1),r.push(t);var s=new jD(Ko(t.name,""),i);n?function(e,t){var n=t.children;e.parentNode!==t&&(n.push(e),e.parentNode=t)}(s,n):i.root=s,i._nodes.push(s);var l=t.children;if(l)for(var u=0;u<l.length;u++)e(l[u],s)}(e),i.root.updateDepthAndHeight(0),e=W_(r,{coordDimensions:["value"],dimensionsCount:o}).dimensions,(e=new U_(e,t)).initData(r),n&&n(e),WD({mainData:e,struct:i,structAttr:"tree"}),i.update(),i};var JD,KD=YD;function QD(e,t,n){if(e&&0<=K(t,e.type))return t=n.getData().tree.root,(n=ce(n=e.targetNode)?t.getNodeById(n):n)&&t.contains(n)||null!=(e=e.targetNodeId)&&(n=t.getNodeById(e))?{node:n}:void 0}function qD(e){for(var t=[];e;)(e=e.parentNode)&&t.push(e);return t.reverse()}function $D(e,t){return 0<=K(qD(e),t)}function eB(e,t){for(var n=[];e;){var i=e.dataIndex;n.push({name:e.name,dataIndex:i,value:t.getRawValue(i)}),e=e.parentNode}return n.reverse(),n}function tB(){var e=null!==JD&&JD.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}_(tB,JD=Pf),tB.prototype.getInitialData=function(e){var t={name:e.name,children:e.data},n=e.leaves||{},i=new ac(n,this,this.ecModel),r=KD.createTree(t,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){return(t=r.getNodeByDataIndex(t))&&t.children.length&&t.isExpand||(e.parentModel=i),e}))})),o=0;r.eachNode("preorder",(function(e){e.depth>o&&(o=e.depth)}));var a=e.expandAndCollapse&&0<=e.initialTreeDepth?e.initialTreeDepth:o;return r.root.eachNode("preorder",(function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=a})),r.data},tB.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},tB.prototype.setZoom=function(e){this.option.zoom=e},tB.prototype.setCenter=function(e){this.option.center=e},tB.prototype.formatTooltip=function(e,t,n){for(var i=(o=this.getData().tree).root.children[0],r=o.getNodeByDataIndex(e),o=r.getValue(),a=r.name;r&&r!==i;)a=r.parentNode.name+"."+a,r=r.parentNode;return lf("nameValue",{name:a,value:o,noValue:isNaN(o)||null==o})},tB.prototype.getDataParams=function(e){var t=JD.prototype.getDataParams.apply(this,arguments);e=this.getData().tree.getNodeByDataIndex(e);return t.treeAncestors=eB(e,this),t.collapsed=!e.isExpand,t},tB.type="series.tree",tB.layoutMode="box",tB.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500};var nB=tB;function iB(e,t){for(var n,i=[e];n=i.pop();)if(t(n),n.isExpand){var r=n.children;if(r.length)for(var o=r.length-1;0<=o;o--)i.push(r[o])}}function rB(e,t){e.eachSeriesByType("tree",(function(e){var n=function(e,t){return hh(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,n=t),i=(e.layoutInfo=n,e.get("layout")),r=0,o=0,a=null;a="radial"===i?(r=2*Math.PI,o=Math.min(n.height,n.width)/2,xD((function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth}))):(r=n.width,o=n.height,xD());var s,l,u,c,h,d,p,f,g,m=(n=e.getData().tree.root).children[0];if(m){var y=n;y.hierNode={defaultAncestor:null,ancestor:y,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var v,x,_=[y];v=_.pop();)if(x=v.children,v.isExpand&&x.length)for(var b=x.length-1;0<=b;b--){var w=x[b];w.hierNode={defaultAncestor:null,ancestor:w,prelim:0,modifier:0,change:0,shift:0,i:b,thread:null},_.push(w)}for(var S,A=yD,M=a,C=[m],T=[];S=C.pop();)if(T.push(S),S.isExpand){var I=S.children;if(I.length)for(var k=0;k<I.length;k++)C.push(I[k])}for(;S=T.pop();)A(S,M);n.hierNode.modifier=-m.hierNode.prelim,iB(m,vD),iB(u=l=s=m,(function(e){var t=e.getLayout().x;t<s.getLayout().x&&(s=e),t>l.getLayout().x&&(l=e),e.depth>u.depth&&(u=e)})),n=s===l?1:a(s,l)/2,c=n-s.getLayout().x,f=p=d=h=0,"radial"===i?(h=r/(l.getLayout().x+n+c),d=o/(u.depth-1||1),iB(m,(function(e){p=(e.getLayout().x+c)*h,f=(e.depth-1)*d;var t=_D(p,f);e.setLayout({x:t.x,y:t.y,rawX:p,rawY:f},!0)}))):"RL"===(g=e.getOrient())||"LR"===g?(d=o/(l.getLayout().x+n+c),h=r/(u.depth-1||1),iB(m,(function(e){f=(e.getLayout().x+c)*d,p="LR"===g?(e.depth-1)*h:r-(e.depth-1)*h,e.setLayout({x:p,y:f},!0)}))):"TB"!==g&&"BT"!==g||(h=r/(l.getLayout().x+n+c),d=o/(u.depth-1||1),iB(m,(function(e){p=(e.getLayout().x+c)*h,f="TB"===g?(e.depth-1)*d:o-(e.depth-1)*d,e.setLayout({x:p,y:f},!0)})))}}))}function oB(e){e.eachSeriesByType("tree",(function(e){var t=e.getData();t.tree.eachNode((function(e){var n=e.getModel().getModel("itemStyle").getItemStyle();X(t.ensureUniqueItemVisual(e.dataIndex,"style"),n)}))}))}var aB,sB=["treemapZoomToNode","treemapRender","treemapMove"];function lB(e){var t=e.getData().tree,n={};t.eachNode((function(t){for(var i=t;i&&1<i.depth;)i=i.parentNode;var r=$h(e.ecModel,i.name||i.dataIndex+"",n);t.setVisual("decal",r)}))}function uB(){var e=null!==aB&&aB.apply(this,arguments)||this;return e.type=uB.type,e.preventUsingHoverLayer=!0,e}_(uB,aB=Pf),uB.prototype.getInitialData=function(e,t){var n={name:e.name,children:e.data},i=(function e(t){var n=0;ee(t.children,(function(t){e(t),le(t=t.value)&&(t=t[0]),n+=t}));var i=t.value;le(i)&&(i=i[0]),null!=i&&!isNaN(i)||(i=n),i<0&&(i=0),le(t.value)?t.value[0]=i:t.value=i}(n),e.levels||[]),r=this.designatedVisualItemStyle={},o=new ac({itemStyle:r},this,t),a=te((e.levels=function(e,t){var n,i,r,o=Uo(t.get("color"));t=Uo(t.get(["aria","decal","decals"]));if(o)return ee(e=e||[],(function(e){var t=(e=new ac(e)).get("color"),r=e.get("decal");(e.get(["itemStyle","color"])||t&&"none"!==t)&&(n=!0),(e.get(["itemStyle","decal"])||r&&"none"!==r)&&(i=!0)})),r=e[0]||(e[0]={}),n||(r.color=o.slice()),!i&&t&&(r.decal=t.slice()),e}(i,t))||[],(function(e){return new ac(e,o,t)}),this),s=KD.createTree(n,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){return t=(t=s.getNodeByDataIndex(t))?a[t.depth]:null,e.parentModel=t||o,e}))}));return s.data},uB.prototype.optionUpdated=function(){this.resetViewRoot()},uB.prototype.formatTooltip=function(e,t,n){var i=this.getData(),r=this.getRawValue(e);return lf("nameValue",{name:i.getName(e),value:r})},uB.prototype.getDataParams=function(e){var t=aB.prototype.getDataParams.apply(this,arguments);e=this.getData().tree.getNodeByDataIndex(e);return t.treeAncestors=eB(e,this),t.treePathInfo=t.treeAncestors,t},uB.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},X(this.layoutInfo,e)},uB.prototype.mapIdToIndex=function(e){var t=this._idIndexMap,n=(t||(t=this._idIndexMap=Pe(),this._idIndexMapCount=0),t.get(e));return null==n&&t.set(e,n=this._idIndexMapCount++),n},uB.prototype.getViewRoot=function(){return this._viewRoot},uB.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},uB.prototype.enableAriaDecal=function(){lB(this)},uB.type="series.treemap",uB.layoutMode="box",uB.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]};var cB=uB;function hB(e){this.group=new ao,e.add(this.group)}hB.prototype.render=function(e,t,n,i){var r,o,a=e.getModel("breadcrumb"),s=this.group;s.removeAll(),a.get("show")&&n&&(o=(r=a.getModel("itemStyle")).getModel("textStyle"),t={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]},this._prepare(n,t,o),this._renderContent(e,t,r,o,i),dh(s,t.pos,t.box))},hB.prototype._prepare=function(e,t,n){for(var i=e;i;i=i.parentNode){var r=Ko(i.getModel().get("name"),""),o=n.getTextRect(r);o=Math.max(o.width+16,t.emptyItemWidth);t.totalWidth+=o+8,t.renderList.push({node:i,text:r,width:o})}},hB.prototype._renderContent=function(e,t,n,i,r){for(var o,a,s,l,u,c,h,d,p,f,g,m,y=0,v=t.emptyItemWidth,x=e.get(["breadcrumb","height"]),_=(o=t.pos,l=(a=t.box).width,a=a.height,u=_o(o.left,l),c=_o(o.top,a),h=_o(o.right,l),d=_o(o.bottom,a),(isNaN(u)||isNaN(parseFloat(o.left)))&&(u=0),(isNaN(h)||isNaN(parseFloat(o.right)))&&(h=l),(isNaN(c)||isNaN(parseFloat(o.top)))&&(c=0),(isNaN(d)||isNaN(parseFloat(o.bottom)))&&(d=a),s=Xc(s||0),{width:Math.max(h-u-s[1]-s[3],0),height:Math.max(d-c-s[0]-s[2],0)}),b=t.totalWidth,w=t.renderList,S=w.length-1;0<=S;S--){var A=(C=w[S]).node,M=C.width,C=C.text,T=(_.width<b&&(b-=M-v,M=v,C=null),new Gg({shape:{points:(p=y,0,T=M,f=x,g=S===w.length-1,m=void 0,m=[[g?p:p-5,0],[p+T,0],[p+T,0+f],[g?p:p-5,0+f]],0===S||m.splice(2,0,[p+T+5,0+f/2]),g||m.push([p,0+f/2]),m)},style:Y(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new Ml({style:{text:C,fill:i.getTextColor(),font:i.getFont()}}),textConfig:{position:"inside"},z2:1e5,onclick:se(r,A)}));T.disableLabelAnimation=!0,this.group.add(T),g=e,p=A,Cl(T).eventData={componentType:"series",componentSubType:"treemap",componentIndex:g.componentIndex,seriesIndex:g.seriesIndex,seriesName:g.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:p&&p.dataIndex,name:p&&p.name},treePathInfo:p&&eB(p,g)},y+=M+8}},hB.prototype.remove=function(){this.group.removeAll()};var dB=hB,pB=(fB.prototype.add=function(e,t,n,i,r){return!this._elExistsMap[e.id]&&(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:n,delay:i,easing:r}),!0)},fB.prototype.finished=function(e){return this._finishedCallback=e,this},fB.prototype.start=function(){for(var e=this,t=this._storage.length,n=function(){--t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},i=0,r=this._storage.length;i<r;i++){var o=this._storage[i];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:n,aborted:n})}return this},fB);function fB(){this._storage=[],this._elExistsMap={}}var gB,mB=ao,yB=sl,vB="label",xB="upperLabel",_B=va([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),bB=function(e){return(e=_B(e)).stroke=e.fill=e.lineWidth=null,e},wB=ea();function SB(){var e=null!==gB&&gB.apply(this,arguments)||this;return e.type=SB.type,e._state="ready",e._storage={nodeGroup:[],background:[],content:[]},e}_(SB,gB=sy),SB.prototype.render=function(e,t,n,i){var r,o,a,s,l;K(t.findComponents({mainType:"series",subType:"treemap",query:i}),e)<0||(this.seriesModel=e,this.api=n,this.ecModel=t,t=QD(i,["treemapZoomToNode","treemapRootToNode"],e),r=i&&i.type,s=e.layoutInfo,o=!this._oldTree,a=this._storage,a="treemapRootToNode"===r&&t&&a?{rootNodeGroup:a.nodeGroup[t.node.getRawIndex()],direction:i.direction}:null,i=this._giveContainerGroup(s),s=e.get("animation"),l=this._doRender(i,e,a),!s||o||r&&"treemapZoomToNode"!==r&&"treemapRootToNode"!==r?l.renderFinally():this._doAnimation(i,l,e,a),this._resetController(n),this._renderBreadcrumb(e,n,t))},SB.prototype._giveContainerGroup=function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new mB,this._initEvents(t),this.group.add(t)),t.x=e.x,t.y=e.y,t},SB.prototype._doRender=function(e,t,n){var i=t.getData().tree,r=this._oldTree,o={nodeGroup:[],background:[],content:[]},a={nodeGroup:[],background:[],content:[]},s=this._storage,l=[];!function e(i,r,u,c,h){function d(e){return e.getId()}function p(d,p){var f=function(e,i,r,u){var c=t,h=a,d=s,p=n,f=o,g=l,m=e;if(e=i,i=r,r=u,m){var y=m.getLayout(),v=(u=c.getData(),m.getModel());if(u.setItemGraphicEl(m.dataIndex,null),y&&y.isInView){var x=y.width,_=y.height,b=y.borderWidth,w=y.invisible,S=m.getRawIndex(),A=e&&e.getRawIndex(),M=(e=m.viewChildren,y.upperHeight),C=(e=e&&e.length,v.getModel("itemStyle")),T=v.getModel(["emphasis","itemStyle"]),I=v.getModel(["blur","itemStyle"]),k=v.getModel(["select","itemStyle"]),D=C.get("borderRadius")||0,B=N("nodeGroup",mB);if(B){if(i.add(B),B.x=y.x||0,B.y=y.y||0,B.markRedraw(),wB(B).nodeWidth=x,wB(B).nodeHeight=_,y.isAboveViewRoot)return B;var E=((i=N("background",yB,r,20))&&function(e,t,n){var i,r,o,a,s,l=Cl(t);l.dataIndex=m.dataIndex,l.seriesIndex=c.seriesIndex,t.setShape({x:0,y:0,width:x,height:_,r:D}),w?R(t):(t.invisible=!1,i=(l=m.getVisual("style")).stroke,(r=bB(C)).fill=i,(o=_B(T)).fill=T.get("borderColor"),(a=_B(I)).fill=I.get("borderColor"),(s=_B(k)).fill=k.get("borderColor"),n?(n=x-2*b,O(t,i,l.opacity,{x:b,y:0,width:n,height:M})):t.removeTextContent(),t.setStyle(r),t.ensureState("emphasis").style=o,t.ensureState("blur").style=a,t.ensureState("select").style=s,ql(t)),e.add(t)}(B,i,e&&y.upperLabelHeight),v.getModel("emphasis")),P=E.get("focus"),L=E.get("blurScope");return E=E.get("disabled"),P="ancestor"===P?m.getAncestorsIndices():"descendant"===P?m.getDescendantIndices():P,e?(_u(B)&&xu(B,!1),i&&(xu(i,!E),u.setItemGraphicEl(m.dataIndex,i),gu(i,P,L))):((e=N("content",yB,r,30))&&function(e,t){var n,i,r,o,a=((a=Cl(t)).dataIndex=m.dataIndex,a.seriesIndex=c.seriesIndex,Math.max(x-2*b,0)),s=Math.max(_-2*b,0);t.culling=!0,t.setShape({x:b,y:b,width:a,height:s,r:D}),w?R(t):(t.invisible=!1,s=(a=m.getVisual("style")).fill,(n=bB(C)).fill=s,n.decal=a.decal,i=_B(T),r=_B(I),o=_B(k),O(t,s,a.opacity,null),t.setStyle(n),t.ensureState("emphasis").style=i,t.ensureState("blur").style=r,t.ensureState("select").style=o,ql(t)),e.add(t)}(B,e),i.disableMorphing=!0,i&&_u(i)&&xu(i,!1),xu(B,!E),u.setItemGraphicEl(m.dataIndex,B),gu(B,P,L)),B}}}function R(e){e.invisible||g.push(e)}function O(e,t,n,i){var r,o,a=v.getModel(i?xB:vB),s=Ko(v.get("name"),null),l=(a=a.getShallow("show"),Ou(e,Fu(v,i?xB:vB),{defaultText:a?s:null,inheritColor:t,defaultOpacity:n,labelFetcher:c,labelDataIndex:m.dataIndex}),e.getTextContent());l&&(r=l.style,o=Me(r.padding||0),i&&(e.setTextConfig({layoutRect:i}),l.disableLabelLayout=!0),l.beforeUpdate=function(){var t=Math.max((i||e.shape).width-o[1]-o[3],0),n=Math.max((i||e.shape).height-o[0]-o[2],0);r.width===t&&r.height===n||l.setStyle({width:t,height:n})},r.truncateMinChar=2,r.lineOverflow="truncate",F(r,i,y),F((a=l.getState("emphasis"))?a.style:null,i,y))}function F(e,t,n){var i=e?e.text:null;!t&&n.isLeafRoot&&null!=i&&(t=c.get("drillDownIcon",!0),e.text=t?t+" "+i:i)}function N(e,t,n,i){var r,o,a=null!=A&&d[e][A],s=f[e];return a?(d[e][A]=null,r=a,o=(o=s)[S]={},r instanceof mB?(o.oldX=r.x,o.oldY=r.y):o.oldShape=X({},r.shape)):w||((a=new t)instanceof Wa&&(a.z2=100*n+i),o=a,r=(r=s)[S]={},t=m.parentNode,o=o instanceof ao,!t||p&&"drillDown"!==p.direction||(i=n=0,t=f.background[t.getRawIndex()],!p&&t&&t.oldShape&&(n=t.oldShape.width,i=t.oldShape.height),o?(r.oldX=0,r.oldY=i):r.oldShape={x:n,y:i,width:0,height:0}),r.fadein=!o),h[e][S]=a}}(d=null!=d?i[d]:null,p=null!=p?r[p]:null,u,h);f&&e(d&&d.viewChildren||[],p&&p.viewChildren||[],f,c,h+1)}c?ee(r=i,(function(e,t){e.isRemoved()||p(t,t)})):new y_(r,i,d,d).add(p).update(p).remove(se(p,null)).execute()}(i.root?[i.root]:[],r&&r.root?[r.root]:[],e,i===r||!r,0),u={nodeGroup:[],background:[],content:[]},(e=s)&&ee(e,(function(e,t){var n=u[t];ee(e,(function(e){e&&(n.push(e),wB(e).willDelete=!0)}))}));var u,c=u;return this._oldTree=i,this._storage=a,{lastsForAnimation:o,willDeleteEls:c,renderFinally:function(){ee(c,(function(e){ee(e,(function(e){e.parent&&e.parent.remove(e)}))})),ee(l,(function(e){e.invisible=!0,e.dirty()}))}}},SB.prototype._doAnimation=function(e,t,n,i){var r=n.get("animationDurationUpdate"),o=(n=n.get("animationEasing"),(ue(r)?0:r)||0),a=(ue(n)?null:n)||"cubicOut",s=new pB;ee(t.willDeleteEls,(function(e,t){ee(e,(function(e,n){var r,l,u;e.invisible||(r=e.parent,u=wB(r),(u=i&&"drillDown"===i.direction?r===i.rootNodeGroup?{shape:{x:0,y:0,width:u.nodeWidth,height:u.nodeHeight},style:{opacity:0}}:{style:{opacity:0}}:(l=r=0,u.willDelete||(r=u.nodeWidth/2,l=u.nodeHeight/2),"nodeGroup"===t?{x:r,y:l,style:{opacity:0}}:{shape:{x:r,y:l,width:0,height:0},style:{opacity:0}}))&&s.add(e,u,o,0,a))}))})),ee(this._storage,(function(e,n){ee(e,(function(e,i){var r={};(i=t.lastsForAnimation[n][i])&&(e instanceof ao?null!=i.oldX&&(r.x=e.x,r.y=e.y,e.x=i.oldX,e.y=i.oldY):(i.oldShape&&(r.shape=X({},e.shape),e.setShape(i.oldShape)),i.fadein?(e.setStyle("opacity",0),r.style={opacity:1}):1!==e.style.opacity&&(r.style={opacity:1})),s.add(e,r,o,0,a))}))}),this),this._state="animating",s.finished(ae((function(){this._state="ready",t.renderFinally()}),this)).start()},SB.prototype._resetController=function(e){var t=this._controller,n=(t||((t=this._controller=new RI(e.getZr())).enable(this.seriesModel.get("roam")),t.on("pan",ae(this._onPan,this)),t.on("zoom",ae(this._onZoom,this))),new zr(0,0,e.getWidth(),e.getHeight()));t.setPointerChecker((function(e,t,i){return n.contain(t,i)}))},SB.prototype._clearController=function(){var e=this._controller;e&&e.dispose()},SB.prototype._onPan=function(e){var t;"animating"!==this._state&&(3<Math.abs(e.dx)||3<Math.abs(e.dy))&&(t=this.seriesModel.getData().tree.root)&&(t=t.getLayout())&&this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:t.x+e.dx,y:t.y+e.dy,width:t.width,height:t.height}})},SB.prototype._onZoom=function(e){var t,n,i,r=e.originX,o=e.originY;"animating"!==this._state&&(t=this.seriesModel.getData().tree.root)&&(t=t.getLayout())&&(t=new zr(t.x,t.y,t.width,t.height),dr(i=[1,0,0,1,0,0],i,[-(r-=(n=this.seriesModel.layoutInfo).x),-(o-=n.y)]),fr(i,i,[e.scale,e.scale]),dr(i,i,[r,o]),t.applyTransform(i),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:t.x,y:t.y,width:t.width,height:t.height}}))},SB.prototype._initEvents=function(e){var t=this;e.on("click",(function(e){var n,i;"ready"===t._state&&(n=t.seriesModel.get("nodeClick",!0))&&(e=t.findTarget(e.offsetX,e.offsetY))&&((i=e.node).getLayout().isLeafRoot?t._rootToNode(e):"zoomToNode"===n?t._zoomToNode(e):"link"===n&&(n=(e=i.hostTree.data.getItemModel(i.dataIndex)).get("link",!0),i=e.get("target",!0)||"blank",n&&oh(n,i)))}),this)},SB.prototype._renderBreadcrumb=function(e,t,n){var i=this;n=(n=n||(null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2)))||{node:e.getData().tree.root},(this._breadcrumb||(this._breadcrumb=new dB(this.group))).render(e,t,n.node,(function(t){"animating"!==i._state&&($D(e.getViewRoot(),t)?i._rootToNode({node:t}):i._zoomToNode({node:t}))}))},SB.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},SB.prototype.dispose=function(){this._clearController()},SB.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},SB.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},SB.prototype.findTarget=function(e,t){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(i){if(r=this._storage.background[i.getRawIndex()]){var r,o=r.transformCoordToLocal(e,t);if(!((r=r.shape).x<=o[0]&&o[0]<=r.x+r.width&&r.y<=o[1]&&o[1]<=r.y+r.height))return!1;n={node:i,offsetX:o[0],offsetY:o[1]}}}),this),n},SB.type="treemap";var AB=SB,MB=ee,CB=pe,TB=(IB.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},IB.prototype.getNormalizer=function(){return ae(this._normalizeData,this)},IB.listVisualTypes=function(){return oe(IB.visualHandlers)},IB.isValidType=function(e){return IB.visualHandlers.hasOwnProperty(e)},IB.eachVisual=function(e,t,n){pe(e)?ee(e,t,n):t.call(n,e)},IB.mapVisual=function(e,t,n){var i,r=le(e)?[]:pe(e)?{}:(i=!0,null);return IB.eachVisual(e,(function(e,o){e=t.call(n,e,o),i?r=e:r[o]=e})),r},IB.retrieveVisuals=function(e){var t,n={};return e&&MB(IB.visualHandlers,(function(i,r){e.hasOwnProperty(r)&&(n[r]=e[r],t=!0)})),t?n:null},IB.prepareVisualTypes=function(e){if(le(e))e=e.slice();else{if(!CB(e))return[];var t=[];MB(e,(function(e,n){t.push(n)})),e=t}return e.sort((function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1})),e},IB.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},IB.findPieceIndex=function(e,t,n){for(var i,r=1/0,o=0,a=t.length;o<a;o++){var s=t[o].value;if(null!=s){if(s===e||ce(s)&&s===e+"")return o;n&&c(s,o)}}for(o=0,a=t.length;o<a;o++){var l=(u=t[o]).interval,u=u.close;if(l){if(l[0]===-1/0){if(zB(u[1],e,l[1]))return o}else if(l[1]===1/0){if(zB(u[0],l[0],e))return o}else if(zB(u[0],l[0],e)&&zB(u[1],e,l[1]))return o;n&&c(l[0],o),n&&c(l[1],o)}}if(n)return e===1/0?t.length-1:e===-1/0?0:i;function c(t,n){(t=Math.abs(t-e))<r&&(r=t,i=n)}},IB.visualHandlers={color:{applyVisual:EB("color"),getColorMapper:function(){var e=this.option;return ae("category"===e.mappingMethod?function(e,t){return t||(e=this._normalizeData(e)),PB.call(this,e)}:function(t,n,i){var r=!!i;return i=ti(t=n?t:this._normalizeData(t),e.parsedVisual,i),r?i:si(i,"rgba")},this)},_normalizedToVisual:{linear:function(e){return si(ti(e,this.option.parsedVisual),"rgba")},category:PB,piecewise:function(e,t){return null==(t=OB.call(this,t))?si(ti(e,this.option.parsedVisual),"rgba"):t},fixed:LB}},colorHue:DB((function(e,t){return oi(e,t)})),colorSaturation:DB((function(e,t){return oi(e,null,t)})),colorLightness:DB((function(e,t){return oi(e,null,null,t)})),colorAlpha:DB(ai),decal:{applyVisual:EB("decal"),_normalizedToVisual:{linear:null,category:PB,piecewise:null,fixed:null}},opacity:{applyVisual:EB("opacity"),_normalizedToVisual:RB([0,1])},liftZ:{applyVisual:EB("liftZ"),_normalizedToVisual:{linear:LB,category:LB,piecewise:LB,fixed:LB}},symbol:{applyVisual:function(e,t,n){n("symbol",this.mapValueToVisual(e))},_normalizedToVisual:{linear:BB,category:PB,piecewise:function(e,t){return null==(t=OB.call(this,t))?BB.call(this,e):t},fixed:LB}},symbolSize:{applyVisual:EB("symbolSize"),_normalizedToVisual:RB([0,1])}},IB);function IB(e){var t,n=e.mappingMethod,i=e.type;e=this.option=Z(e),this.type=i,this.mappingMethod=n,this._normalizeData=NB[n],i=IB.visualHandlers[i];if(this.applyVisual=i.applyVisual,this.getColorMapper=i.getColorMapper,this._normalizedToVisual=i._normalizedToVisual[n],"piecewise"===n)kB(e),i=(t=e).pieceList,t.hasSpecialVisual=!1,ee(i,(function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)}));else if("category"===n)if(e.categories){var r,o=(i=e).categories,a=i.categoryMap={},s=i.visual;MB(o,(function(e,t){a[e]=t})),le(s)||(r=[],pe(s)?MB(s,(function(e,t){t=a[t],r[null!=t?t:-1]=e})):r[-1]=s,s=FB(i,r));for(var l=o.length-1;0<=l;l--)null==s[l]&&(delete a[o[l]],o.pop())}else kB(e,!0);else Ce("linear"!==n||e.dataExtent),kB(e)}function kB(e,t){var n=e.visual,i=[];pe(n)?MB(n,(function(e){i.push(e)})):null!=n&&i.push(n),t||1!==i.length||{color:1,symbol:1}.hasOwnProperty(e.type)||(i[1]=i[0]),FB(e,i)}function DB(e){return{applyVisual:function(t,n,i){t=this.mapValueToVisual(t),i("color",e(n("color"),t))},_normalizedToVisual:RB([0,1])}}function BB(e){var t=this.option.visual;return t[Math.round(xo(e,[0,1],[0,t.length-1],!0))]||{}}function EB(e){return function(t,n,i){i(e,this.mapValueToVisual(t))}}function PB(e){var t=this.option.visual;return t[this.option.loop&&-1!==e?e%t.length:e]}function LB(){return this.option.visual[0]}function RB(e){return{linear:function(t){return xo(t,e,this.option.visual,!0)},category:PB,piecewise:function(t,n){return null==(n=OB.call(this,n))?xo(t,e,this.option.visual,!0):n},fixed:LB}}function OB(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual&&(t=n[TB.findPieceIndex(e,n)])&&t.visual)return t.visual[this.type]}function FB(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=te(t,(function(e){return(e=Qn(e))||[0,0,0,1]}))),t}var NB={linear:function(e){return xo(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList;if(null!=(e=TB.findPieceIndex(e,t,!0)))return xo(e,[0,t.length-1],[0,1],!0)},category:function(e){return null==(e=this.option.categories?this.option.categoryMap[e]:e)?-1:e},fixed:Ne};function zB(e,t,n){return e?t<=n:t<n}var GB=TB,HB=ea(),VB={seriesType:"treemap",reset:function(e){var t=e.getData().tree.root;t.isRemoved()||function e(t,n,i,r){var o=t.getModel(),a=t.getLayout(),s=t.hostTree.data;if(a&&!a.invisible&&a.isInView){var l=o.getModel("itemStyle"),u=function(e,t,n){var i=X({},t),r=n.designatedVisualItemStyle;return ee(["color","colorAlpha","colorSaturation"],(function(n){r[n]=t[n];var o=e.get(n);(r[n]=null)!=o&&(i[n]=o)})),i}(l,n,r);n=s.ensureUniqueItemVisual(t.dataIndex,"style"),s=l.get("borderColor");var c,h,d=l.get("borderColorSaturation");null!=d&&(s=function(e,t){return null!=t?oi(t,null,null,e):null}(d,c=UB(u))),n.stroke=s,(d=t.viewChildren)&&d.length?(h=function(e,t,n,i,r,o){if(o&&o.length){var a;if(o=WB(t,"color")||null!=r.color&&"none"!==r.color&&(WB(t,"colorAlpha")||WB(t,"colorSaturation")))return r=t.get("visualMin"),a=t.get("visualMax"),n=n.dataExtent.slice(),null!=r&&r<n[0]&&(n[0]=r),null!=a&&a>n[1]&&(n[1]=a),r=t.get("colorMappingBy"),"color"!==(a={type:o.name,dataExtent:n,visual:o.range}).type||"index"!==r&&"id"!==r?a.mappingMethod="linear":(a.mappingMethod="category",a.loop=!0),t=new GB(a),HB(t).drColorMappingBy=r,t}}(0,o,a,0,u,d),ee(d,(function(t,n){(t.depth>=i.length||t===i[t.depth])&&(n=function(e,t,n,i,r,o){var a,s;t=X({},t);return r&&(i="index"===(s="color"===(a=r.type)&&HB(r).drColorMappingBy)?i:"id"===s?o.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension")),t[a]=r.mapValueToVisual(i)),t}(o,u,t,n,h,r),e(t,n,i,r))}))):(c=UB(u),n.fill=c)}}(t,{},e.getViewRoot().getAncestors(),e)}};function UB(e){var t,n=ZB(e,"color");if(n)return t=ZB(e,"colorAlpha"),(e=ZB(e,"colorSaturation"))&&(n=oi(n,null,null,e)),t?ai(n,t):n}function ZB(e,t){if(null!=(e=e[t])&&"none"!==e)return e}function WB(e,t){return le(e=e.get(t))&&e.length?{name:t,range:e}:null}var jB=Math.max,XB=Math.min,YB=be,JB=ee,KB=["itemStyle","borderWidth"],QB=["itemStyle","gapWidth"],qB=["upperLabel","show"],$B=["upperLabel","height"],eE={seriesType:"treemap",reset:function(e,t,n,i){var r,o=n.getWidth(),a=n.getHeight(),s=e.option,l=(n=hh(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),s.size||[]),u=_o(YB(n.width,l[0]),o),c=(l=_o(YB(n.height,l[1]),a),i&&i.type),h=QD(i,["treemapZoomToNode","treemapRootToNode"],e),d=(i="treemapRender"===c||"treemapMove"===c?i.rootRect:null,e.getViewRoot()),p=qD(d);"treemapMove"!==c&&(c="treemapZoomToNode"===c?function(e,t,n,i,r){var o,a=(t||{}).node,s=[i,r];if(!a||a===n)return s;for(var l=(t=i*r)*e.option.zoomToNodeRatio;o=a.parentNode;){for(var u=0,c=o.children,h=0,d=c.length;h<d;h++)u+=c[h].getValue();if(0===(p=a.getValue()))return s;l*=u/p;var p,f=(p=o.getModel()).get(KB);l+=4*f*f+(3*f+(p=Math.max(f,iE(p))))*Math.pow(l,.5),To<l&&(l=To),a=o}return l<t&&(l=t),[i*(n=Math.pow(l/t,.5)),r*n]}(e,h,d,u,l):i?[i.width,i.height]:[u,l],u=s.sort,l={squareRatio:s.squareRatio,sort:u=u&&"asc"!==u&&"desc"!==u?"desc":u,leafDepth:s.leafDepth},d.hostTree.clearLayouts(),r={x:0,y:0,width:c[0],height:c[1],area:c[0]*c[1]},d.setLayout(r),function e(t,n,i,r){var o;if(!t.isRemoved()){var a=t.getLayout();o=a.width,a=a.height;var s=t.getModel(),l=s.get(KB),u=s.get(QB)/2,c=iE(s),h=Math.max(l,c),d=l-u,p=h-u;t.setLayout({borderWidth:l,upperHeight:h,upperLabelHeight:c},!0);var f=function(e,t,n,i,r,o){var a,s=e.children||[],l=i.sort;"asc"!==l&&"desc"!==l&&(l=null),i=null!=i.leafDepth&&i.leafDepth<=o;if(r&&!i)return e.viewChildren=[];s=ie(s,(function(e){return!e.isRemoved()})),o=s,(a=l)&&o.sort((function(e,t){var n="asc"===a?e.getValue()-t.getValue():t.getValue()-e.getValue();return 0==n?"asc"===a?e.dataIndex-t.dataIndex:t.dataIndex-e.dataIndex:n}));var u=function(e,t,n){for(var i=0,r=0,o=t.length;r<o;r++)i+=t[r].getValue();var a,s=e.get("visualDimension");return t&&t.length?"value"===s&&n?(a=[t[t.length-1].getValue(),t[0].getValue()],"asc"===n&&a.reverse()):(a=[1/0,-1/0],JB(t,(function(e){(e=e.getValue(s))<a[0]&&(a[0]=e),e>a[1]&&(a[1]=e)}))):a=[NaN,NaN],{sum:i,dataExtent:a}}(t,s,l);if(0===u.sum)return e.viewChildren=[];if(u.sum=function(e,t,n,i,r){if(!i)return n;for(var o=e.get("visibleMin"),a=r.length,s=a,l=a-1;0<=l;l--){var u=r["asc"===i?a-l-1:l].getValue();u/n*t<o&&(s=l,n-=u)}return"asc"===i?r.splice(0,a-s):r.splice(s,a-s),n}(t,n,u.sum,l,s),0===u.sum)return e.viewChildren=[];for(var c=0,h=s.length;c<h;c++){var d=s[c].getValue()/u.sum*n;s[c].setLayout({area:d})}return i&&(s.length&&e.setLayout({isLeafRoot:!0},!0),s.length=0),e.viewChildren=s,e.setLayout({dataExtent:u.dataExtent},!0),s}(t,s,l=(o=jB(o-2*d,0))*(a=jB(a-d-p,0)),n,i,r);if(f.length){var g={x:d,y:p,width:o,height:a},m=XB(o,a),y=1/0,v=[];v.area=0;for(var x=0,_=f.length;x<_;){var b=f[x];y=(b=(v.push(b),v.area+=b.getLayout().area,tE(v,m,n.squareRatio)))<=y?(x++,b):(v.area-=v.pop().getLayout().area,nE(v,m,g,u,!1),m=XB(g.width,g.height),1/(v.length=v.area=0))}for(v.length&&nE(v,m,g,u,!0),i||null!=(h=s.get("childrenVisibleMin"))&&l<h&&(i=!0),x=0,_=f.length;x<_;x++)e(f[x],n,i,r+1)}}}(d,l,!1,0),r=d.getLayout(),JB(p,(function(e,t){t=(p[t+1]||d).getValue(),e.setLayout(X({dataExtent:[t,t],borderWidth:0,upperHeight:0},r))}))),u=e.getData().tree.root;u.setLayout(function(e,t,n){if(t)return{x:t.x,y:t.y};if(t={x:0,y:0},!n)return t;var i=(n=n.node).getLayout();if(!i)return t;for(var r=[i.width/2,i.height/2],o=n;o;){var a=o.getLayout();r[0]+=a.x,r[1]+=a.y,o=o.parentNode}return{x:e.width/2-r[0],y:e.height/2-r[1]}}(n,i,h),!0),e.setLayoutInfo(n),function e(t,n,i,r,o){var a=t.getLayout(),s=i[o],l=s&&s===t;if(!(s&&!l||o===i.length&&t!==r)){t.setLayout({isInView:!0,invisible:!l&&!n.intersect(a),isAboveViewRoot:l},!0);var u=new zr(n.x-a.x,n.y-a.y,n.width,n.height);JB(t.viewChildren||[],(function(t){e(t,u,i,r,o+1)}))}}(u,new zr(-n.x,-n.y,o,a),p,d,0)}};function tE(e,t,n){for(var i,r=0,o=1/0,a=0,s=e.length;a<s;a++)(i=e[a].getLayout().area)&&(i<o&&(o=i),r<i&&(r=i));var l=e.area*e.area;t=t*t*n;return l?jB(t*r/l,l/(t*o)):1/0}function nE(e,t,n,i,r){var o=t===n.width?0:1,a=1-o,s=["x","y"],l=["width","height"],u=n[s[o]],c=t?e.area/t:0;(r||c>n[l[a]])&&(c=n[l[a]]);for(var h=0,d=e.length;h<d;h++){var p=e[h],f={},g=c?p.getLayout().area/c:0,m=f[l[a]]=jB(c-2*i,0),y=n[s[o]]+n[l[o]]-u;y=h===d-1||y<g?y:g,g=f[l[o]]=jB(y-2*i,0);f[s[a]]=n[s[a]]+XB(i,m/2),f[s[o]]=u+XB(i,g/2),u+=y,p.setLayout(f,!0)}n[s[a]]+=c,n[l[a]]-=c}function iE(e){return e.get(qB)?e.get($B):0}function rE(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",(function(e){var n=e.getCategoriesData(),i=e.getGraph().data,r=n.mapArray(n.getName);i.filterSelf((function(e){var n=i.getItemModel(e).getShallow("category");if(null!=n){de(n)&&(n=r[n]);for(var o=0;o<t.length;o++)if(!t[o].isSelected(n))return!1}return!0}))}))}function oE(e){var t={};e.eachSeriesByType("graph",(function(e){var n=e.getCategoriesData(),i=e.getData(),r={};n.each((function(i){for(var o=n.getName(i),a=(r["ec-"+o]=i,n.getItemModel(i)),s=a.getModel("itemStyle").getItemStyle(),l=(s.fill||(s.fill=e.getColorFromPalette(o,t)),n.setItemVisual(i,"style",s),["symbol","symbolSize","symbolKeepAspect"]),u=0;u<l.length;u++){var c=a.getShallow(l[u],!0);null!=c&&n.setItemVisual(i,l[u],c)}})),n.count()&&i.each((function(e){var t=i.getItemModel(e).getShallow("category");if(null!=t){ce(t)&&(t=r["ec-"+t]);for(var o=n.getItemVisual(t,"style"),a=(X(i.ensureUniqueItemVisual(e,"style"),o),["symbol","symbolSize","symbolKeepAspect"]),s=0;s<a.length;s++)i.setItemVisual(e,a[s],n.getItemVisual(t,a[s]))}}))}))}function aE(e){return e instanceof Array?e:[e,e]}function sE(e){e.eachSeriesByType("graph",(function(e){var t=e.getGraph(),n=e.getEdgeData(),i=aE(e.get("edgeSymbol")),r=aE(e.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",r&&r[0]),n.setVisual("toSymbolSize",r&&r[1]),n.setVisual("style",e.getModel("lineStyle").getLineStyle()),n.each((function(e){var i=n.getItemModel(e),r=t.getEdgeByIndex(e),o=aE(i.getShallow("symbol",!0)),a=aE(i.getShallow("symbolSize",!0)),s=(i=i.getModel("lineStyle").getLineStyle(),n.ensureUniqueItemVisual(e,"style"));switch(X(s,i),s.stroke){case"source":var l=r.node1.getVisual("style");s.stroke=l&&l.fill;break;case"target":l=r.node2.getVisual("style"),s.stroke=l&&l.fill}o[0]&&r.setVisual("fromSymbol",o[0]),o[1]&&r.setVisual("toSymbol",o[1]),a[0]&&r.setVisual("fromSymbolSize",a[0]),a[1]&&r.setVisual("toSymbolSize",a[1])}))}))}function lE(e,t){var n=hE(e),i=20,r=[];if(de(n))i=n;else if(le(n))return e.__curvenessList=n;for(var o=(i=i<t?t:i)%2?i+2:i+3,a=(r=[],0);a<o;a++)r.push((a%2?a+1:a)/10*(a%2?-1:1));e.__curvenessList=r}function uE(e){return[(e=e.split(cE))[0],e[2],e[1]].join(cE)}var cE="--\x3e",hE=function(e){return e.get("autoCurveness")||null},dE=function(e,t,n){return e=[e.id,e.dataIndex].join("."),t=[t.id,t.dataIndex].join("."),[n.uid,e,t].join(cE)},pE=function(e,t){return(t=t.__edgeMap)[e]?t[e].length:0};function fE(e,t,n,i){var r=hE(t),o=le(r);if(!r)return null;var a=function(e,t){return e=dE(e.node1,e.node2,t),t.__edgeMap[e]}(e,t);if(!a)return null;for(var s=-1,l=0;l<a.length;l++)if(a[l]===n){s=l;break}var u=function(e,t){return pE(dE(e.node1,e.node2,t),t)+pE(dE(e.node2,e.node1,t),t)}(e,t),c=(e=(lE(t,u),e.lineStyle=e.lineStyle||{},dE(e.node1,e.node2,t)),t.__curvenessList);u=o||u%2?0:1;return a.isForward?c[u+s]:(e=uE(e),t=c[s+(e=pE(e,t))+u],i?!o||r&&0===r[0]?(e+u)%2?t:-t:((e%2?0:1)+u)%2?t:-t:c[s+e+u])}function gE(e){var t=e.coordinateSystem;t&&"view"!==t.type||((t=e.getGraph()).eachNode((function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])})),mE(t,e))}function mE(e,t){e.eachEdge((function(e,n){n=Se(e.getModel().get(["lineStyle","curveness"]),-fE(e,t,n,!0),0);var i=Ze(e.node1.getLayout()),r=Ze(e.node2.getLayout()),o=[i,r];+n&&o.push([(i[0]+r[0])/2-(i[1]-r[1])*n,(i[1]+r[1])/2-(r[0]-i[0])*n]),e.setLayout(o)}))}function yE(e,t){e.eachSeriesByType("graph",(function(e){var t=e.get("layout"),n=e.coordinateSystem;if(n&&"view"!==n.type){var i=e.getData(),r=[];ee(n.dimensions,(function(e){r=r.concat(i.mapDimensionsAll(e))}));for(var o=0;o<i.count();o++){for(var a=[],s=!1,l=0;l<r.length;l++){var u=i.get(r[l],o);isNaN(u)||(s=!0),a.push(u)}s?i.setItemLayout(o,n.dataToPoint(a)):i.setItemLayout(o,[NaN,NaN])}mE(i.graph,e)}else t&&"none"!==t||gE(e)}))}function vE(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;e=e.option.nodeScaleRatio;var n=t.scaleX;return((t.getZoom()-1)*e+1)/n}function xE(e){return+(e=(e=e.getVisual("symbolSize"))instanceof Array?(e[0]+e[1])/2:e)}var _E=Math.PI,bE=[];function wE(e,t){var n,i,r,o,a,s=e.coordinateSystem;s&&"view"!==s.type||(s=s.getBoundingRect(),i=(n=e.getData()).graph,r=s.width/2+s.x,o=s.height/2+s.y,s=Math.min(s.width,s.height)/2,a=n.count(),n.setLayout({cx:r,cy:o}),a&&(SE[t](e,i,n,s,r,o,a),i.eachEdge((function(t,n){n=Se(t.getModel().get(["lineStyle","curveness"]),fE(t,e,n),0);var i,a=Ze(t.node1.getLayout()),s=Ze(t.node2.getLayout()),l=(a[0]+s[0])/2,u=(a[1]+s[1])/2;+n&&(i=[r*(n*=3)+l*(1-n),o*n+u*(1-n)]),t.setLayout([a,s,i])}))))}var SE={value:function(e,t,n,i,r,o,a){var s=0,l=n.getSum("value"),u=2*Math.PI/(l||a);t.eachNode((function(e){var t=e.getValue("value");s+=t=u*(l?t:1)/2,e.setLayout([i*Math.cos(s)+r,i*Math.sin(s)+o]),s+=t}))},symbolSize:function(e,t,n,i,r,o,a){var s=0,l=(bE.length=a,vE(e)),u=(t.eachNode((function(e){var t=xE(e);(t=isNaN(t)?2:t)<0&&(t=0),t*=l,t=Math.asin(t/2/i);isNaN(t)&&(t=_E/2),bE[e.dataIndex]=t,s+=2*t})),(2*_E-s)/a/2),c=0;t.eachNode((function(e){var t=u+bE[e.dataIndex];c+=t,e.setLayout([i*Math.cos(c)+r,i*Math.sin(c)+o]),c+=t}))}};function AE(e){e.eachSeriesByType("graph",(function(e){"circular"===e.get("layout")&&wE(e,"symbolSize")}))}var ME=Xe;function CE(e){e.eachSeriesByType("graph",(function(e){var t,n,i,r,o,a,s,l,u,c,h,d,p=e.coordinateSystem;p&&"view"!==p.type||("force"===e.get("layout")?(t=e.preservedPoints||{},n=e.getGraph(),i=n.data,d=n.edgeData,c=(r=e.getModel("force")).get("initLayout"),e.preservedPoints?i.each((function(e){var n=i.getId(e);i.setItemLayout(e,t[n]||[NaN,NaN])})):c&&"none"!==c?"circular"===c&&wE(e,"value"):gE(e),o=i.getDataExtent("value"),a=d.getDataExtent("value"),c=r.get("repulsion"),h=r.get("edgeLength"),s=le(c)?c:[c,c],l=[(l=le(h)?h:[h,h])[1],l[0]],u=i.mapArray("value",(function(e,t){var n=i.getItemLayout(t);e=xo(e,o,s);return{w:e=isNaN(e)?(s[0]+s[1])/2:e,rep:e,fixed:i.getItemModel(t).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),c=d.mapArray("value",(function(t,i){var r=n.getEdgeByIndex(i),o=(t=xo(t,a,l),isNaN(t)&&(t=(l[0]+l[1])/2),r.getModel());i=Se(r.getModel().get(["lineStyle","curveness"]),-fE(r,e,i,!0),0);return{n1:u[r.node1.dataIndex],n2:u[r.node2.dataIndex],d:t,curveness:i,ignoreForceLayout:o.get("ignoreForceLayout")}})),h=p.getBoundingRect(),(d=function(e,t,n){for(var i=e,r=t,o=(e=n.rect).width,a=e.height,s=[e.x+o/2,e.y+a/2],l=null==n.gravity?.1:n.gravity,u=0;u<i.length;u++){var c=i[u];c.p||(c.p=Ve(o*(Math.random()-.5)+s[0],a*(Math.random()-.5)+s[1])),c.pp=Ze(c.p),c.edges=null}var h,d,p=null==n.friction?.6:n.friction,f=p;return{warmUp:function(){f=.8*p},setFixed:function(e){i[e].fixed=!0},setUnfixed:function(e){i[e].fixed=!1},beforeStep:function(e){h=e},afterStep:function(e){d=e},step:function(e){h&&h(i,r);for(var t=[],n=i.length,o=0;o<r.length;o++){var a=r[o];a.ignoreForceLayout||(c=a.n1,Ye(t,(u=a.n2).p,c.p),g=Je(t)-a.d,a=u.w/(c.w+u.w),isNaN(a)&&(a=0),it(t,t),c.fixed||ME(c.p,c.p,t,a*g*f),u.fixed||ME(u.p,u.p,t,-(1-a)*g*f))}for(o=0;o<n;o++)(y=i[o]).fixed||(Ye(t,s,y.p),ME(y.p,y.p,t,l*f));for(o=0;o<n;o++)for(var u,c=i[o],p=o+1;p<n;p++){Ye(t,(u=i[p]).p,c.p),0===(g=Je(t))&&(We(t,Math.random()-.5,Math.random()-.5),g=1);var g,m=(c.rep+u.rep)/g/g;c.fixed||ME(c.pp,c.pp,t,m),u.fixed||ME(u.pp,u.pp,t,-m)}var y,v=[];for(o=0;o<n;o++)(y=i[o]).fixed||(Ye(v,y.p,y.pp),ME(y.p,y.p,v,f),Ue(y.pp,y.p));var x=(f*=.992)<.01;d&&d(i,r,x),e&&e(x)}}}(u,c,{rect:h,gravity:r.get("gravity"),friction:r.get("friction")})).beforeStep((function(e,t){for(var i=0,r=e.length;i<r;i++)e[i].fixed&&Ue(e[i].p,n.getNodeByIndex(i).getLayout())})),d.afterStep((function(e,r,o){for(var a=0,s=e.length;a<s;a++)e[a].fixed||n.getNodeByIndex(a).setLayout(e[a].p),t[i.getId(a)]=e[a].p;for(a=0,s=r.length;a<s;a++){var l=r[a],u=n.getEdgeByIndex(a),c=l.n1.p,h=l.n2.p,d=u.getLayout();(d=d?d.slice():[])[0]=d[0]||[],d[1]=d[1]||[],Ue(d[0],c),Ue(d[1],h),+l.curveness&&(d[2]=[(c[0]+h[0])/2-(c[1]-h[1])*l.curveness,(c[1]+h[1])/2-(h[0]-c[0])*l.curveness]),u.setLayout(d)}})),e.forceLayout=d,e.preservedPoints=t,d.step()):e.forceLayout=null)}))}function TE(e,t){var n=[];return e.eachSeriesByType("graph",(function(e){var i,r,o,a,s,l,u,c=e.get("coordinateSystem");c&&"view"!==c||(c=[],o=[],es((i=e.getData()).mapArray((function(e){return[+(e=i.getItemModel(e)).get("x"),+e.get("y")]})),c,o),o[0]-c[0]==0&&(o[0]+=1,--c[0]),o[1]-c[1]==0&&(o[1]+=1,--c[1]),r=(o[0]-c[0])/(o[1]-c[1]),l=t,u=r,u=hh(X(e.getBoxLayoutParams(),{aspect:u}),{width:l.getWidth(),height:l.getHeight()}),isNaN(r)&&(c=[u.x,u.y],o=[u.x+u.width,u.y+u.height]),l=o[0]-c[0],r=o[1]-c[1],o=u.width,a=u.height,(s=e.coordinateSystem=new qk).zoomLimit=e.get("scaleLimit"),s.setBoundingRect(c[0],c[1],l,r),s.setViewRect(u.x,u.y,o,a),s.setCenter(e.get("center")),s.setZoom(e.get("zoom")),n.push(s))})),n}var IE,kE,DE=Jg.prototype,BE=tm.prototype,EE=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function PE(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}function LE(e){return(e=kE.call(this,e)||this).type="ec-line",e}_((function(){return null!==IE&&IE.apply(this,arguments)||this}),IE=EE),_(LE,kE=Us),LE.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},LE.prototype.getDefaultShape=function(){return new EE},LE.prototype.buildPath=function(e,t){(PE(t)?DE:BE).buildPath.call(this,e,t)},LE.prototype.pointAt=function(e){return(PE(this.shape)?DE:BE).pointAt.call(this,e)},LE.prototype.tangentAt=function(e){var t;return it(t=PE(t=this.shape)?[t.x2-t.x1,t.y2-t.y1]:BE.tangentAt.call(this,e),t)};var RE,OE=LE,FE=["fromSymbol","toSymbol"];function NE(e){return"_"+e+"Type"}function zE(e,t,n){var i,r,o,a=t.getItemVisual(n,e);if(a&&"none"!==a)return r=t.getItemVisual(n,e+"Size"),i=t.getItemVisual(n,e+"Rotate"),o=t.getItemVisual(n,e+"Offset"),t=t.getItemVisual(n,e+"KeepAspect"),r=cv(o||0,n=uv(r)),(o=lv(a,-n[0]/2+r[0],-n[1]/2+r[1],n[0],n[1],null,t)).__specifiedRotation=null==i||isNaN(i)?void 0:+i*Math.PI/180||0,o.name=e,o}function GE(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1,(t=t[2])?(e.cpx1=t[0],e.cpy1=t[1]):(e.cpx1=NaN,e.cpy1=NaN)}function HE(e,t,n){var i=RE.call(this)||this;return i._createLine(e,t,n),i}_(HE,RE=ao),HE.prototype._createLine=function(e,t,n){var i,r=e.hostModel,o=e.getItemLayout(t);(o=(GE((i=new OE({name:"line",subPixelOptimize:!0})).shape,o),i)).shape.percent=0,Tu(o,{shape:{percent:1}},r,t),this.add(o),ee(FE,(function(n){var i=zE(n,e,t);this.add(i),this[NE(n)]=e.getItemVisual(t,n)}),this),this._updateCommonStl(e,t,n)},HE.prototype.updateData=function(e,t,n){var i=e.hostModel,r=this.childOfName("line"),o=e.getItemLayout(t),a={shape:{}};GE(a.shape,o),Cu(r,a,i,t),ee(FE,(function(n){var i=e.getItemVisual(t,n),r=NE(n);this[r]!==i&&(this.remove(this.childOfName(n)),n=zE(n,e,t),this.add(n)),this[r]=i}),this),this._updateCommonStl(e,t,n)},HE.prototype.getLinePath=function(){return this.childAt(0)},HE.prototype._updateCommonStl=function(e,t,n){var i=e.hostModel,r=this.childOfName("line"),o=n&&n.emphasisLineStyle,a=n&&n.blurLineStyle,s=n&&n.selectLineStyle,l=n&&n.labelStatesModels,u=n&&n.emphasisDisabled,c=n&&n.focus,h=n&&n.blurScope,d=(n&&!e.hasItemOption||(o=(f=(n=e.getItemModel(t)).getModel("emphasis")).getModel("lineStyle").getLineStyle(),a=n.getModel(["blur","lineStyle"]).getLineStyle(),s=n.getModel(["select","lineStyle"]).getLineStyle(),u=f.get("disabled"),c=f.get("focus"),h=f.get("blurScope"),l=Fu(n)),e.getItemVisual(t,"style")),p=d.stroke,f=(r.useStyle(d),r.style.fill=null,r.style.strokeNoScale=!0,r.ensureState("emphasis").style=o,r.ensureState("blur").style=a,r.ensureState("select").style=s,ee(FE,(function(e){var t=this.childOfName(e);if(t){t.setColor(p),t.style.opacity=d.opacity;for(var n=0;n<Bl.length;n++){var i=Bl[n],o=r.getState(i);o&&(o=o.style||{},i=(i=t.ensureState(i)).style||(i.style={}),null!=o.stroke&&(i[t.__isEmptyBrush?"stroke":"fill"]=o.stroke),null!=o.opacity&&(i.opacity=o.opacity))}t.markRedraw()}}),this),i.getRawValue(t));(n=(Ou(this,l,{labelDataIndex:t,labelFetcher:{getFormattedLabel:function(t,n){return i.getFormattedLabel(t,n,e.dataType)}},inheritColor:p||"#000",defaultOpacity:d.opacity,defaultText:(null==f?e.getName(t):isFinite(f)?bo(f):f)+""}),this.getTextContent()))&&(o=l.normal,n.__align=n.style.align,n.__verticalAlign=n.style.verticalAlign,n.__position=o.get("position")||"middle",le(a=o.get("distance"))||(a=[a,a]),n.__labelDistance=a),this.setTextConfig({position:null,local:!0,inside:!1}),fu(this,c,h,u)},HE.prototype.highlight=function(){tu(this)},HE.prototype.downplay=function(){nu(this)},HE.prototype.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},HE.prototype.setLinePoints=function(e){var t=this.childOfName("line");GE(t.shape,e),t.dirty()},HE.prototype.beforeUpdate=function(){var e=this.childOfName("fromSymbol"),t=this.childOfName("toSymbol"),n=this.getTextContent();if(e||t||n&&!n.ignore){for(var i=1,r=this.parent;r;)r.scaleX&&(i/=r.scaleX),r=r.parent;var o=this.childOfName("line");if(this.__dirty||o.__dirty){var a=o.shape.percent,s=o.pointAt(0),l=o.pointAt(a),u=Ye([],l,s);if(it(u,u),e&&(e.setPosition(s),v(e,0),e.scaleX=e.scaleY=i*a,e.markRedraw()),t&&(t.setPosition(l),v(t,1),t.scaleX=t.scaleY=i*a,t.markRedraw()),n&&!n.ignore){n.x=n.y=0;var c=void(n.originX=n.originY=0),h=void 0,d=(e=n.__labelDistance)[0]*i,p=e[1]*i,f=(t=a/2,o.tangentAt(t)),g=(e=[f[1],-f[0]],o.pointAt(t)),m=(0<e[1]&&(e[0]=-e[0],e[1]=-e[1]),f[0]<0?-1:1),y=void("start"!==n.__position&&"end"!==n.__position&&(a=-Math.atan2(f[1],f[0]),l[0]<s[0]&&(a=Math.PI+a),n.rotation=a));switch(n.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":y=-p,h="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":y=p,h="top";break;default:y=0,h="middle"}switch(n.__position){case"end":n.x=u[0]*d+l[0],n.y=u[1]*p+l[1],c=.8<u[0]?"left":u[0]<-.8?"right":"center",h=.8<u[1]?"top":u[1]<-.8?"bottom":"middle";break;case"start":n.x=-u[0]*d+s[0],n.y=-u[1]*p+s[1],c=.8<u[0]?"right":u[0]<-.8?"left":"center",h=.8<u[1]?"bottom":u[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":n.x=d*m+s[0],n.y=s[1]+y,c=f[0]<0?"right":"left",n.originX=-d*m,n.originY=-y;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":n.x=g[0],n.y=g[1]+y,c="center",n.originY=-y;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":n.x=-d*m+l[0],n.y=l[1]+y,c=0<=f[0]?"right":"left",n.originX=d*m,n.originY=-y}n.scaleX=n.scaleY=i,n.setStyle({verticalAlign:n.__verticalAlign||h,align:n.__align||c})}}}function v(e,t){var n,i=e.__specifiedRotation;null==i?(n=o.tangentAt(t),e.attr("rotation",(1===t?-1:1)*Math.PI/2-Math.atan2(n[1],n[0]))):e.attr("rotation",i)}};var VE=HE;function UE(e){this.group=new ao,this._LineCtor=e||VE}function ZE(e){var t=(e=e.hostModel).getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:t.get("disabled"),blurScope:t.get("blurScope"),focus:t.get("focus"),labelStatesModels:Fu(e)}}function WE(e){return isNaN(e[0])||isNaN(e[1])}function jE(e){return e&&!WE(e[0])&&!WE(e[1])}UE.prototype.updateData=function(e){var t=this,n=(this._progressiveEls=null,this.group),i=this._lineData,r=(this._lineData=e,i||n.removeAll(),ZE(e));e.diff(i).add((function(n){t._doAdd(e,n,r)})).update((function(n,o){t._doUpdate(i,e,o,n,r)})).remove((function(e){n.remove(i.getItemGraphicEl(e))})).execute()},UE.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl((function(t,n){t.updateLayout(e,n)}),this)},UE.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=ZE(e),this._lineData=null,this.group.removeAll()},UE.prototype.incrementalUpdate=function(e,t){function n(e){var t;e.isGroup||(t=e).animators&&0<t.animators.length||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var i,r=e.start;r<e.end;r++)jE(t.getItemLayout(r))&&((i=new this._LineCtor(t,r,this._seriesScope)).traverse(n),this.group.add(i),t.setItemGraphicEl(r,i),this._progressiveEls.push(i))},UE.prototype.remove=function(){this.group.removeAll()},UE.prototype.eachRendered=function(e){qm(this._progressiveEls||this.group,e)},UE.prototype._doAdd=function(e,t,n){jE(e.getItemLayout(t))&&(n=new this._LineCtor(e,t,n),e.setItemGraphicEl(t,n),this.group.add(n))},UE.prototype._doUpdate=function(e,t,n,i,r){e=e.getItemGraphicEl(n),jE(t.getItemLayout(i))?(e?e.updateData(t,i,r):e=new this._LineCtor(t,i,r),t.setItemGraphicEl(i,e),this.group.add(e)):this.group.remove(e)};var XE,YE=UE,JE=[],KE=[],QE=[],qE=Mn,$E=st,eP=Math.abs;function tP(e,t,n){for(var i,r=e[0],o=e[1],a=e[2],s=1/0,l=n*n,u=.1,c=.1;c<=.9;c+=.1)JE[0]=qE(r[0],o[0],a[0],c),JE[1]=qE(r[1],o[1],a[1],c),(p=eP($E(JE,t)-l))<s&&(s=p,i=c);for(var h=0;h<32;h++){var d=i+u,p=(KE[0]=qE(r[0],o[0],a[0],i),KE[1]=qE(r[1],o[1],a[1],i),QE[0]=qE(r[0],o[0],a[0],d),QE[1]=qE(r[1],o[1],a[1],d),$E(KE,t)-l);if(eP(p)<.01)break;d=$E(QE,t)-l,u/=2,p<0?0<=d?i+=u:i-=u:0<=d?i-=u:i+=u}return i}function nP(e,t){var n=[],i=In,r=[[],[],[]],o=[[],[]],a=[];t/=2,e.eachEdge((function(e,s){var l,u,c=e.getLayout(),h=e.getVisual("fromSymbol"),d=e.getVisual("toSymbol"),p=(c.__original||(c.__original=[Ze(c[0]),Ze(c[1])],c[2]&&c.__original.push(Ze(c[2]))),c.__original);null!=c[2]?(Ue(r[0],p[0]),Ue(r[1],p[2]),Ue(r[2],p[1]),h&&"none"!==h&&(u=xE(e.node1),l=tP(r,p[0],u*t),i(r[0][0],r[1][0],r[2][0],l,n),r[0][0]=n[3],r[1][0]=n[4],i(r[0][1],r[1][1],r[2][1],l,n),r[0][1]=n[3],r[1][1]=n[4]),d&&"none"!==d&&(u=xE(e.node2),l=tP(r,p[1],u*t),i(r[0][0],r[1][0],r[2][0],l,n),r[1][0]=n[1],r[2][0]=n[2],i(r[0][1],r[1][1],r[2][1],l,n),r[1][1]=n[1],r[2][1]=n[2]),Ue(c[0],r[0]),Ue(c[1],r[2]),Ue(c[2],r[1])):(Ue(o[0],p[0]),Ue(o[1],p[1]),Ye(a,o[1],o[0]),it(a,a),h&&"none"!==h&&(u=xE(e.node1),Xe(o[0],o[0],a,u*t)),d&&"none"!==d&&(u=xE(e.node2),Xe(o[1],o[1],a,-u*t)),Ue(c[0],o[0]),Ue(c[1],o[1]))}))}function iP(e){return"view"===e.type}function rP(){var e=null!==XE&&XE.apply(this,arguments)||this;return e.type=rP.type,e}_(rP,XE=sy),rP.prototype.init=function(e,t){var n=new KA,i=new YE,r=this.group;this._controller=new RI(t.getZr()),this._controllerHost={target:r},r.add(n.group),r.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},rP.prototype.render=function(e,t,n){var i=this,r=e.coordinateSystem,o=(this._model=e,this._symbolDraw),a=this._lineDraw,s=this.group,l=(iP(r)&&(r={x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY},this._firstRender?s.attr(r):Cu(s,r,e)),nP(e.getGraph(),vE(e)),e.getData()),u=(s=(o.updateData(l),e.getEdgeData()),a.updateData(s),this._updateNodeAndLinkScale(),this._updateController(e,t,n),clearTimeout(this._layoutTimeout),e.forceLayout),c=e.get(["force","layoutAnimation"]),h=(u&&this._startForceLayoutIteration(u,c),l.graph.eachNode((function(e){var t,n=e.dataIndex,r=e.getGraphicEl(),o=e.getModel();r&&(r.off("drag").off("dragend"),(t=o.get("draggable"))&&r.on("drag",(function(){u&&(u.warmUp(),i._layouting||i._startForceLayoutIteration(u,c),u.setFixed(n),l.setItemLayout(n,[r.x,r.y]))})).on("dragend",(function(){u&&u.setUnfixed(n)})),r.setDraggable(t&&!!u),"adjacency"===o.get(["emphasis","focus"])&&(Cl(r).focus=e.getAdjacentDataIndices()))})),l.graph.eachEdge((function(e){var t=e.getGraphicEl(),n=e.getModel().get(["emphasis","focus"]);t&&"adjacency"===n&&(Cl(t).focus={edge:[e.dataIndex],node:[e.node1.dataIndex,e.node2.dataIndex]})})),"circular"===e.get("layout")&&e.get(["circular","rotateLabel"])),d=l.getLayout("cx"),p=l.getLayout("cy");l.eachItemGraphicEl((function(e,t){var n,i=l.getItemModel(t).get(["label","rotate"])||0;e=e.getSymbolPath();h?(t=l.getItemLayout(t),(n=Math.atan2(t[1]-p,t[0]-d))<0&&(n=2*Math.PI+n),(t=t[0]<d)&&(n-=Math.PI),e.setTextConfig({rotation:-n,position:n=t?"left":"right",origin:"center"}),X((t=e.ensureState("emphasis")).textConfig||(t.textConfig={}),{position:n})):e.setTextConfig({rotation:i*=Math.PI/180})})),this._firstRender=!1},rP.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},rP.prototype._startForceLayoutIteration=function(e,t){var n=this;!function i(){e.step((function(e){n.updateLayout(n._model),(n._layouting=!e)&&(t?n._layoutTimeout=setTimeout(i,16):i())}))}()},rP.prototype._updateController=function(e,t,n){var i=this,r=this._controller,o=this._controllerHost,a=this.group;r.setPointerChecker((function(t,i,r){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(i,r)&&!GI(t,n,e)})),iP(e.coordinateSystem)?(r.enable(e.get("roam")),o.zoomLimit=e.get("scaleLimit"),o.zoom=e.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",(function(t){OI(o,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:"graphRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){FI(o,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),i._updateNodeAndLinkScale(),nP(e.getGraph(),vE(e)),i._lineDraw.updateLayout(),n.updateLabelLayout()}))):r.disable()},rP.prototype._updateNodeAndLinkScale=function(){var e=this._model,t=e.getData(),n=vE(e);t.eachItemGraphicEl((function(e,t){e&&e.setSymbolScale(n)}))},rP.prototype.updateLayout=function(e){nP(e.getGraph(),vE(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},rP.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},rP.type="graph";var oP=rP;function aP(e){return"_EC_"+e}function sP(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}sP.prototype.isDirected=function(){return this._directed},sP.prototype.addNode=function(e,t){var n=this._nodesMap;if(!n[aP(e=null==e?""+t:""+e)])return((t=new lP(e,t)).hostGraph=this).nodes.push(t),n[aP(e)]=t},sP.prototype.getNodeByIndex=function(e){return e=this.data.getRawIndex(e),this.nodes[e]},sP.prototype.getNodeById=function(e){return this._nodesMap[aP(e)]},sP.prototype.addEdge=function(e,t,n){var i=this._nodesMap,r=this._edgesMap;if(de(e)&&(e=this.nodes[e]),de(t)&&(t=this.nodes[t]),e instanceof lP||(e=i[aP(e)]),t instanceof lP||(t=i[aP(t)]),e&&t)return i=e.id+"-"+t.id,((n=new cP(e,t,n)).hostGraph=this)._directed&&(e.outEdges.push(n),t.inEdges.push(n)),e.edges.push(n),e!==t&&t.edges.push(n),this.edges.push(n),r[i]=n},sP.prototype.getEdgeByIndex=function(e){return e=this.edgeData.getRawIndex(e),this.edges[e]},sP.prototype.getEdge=function(e,t){e instanceof lP&&(e=e.id),t instanceof lP&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},sP.prototype.eachNode=function(e,t){for(var n=this.nodes,i=n.length,r=0;r<i;r++)0<=n[r].dataIndex&&e.call(t,n[r],r)},sP.prototype.eachEdge=function(e,t){for(var n=this.edges,i=n.length,r=0;r<i;r++)0<=n[r].dataIndex&&0<=n[r].node1.dataIndex&&0<=n[r].node2.dataIndex&&e.call(t,n[r],r)},sP.prototype.breadthFirstTraverse=function(e,t,n,i){if(t=t instanceof lP?t:this._nodesMap[aP(t)]){for(var r="out"===n?"outEdges":"in"===n?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!e.call(i,t,null))for(var a=[t];a.length;){var s=a.shift(),l=s[r];for(o=0;o<l.length;o++){var u;if(!(u=(u=l[o]).node1===s?u.node2:u.node1).__visited){if(e.call(i,u,s))return;a.push(u),u.__visited=!0}}}}},sP.prototype.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,i=this.edges,r=0,o=n.length;r<o;r++)n[r].dataIndex=-1;for(r=0,o=e.count();r<o;r++)n[e.getRawIndex(r)].dataIndex=r;for(t.filterSelf((function(e){return 0<=(e=i[t.getRawIndex(e)]).node1.dataIndex&&0<=e.node2.dataIndex})),r=0,o=i.length;r<o;r++)i[r].dataIndex=-1;for(r=0,o=t.count();r<o;r++)i[t.getRawIndex(r)].dataIndex=r},sP.prototype.clone=function(){for(var e=new sP(this._directed),t=this.nodes,n=this.edges,i=0;i<t.length;i++)e.addNode(t[i].id,t[i].dataIndex);for(i=0;i<n.length;i++){var r=n[i];e.addEdge(r.node1.id,r.node2.id,r.dataIndex)}return e},hg=sP,uP.prototype.degree=function(){return this.edges.length},uP.prototype.inDegree=function(){return this.inEdges.length},uP.prototype.outDegree=function(){return this.outEdges.length},uP.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)},uP.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var n=this.edges[t];n.dataIndex<0||(e.edge.push(n.dataIndex),e.node.push(n.node1.dataIndex,n.node2.dataIndex))}return e};var lP=uP;function uP(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==e?"":e,this.dataIndex=null==t?-1:t}hP.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)},hP.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}};var cP=hP;function hP(e,t,n){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=null==n?-1:n}function dP(e,t){return{getValue:function(n){var i=this[e][t];return i.getStore().get(i.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,i){0<=this.dataIndex&&this[e][t].setItemVisual(this.dataIndex,n,i)},getVisual:function(n){return this[e][t].getItemVisual(this.dataIndex,n)},setLayout:function(n,i){0<=this.dataIndex&&this[e][t].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}q(lP,dP("hostGraph","data")),q(cP,dP("hostGraph","edgeData"));var pP,fP=hg;function gP(e,t,n,i,r){for(var o=new fP(i),a=0;a<e.length;a++)o.addNode(be(e[a].id,e[a].name,a),a);var s=[],l=[],u=0;for(a=0;a<t.length;a++){var c=t[a],h=c.source,d=c.target;o.addEdge(h,d,u)&&(l.push(c),s.push(be(Ko(c.id,null),h+" > "+d)),u++)}var p;return(i=("cartesian2d"===(i=n.get("coordinateSystem"))||"polar"===i?p=q_(e,n):(K(i=(i=dd.get(i))&&i.dimensions||[],"value")<0&&i.concat(["value"]),i=W_(e,{coordDimensions:i,encodeDefine:n.getEncode()}).dimensions,(p=new U_(i,n)).initData(e)),new U_(["value"],n))).initData(l,s),r&&r(p,i),WD({mainData:p,struct:o,structAttr:"graph",datas:{node:p,edge:i},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}function mP(){var e=null!==pP&&pP.apply(this,arguments)||this;return e.type=mP.type,e.hasSymbolVisual=!0,e}_(mP,pP=Pf),mP.prototype.init=function(e){pP.prototype.init.apply(this,arguments);var t=this;function n(){return t._categoriesData}this.legendVisualProvider=new BC(n,n),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mP.prototype.mergeOption=function(e){pP.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mP.prototype.mergeDefaultAndTheme=function(e){pP.prototype.mergeDefaultAndTheme.apply(this,arguments),Zo(e,"edgeLabel",["show"])},mP.prototype.getInitialData=function(e,t){var n,i=e.edges||e.links||[],r=(e=e.data||e.nodes||[],this);if(e&&i)return hE(n=this)&&(n.__curvenessList=[],n.__edgeMap={},lE(n)),ee((n=gP(e,i,this,!0,(function(e,t){e.wrapMethod("getItemModel",(function(e){var t=r._categoriesModels[e.getShallow("category")];return t&&(t.parentModel=e.parentModel,e.parentModel=t),e}));var n=ac.prototype.getModel;function i(e,t){return(e=n.call(this,e,t)).resolveParentPath=o,e}function o(e){var t;return!e||"label"!==e[0]&&"label"!==e[1]?e:(t=e.slice(),"label"===e[0]?t[0]="edgeLabel":"label"===e[1]&&(t[1]="edgeLabel"),t)}t.wrapMethod("getItemModel",(function(e){return e.resolveParentPath=o,e.getModel=i,e}))}))).edges,(function(e){var t,n,i;t=e.node1,n=e.node2,i=this,e=e.dataIndex,hE(i)&&(t=dE(t,n,i),i=(n=i.__edgeMap)[uE(t)],n[t]&&!i?n[t].isForward=!0:i&&n[t]&&(i.isForward=!0,n[t].isForward=!1),n[t]=n[t]||[],n[t].push(e))}),this),n.data},mP.prototype.getGraph=function(){return this.getData().graph},mP.prototype.getEdgeData=function(){return this.getGraph().edgeData},mP.prototype.getCategoriesData=function(){return this._categoriesData},mP.prototype.formatTooltip=function(e,t,n){var i,r,o;return"edge"===n?(r=this.getData(),n=this.getDataParams(e,n),o=r.graph.getEdgeByIndex(e),i=r.getName(o.node1.dataIndex),r=r.getName(o.node2.dataIndex),o=[],null!=i&&o.push(i),null!=r&&o.push(r),lf("nameValue",{name:o.join(" > "),value:n.value,noValue:null==n.value})):_f({series:this,dataIndex:e,multipleSeries:t})},mP.prototype._updateCategoriesData=function(){var e=te(this.option.categories||[],(function(e){return null!=e.value?e:X({value:0},e)})),t=new U_(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray((function(e){return t.getItemModel(e)}))},mP.prototype.setZoom=function(e){this.option.zoom=e},mP.prototype.setCenter=function(e){this.option.center=e},mP.prototype.isAnimationEnabled=function(){return pP.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},mP.type="series.graph",mP.dependencies=["grid","polar","geo","singleAxis","calendar"],mP.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}};var yP,vP=mP,xP={type:"graphRoam",event:"graphRoam",update:"none"},_P=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0};function bP(e){return(e=yP.call(this,e)||this).type="pointer",e}_(bP,yP=Us),bP.prototype.getDefaultShape=function(){return new _P},bP.prototype.buildPath=function(e,t){var n=Math.cos,i=Math.sin,r=t.r,o=t.width,a=t.angle,s=t.x-n(a)*o*(r/3<=o?1:2),l=t.y-i(a)*o*(r/3<=o?1:2);a=t.angle-Math.PI/2;e.moveTo(s,l),e.lineTo(t.x+n(a)*o,t.y+i(a)*o),e.lineTo(t.x+n(t.angle)*r,t.y+i(t.angle)*r),e.lineTo(t.x-n(a)*o,t.y-i(a)*o),e.lineTo(s,l)};var wP,SP=bP;function AP(e,t){var n=null==e?"":e+"";return t&&(ce(t)?n=t.replace("{value}",n):ue(t)&&(n=t(e))),n}function MP(){var e=null!==wP&&wP.apply(this,arguments)||this;return e.type=MP.type,e}_(MP,wP=sy),MP.prototype.render=function(e,t,n){this.group.removeAll();var i,r,o,a,s=e.get(["axisLine","lineStyle","color"]),l=(r=n,o=(i=e).get("center"),a=r.getWidth(),l=r.getHeight(),a=Math.min(a,l),{cx:_o(o[0],r.getWidth()),cy:_o(o[1],r.getHeight()),r:_o(i.get("radius"),a/2)});this._renderMain(e,t,n,s,l),this._data=e.getData()},MP.prototype.dispose=function(){},MP.prototype._renderMain=function(e,t,n,i,r){for(var o,a=this.group,s=e.get("clockwise"),l=-e.get("startAngle")/180*Math.PI,u=-e.get("endAngle")/180*Math.PI,c=(o=e.getModel("axisLine")).get("roundCap")?GM:Bg,h=o.get("show"),d=o.getModel("lineStyle"),p=d.get("width"),f=(bs(o=[l,u],!s),(u=o[1])-(l=o[0])),g=l,m=0;h&&m<i.length;m++){var y=new c({shape:{startAngle:g,endAngle:u=l+f*Math.min(Math.max(i[m][0],0),1),cx:r.cx,cy:r.cy,clockwise:s,r0:r.r-p,r:r.r},silent:!0});y.setStyle({fill:i[m][1]}),y.setStyle(d.getLineStyle(["color","width"])),a.add(y),g=u}function v(e){if(e<=0)return i[0][1];for(var t=0;t<i.length;t++)if(i[t][0]>=e&&(0===t?0:i[t-1][0])<e)return i[t][1];return i[t-1][1]}this._renderTicks(e,t,n,v,r,l,u,s,p),this._renderTitleAndDetail(e,t,n,v,r),this._renderAnchor(e,r),this._renderPointer(e,t,n,v,r,l,u,s,p)},MP.prototype._renderTicks=function(e,t,n,i,r,o,a,s,l){for(var u,c,h,d=this.group,p=r.cx,f=r.cy,g=r.r,m=+e.get("min"),y=+e.get("max"),v=e.getModel("splitLine"),x=e.getModel("axisTick"),_=e.getModel("axisLabel"),b=e.get("splitNumber"),w=x.get("splitNumber"),S=_o(v.get("length"),g),A=_o(x.get("length"),g),M=o,C=(a-o)/b,T=C/w,I=v.getModel("lineStyle").getLineStyle(),k=x.getModel("lineStyle").getLineStyle(),D=v.get("distance"),B=0;B<=b;B++)if(P=Math.cos(M),L=Math.sin(M),v.get("show")&&(u=new Jg({shape:{x1:P*(g-(h=D?D+l:l))+p,y1:L*(g-h)+f,x2:P*(g-S-h)+p,y2:L*(g-S-h)+f},style:I,silent:!0}),"auto"===I.stroke&&u.setStyle({stroke:i(B/b)}),d.add(u)),_.get("show")&&(h=_.get("distance")+D,u=AP(bo(B/b*(y-m)+m),_.get("formatter")),c=i(B/b),d.add(new Ml({style:Nu(_,{text:u,x:P*(g-S-h)+p,y:L*(g-S-h)+f,verticalAlign:L<-.8?"top":.8<L?"bottom":"middle",align:P<-.4?"left":.4<P?"right":"center"},{inheritColor:c}),silent:!0}))),x.get("show")&&B!==b){h=(h=x.get("distance"))?h+l:l;for(var E=0;E<=w;E++){var P=Math.cos(M),L=Math.sin(M),R=new Jg({shape:{x1:P*(g-h)+p,y1:L*(g-h)+f,x2:P*(g-A-h)+p,y2:L*(g-A-h)+f},silent:!0,style:k});"auto"===k.stroke&&R.setStyle({stroke:i((B+E/w)/b)}),d.add(R),M+=T}M-=T}else M+=C},MP.prototype._renderPointer=function(e,t,n,i,r,o,a,s,l){var u=this.group,c=this._data,h=this._progressEls,d=[],p=e.get(["pointer","show"]),f=e.getModel("progress"),g=f.get("show"),m=e.getData(),y=m.mapDimension("value"),v=+e.get("min"),x=+e.get("max"),_=[v,x],b=[o,a];function w(t,n){var i=_o((t=m.getItemModel(t).getModel("pointer")).get("width"),r.r),o=_o(t.get("length"),r.r),a=e.get(["pointer","icon"]),s=_o((l=t.get("offsetCenter"))[0],r.r),l=_o(l[1],r.r);t=t.get("keepAspect");return(a=a?lv(a,s-i/2,l-o,i,o,null,t):new SP({shape:{angle:-Math.PI/2,width:i,r:o,x:s,y:l}})).rotation=-(n+Math.PI/2),a.x=r.cx,a.y=r.cy,a}function S(e,t){var n=f.get("roundCap")?GM:Bg,i=f.get("overlap"),a=i?f.get("width"):l/m.count(),u=i?r.r-a:r.r-(e+1)*a;a=i?r.r:r.r-e*a,n=new n({shape:{startAngle:o,endAngle:t,cx:r.cx,cy:r.cy,clockwise:s,r0:u,r:a}});return i&&(n.z2=x-m.get(y,e)%x),n}(g||p)&&(m.diff(c).add((function(t){var n,i,r=m.get(y,t);p&&(Tu(n=w(t,o),{rotation:-((isNaN(+r)?b[0]:xo(r,_,b,!0))+Math.PI/2)},e),u.add(n),m.setItemGraphicEl(t,n)),g&&(n=S(t,o),i=f.get("clip"),Tu(n,{shape:{endAngle:xo(r,_,b,i)}},e),u.add(n),Al(e.seriesIndex,m.dataType,t,n),d[t]=n)})).update((function(t,n){var i,r,a=m.get(y,t);p&&((r=w(t,i=(i=c.getItemGraphicEl(n))?i.rotation:o)).rotation=i,Cu(r,{rotation:-((isNaN(+a)?b[0]:xo(a,_,b,!0))+Math.PI/2)},e),u.add(r),m.setItemGraphicEl(t,r)),g&&(r=S(t,(i=h[n])?i.shape.endAngle:o),n=f.get("clip"),Cu(r,{shape:{endAngle:xo(a,_,b,n)}},e),u.add(r),Al(e.seriesIndex,m.dataType,t,r),d[t]=r)})).execute(),m.each((function(e){var t,n,r,o,a=m.getItemModel(e),s=(u=a.getModel("emphasis")).get("focus"),l=u.get("blurScope"),u=u.get("disabled");p&&(t=m.getItemGraphicEl(e),r=(n=m.getItemVisual(e,"style")).fill,t instanceof Qs?(o=t.style,t.useStyle(X({image:o.image,x:o.x,y:o.y,width:o.width,height:o.height},n))):(t.useStyle(n),"pointer"!==t.type&&t.setColor(r)),t.setStyle(a.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===t.style.fill&&t.setStyle("fill",i(xo(m.get(y,e),_,[0,1],!0))),t.z2EmphasisLift=0,vu(t,a),fu(t,s,l,u)),g&&((o=d[e]).useStyle(m.getItemVisual(e,"style")),o.setStyle(a.getModel(["progress","itemStyle"]).getItemStyle()),o.z2EmphasisLift=0,vu(o,a),fu(o,s,l,u))})),this._progressEls=d)},MP.prototype._renderAnchor=function(e,t){var n,i,r,o;(e=e.getModel("anchor")).get("show")&&(n=e.get("size"),o=e.get("icon"),i=e.get("offsetCenter"),r=e.get("keepAspect"),(o=lv(o,t.cx-n/2+_o(i[0],t.r),t.cy-n/2+_o(i[1],t.r),n,n,null,r)).z2=e.get("showAbove")?1:0,o.setStyle(e.getModel("itemStyle").getItemStyle()),this.group.add(o))},MP.prototype._renderTitleAndDetail=function(e,t,n,i,r){var o=this,a=e.getData(),s=a.mapDimension("value"),l=+e.get("min"),u=+e.get("max"),c=new ao,h=[],d=[],p=e.isAnimationEnabled(),f=e.get(["pointer","showAbove"]);a.diff(this._data).add((function(e){h[e]=new Ml({silent:!0}),d[e]=new Ml({silent:!0})})).update((function(e,t){h[e]=o._titleEls[t],d[e]=o._detailEls[t]})).execute(),a.each((function(t){var n,o,g,m,y,v,x=a.getItemModel(t),_=a.get(s,t),b=new ao,w=i(xo(_,[l,u],[0,1],!0));(v=((v=x.getModel("title")).get("show")&&(n=v.get("offsetCenter"),o=r.cx+_o(n[0],r.r),n=r.cy+_o(n[1],r.r),(m=h[t]).attr({z2:f?0:2,style:Nu(v,{x:o,y:n,text:a.getName(t),align:"center",verticalAlign:"middle"},{inheritColor:w})}),b.add(m)),x.getModel("detail"))).get("show")&&(o=v.get("offsetCenter"),n=r.cx+_o(o[0],r.r),x=r.cy+_o(o[1],r.r),o=_o(v.get("width"),r.r),g=_o(v.get("height"),r.r),w=e.get(["progress","show"])?a.getItemVisual(t,"style").fill:w,m=d[t],y=v.get("formatter"),m.attr({z2:f?0:2,style:Nu(v,{x:n,y:x,text:AP(_,y),width:isNaN(o)?null:o,height:isNaN(g)?null:g,align:"center",verticalAlign:"middle"},{inheritColor:w})}),ju(m,{normal:v},_,(function(e){return AP(e,y)})),p&&Xu(m,t,a,e,{getFormattedLabel:function(e,t,n,i,r,o){return AP(o?o.interpolatedValue:_,y)}}),b.add(m)),c.add(b)})),this.group.add(c),this._titleEls=h,this._detailEls=d},MP.type="gauge";var CP,TP=MP;function IP(){var e=null!==CP&&CP.apply(this,arguments)||this;return e.type=IP.type,e.visualStyleAccessPath="itemStyle",e}_(IP,CP=Pf),IP.prototype.getInitialData=function(e,t){return IC(this,["value"])},IP.type="series.gauge",IP.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}};var kP,DP,BP=IP,EP=["itemStyle","opacity"],PP=(_(LP,kP=Gg),LP.prototype.updateData=function(e,t,n){var i=e.hostModel,r=e.getItemModel(t),o=e.getItemLayout(t),a=r.getModel("emphasis"),s=null==(s=r.get(EP))?1:s;n||Eu(this),this.useStyle(e.getItemVisual(t,"style")),this.style.lineJoin="round",n?(this.setShape({points:o.points}),this.style.opacity=0,Tu(this,{style:{opacity:s}},i,t)):Cu(this,{style:{opacity:s},shape:{points:o.points}},i,t),vu(this,r),this._updateLabel(e,t),fu(this,a.get("focus"),a.get("blurScope"),a.get("disabled"))},LP.prototype._updateLabel=function(e,t){var n=this.getTextGuideLine(),i=this.getTextContent(),r=e.hostModel,o=e.getItemModel(t),a=e.getItemLayout(t).label,s=(l=e.getItemVisual(t,"style")).fill,l=(Ou(i,Fu(o),{labelFetcher:e.hostModel,labelDataIndex:t,defaultOpacity:l.opacity,defaultText:e.getName(t)},{normal:{align:a.textAlign,verticalAlign:a.verticalAlign}}),this.setTextConfig({local:!0,inside:!!a.inside,insideStroke:s,outsideFill:s}),a.linePoints);n.setShape({points:l}),this.textGuideLineConfig={anchor:l?new kr(l[0][0],l[0][1]):null},Cu(i,{style:{x:a.x,y:a.y}},r,t),i.attr({rotation:a.rotation,originX:a.x,originY:a.y,z2:10}),dS(this,pS(o),{stroke:s})},LP);function LP(e,t){var n=kP.call(this)||this,i=n,r=new Zg,o=new Ml;return i.setTextContent(o),n.setTextGuideLine(r),n.updateData(e,t,!0),n}function RP(){var e=null!==DP&&DP.apply(this,arguments)||this;return e.type=RP.type,e.ignoreLabelLineUpdate=!0,e}_(RP,DP=sy),RP.prototype.render=function(e,t,n){var i=e.getData(),r=this._data,o=this.group;i.diff(r).add((function(e){var t=new PP(i,e);i.setItemGraphicEl(e,t),o.add(t)})).update((function(e,t){(t=r.getItemGraphicEl(t)).updateData(i,e),o.add(t),i.setItemGraphicEl(e,t)})).remove((function(t){Bu(r.getItemGraphicEl(t),e,t)})).execute(),this._data=i},RP.prototype.remove=function(){this.group.removeAll(),this._data=null},RP.prototype.dispose=function(){},RP.type="funnel";var OP,FP=RP;function NP(){var e=null!==OP&&OP.apply(this,arguments)||this;return e.type=NP.type,e}_(NP,OP=Pf),NP.prototype.init=function(e){OP.prototype.init.apply(this,arguments),this.legendVisualProvider=new BC(ae(this.getData,this),ae(this.getRawData,this)),this._defaultLabelLine(e)},NP.prototype.getInitialData=function(e,t){return IC(this,{coordDimensions:["value"],encodeDefaulter:se(Hh,this)})},NP.prototype._defaultLabelLine=function(e){Zo(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},NP.prototype.getDataParams=function(e){var t=this.getData(),n=OP.prototype.getDataParams.call(this,e),i=t.mapDimension("value"),r=t.getSum(i);return n.percent=r?+(t.get(i,e)/r*100).toFixed(2):0,n.$vars.push("percent"),n},NP.type="series.funnel",NP.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}};var zP,GP=NP;function HP(e,t){e.eachSeriesByType("funnel",(function(e){function n(e,t){if("horizontal"===s){var n=xo(i.get(r,e)||0,[f,g],p,!0),o=void 0;switch(m){case"top":o=d;break;case"center":o=d+(u-n)/2;break;case"bottom":o=d+(u-n)}return[[t,o],[t,o+n]]}var a,c=xo(i.get(r,e)||0,[f,g],p,!0);switch(m){case"left":a=h;break;case"center":a=h+(l-c)/2;break;case"right":a=h+l-c}return[[a,t],[a+c,t]]}var i=e.getData(),r=i.mapDimension("value"),o=e.get("sort"),a=(a=t,hh(e.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})),s=e.get("orient"),l=a.width,u=a.height,c=function(e,t){for(var n=e.mapDimension("value"),i=e.mapArray(n,(function(e){return e})),r=[],o="ascending"===t,a=0,s=e.count();a<s;a++)r[a]=a;return ue(t)?r.sort(t):"none"!==t&&r.sort((function(e,t){return o?i[e]-i[t]:i[t]-i[e]})),r}(i,o),h=a.x,d=a.y,p="horizontal"===s?[_o(e.get("minSize"),u),_o(e.get("maxSize"),u)]:[_o(e.get("minSize"),l),_o(e.get("maxSize"),l)],f=(a=i.getDataExtent(r),e.get("min")),g=e.get("max"),m=(null==f&&(f=Math.min(a[0],0)),null==g&&(g=a[1]),e.get("funnelAlign")),y=e.get("gap"),v=(("horizontal"===s?l:u)-y*(i.count()-1))/i.count();"ascending"===o&&(v=-v,y=-y,"horizontal"===s?h+=l:d+=u,c=c.reverse());for(var x,_,b=0;b<c.length;b++){var w,S,A,M=c[b],C=c[b+1],T=i.getItemModel(M);"horizontal"===s?(null==(w=T.get(["itemStyle","width"]))?w=v:(w=_o(w,l),"ascending"===o&&(w=-w)),S=n(M,h),A=n(C,h+w),h+=w+y):(null==(w=T.get(["itemStyle","height"]))?w=v:(w=_o(w,u),"ascending"===o&&(w=-w)),S=n(M,d),A=n(C,d+w),d+=w+y),i.setItemLayout(M,{points:S.concat(A.slice().reverse())})}_=(x=i).hostModel.get("orient"),x.each((function(e){var t,n,i,r,o,a,s,l=(u=x.getItemModel(e)).getModel("label").get("position"),u=u.getModel("labelLine"),c=(e=x.getItemLayout(e)).points,h="inner"===l||"inside"===l||"center"===l||"insideLeft"===l||"insideRight"===l;l=h?(s="insideLeft"===l?(t=(c[0][0]+c[3][0])/2+5,n=(c[0][1]+c[3][1])/2,"left"):"insideRight"===l?(t=(c[1][0]+c[2][0])/2-5,n=(c[1][1]+c[2][1])/2,"right"):(t=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,n=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4,"center"),[[t,n],[t,n]]):(a=o=r=i=void 0,u=u.get("length"),s="left"===l?(i=(c[3][0]+c[0][0])/2,r=(c[3][1]+c[0][1])/2,t=(o=i-u)-5,"right"):"right"===l?(i=(c[1][0]+c[2][0])/2,r=(c[1][1]+c[2][1])/2,t=(o=i+u)+5,"left"):"top"===l?(i=(c[3][0]+c[0][0])/2,n=(a=(r=(c[3][1]+c[0][1])/2)-u)-5,"center"):"bottom"===l?(i=(c[1][0]+c[2][0])/2,n=(a=(r=(c[1][1]+c[2][1])/2)+u)+5,"center"):"rightTop"===l?(i=("horizontal"===_?c[3]:c[1])[0],r=("horizontal"===_?c[3]:c[1])[1],"horizontal"===_?(n=(a=r-u)-5,"center"):(t=(o=i+u)+5,"top")):"rightBottom"===l?(i=c[2][0],r=c[2][1],"horizontal"===_?(n=(a=r+u)+5,"center"):(t=(o=i+u)+5,"bottom")):"leftTop"===l?(i=c[0][0],r=("horizontal"===_?c[0]:c[1])[1],"horizontal"===_?(n=(a=r-u)-5,"center"):(t=(o=i-u)-5,"right")):"leftBottom"===l?(i=("horizontal"===_?c[1]:c[3])[0],r=("horizontal"===_?c[1]:c[2])[1],"horizontal"===_?(n=(a=r+u)+5,"center"):(t=(o=i-u)-5,"right")):(i=(c[1][0]+c[2][0])/2,r=(c[1][1]+c[2][1])/2,"horizontal"===_?(n=(a=r+u)+5,"center"):(t=(o=i+u)+5,"left")),"horizontal"===_?t=o=i:n=a=r,[[i,r],[o,a]]);e.label={linePoints:l,x:t,y:n,verticalAlign:"middle",textAlign:s,inside:h}}))}))}function VP(){var e=null!==zP&&zP.apply(this,arguments)||this;return e.type=VP.type,e._dataGroup=new ao,e._initialized=!1,e}function UP(e,t,n,i){for(var r,o=[],a=0;a<n.length;a++){var s=n[a],l=e.get(e.mapDimension(s),t);r=l,("category"===i.getAxis(s).type?null==r:null==r||isNaN(r))||o.push(i.dataToPoint(l,s))}return o}function ZP(e,t,n,i,r){return i=UP(e,n,i,r),r=new Zg({shape:{points:i},z2:10}),t.add(r),e.setItemGraphicEl(n,r),r}function WP(e){return{smooth:e=_e(e=Fo(e=!0===(e=e.get("smooth",!0))?.3:e))?0:e}}function jP(e,t,n,i){e.useStyle(t.getItemVisual(n,"style")),e.style.fill=null,e.setShape("smooth",i.smooth),i=t.getItemModel(n),t=i.getModel("emphasis"),vu(e,i,"lineStyle"),fu(e,t.get("focus"),t.get("blurScope"),t.get("disabled"))}_(VP,zP=sy),VP.prototype.init=function(){this.group.add(this._dataGroup)},VP.prototype.render=function(e,t,n,i){this._progressiveEls=null;var r,o,a,s,l,u=this._dataGroup,c=e.getData(),h=this._data,d=e.coordinateSystem,p=d.dimensions,f=WP(e);c.diff(h).add((function(e){jP(ZP(c,u,e,p,d),c,e,f)})).update((function(t,n){n=h.getItemGraphicEl(n);var i=UP(c,t,p,d);c.setItemGraphicEl(t,n),Cu(n,{shape:{points:i}},e,t),Eu(n),jP(n,c,t,f)})).remove((function(e){e=h.getItemGraphicEl(e),u.remove(e)})).execute(),this._initialized||(this._initialized=!0,o=e,a=function(){setTimeout((function(){u.removeClipPath()}))},s=(r=d).model,r=r.getRect(),l=new sl({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),s="horizontal"===s.get("layout")?"width":"height",l.setShape(s,0),Tu(l,{shape:{width:r.width,height:r.height}},o,a),s=l,u.setClipPath(s)),this._data=c},VP.prototype.incrementalPrepareRender=function(e,t,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},VP.prototype.incrementalRender=function(e,t,n){for(var i=t.getData(),r=t.coordinateSystem,o=r.dimensions,a=WP(t),s=this._progressiveEls=[],l=e.start;l<e.end;l++){var u=ZP(i,this._dataGroup,l,o,r);u.incremental=!0,jP(u,i,l,a),s.push(u)}},VP.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},VP.type="parallel";var XP,YP=VP;function JP(){var e=null!==XP&&XP.apply(this,arguments)||this;return e.type=JP.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}function KP(e){var t;if(e=e.ecModel.getComponent("parallel",e.get("parallelIndex")))return t={},ee(e.dimensions,(function(e){var n=+e.replace("dim","");t[e]=n})),t}_(JP,XP=Pf),JP.prototype.getInitialData=function(e,t){return q_(null,this,{useEncodeDefaulter:ae(KP,null,this)})},JP.prototype.getRawIndicesByActiveState=function(e){var t=this.coordinateSystem,n=this.getData(),i=[];return t.eachActiveState(n,(function(t,r){e===t&&i.push(n.getRawIndex(r))})),i},JP.type="series.parallel",JP.dependencies=["parallel"],JP.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"};var QP,qP=JP,$P=["lineStyle","opacity"],eL={seriesType:"parallel",reset:function(e,t){var n=e.coordinateSystem,i={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(e,t){n.eachActiveState(t,(function(e,n){var r=i[e];"normal"===e&&t.hasItemOption&&null!=(e=t.getItemModel(n).get($P,!0))&&(r=e),t.ensureUniqueItemVisual(n,"style").opacity=r}),e.start,e.end)}}}};function tL(e){var t,n,i;(t=e).parallel||(n=!1,ee(t.series,(function(e){e&&"parallel"===e.type&&(n=!0)})),n&&(t.parallel=[{}])),ee(Uo((i=e).parallelAxis),(function(e){var t;pe(e)&&(t=e.parallelIndex||0,(t=Uo(i.parallel)[t])&&t.parallelAxisDefault&&W(e,t.parallelAxisDefault,!1))}))}function nL(){var e=null!==QP&&QP.apply(this,arguments)||this;return e.type=nL.type,e}_(nL,QP=Rf),nL.prototype.render=function(e,t,n){this._model=e,this._api=n,this._handlers||(this._handlers={},ee(iL,(function(e,t){n.getZr().on(t,this._handlers[t]=ae(e,this))}),this)),dy(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},nL.prototype.dispose=function(e,t){py(this,"_throttledDispatchExpand"),ee(this._handlers,(function(e,n){t.getZr().off(n,e)})),this._handlers=null},nL.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},nL.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(X({type:"parallelAxisExpand"},e))},nL.type="parallel";var iL={mousedown:function(e){rL(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(rL(this,"click")&&t){var n=[e.offsetX,e.offsetY];if(5<Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))return;"none"!==(t=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY])).behavior&&this._dispatchExpand({axisExpandWindow:t.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){var t,n;!this._mouseDownPoint&&rL(this,"mousemove")&&("jump"===(n=(e=(t=this._model).coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY])).behavior)&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===n?null:{axisExpandWindow:e.axisExpandWindow,animation:"jump"===n?null:{duration:0}}))}};function rL(e,t){return(e=e._model).get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}var oL,aL=nL;function sL(){var e=null!==oL&&oL.apply(this,arguments)||this;return e.type=sL.type,e}_(sL,oL=Mh),sL.prototype.init=function(){oL.prototype.init.apply(this,arguments),this.mergeOption({})},sL.prototype.mergeOption=function(e){var t=this.option;e&&W(t,e,!0),this._initDimensions()},sL.prototype.contains=function(e,t){return null!=(e=e.get("parallelIndex"))&&t.getComponent("parallel",e)===this},sL.prototype.setAxisExpand=function(e){ee(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])}),this)},sL.prototype._initDimensions=function(){var e=this.dimensions=[],t=this.parallelAxisIndex=[];ee(ie(this.ecModel.queryComponents({mainType:"parallelAxis"}),(function(e){return(e.get("parallelIndex")||0)===this.componentIndex}),this),(function(n){e.push("dim"+n.get("dim")),t.push(n.componentIndex)}))},sL.type="parallel",sL.dependencies=["parallelAxis"],sL.layoutMode="box",sL.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null};var lL,uL=sL;function cL(e,t,n,i,r){return(e=lL.call(this,e,t,n)||this).type=i||"value",e.axisIndex=r,e}_(cL,lL=Uw),cL.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")};var hL=cL;function dL(e,t,n,i,r,o){e=e||0;var a=n[1]-n[0],s=(a=(null!=r&&(r=fL(r,[0,a])),null!=o&&(o=Math.max(o,null!=r?r:0)),"all"===i&&(s=fL(s=Math.abs(t[1]-t[0]),[0,a]),r=o=fL(s,[r,o]),i=0),t[0]=fL(t[0],n),t[1]=fL(t[1],n),pL(t,i)),t[i]+=e,r||0);e=n.slice();return a.sign<0?e[0]+=s:e[1]-=s,t[i]=fL(t[i],e),n=pL(t,i),null!=r&&(n.sign!==a.sign||n.span<r)&&(t[1-i]=t[i]+a.sign*r),n=pL(t,i),null!=o&&n.span>o&&(t[1-i]=t[i]+n.sign*o),t}function pL(e,t){return e=e[t]-e[1-t],{span:Math.abs(e),sign:0<e||!(e<0)&&t?-1:1}}function fL(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}var gL=ee,mL=Math.min,yL=Math.max,vL=Math.floor,xL=Math.ceil,_L=bo,bL=Math.PI;function wL(e,t,n){this.type="parallel",this._axesMap=Pe(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,n)}function SL(e,t){return mL(yL(e,t[0]),t[1])}wL.prototype._init=function(e,t,n){var i=e.dimensions,r=e.parallelAxisIndex;gL(i,(function(e,n){n=r[n];var i=t.getComponent("parallelAxis",n);n="category"===(e=this._axesMap.set(e,new hL(e,nw(i),[0,0],i.get("type"),n))).type;e.onBand=n&&i.get("boundaryGap"),e.inverse=i.get("inverse"),(i.axis=e).model=i,e.coordinateSystem=i.coordinateSystem=this}),this)},wL.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},wL.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),n=t.axisBase,i=t.layoutBase,r=t.pixelDimIndex,o=e[1-r];e=e[r];return n<=o&&o<=n+t.axisLength&&i<=e&&e<=i+t.layoutLength},wL.prototype.getModel=function(){return this._model},wL.prototype._updateAxesFromSeries=function(e,t){t.eachSeries((function(n){var i;e.contains(n,t)&&(i=n.getData(),gL(this.dimensions,(function(e){var t=this._axesMap.get(e);t.scale.unionExtentFromData(i,i.mapDimension(e)),tw(t.scale,t.model)}),this))}),this)},wL.prototype.resize=function(e,t){this._rect=hh(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},wL.prototype.getRect=function(){return this._rect},wL.prototype._makeLayoutInfo=function(){var e=this._model,t=this._rect,n=["x","y"],i=["width","height"],r=e.get("layout"),o="horizontal"===r?0:1,a=t[i[o]],s=[0,a],l=this.dimensions.length,u=SL(e.get("axisExpandWidth"),s),c=SL(e.get("axisExpandCount")||0,[0,l]),h=e.get("axisExpandable")&&3<l&&c<l&&1<c&&0<u&&0<a,d=e.get("axisExpandWindow"),p=(e=((s=(d?(p=SL(d[1]-d[0],s),d[1]=d[0]+p):(p=SL(u*(c-1),s),(d=[u*(e.get("axisExpandCenter")||vL(l/2))-p/2])[1]=d[0]+p),(a-p)/(l-c)))<3&&(s=0),[vL(_L(d[0]/u,1))+1,xL(_L(d[1]/u,1))-1]),s/u*d[0]);return{layout:r,pixelDimIndex:o,layoutBase:t[n[o]],layoutLength:a,axisBase:t[n[1-o]],axisLength:t[i[1-o]],axisExpandable:h,axisExpandWidth:u,axisCollapseWidth:s,axisExpandWindow:d,axisCount:l,winInnerIndices:e,axisExpandWindow0Pos:p}},wL.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),r=i.layout;t.each((function(e){var t=[0,i.axisLength],n=e.inverse?1:0;e.setExtent(t[n],t[1-n])})),gL(n,(function(t,n){n=(i.axisExpandable?function(e,t){var n,i,r=t.layoutLength,o=t.axisExpandWidth,a=t.axisCount,s=t.axisCollapseWidth,l=t.winInnerIndices,u=s,c=!1;return e<l[0]?(n=e*s,i=s):e<=l[1]?(n=t.axisExpandWindow0Pos+e*o-t.axisExpandWindow[0],u=o,c=!0):(n=r-(a-1-e)*s,i=s),{position:n,axisNameAvailableWidth:u,axisLabelShow:c,nameTruncateMaxWidth:i}}:function(e,t){return{position:(t=t.layoutLength/(t.axisCount-1))*e,axisNameAvailableWidth:t,axisLabelShow:!0}})(n,i);var o=[(o={horizontal:{x:n.position,y:i.axisLength},vertical:{x:0,y:n.position}})[r].x+e.x,o[r].y+e.y],a={horizontal:bL/2,vertical:0}[r],s=[1,0,0,1,0,0];pr(s,s,a),dr(s,s,o),this._axesLayout[t]={position:o,rotation:a,transform:s,axisNameAvailableWidth:n.axisNameAvailableWidth,axisLabelShow:n.axisLabelShow,nameTruncateMaxWidth:n.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)},wL.prototype.getAxis=function(e){return this._axesMap.get(e)},wL.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},wL.prototype.eachActiveState=function(e,t,n,i){null==n&&(n=0),null==i&&(i=e.count());for(var r=this._axesMap,o=this.dimensions,a=[],s=[],l=(ee(o,(function(t){a.push(e.mapDimension(t)),s.push(r.get(t).model)})),this.hasAxisBrushed()),u=n;u<i;u++){var c=void 0;if(l){c="active";for(var h=e.getValues(a,u),d=0,p=o.length;d<p;d++)if("inactive"===s[d].getActiveState(h[d])){c="inactive";break}}else c="normal";t(c,u)}},wL.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,n=!1,i=0,r=e.length;i<r;i++)"normal"!==t.get(e[i]).model.getActiveState()&&(n=!0);return n},wL.prototype.axisCoordToPoint=function(e,t){return Hm([e,0],this._axesLayout[t].transform)},wL.prototype.getAxisLayout=function(e){return Z(this._axesLayout[e])},wL.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,i=t.axisExpandWindow.slice(),r=i[1]-i[0],o=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:i};e=e[n]-t.layoutBase-t.axisExpandWindow0Pos,n="slide";var a,s=t.axisCollapseWidth,l=this._model.get("axisExpandSlideTriggerArea"),u=null!=l[0];return s?(u&&s&&e<r*l[0]?(n="jump",a=e-r*l[2]):u&&s&&e>r*(1-l[0])?(n="jump",a=e-r*(1-l[2])):0<=(a=e-r*l[1])&&(a=e-r*(1-l[1]))<=0&&(a=0),(a*=t.axisExpandWidth/s)?dL(a,i,o,"all"):n="none"):(u=i[1]-i[0],(i=[yL(0,o[1]*e/u-u/2)])[1]=mL(o[1],i[0]+u),i[0]=i[1]-u),{axisExpandWindow:i,behavior:n}};var AL,ML=wL,CL={create:function(e,t){var n=[];return e.eachComponent("parallel",(function(i,r){var o=new ML(i,e,t);o.name="parallel_"+r,o.resize(i,t),(i.coordinateSystem=o).model=i,n.push(o)})),e.eachSeries((function(e){var t;"parallel"===e.get("coordinateSystem")&&(t=e.getReferringComponents("parallel",ra).models[0],e.coordinateSystem=t.coordinateSystem)})),n}};_(TL,AL=Mh),TL.prototype.getAreaSelectStyle=function(){return va([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},TL.prototype.setActiveIntervals=function(e){var t=this.activeIntervals=Z(e);if(t)for(var n=t.length-1;0<=n;n--)wo(t[n])},TL.prototype.getActiveState=function(e){var t=this.activeIntervals;if(!t.length)return"normal";if(null==e||isNaN(+e))return"inactive";if(1===t.length){var n=t[0];if(n[0]<=e&&e<=n[1])return"active"}else for(var i=0,r=t.length;i<r;i++)if(t[i][0]<=e&&e<=t[i][1])return"active";return"inactive"},nv=TL;function TL(){var e=null!==AL&&AL.apply(this,arguments)||this;return e.type=TL.type,e.activeIntervals=[],e}q(nv,lw);var IL,kL=nv,DL=!0,BL=Math.min,EL=Math.max,PL=Math.pow,LL={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},RL={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},OL={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},FL=0;function NL(e){var t=IL.call(this)||this;return t._track=[],t._covers=[],t._handlers={},t._zr=e,t.group=new ao,t._uid="brushController_"+FL++,ee(hR,(function(e,t){this._handlers[t]=ae(e,this)}),t),t}function zL(e,t){var n=pR[t.brushType].createCover(e,t);return n.__brushOption=t,VL(n,t),e.group.add(n),n}function GL(e,t){var n=ZL(t);return n.endCreating&&(n.endCreating(e,t),VL(t,t.__brushOption)),t}function HL(e,t){var n=t.__brushOption;ZL(t).updateCoverShape(e,t,n.range,n)}function VL(e,t){var n=t.z;null==n&&(n=1e4),e.traverse((function(e){e.z=n,e.z2=n}))}function UL(e,t){ZL(t).updateCommon(e,t),HL(e,t)}function ZL(e){return pR[e.__brushOption.brushType]}function WL(e,t,n){var i,r=e._panels;if(!r)return DL;var o=e._transform;return ee(r,(function(e){e.isTargetByCursor(t,n,o)&&(i=e)})),i}function jL(e,t){return(e=e._panels)&&null!=(t=t.__brushOption.panelId)?e[t]:DL}function XL(e){var t=e._covers,n=t.length;return ee(t,(function(t){e.group.remove(t)}),e),t.length=0,n}function YL(e,t){var n=te(e._covers,(function(e){var t=Z((e=e.__brushOption).range);return{brushType:e.brushType,panelId:e.panelId,range:t}}));e.trigger("brush",{areas:n,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function JL(e){var t=e.length-1;return[e[0],e[t=t<0?0:t]]}function KL(e,t,n,i){var r=new ao;return r.add(new sl({name:"main",style:eR(n),silent:!0,draggable:!0,cursor:"move",drift:se(iR,e,t,r,["n","s","w","e"]),ondragend:se(YL,t,{isEnd:!0})})),ee(i,(function(n){r.add(new sl({name:n.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:se(iR,e,t,r,n),ondragend:se(YL,t,{isEnd:!0})}))})),r}function QL(e,t,n,i){var r,o=i.brushStyle.lineWidth||0,a=EL(o,6),s=n[0][0],l=n[1][0],u=s-o/2,c=l-o/2,h=(r=n[0][1])-a+o/2,d=(n=n[1][1])-a+o/2,p=(r=r-s)+o;o=(n=n-l)+o;$L(e,t,"main",s,l,r,n),i.transformable&&($L(e,t,"w",u,c,a,o),$L(e,t,"e",h,c,a,o),$L(e,t,"n",u,c,p,a),$L(e,t,"s",u,d,p,a),$L(e,t,"nw",u,c,a,a),$L(e,t,"ne",h,c,a,a),$L(e,t,"sw",u,d,a,a),$L(e,t,"se",h,d,a,a))}function qL(e,t){var n=t.__brushOption,i=n.transformable,r=t.childAt(0);r.useStyle(eR(n)),r.attr({silent:!i,cursor:i?"move":"default"}),ee([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(n){var r=t.childOfName(n.join(""));n=1===n.length?nR(e,n[0]):function(e,t){return"e"!==(e=[nR(e,t[0]),nR(e,t[1])])[0]&&"w"!==e[0]||e.reverse(),e.join("")}(e,n);r&&r.attr({silent:!i,invisible:!i,cursor:i?RL[n]+"-resize":null})}))}function $L(e,t,n,i,r,o,a){(n=t.childOfName(n))&&n.setShape((n=aR(e,t,[[i,r],[i+o,r+a]]),{x:e=BL(n[0][0],n[1][0]),y:t=BL(n[0][1],n[1][1]),width:(i=EL(n[0][0],n[1][0]))-e,height:(n=EL(n[0][1],n[1][1]))-t}))}function eR(e){return Y({strokeNoScale:!0},e.brushStyle)}function tR(e,t,n,i){var r=[BL(e,n),BL(t,i)];e=[EL(e,n),EL(t,i)];return[[r[0],e[0]],[r[1],e[1]]]}function nR(e,t){return{left:"w",right:"e",top:"n",bottom:"s"}[Vm({w:"left",e:"right",n:"top",s:"bottom"}[t],Gm(e.group))]}function iR(e,t,n,i,r,o){var a=n.__brushOption,s=e.toRectRange(a.range),l=oR(t,r,o);ee(i,(function(e){s[(e=LL[e])[0]][e[1]]+=l[e[0]]})),a.range=e.fromRectRange(tR(s[0][0],s[1][0],s[0][1],s[1][1])),UL(t,n),YL(t,{isEnd:!1})}function rR(e,t,n,i){var r=t.__brushOption.range,o=oR(e,n,i);ee(r,(function(e){e[0]+=o[0],e[1]+=o[1]})),UL(e,t),YL(e,{isEnd:!1})}function oR(e,t,n){return t=(e=e.group).transformCoordToLocal(t,n),n=e.transformCoordToLocal(0,0),[t[0]-n[0],t[1]-n[1]]}function aR(e,t,n){return(t=jL(e,t))&&t!==DL?t.clipPath(n,e._transform):Z(n)}function sR(e){(e=e.event).preventDefault&&e.preventDefault()}function lR(e,t,n){return e.childOfName("main").contain(t,n)}function uR(e,t,n,i){var r,o,a=e._creatingCover,s=e._creatingPanel,l=e._brushOption;return e._track.push(n.slice()),function(e){var t,n;if((e=e._track).length)return n=e[e.length-1],e=e[0],t=n[0]-e[0],n=n[1]-e[1],6<(e=PL(t*t+n*n,.5))}(e)||a?(s&&!a&&("single"===l.brushMode&&XL(e),(o=Z(l)).brushType=cR(o.brushType,s),o.panelId=s===DL?null:s.panelId,a=e._creatingCover=zL(e,o),e._covers.push(a)),a&&(o=pR[cR(e._brushType,s)],a.__brushOption.range=o.getCreatingRange(aR(e,a,e._track)),i&&(GL(e,a),o.updateCommon(e,a)),HL(e,a),r={isEnd:i})):i&&"single"===l.brushMode&&l.removeOnClick&&WL(e,t,n)&&XL(e)&&(r={isEnd:i,removeOnClick:!0}),r}function cR(e,t){return"auto"===e?t.defaultBrushType:e}_(NL,IL=yt),NL.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},NL.prototype._doEnableBrush=function(e){var t,n=this._zr;this._enableGlobalPan||("globalPan",t=this._uid,DI(n).globalPan=t),ee(this._handlers,(function(e,t){n.on(t,e)})),this._brushType=e.brushType,this._brushOption=W(Z(OL),e,!0)},NL.prototype._doDisableBrush=function(){var e,t,n,i=this._zr;e=i,t="globalPan",n=this._uid,(e=DI(e))[t]===n&&(e[t]=null),ee(this._handlers,(function(e,t){i.off(t,e)})),this._brushType=this._brushOption=null},NL.prototype.setPanels=function(e){var t;return e&&e.length?(t=this._panels={},ee(e,(function(e){t[e.panelId]=Z(e)}))):this._panels=null,this},NL.prototype.mount=function(e){this._enableGlobalPan=(e=e||{}).enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=t.getLocalTransform(),this},NL.prototype.updateCovers=function(e){e=te(e,(function(e){return W(Z(OL),e,!0)}));var t=this._covers,n=this._covers=[],i=this,r=this._creatingCover;return new y_(t,e,(function(e,t){return o(e.__brushOption,t)}),o).add(a).update(a).remove((function(e){t[e]!==r&&i.group.remove(t[e])})).execute(),this;function o(e,t){return(null!=e.id?e.id:"\0-brush-index-"+t)+"-"+e.brushType}function a(o,a){var s=e[o];null!=a&&t[a]===r?n[o]=t[a]:(o=n[o]=null!=a?(t[a].__brushOption=s,t[a]):GL(i,zL(i,s)),UL(i,o))}},NL.prototype.unmount=function(){return this.enableBrush(!1),XL(this),this._zr.remove(this.group),this},NL.prototype.dispose=function(){this.unmount(),this.off()};var hR={mousedown:function(e){var t;this._dragging?dR(this,e):e.target&&e.target.draggable||(sR(e),t=this.group.transformCoordToLocal(e.offsetX,e.offsetY),this._creatingCover=null,(this._creatingPanel=WL(this,e,t))&&(this._dragging=!0,this._track=[t.slice()]))},mousemove:function(e){var t=e.offsetX,n=e.offsetY;(function(e,t,n){if(e._brushType&&!function(e,t,n){return e=e._zr,t<0||t>e.getWidth()||n<0||n>e.getHeight()}(e,t.offsetX,t.offsetY)){var i=e._zr,r=e._covers,o=WL(e,t,n);if(!e._dragging)for(var a=0;a<r.length;a++){var s=r[a].__brushOption;if(o&&(o===DL||s.panelId===o.panelId)&&pR[s.brushType].contain(r[a],n[0],n[1]))return}o&&i.setCursorStyle("crosshair")}})(this,e,t=this.group.transformCoordToLocal(t,n)),this._dragging&&(sR(e),(n=uR(this,e,t,!1))&&YL(this,n))},mouseup:function(e){dR(this,e)}};function dR(e,t){var n,i;e._dragging&&(sR(t),n=t.offsetX,i=t.offsetY,n=e.group.transformCoordToLocal(n,i),i=uR(e,t,n,!0),e._dragging=!1,e._track=[],e._creatingCover=null,i&&YL(e,i))}var pR={lineX:fR(0),lineY:fR(1),rect:{createCover:function(e,t){function n(e){return e}return KL({toRectRange:n,fromRectRange:n},e,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){return tR((e=JL(e))[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(e,t,n,i){QL(e,t,n,i)},updateCommon:qL,contain:lR},polygon:{createCover:function(e,t){var n=new ao;return n.add(new Zg({name:"main",style:eR(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new Gg({name:"main",draggable:!0,drift:se(rR,e,t),ondragend:se(YL,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,i){t.childAt(0).setShape({points:aR(e,t,n)})},updateCommon:qL,contain:lR}};function fR(e){return{createCover:function(t,n){return KL({toRectRange:function(t){return t=[t,[0,100]],e&&t.reverse(),t},fromRectRange:function(t){return t[e]}},t,n,[[["w"],["e"]],[["n"],["s"]]][e])},getCreatingRange:function(t){return t=JL(t),[BL(t[0][e],t[1][e]),EL(t[0][e],t[1][e])]},updateCoverShape:function(t,n,i,r){var o=[i,(o=jL(t,n))!==DL&&o.getLinearBrushOtherExtent?o.getLinearBrushOtherExtent(e):[0,[(i=t._zr).getWidth(),i.getHeight()][1-e]]];e&&o.reverse(),QL(t,n,o,r)},updateCommon:qL,contain:lR}}var gR=NL;function mR(e){return e=xR(e),function(t){return Wm(t,e)}}function yR(e,t){return e=xR(e),function(n){var i=(n=null!=t?t:n)?e.width:e.height;return[n=n?e.x:e.y,n+(i||0)]}}function vR(e,t,n){var i=xR(e);return function(e,r){return i.contain(r[0],r[1])&&!GI(e,t,n)}}function xR(e){return zr.create(e)}var _R,bR=["axisLine","axisTickLabel","axisName"];function wR(){var e=null!==_R&&_R.apply(this,arguments)||this;return e.type=wR.type,e}_(wR,_R=Rf),wR.prototype.init=function(e,t){_R.prototype.init.apply(this,arguments),(this._brushController=new gR(t.getZr())).on("brush",ae(this._onBrush,this))},wR.prototype.render=function(e,t,n,i){var r,o,a,s;a=e,r=t,i&&"axisAreaSelect"===i.type&&r.findComponents({mainType:"parallelAxis",query:i})[0]===a||(this.axisModel=e,this.api=n,this.group.removeAll(),r=this._axisGroup,this._axisGroup=new ao,this.group.add(this._axisGroup),e.get("show")&&(a=(i=t.getComponent("parallel",e.get("parallelIndex"))).coordinateSystem,o=(t=e.getAreaSelectStyle()).width,s=e.axis.dim,a=X({strokeContainThreshold:o},a.getAxisLayout(s)),s=new kT(e,a),ee(bR,s.add,s),this._axisGroup.add(s.getGroup()),this._refreshBrushController(a,t,e,i,o,n),Zm(r,this._axisGroup,e)))},wR.prototype._refreshBrushController=function(e,t,n,i,r,o){var a,s,l=(s=n.axis.getExtent())[1]-s[0],u=Math.min(30,.1*Math.abs(l));(s=zr.create({x:s[0],y:-r/2,width:l,height:r})).x-=u,s.width+=2*u,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:mR(s),isTargetByCursor:vR(s,o,i),getLinearBrushOtherExtent:yR(s,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers((a=n.axis,te(n.activeIntervals,(function(e){return{brushType:"lineX",panelId:"pl",range:[a.dataToCoord(e[0],!0),a.dataToCoord(e[1],!0)]}}))))},wR.prototype._onBrush=function(e){var t=e.areas,n=this.axisModel,i=n.axis;t=te(t,(function(e){return[i.coordToData(e.range[0],!0),i.coordToData(e.range[1],!0)]}));!n.option.realtime!==e.isEnd&&!e.removeOnClick||this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:t})},wR.prototype.dispose=function(){this._brushController.dispose()},wR.type="parallelAxis";var SR=wR,AR={type:"axisAreaSelect",event:"axisAreaSelected"},MR={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function CR(e){e.registerComponentView(aL),e.registerComponentModel(uL),e.registerCoordinateSystem("parallel",CL),e.registerPreprocessor(tL),e.registerComponentModel(kL),e.registerComponentView(SR),eT(e,"parallel",kL,MR),e.registerAction(AR,(function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},(function(t){t.axis.model.setActiveIntervals(e.intervals)}))})),e.registerAction("parallelAxisExpand",(function(e,t){t.eachComponent({mainType:"parallel",query:e},(function(t){t.setAxisExpand(e)}))}))}var TR,IR,kR=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},DR=(_(BR,TR=Us),BR.prototype.getDefaultShape=function(){return new kR},BR.prototype.buildPath=function(e,t){var n=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+n,t.y2),e.bezierCurveTo(t.cpx2+n,t.cpy2,t.cpx1+n,t.cpy1,t.x1+n,t.y1)):(e.lineTo(t.x2,t.y2+n),e.bezierCurveTo(t.cpx2,t.cpy2+n,t.cpx1,t.cpy1+n,t.x1,t.y1+n)),e.closePath()},BR.prototype.highlight=function(){tu(this)},BR.prototype.downplay=function(){nu(this)},BR);function BR(e){return TR.call(this,e)||this}function ER(){var e=null!==IR&&IR.apply(this,arguments)||this;return e.type=ER.type,e._focusAdjacencyDisabled=!1,e}_(ER,IR=sy),ER.prototype.render=function(e,t,n){var i,r,o=this,a=e.getGraph(),s=this.group,l=e.layoutInfo,u=l.width,c=l.height,h=e.getData(),d=e.getData("edge"),p=e.get("orient");this._model=e,s.removeAll(),s.x=l.x,s.y=l.y,a.eachEdge((function(t){var n,i,r,o,a,l,h,f,g=new DR,m=(f=((f=Cl(g)).dataIndex=t.dataIndex,f.seriesIndex=e.seriesIndex,f.dataType="edge",t.getModel())).getModel("lineStyle"),y=m.get("curveness"),v=t.node1.getLayout(),x=(_=t.node1.getModel()).get("localX"),_=_.get("localY"),b=t.node2.getLayout(),w=(S=t.node2.getModel()).get("localX"),S=S.get("localY"),A=t.getLayout();switch(g.shape.extent=Math.max(1,A.dy),x="vertical"===(g.shape.orient=p)?(n=(null!=x?x*u:v.x)+A.sy,i=(null!=_?_*c:v.y)+v.dy,r=(null!=w?w*u:b.x)+A.ty,a=n,l=i*(1-y)+(o=null!=S?S*c:b.y)*y,h=r,i*y+o*(1-y)):(n=(null!=x?x*u:v.x)+v.dx,i=(null!=_?_*c:v.y)+A.sy,a=n*(1-y)+(r=null!=w?w*u:b.x)*y,l=i,h=n*y+r*(1-y),o=(null!=S?S*c:b.y)+A.ty),g.setShape({x1:n,y1:i,x2:r,y2:o,cpx1:a,cpy1:l,cpx2:h,cpy2:x}),g.useStyle(m.getItemStyle()),g.style.fill){case"source":g.style.fill=t.node1.getVisual("color"),g.style.decal=t.node1.getVisual("style").decal;break;case"target":g.style.fill=t.node2.getVisual("color"),g.style.decal=t.node2.getVisual("style").decal;break;case"gradient":var M=t.node1.getVisual("color"),C=t.node2.getVisual("color");ce(M)&&ce(C)&&(g.style.fill=new dm(0,0,+("horizontal"===p),+("vertical"===p),[{color:M,offset:0},{color:C,offset:1}]))}_=f.getModel("emphasis"),vu(g,f,"lineStyle",(function(e){return e.getItemStyle()})),s.add(g),d.setItemGraphicEl(t.dataIndex,g),fu(g,"adjacency"===(v=_.get("focus"))?t.getAdjacentDataIndices():v,_.get("blurScope"),_.get("disabled")),Cl(g).dataType="edge"})),a.eachNode((function(t){var n=t.getLayout(),i=t.getModel(),r=i.get("localX"),o=i.get("localY"),a=i.getModel("emphasis");Ou(r=new sl({shape:{x:null!=r?r*u:n.x,y:null!=o?o*c:n.y,width:n.dx,height:n.dy},style:i.getModel("itemStyle").getItemStyle(),z2:10}),Fu(i),{labelFetcher:e,labelDataIndex:t.dataIndex,defaultText:t.id}),r.disableLabelAnimation=!0,r.setStyle("fill",t.getVisual("color")),r.setStyle("decal",t.getVisual("style").decal),vu(r,i),s.add(r),h.setItemGraphicEl(t.dataIndex,r),Cl(r).dataType="node",o=a.get("focus");fu(r,"adjacency"===o?t.getAdjacentDataIndices():o,a.get("blurScope"),a.get("disabled"))})),h.eachItemGraphicEl((function(t,i){h.getItemModel(i).get("draggable")&&(t.drift=function(t,r){o._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=r,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:h.getRawIndex(i),localX:this.shape.x/u,localY:this.shape.y/c})},t.ondragend=function(){o._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move")})),!this._data&&e.isAnimationEnabled()&&s.setClipPath((l=s.getBoundingRect(),a=e,i=function(){s.removeClipPath()},Tu(r=new sl({shape:{x:l.x-10,y:l.y-10,width:0,height:l.height+20}}),{shape:{width:l.width+20}},a,i),r)),this._data=e.getData()},ER.prototype.dispose=function(){},ER.type="sankey";var PR,LR=ER;function RR(){var e=null!==PR&&PR.apply(this,arguments)||this;return e.type=RR.type,e}_(RR,PR=Pf),RR.prototype.getInitialData=function(e,t){for(var n=e.edges||e.links,i=e.data||e.nodes,r=e.levels,o=(this.levelModels=[],this.levelModels),a=0;a<r.length;a++)null!=r[a].depth&&0<=r[a].depth&&(o[r[a].depth]=new ac(r[a],this,t));if(i&&n)return gP(i,n,this,!0,(function(e,t){e.wrapMethod("getItemModel",(function(e,t){var n=e.parentModel;return(t=n.getData().getItemLayout(t))&&(t=t.depth,(n=n.levelModels[t])&&(e.parentModel=n)),e})),t.wrapMethod("getItemModel",(function(e,t){var n=e.parentModel;return(t=n.getGraph().getEdgeByIndex(t).node1.getLayout())&&(t=t.depth,(n=n.levelModels[t])&&(e.parentModel=n)),e}))})).data},RR.prototype.setNodePosition=function(e,t){(e=(this.option.data||this.option.nodes)[e]).localX=t[0],e.localY=t[1]},RR.prototype.getGraph=function(){return this.getData().graph},RR.prototype.getEdgeData=function(){return this.getGraph().edgeData},RR.prototype.formatTooltip=function(e,t,n){function i(e){return isNaN(e)||null==e}var r,o;return"edge"===n?(r=(o=this.getDataParams(e,n)).data,o=o.value,lf("nameValue",{name:r.source+" -- "+r.target,value:o,noValue:i(o)})):(r=this.getGraph().getNodeByIndex(e).getLayout().value,lf("nameValue",{name:null!=(o=this.getDataParams(e,n).data.name)?o+"":null,value:r,noValue:i(r)}))},RR.prototype.optionUpdated=function(){},RR.prototype.getDataParams=function(e,t){var n=PR.prototype.getDataParams.call(this,e,t);return null==n.value&&"node"===t&&(t=this.getGraph().getNodeByIndex(e).getLayout().value,n.value=t),n},RR.type="series.sankey",RR.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3};var OR,FR=RR;function NR(e,t){e.eachSeriesByType("sankey",(function(e){var n=e.get("nodeWidth"),i=e.get("nodeGap"),r=(r=t,hh(e.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})),o=(e.layoutInfo=r).width,a=(r=r.height,(s=e.getGraph()).nodes),s=s.edges;ee(a,(function(e){var t=XR(e.outEdges,jR),n=XR(e.inEdges,jR),i=e.getValue()||0;t=Math.max(t,n,i);e.setLayout({value:t},!0)}));for(var l=0!==ie(a,(function(e){return 0===e.getLayout().value})).length?0:e.get("layoutIterations"),u=e.get("orient"),c=(e=e.get("nodeAlign"),a),h=s,d=n,p=(o=n=o,r),f=u,g=[],m=[],y=[],v=[],x=0,_=0;_<h.length;_++)g[_]=1;for(_=0;_<c.length;_++)m[_]=c[_].inEdges.length,0===m[_]&&y.push(c[_]);for(var b=-1;y.length;){for(var w=0;w<y.length;w++){var S=y[w],A=S.hostGraph.data.getRawDataItem(S.dataIndex),M=null!=A.depth&&0<=A.depth;M&&A.depth>b&&(b=A.depth),S.setLayout({depth:M?A.depth:x},!0),"vertical"===f?S.setLayout({dy:d},!0):S.setLayout({dx:d},!0);for(var C=0;C<S.outEdges.length;C++){var T=S.outEdges[C],I=(g[I=h.indexOf(T)]=0,T.node2);0==--m[T=c.indexOf(I)]&&v.indexOf(I)<0&&v.push(I)}}++x,y=v,v=[]}for(_=0;_<g.length;_++)if(1===g[_])throw new Error("Sankey is a DAG, the original data has cycle!");var k=x-1<b?b:x-1;if(e&&"left"!==e){var D=c,B=k;if("right"===e){for(var E=[],P=D,L=0;P.length;){for(var R=0;R<P.length;R++){var O=P[R];O.setLayout({skNodeHeight:L},!0);for(var F=0;F<O.inEdges.length;F++){var N=O.inEdges[F];E.indexOf(N.node1)<0&&E.push(N.node1)}}P=E,E=[],++L}ee(D,(function(e){zR(e)||e.setLayout({depth:Math.max(0,B-e.getLayout().skNodeHeight)},!0)}))}else if("justify"===e){var z=B;ee(D,(function(e){zR(e)||e.outEdges.length||e.setLayout({depth:z},!0)}))}}var G="vertical"===f?(p-d)/k:(o-d)/k,H=f;ee(c,(function(e){var t=e.getLayout().depth*G;"vertical"===H?e.setLayout({y:t},!0):e.setLayout({x:t},!0)}));e=s;var V=r,U=n,Z=i,W=l,j=u,X=function(e,t){var n=[],i="vertical"===t?"y":"x",r=la(e,(function(e){return e.getLayout()[i]}));return r.keys.sort((function(e,t){return e-t})),ee(r.keys,(function(e){n.push(r.buckets.get(e))})),n}(a,j),Y=(p=e,V),J=U,K=Z,Q=j,q=1/0;ee(D=X,(function(e){var t=e.length,n=0;(e=(ee(e,(function(e){n+=e.getLayout().value})),"vertical"===Q?(J-(t-1)*K)/n:(Y-(t-1)*K)/n))<q&&(q=e)})),ee(D,(function(e){ee(e,(function(e,t){var n=e.getLayout().value*q;"vertical"===Q?(e.setLayout({x:t},!0),e.setLayout({dx:n},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:n},!0))}))})),ee(p,(function(e){var t=+e.getValue()*q;e.setLayout({dy:t},!0)})),GR(X,Z,V,U,j);for(var $=1;0<W;W--)!function(e,t,n){ee(e.slice().reverse(),(function(e){ee(e,(function(e){var i,r;e.outEdges.length&&(i=XR(e.outEdges,HR,n)/XR(e.outEdges,jR),isNaN(i)&&(i=(r=e.outEdges.length)?XR(e.outEdges,VR,n)/r:0),"vertical"===n?(r=e.getLayout().x+(i-WR(e,n))*t,e.setLayout({x:r},!0)):(r=e.getLayout().y+(i-WR(e,n))*t,e.setLayout({y:r},!0)))}))}))}(X,$*=.99,j),GR(X,Z,V,U,j),function(e,t,n){ee(e,(function(e){ee(e,(function(e){var i,r;e.inEdges.length&&(i=XR(e.inEdges,UR,n)/XR(e.inEdges,jR),isNaN(i)&&(i=(r=e.inEdges.length)?XR(e.inEdges,ZR,n)/r:0),"vertical"===n?(r=e.getLayout().x+(i-WR(e,n))*t,e.setLayout({x:r},!0)):(r=e.getLayout().y+(i-WR(e,n))*t,e.setLayout({y:r},!0)))}))}))}(X,$,j),GR(X,Z,V,U,j);var te="vertical"===u?"x":"y";ee(o=a,(function(e){e.outEdges.sort((function(e,t){return e.node2.getLayout()[te]-t.node2.getLayout()[te]})),e.inEdges.sort((function(e,t){return e.node1.getLayout()[te]-t.node1.getLayout()[te]}))})),ee(o,(function(e){var t=0,n=0;ee(e.outEdges,(function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy})),ee(e.inEdges,(function(e){e.setLayout({ty:n},!0),n+=e.getLayout().dy}))}))}))}function zR(e){return null!=(e=e.hostGraph.data.getRawDataItem(e.dataIndex)).depth&&0<=e.depth}function GR(e,t,n,i,r){var o="vertical"===r?"x":"y";ee(e,(function(e){e.sort((function(e,t){return e.getLayout()[o]-t.getLayout()[o]}));for(var a,s,l,u=0,c=e.length,h="vertical"===r?"dx":"dy",d=0;d<c;d++)0<(l=u-(s=e[d]).getLayout()[o])&&(a=s.getLayout()[o]+l,"vertical"===r?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),u=s.getLayout()[o]+s.getLayout()[h]+t;if(0<(l=u-t-("vertical"===r?i:n)))for(a=s.getLayout()[o]-l,"vertical"===r?s.setLayout({x:a},!0):s.setLayout({y:a},!0),u=a,d=c-2;0<=d;--d)0<(l=(s=e[d]).getLayout()[o]+s.getLayout()[h]+t-u)&&(a=s.getLayout()[o]-l,"vertical"===r?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),u=s.getLayout()[o]}))}function HR(e,t){return WR(e.node2,t)*e.getValue()}function VR(e,t){return WR(e.node2,t)}function UR(e,t){return WR(e.node1,t)*e.getValue()}function ZR(e,t){return WR(e.node1,t)}function WR(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function jR(e){return e.getValue()}function XR(e,t,n){for(var i=0,r=e.length,o=-1;++o<r;){var a=+t(e[o],n);isNaN(a)||(i+=a)}return i}function YR(e){e.eachSeriesByType("sankey",(function(e){var t,n,i=e.getGraph().nodes;i.length&&(t=1/0,n=-1/0,ee(i,(function(e){(e=e.getLayout().value)<t&&(t=e),n<e&&(n=e)})),ee(i,(function(i){var r=new GB({type:"color",mappingMethod:"linear",dataExtent:[t,n],visual:e.get("color")}).mapValueToVisual(i.getLayout().value),o=i.getModel().get(["itemStyle","color"]);null!=o?(i.setVisual("color",o),i.setVisual("style",{fill:o})):(i.setVisual("color",r),i.setVisual("style",{fill:r}))})))}))}function JR(){}function KR(){var e=null!==OR&&OR.apply(this,arguments)||this;return e.type=KR.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}JR.prototype.getInitialData=function(e,t){var n,i,r=t.getComponent("xAxis",this.get("xAxisIndex")),o=(t=t.getComponent("yAxis",this.get("yAxisIndex")),r.get("type")),a=t.get("type"),s=(o=("category"===o?(e.layout="horizontal",n=r.getOrdinalMeta(),l=!0):"category"===a?(e.layout="vertical",n=t.getOrdinalMeta(),l=!0):e.layout=e.layout||"horizontal",["x","y"]),a="horizontal"===e.layout?0:1,this._baseAxisDim=o[a]),l=(o=o[1-a],t=(r=[r,t])[a].get("type"),r=r[1-a].get("type"),(a=e.data)&&l&&(i=[],ee(a,(function(e,t){var n;le(e)?(n=e.slice(),e.unshift(t)):le(e.value)?((n=X({},e)).value=n.value.slice(),e.value.unshift(t)):n=e,i.push(n)})),e.data=i),this.defaultValueDimensions);return IC(this,{coordDimensions:a=[{name:s,type:b_(t),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:o,type:b_(r),dimsDef:l.slice()}],dimensionsCount:l.length+1,encodeDefaulter:se(Gh,a,this)})},JR.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},Ig=JR,_(KR,OR=Pf),KR.type="series.boxplot",KR.dependencies=["xAxis","yAxis","grid"],KR.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},q($u=KR,Ig,!0);var QR,qR=$u;_($R,QR=sy),$R.prototype.render=function(e,t,n){var i=e.getData(),r=this.group,o=this._data,a=(this._data||r.removeAll(),"horizontal"===e.get("layout")?1:0);i.diff(o).add((function(e){var t;i.hasValue(e)&&(t=rO(i.getItemLayout(e),i,e,a,!0),i.setItemGraphicEl(e,t),r.add(t))})).update((function(e,t){var n;t=o.getItemGraphicEl(t);i.hasValue(e)?(n=i.getItemLayout(e),t?(Eu(t),oO(n,t,i,e)):t=rO(n,i,e,a),r.add(t),i.setItemGraphicEl(e,t)):r.remove(t)})).remove((function(e){(e=o.getItemGraphicEl(e))&&r.remove(e)})).execute(),this._data=i},$R.prototype.remove=function(e){var t=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl((function(e){e&&t.remove(e)}))},$R.type="boxplot",_a=$R;function $R(){var e=null!==QR&&QR.apply(this,arguments)||this;return e.type=$R.type,e}var eO,tO=function(){},nO=(_(iO,eO=Us),iO.prototype.getDefaultShape=function(){return new tO},iO.prototype.buildPath=function(e,t){var n=t.points,i=0;for(e.moveTo(n[i][0],n[i][1]),i++;i<4;i++)e.lineTo(n[i][0],n[i][1]);for(e.closePath();i<n.length;i++)e.moveTo(n[i][0],n[i][1]),e.lineTo(n[++i][0],n[i][1])},iO);function iO(e){return(e=eO.call(this,e)||this).type="boxplotBoxPath",e}function rO(e,t,n,i,r){var o,a,s=e.ends;i=new nO({shape:{points:r?(o=i,a=e,te(s,(function(e){return(e=e.slice())[o]=a.initBaseline,e}))):s}});return oO(e,i,t,n,r),i}function oO(e,t,n,i,r){var o=n.hostModel;e=(r=((0,l[r?"initProps":"updateProps"])(t,{shape:{points:e.ends}},o,i),t.useStyle(n.getItemVisual(i,"style")),t.style.strokeNoScale=!0,t.z2=100,n.getItemModel(i))).getModel("emphasis");vu(t,r),fu(t,e.get("focus"),e.get("blurScope"),e.get("disabled"))}var aO=_a;function sO(e,t){}var lO=ee;function uO(e){var t,n;t=[],n=[],e.eachSeriesByType("boxplot",(function(e){var i=e.getBaseAxis(),r=K(n,i);r<0&&(r=n.length,n[r]=i,t[r]={axis:i,seriesModels:[]}),t[r].seriesModels.push(e)})),lO(t,(function(e){var t,n,i,r,o,a,s,l,u,c,h,d,p=e.seriesModels;p.length&&(u=(t=e).axis,r=(i=t.seriesModels).length,o=t.boxWidthList=[],a=t.boxOffsetList=[],s=[],n="category"===u.type?u.getBandWidth():(l=0,lO(i,(function(e){l=Math.max(l,e.getData().count())})),t=u.getExtent(),Math.abs(t[1]-t[0])/l),lO(i,(function(e){le(e=e.get("boxWidth"))||(e=[e,e]),s.push([_o(e[0],n)||0,_o(e[1],n)||0])})),c=(u=.8*n-2)/r*.3,d=(h=(u-c*(r-1))/r)/2-u/2,lO(i,(function(e,t){a.push(d),d+=c+h,o.push(Math.min(Math.max(h,s[t][0]),s[t][1]))})),lO(p,(function(t,n){var i=e.boxOffsetList[n],r=(n=e.boxWidthList[n],t.coordinateSystem),o=t.getData(),a=n/2,s="horizontal"===t.get("layout")?0:1,l=1-s,u=(n=["x","y"],o.mapDimension(n[s])),c=o.mapDimensionsAll(n[l]);if(!(null==u||c.length<5))for(var h=0;h<o.count();h++){var d=v(m=o.get(u,h),c[2],h),p=v(m,c[0],h),f=v(m,c[1],h),g=v(m,c[3],h),m=v(m,c[4],h),y=[];x(y,f,!1),x(y,g,!0),y.push(p,f,m,g),_(y,p),_(y,m),_(y,d),o.setItemLayout(h,{initBaseline:d[l],ends:y})}function v(e,t,n){var a;t=o.get(t,n);return(n=[])[s]=e,n[l]=t,isNaN(e)||isNaN(t)?a=[NaN,NaN]:(a=r.dataToPoint(n))[s]+=i,a}function x(e,t,n){var i=t.slice();t=t.slice();i[s]+=a,t[s]-=a,n?e.push(i,t):e.push(t,i)}function _(e,t){var n=t.slice();t=t.slice();n[s]-=a,t[s]+=a,e.push(n,t)}})))}))}var cO,hO={type:"echarts:boxplot",transform:function(e){var t=((t=e.upstream).sourceFormat!==kh&&Sp(""),function(e,t){for(var n=[],i=[],r=(t=t||{}).boundIQR,o="none"===r||0===r,a=0;a<e.length;a++){var s=wo(e[a].slice()),l=Ro(s,.25),u=Ro(s,.5),c=Ro(s,.75),h=s[0],d=s[s.length-1],p=(null==r?1.5:r)*(c-l),f=o?h:Math.max(h,l-p),g=o?d:Math.min(d,c+p),m=ue(h=t.itemNameFormatter)?h({value:a}):ce(h)?h.replace("{value}",a+""):a+"";n.push([m,f,l,u,c,g]);for(var y=0;y<s.length;y++){var v=s[y];(v<f||g<v)&&i.push([m,v])}}return{boxData:n,outliers:i}}(t.getRawData(),e.config));return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:t.boxData},{data:t.outliers}]}},dO=["color","borderColor"];_(pO,cO=sy),pO.prototype.render=function(e,t,n){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},pO.prototype.incrementalPrepareRender=function(e,t,n){this._clear(),this._updateDrawMode(e)},pO.prototype.incrementalRender=function(e,t,n,i){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},pO.prototype.eachRendered=function(e){qm(this._progressiveEls||this.group,e)},pO.prototype._updateDrawMode=function(e){e=e.pipelineContext.large,null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},pO.prototype._renderNormal=function(e){var t=e.getData(),n=this._data,i=this.group,r=t.getLayout("isSimpleBox"),o=e.get("clip",!0),a=e.coordinateSystem,s=a.getArea&&a.getArea();this._data||i.removeAll(),t.diff(n).add((function(n){var a,l;t.hasValue(n)&&(a=t.getItemLayout(n),o&&xO(s,a)||(Tu(l=vO(a,0,!0),{shape:{points:a.ends}},e,n),_O(l,t,n,r),i.add(l),t.setItemGraphicEl(n,l)))})).update((function(a,l){var u;l=n.getItemGraphicEl(l);t.hasValue(a)?(u=t.getItemLayout(a),o&&xO(s,u)?i.remove(l):(l?(Cu(l,{shape:{points:u.ends}},e,a),Eu(l)):l=vO(u),_O(l,t,a,r),i.add(l),t.setItemGraphicEl(a,l))):i.remove(l)})).remove((function(e){(e=n.getItemGraphicEl(e))&&i.remove(e)})).execute(),this._data=t},pO.prototype._renderLarge=function(e){this._clear(),MO(e,this.group),(e=e.get("clip",!0)?mM(e.coordinateSystem,!1,e):null)?this.group.setClipPath(e):this.group.removeClipPath()},pO.prototype._incrementalRenderNormal=function(e,t){for(var n,i=t.getData(),r=i.getLayout("isSimpleBox");null!=(n=e.next());){var o=vO(i.getItemLayout(n));_O(o,i,n,r),o.incremental=!0,this.group.add(o),this._progressiveEls.push(o)}},pO.prototype._incrementalRenderLarge=function(e,t){MO(t,this.group,this._progressiveEls,!0)},pO.prototype.remove=function(e){this._clear()},pO.prototype._clear=function(){this.group.removeAll(),this._data=null},pO.type="candlestick",Fy=pO;function pO(){var e=null!==cO&&cO.apply(this,arguments)||this;return e.type=pO.type,e}var fO,gO=function(){},mO=(_(yO,fO=Us),yO.prototype.getDefaultShape=function(){return new gO},yO.prototype.buildPath=function(e,t){t=t.points,this.__simpleBox?(e.moveTo(t[4][0],t[4][1]),e.lineTo(t[6][0],t[6][1])):(e.moveTo(t[0][0],t[0][1]),e.lineTo(t[1][0],t[1][1]),e.lineTo(t[2][0],t[2][1]),e.lineTo(t[3][0],t[3][1]),e.closePath(),e.moveTo(t[4][0],t[4][1]),e.lineTo(t[5][0],t[5][1]),e.moveTo(t[6][0],t[6][1]),e.lineTo(t[7][0],t[7][1]))},yO);function yO(e){return(e=fO.call(this,e)||this).type="normalCandlestickBox",e}function vO(e,t,n){var i,r=e.ends;return new mO({shape:{points:n?(i=e,te(r,(function(e){return(e=e.slice())[1]=i.initBaseline,e}))):r},z2:100})}function xO(e,t){for(var n=!0,i=0;i<t.ends.length;i++)if(e.contain(t.ends[i][0],t.ends[i][1])){n=!1;break}return n}function _O(e,t,n,i){var r=t.getItemModel(n);e.useStyle(t.getItemVisual(n,"style")),e.style.strokeNoScale=!0,e.__simpleBox=i,vu(e,r)}var bO,wO=function(){},SO=(_(AO,bO=Us),AO.prototype.getDefaultShape=function(){return new wO},AO.prototype.buildPath=function(e,t){for(var n,i=t.points,r=0;r<i.length;)this.__sign===i[r++]?(n=i[r++],e.moveTo(n,i[r++]),e.lineTo(n,i[r++])):r+=3},AO);function AO(e){return(e=bO.call(this,e)||this).type="largeCandlestickBox",e}function MO(e,t,n,i){var r=e.getData().getLayout("largePoints"),o=new SO({shape:{points:r},__sign:1});t.add(o),r=new SO({shape:{points:r},__sign:-1});t.add(r),CO(1,o,e),CO(-1,r,e),i&&(o.incremental=!0,r.incremental=!0),n&&n.push(o,r)}function CO(e,t,n){e=n.get(["itemStyle",0<e?"borderColor":"borderColor0"])||n.get(["itemStyle",0<e?"color":"color0"]),n=n.getModel("itemStyle").getItemStyle(dO),t.useStyle(n),t.style.fill=null,t.style.stroke=e}var TO,IO=Fy;_(kO,TO=Pf),kO.prototype.getShadowDim=function(){return"open"},kO.prototype.brushSelector=function(e,t,n){return(t=t.getItemLayout(e))&&n.rect(t.brushRect)},kO.type="series.candlestick",kO.dependencies=["xAxis","yAxis","grid"],kO.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t=kO;function kO(){var e=null!==TO&&TO.apply(this,arguments)||this;return e.type=kO.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}q(t,Ig,!0);var DO=t;function BO(e){e&&le(e.series)&&ee(e.series,(function(e){pe(e)&&"k"===e.type&&(e.type="candlestick")}))}var EO=["itemStyle","borderColor"],PO=["itemStyle","borderColor0"],LO=["itemStyle","color"],RO=["itemStyle","color0"],OO={seriesType:"candlestick",plan:Of(),performRawSeries:!0,reset:function(e,t){if(!t.isSeriesFiltered(e))return!e.pipelineContext.large&&{progress:function(e,t){for(var n;null!=(n=e.next());){var i=t.getItemModel(n),r=t.getItemLayout(n).sign,o=i.getItemStyle();o.fill=i.get(0<r?LO:RO),o.stroke=i.get(0<r?EO:PO)||o.fill,X(t.ensureUniqueItemVisual(n,"style"),o)}}}}};function FO(e,t,n,i,r){return n=i<n||!(n<i||!(0<t)||e.get(r,t-1)<=i)?-1:1}var NO,zO={seriesType:"candlestick",plan:Of(),reset:function(e){var t,n,i=e.coordinateSystem,r=e.getData(),o=(t=r,l="category"===(l=(a=e).getBaseAxis()).type?l.getBandWidth():(l=l.getExtent(),Math.abs(l[1]-l[0])/t.count()),t=_o(we(a.get("barMaxWidth"),l),l),n=_o(we(a.get("barMinWidth"),1),l),null!=(a=a.get("barWidth"))?_o(a,l):Math.max(Math.min(l/2,t),n)),a=["x","y"],s=r.getDimensionIndex(r.mapDimension(a[0])),l=te(r.mapDimensionsAll(a[1]),r.getDimensionIndex,r),u=l[0],c=l[1],h=l[2],d=l[3];if(r.setLayout({candleWidth:o,isSimpleBox:o<=1.3}),!(s<0||l.length<4))return{progress:e.pipelineContext.large?function(e,t){for(var n,r=bb(4*e.count),o=0,a=[],l=[],p=t.getStore();null!=(n=e.next());){var f=p.get(s,n),g=p.get(u,n),m=p.get(c,n),y=p.get(h,n),v=p.get(d,n);isNaN(f)||isNaN(y)||isNaN(v)?(r[o++]=NaN,o+=3):(r[o++]=FO(p,n,g,m,c),a[0]=f,a[1]=y,n=i.dataToPoint(a,null,l),r[o++]=n?n[0]:NaN,r[o++]=n?n[1]:NaN,a[1]=v,n=i.dataToPoint(a,null,l),r[o++]=n?n[1]:NaN)}t.setLayout("largePoints",r)}:function(e,t){for(var n,r=t.getStore();null!=(n=e.next());){var a=r.get(s,n),l=r.get(u,n),p=r.get(c,n),f=r.get(h,n),g=r.get(d,n),m=Math.min(l,p),y=Math.max(l,p),v=(m=b(m,a),y=b(y,a),b(f,a)),x=b(g,a),_=[];w(_,y,0),w(_,m,1),_.push(S(x),S(y),S(v),S(m)),t.setItemLayout(n,{sign:FO(r,n,l,p,c),initBaseline:(p<l?y:m)[1],ends:_,brushRect:function(e,t,n){return e=b(e,n),t=b(t,n),e[0]-=o/2,t[0]-=o/2,{x:e[0],y:e[1],width:o,height:t[1]-e[1]}}(f,g,a)})}function b(e,t){var n=[];return n[0]=t,n[1]=e,isNaN(t)||isNaN(e)?[NaN,NaN]:i.dataToPoint(n)}function w(e,t,n){var i=t.slice();t=t.slice();i[0]=zm(i[0]+o/2,1,!1),t[0]=zm(t[0]-o/2,1,!0),n?e.push(i,t):e.push(t,i)}function S(e){return e[0]=zm(e[0],1),e}}}}};function GO(e,t){var n=t.rippleEffectColor||t.color;e.eachChild((function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?n:null,fill:"fill"===t.brushType?n:null}})}))}function HO(e,t){var n=NO.call(this)||this,i=new WA(e,t),r=new ao;return n.add(i),n.add(r),n.updateData(e,t),n}_(HO,NO=ao),HO.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},HO.prototype.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,i=e.rippleNumber,r=this.childAt(1),o=0;o<i;o++){var a=lv(t,-1,-1,2,2,n),s=(a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5}),-o/i*e.period+e.effectOffset);a.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(s).start(),a.animateStyle(!0).when(e.period,{opacity:0}).delay(s).start(),r.add(a)}GO(r,e)},HO.prototype.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale","rippleNumber"],r=0;r<i.length;r++){var o=i[r];if(t[o]!==e[o])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}GO(n,e)},HO.prototype.highlight=function(){tu(this)},HO.prototype.downplay=function(){nu(this)},HO.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},HO.prototype.updateData=function(e,t){var n=this,i=e.hostModel,r=(this.childAt(0).updateData(e,t),this.childAt(1)),o=e.getItemModel(t),a=e.getItemVisual(t,"symbol"),s=uv(e.getItemVisual(t,"symbolSize")),l=(u=e.getItemVisual(t,"style"))&&u.fill,u=o.getModel("emphasis"),c=(s=(r.setScale(s),r.traverse((function(e){e.setStyle("fill",l)})),cv(e.getItemVisual(t,"symbolOffset"),s)),s=(s&&(r.x=s[0],r.y=s[1]),e.getItemVisual(t,"symbolRotate")),r.rotation=(s||0)*Math.PI/180||0,{});c.showEffectOn=i.get("showEffectOn"),c.rippleScale=o.get(["rippleEffect","scale"]),c.brushType=o.get(["rippleEffect","brushType"]),c.period=1e3*o.get(["rippleEffect","period"]),c.effectOffset=t/e.count(),c.z=i.getShallow("z")||0,c.zlevel=i.getShallow("zlevel")||0,c.symbolType=a,c.color=l,c.rippleEffectColor=o.get(["rippleEffect","color"]),c.rippleNumber=o.get(["rippleEffect","number"]),"render"===c.showEffectOn?(this._effectCfg?this.updateEffectAnimation(c):this.startEffectAnimation(c),this._effectCfg=c):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(e){"emphasis"===e?"render"!==c.showEffectOn&&n.startEffectAnimation(c):"normal"===e&&"render"!==c.showEffectOn&&n.stopEffectAnimation()}),this._effectCfg=c,fu(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},HO.prototype.fadeOut=function(e){e&&e()};var VO,UO=HO;function ZO(){var e=null!==VO&&VO.apply(this,arguments)||this;return e.type=ZO.type,e}_(ZO,VO=sy),ZO.prototype.init=function(){this._symbolDraw=new KA(UO)},ZO.prototype.render=function(e,t,n){var i=e.getData(),r=this._symbolDraw;r.updateData(i,{clipShape:this._getClipShape(e)}),this.group.add(r.group)},ZO.prototype._getClipShape=function(e){var t=(t=e.coordinateSystem)&&t.getArea&&t.getArea();return e.get("clip",!0)?t:null},ZO.prototype.updateTransform=function(e,t,n){var i=e.getData();(e=(this.group.dirty(),IM("").reset(e,t,n))).progress&&e.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout()},ZO.prototype._updateGroupTransform=function(e){(e=e.coordinateSystem)&&e.getRoamTransform&&(this.group.transform=mr(e.getRoamTransform()),this.group.decomposeTransform())},ZO.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0)},ZO.type="effectScatter";var WO,jO=ZO;function XO(){var e=null!==WO&&WO.apply(this,arguments)||this;return e.type=XO.type,e.hasSymbolVisual=!0,e}_(XO,WO=Pf),XO.prototype.getInitialData=function(e,t){return q_(null,this,{useEncodeDefaulter:!0})},XO.prototype.brushSelector=function(e,t,n){return n.point(t.getItemLayout(e))},XO.type="series.effectScatter",XO.dependencies=["grid","polar"],XO.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10};var YO,JO=XO;function KO(e,t,n){var i=YO.call(this)||this;return i.add(i.createLine(e,t,n)),i._updateEffectSymbol(e,t),i}_(KO,YO=ao),KO.prototype.createLine=function(e,t,n){return new VE(e,t,n)},KO.prototype._updateEffectSymbol=function(e,t){var n=e.getItemModel(t).getModel("effect"),i=n.get("symbolSize"),r=n.get("symbol"),o=(le(i)||(i=[i,i]),e.getItemVisual(t,"style")),a=(o=n.get("color")||o&&o.stroke,this.childAt(1));this._symbolType!==r&&(this.remove(a),(a=lv(r,-.5,-.5,1,1,o)).z2=100,a.culling=!0,this.add(a)),a&&(a.setStyle("shadowColor",o),a.setStyle(n.getItemStyle(["color"])),a.scaleX=i[0],a.scaleY=i[1],a.setColor(o),this._symbolType=r,this._symbolScale=i,this._updateEffectAnimation(e,n,t))},KO.prototype._updateEffectAnimation=function(e,t,n){var i,r,o,a,s=this.childAt(1);s&&(a=e.getItemLayout(n),i=1e3*t.get("period"),r=t.get("loop"),o=t.get("constantSpeed"),t=be(t.get("delay"),(function(t){return t/e.count()*i/3})),s.ignore=!0,this._updateAnimationPoints(s,a),(i=0<o?this._getLineLength(s)/o*1e3:i)===this._period&&r===this._loop||(s.stopAnimation(),a=void 0,a=ue(t)?t(n):t,0<s.__t&&(a=-i*s.__t),this._animateSymbol(s,i,a,r)),this._period=i,this._loop=r)},KO.prototype._animateSymbol=function(e,t,n,i){var r;0<t&&(e.__t=0,r=this,t=e.animate("",i).when(t,{__t:1}).delay(n).during((function(){r._updateSymbolPosition(e)})),i||t.done((function(){r.remove(e)})),t.start())},KO.prototype._getLineLength=function(e){return ot(e.__p1,e.__cp1)+ot(e.__cp1,e.__p2)},KO.prototype._updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},KO.prototype.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n),this._updateEffectSymbol(e,t)},KO.prototype._updateSymbolPosition=function(e){var t=e.__p1,n=e.__p2,i=e.__cp1,r=e.__t,o=[e.x,e.y],a=o.slice(),s=Mn,l=Cn;o[0]=s(t[0],i[0],n[0],r),o[1]=s(t[1],i[1],n[1],r),s=l(t[0],i[0],n[0],r),l=l(t[1],i[1],n[1],r);e.rotation=-Math.atan2(l,s)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*ot(a,o),1===r&&(o[0]=a[0]+(o[0]-a[0])/2,o[1]=a[1]+(o[1]-a[1])/2)):1===e.__lastT?e.scaleY=2*ot(t,o):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=o[0],e.y=o[1]},KO.prototype.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,n,t)};var QO,qO=KO;function $O(e,t,n){var i=QO.call(this)||this;return i._createPolyline(e,t,n),i}_($O,QO=ao),$O.prototype._createPolyline=function(e,t,n){var i=e.getItemLayout(t);i=new Zg({shape:{points:i}});this.add(i),this._updateCommonStl(e,t,n)},$O.prototype.updateData=function(e,t,n){var i=e.hostModel;Cu(this.childAt(0),{shape:{points:e.getItemLayout(t)}},i,t),this._updateCommonStl(e,t,n)},$O.prototype._updateCommonStl=function(e,t,n){var i=this.childAt(0),r=e.getItemModel(t),o=n&&n.emphasisLineStyle,a=n&&n.focus,s=n&&n.blurScope,l=n&&n.emphasisDisabled;n&&!e.hasItemOption||(o=(n=r.getModel("emphasis")).getModel("lineStyle").getLineStyle(),l=n.get("disabled"),a=n.get("focus"),s=n.get("blurScope")),i.useStyle(e.getItemVisual(t,"style")),i.style.fill=null,i.style.strokeNoScale=!0,i.ensureState("emphasis").style=o,fu(this,a,s,l)},$O.prototype.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))};var eF,tF=$O;function nF(){var e=null!==eF&&eF.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}_(nF,eF=qO),nF.prototype.createLine=function(e,t,n){return new tF(e,t,n)},nF.prototype._updateAnimationPoints=function(e,t){this._points=t;for(var n=[0],i=0,r=1;r<t.length;r++){var o=t[r-1],a=t[r];i+=ot(o,a),n.push(i)}if(0===i)this._length=0;else{for(r=0;r<n.length;r++)n[r]/=i;this._offsets=n,this._length=i}},nF.prototype._getLineLength=function(){return this._length},nF.prototype._updateSymbolPosition=function(e){var t=e.__t,n=this._points,i=this._offsets,r=n.length;if(i){var o=this._lastFrame;if(t<this._lastFramePercent){for(var a=Math.min(o+1,r-1);0<=a&&!(i[a]<=t);a--);a=Math.min(a,r-2)}else{for(a=o;a<r&&!(i[a]>t);a++);a=Math.min(a-1,r-2)}o=(t-i[a])/(i[a+1]-i[a]);var s=n[a];n=n[a+1],o=(e.x=s[0]*(1-o)+o*n[0],e.y=s[1]*(1-o)+o*n[1],n[0]-s[0]),n=n[1]-s[1];e.rotation=-Math.atan2(n,o)-Math.PI/2,this._lastFrame=a,this._lastFramePercent=t,e.ignore=!1}};var iF,rF=nF,oF=function(){this.polyline=!1,this.curveness=0,this.segs=[]},aF=(_(sF,iF=Us),sF.prototype.reset=function(){this.notClear=!1,this._off=0},sF.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},sF.prototype.getDefaultShape=function(){return new oF},sF.prototype.buildPath=function(e,t){var n,i=t.segs,r=t.curveness;if(t.polyline)for(n=this._off;n<i.length;){var o=i[n++];if(0<o){e.moveTo(i[n++],i[n++]);for(var a=1;a<o;a++)e.lineTo(i[n++],i[n++])}}else for(n=this._off;n<i.length;){var s=i[n++],l=i[n++],u=i[n++],c=i[n++];e.moveTo(s,l),0<r?e.quadraticCurveTo((s+u)/2-(l-c)*r,(l+c)/2-(u-s)*r,u,c):e.lineTo(u,c)}this.incremental&&(this._off=n,this.notClear=!0)},sF.prototype.findDataIndex=function(e,t){var n=this.shape,i=n.segs,r=n.curveness,o=this.style.lineWidth;if(n.polyline)for(var a=0,s=0;s<i.length;){var l=i[s++];if(0<l)for(var u=i[s++],c=i[s++],h=1;h<l;h++)if(As(u,c,d=i[s++],p=i[s++],o,e,t))return a;a++}else for(a=0,s=0;s<i.length;){u=i[s++],c=i[s++];var d=i[s++],p=i[s++];if(0<r){if(Ms(u,c,(u+d)/2-(c-p)*r,(c+p)/2-(d-u)*r,d,p,o,e,t))return a}else if(As(u,c,d,p,o,e,t))return a;a++}return-1},sF.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),i=this.getBoundingRect();return e=n[0],t=n[1],i.contain(e,t)?0<=(this.hoverDataIdx=this.findDataIndex(e,t)):!(this.hoverDataIdx=-1)},sF.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape.segs,n=1/0,i=1/0,r=-1/0,o=-1/0,a=0;a<t.length;){var s=t[a++],l=t[a++];n=Math.min(s,n),r=Math.max(s,r),i=Math.min(l,i),o=Math.max(l,o)}e=this._rect=new zr(n,i,r,o)}return e},sF);function sF(e){return(e=iF.call(this,e)||this)._off=0,e.hoverDataIdx=-1,e}function lF(){this.group=new ao}lF.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},lF.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},lF.prototype.incrementalUpdate=function(e,t){var n,i,r=this._newAdded[0],o=t.getLayout("linesPoints"),a=r&&r.shape.segs;a&&a.length<2e4?(n=a.length,(i=new Float32Array(n+o.length)).set(a),i.set(o,n),r.setShape({segs:i})):(this._newAdded=[],(a=this._create()).incremental=!0,a.setShape({segs:o}),this._setCommon(a,t),a.__startIndex=e.start)},lF.prototype.remove=function(){this._clear()},lF.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},lF.prototype._create=function(){var e=new aF({cursor:"default"});return this._newAdded.push(e),this.group.add(e),e},lF.prototype._setCommon=function(e,t,n){var i=t.hostModel,r=((t=(e.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),e.useStyle(i.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0,t.getVisual("style")))&&t.stroke&&e.setStyle("stroke",t.stroke),e.setStyle("fill",null),Cl(e));r.seriesIndex=i.seriesIndex,e.on("mousemove",(function(t){r.dataIndex=null;var n=e.hoverDataIdx;0<n&&(r.dataIndex=n+e.__startIndex)}))},lF.prototype._clear=function(){this._newAdded=[],this.group.removeAll()};var uF,cF=lF,hF={seriesType:"lines",plan:Of(),reset:function(e){var t,n,i=e.coordinateSystem;if(i)return t=e.get("polyline"),n=e.pipelineContext.large,{progress:function(r,o){var a=[];if(n){var s=void 0,l=r.end-r.start;if(t){for(var u=0,c=r.start;c<r.end;c++)u+=e.getLineCoordsCount(c);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);var h=0,d=[];for(c=r.start;c<r.end;c++){var p=e.getLineCoords(c,a);t&&(s[h++]=p);for(var f=0;f<p;f++)d=i.dataToPoint(a[f],!1,d),s[h++]=d[0],s[h++]=d[1]}o.setLayout("linesPoints",s)}else for(c=r.start;c<r.end;c++){var g=o.getItemModel(c),m=(p=e.getLineCoords(c,a),[]);if(t)for(var y=0;y<p;y++)m.push(i.dataToPoint(a[y]));else m[0]=i.dataToPoint(a[0]),m[1]=i.dataToPoint(a[1]),+(g=g.get(["lineStyle","curveness"]))&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*g,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*g]);o.setItemLayout(c,m)}}}}};function dF(){var e=null!==uF&&uF.apply(this,arguments)||this;return e.type=dF.type,e}_(dF,uF=sy),dF.prototype.render=function(e,t,n){var i,r=e.getData(),o=this._updateLineDraw(r,e),a=e.get("zlevel"),s=e.get(["effect","trailLength"]);(i=((i="svg"===(n=n.getZr()).painter.getType())||n.painter.getLayer(a).clear(!0),null==this._lastZlevel||i||n.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&0<s&&(i||n.configLayer(a,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(s/10+.9,1),0)})),o.updateData(r),e.get("clip",!0)&&mM(e.coordinateSystem,!1,e)))?this.group.setClipPath(i):this.group.removeClipPath(),this._lastZlevel=a,this._finished=!0},dF.prototype.incrementalPrepareRender=function(e,t,n){var i=e.getData();this._updateLineDraw(i,e).incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},dF.prototype.incrementalRender=function(e,t,n){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},dF.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},dF.prototype.updateTransform=function(e,t,n){var i=e.getData(),r=e.pipelineContext;if(!this._finished||r.large||r.progressiveRender)return{update:!0};(r=hF.reset(e,t,n)).progress&&r.progress({start:0,end:i.count(),count:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},dF.prototype._updateLineDraw=function(e,t){var n=this._lineDraw,i=this._showEffect(t),r=!!t.get("polyline");t=t.pipelineContext.large;return n&&i===this._hasEffet&&r===this._isPolyline&&t===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=t?new cF:new YE(r?i?rF:tF:i?qO:VE),this._hasEffet=i,this._isPolyline=r,this._isLargeDraw=t),this.group.add(n.group),n},dF.prototype._showEffect=function(e){return!!e.get(["effect","show"])},dF.prototype._clearLayer=function(e){"svg"!==(e=e.getZr()).painter.getType()&&null!=this._lastZlevel&&e.painter.getLayer(this._lastZlevel).clear(!0)},dF.prototype.remove=function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},dF.prototype.dispose=function(e,t){this.remove(e,t)},dF.type="lines";var pF,fF=dF,gF="undefined"==typeof Uint32Array?Array:Uint32Array,mF="undefined"==typeof Float64Array?Array:Float64Array;function yF(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=te(t,(function(e){var t={coords:[e[0].coord,e[1].coord]};return e[0].name&&(t.fromName=e[0].name),e[1].name&&(t.toName=e[1].name),j([t,e[0],e[1]])})))}function vF(){var e=null!==pF&&pF.apply(this,arguments)||this;return e.type=vF.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}_(vF,pF=Pf),vF.prototype.init=function(e){e.data=e.data||[],yF(e);var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),pF.prototype.init.apply(this,arguments)},vF.prototype.mergeOption=function(e){var t;yF(e),e.data&&(t=this._processFlatCoordsArray(e.data),this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count))),pF.prototype.mergeOption.apply(this,arguments)},vF.prototype.appendData=function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=Le(this._flatCoords,t.flatCoords),this._flatCoordsOffset=Le(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},vF.prototype._getCoordsFromItemModel=function(e){return(e=this.getData().getItemModel(e)).option instanceof Array?e.option:e.getShallow("coords")},vF.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},vF.prototype.getLineCoords=function(e,t){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*e],i=this._flatCoordsOffset[2*e+1],r=0;r<i;r++)t[r]=t[r]||[],t[r][0]=this._flatCoords[n+2*r],t[r][1]=this._flatCoords[n+2*r+1];return i}var o=this._getCoordsFromItemModel(e);for(r=0;r<o.length;r++)t[r]=t[r]||[],t[r][0]=o[r][0],t[r][1]=o[r][1];return o.length},vF.prototype._processFlatCoordsArray=function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),de(e[0])){for(var n=e.length,i=new gF(n),r=new mF(n),o=0,a=0,s=0,l=0;l<n;){s++;var u=e[l++];i[a++]=o+t,i[a++]=u;for(var c=0;c<u;c++){var h=e[l++],d=e[l++];r[o++]=h,r[o++]=d}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,a),flatCoords:r,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},vF.prototype.getInitialData=function(e,t){var n=new U_(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],(function(e,t,i,r){return e instanceof Array?NaN:(n.hasItemOption=!0,null!=(e=e.value)?e instanceof Array?e[r]:e:void 0)})),n},vF.prototype.formatTooltip=function(e,t,n){if(i=(e=this.getData().getItemModel(e)).get("name"))return i;var i=e.get("fromName"),r=(e=e.get("toName"),[]);return null!=i&&r.push(i),null!=e&&r.push(e),lf("nameValue",{name:r.join(" > ")})},vF.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},vF.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},vF.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},vF.prototype.getZLevelKey=function(){var e=this.getModel("effect"),t=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&0<t?t+"":""},vF.type="series.lines",vF.dependencies=["grid","polar","geo","calendar"],vF.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}};var xF=vF;function _F(e){return e instanceof Array?e:[e,e]}var bF={seriesType:"lines",reset:function(e){var t=_F(e.get("symbol")),n=_F(e.get("symbolSize"));return(e=e.getData()).setVisual("fromSymbol",t&&t[0]),e.setVisual("toSymbol",t&&t[1]),e.setVisual("fromSymbolSize",n&&n[0]),e.setVisual("toSymbolSize",n&&n[1]),{dataEach:e.hasItemOption?function(e,t){var n=_F((i=e.getItemModel(t)).getShallow("symbol",!0)),i=_F(i.getShallow("symbolSize",!0));n[0]&&e.setItemVisual(t,"fromSymbol",n[0]),n[1]&&e.setItemVisual(t,"toSymbol",n[1]),i[0]&&e.setItemVisual(t,"fromSymbolSize",i[0]),i[1]&&e.setItemVisual(t,"toSymbolSize",i[1])}:null}}};function wF(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=I.createCanvas();this.canvas=e}wF.prototype.update=function(e,t,n,i,r,o){var a=this._getBrush(),s=this._getGradient(r,"inRange"),l=this._getGradient(r,"outOfRange"),u=this.pointSize+this.blurSize,c=(r=this.canvas).getContext("2d"),h=e.length;r.width=t,r.height=n;for(var d=0;d<h;++d){var p=e[d],f=p[0],g=p[1],m=i(p[2]);c.globalAlpha=m,c.drawImage(a,f-u,g-u)}if(!r.width||!r.height)return r;for(var y=(t=c.getImageData(0,0,r.width,r.height)).data,v=0,x=y.length,_=this.minOpacity,b=this.maxOpacity-_;v<x;){m=y[v+3]/256;var w,S=4*Math.floor(255*m);0<m?(w=o(m)?s:l,0<m&&(m=m*b+_),y[v++]=w[S],y[v++]=w[1+S],y[v++]=w[2+S],y[v++]=w[3+S]*m*256):v+=4}return c.putImageData(t,0,0),r},wF.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=I.createCanvas()),t=this.pointSize+this.blurSize,n=2*t,i=(e.width=n,e.height=n,e.getContext("2d"));return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-t,t,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),e},wF.prototype._getGradient=function(e,t){for(var n=this._gradientPixels,i=n[t]||(n[t]=new Uint8ClampedArray(1024)),r=[0,0,0,0],o=0,a=0;a<256;a++)e[t](a/255,!0,r),i[o++]=r[0],i[o++]=r[1],i[o++]=r[2],i[o++]=r[3];return i};var SF,AF=wF;function MF(e){return"lng"===(e=e.dimensions)[0]&&"lat"===e[1]}function CF(){var e=null!==SF&&SF.apply(this,arguments)||this;return e.type=CF.type,e}_(CF,SF=sy),CF.prototype.render=function(e,t,n){var i;t.eachComponent("visualMap",(function(t){t.eachTargetSeries((function(n){n===e&&(i=t)}))})),this._progressiveEls=null,this.group.removeAll(),"cartesian2d"===(t=e.coordinateSystem).type||"calendar"===t.type?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):MF(t)&&this._renderOnGeo(t,e,i,n)},CF.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll()},CF.prototype.incrementalRender=function(e,t,n,i){var r=t.coordinateSystem;r&&(MF(r)?this.render(t,n,i):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(t,i,e.start,e.end,!0)))},CF.prototype.eachRendered=function(e){qm(this._progressiveEls||this.group,e)},CF.prototype._renderOnCartesianAndCalendar=function(e,t,n,i,r){for(var o,a,s,l,u,c=e.coordinateSystem,h=yM(c,"cartesian2d"),d=(h&&(x=c.getAxis("x"),o=c.getAxis("y"),a=x.getBandWidth()+.5,s=o.getBandWidth()+.5,l=x.scale.getExtent(),u=o.scale.getExtent()),this.group),p=e.getData(),f=e.getModel(["emphasis","itemStyle"]).getItemStyle(),g=e.getModel(["blur","itemStyle"]).getItemStyle(),m=e.getModel(["select","itemStyle"]).getItemStyle(),y=e.get(["itemStyle","borderRadius"]),v=Fu(e),x=e.getModel("emphasis"),_=x.get("focus"),b=x.get("blurScope"),w=x.get("disabled"),S=h?[p.mapDimension("x"),p.mapDimension("y"),p.mapDimension("value")]:[p.mapDimension("time"),p.mapDimension("value")],A=n;A<i;A++){var M=void 0,C=p.getItemVisual(A,"style");if(h){var T=p.get(S[0],A),I=p.get(S[1],A);if(isNaN(p.get(S[2],A))||T<l[0]||T>l[1]||I<u[0]||I>u[1])continue;T=c.dataToPoint([T,I]),M=new sl({shape:{x:T[0]-a/2,y:T[1]-s/2,width:a,height:s},style:C})}else{if(isNaN(p.get(S[1],A)))continue;M=new sl({z2:1,shape:c.dataToRect([p.get(S[0],A)]).contentShape,style:C})}p.hasItemOption&&(f=(T=(I=p.getItemModel(A)).getModel("emphasis")).getModel("itemStyle").getItemStyle(),g=I.getModel(["blur","itemStyle"]).getItemStyle(),m=I.getModel(["select","itemStyle"]).getItemStyle(),y=I.get(["itemStyle","borderRadius"]),_=T.get("focus"),b=T.get("blurScope"),w=T.get("disabled"),v=Fu(I)),M.shape.r=y;var k=e.getRawValue(A),D="-";k&&null!=k[2]&&(D=k[2]+""),Ou(M,v,{labelFetcher:e,labelDataIndex:A,defaultOpacity:C.opacity,defaultText:D}),M.ensureState("emphasis").style=f,M.ensureState("blur").style=g,M.ensureState("select").style=m,fu(M,_,b,w),(M.incremental=r)&&(M.states.emphasis.hoverLayer=!0),d.add(M),p.setItemGraphicEl(A,M),this._progressiveEls&&this._progressiveEls.push(M)}},CF.prototype._renderOnGeo=function(e,t,n,i){var r,o,a,s,l,u,c,h=n.targetVisuals.inRange,d=n.targetVisuals.outOfRange,p=t.getData(),f=this._hmLayer||this._hmLayer||new AF,g=(t=(f.blurSize=t.get("blurSize"),f.pointSize=t.get("pointSize"),f.minOpacity=t.get("minOpacity"),f.maxOpacity=t.get("maxOpacity"),e.getViewRect().clone()),e.getRoamTransform()),m=(t.applyTransform(g),Math.max(t.x,0)),y=Math.max(t.y,0),v=(g=Math.min(t.width+t.x,i.getWidth()),t=Math.min(t.height+t.y,i.getHeight()),i=g-m,g=t-y,t=[p.mapDimension("lng"),p.mapDimension("lat"),p.mapDimension("value")],p=p.mapArray(t,(function(t,n,i){return(t=e.dataToPoint([t,n]))[0]-=m,t[1]-=y,t.push(i),t})),t=n.getExtent(),"visualMap.continuous"===n.type?(c=n.option.range,v=t[1]-t[0],c=[(c[0]-t[0])/v,(c[1]-t[0])/v],function(e){return e>=c[0]&&e<=c[1]}):(r=t,o=n.getPieceList(),a=n.option.selected,s=r[1]-r[0],l=(o=te(o,(function(e){return{interval:[(e.interval[0]-r[0])/s,(e.interval[1]-r[0])/s]}}))).length,u=0,function(e){for(var t,n=u;n<l;n++)if((t=o[n].interval)[0]<=e&&e<=t[1]){u=n;break}if(n===l)for(n=u-1;0<=n;n--)if((t=o[n].interval)[0]<=e&&e<=t[1]){u=n;break}return 0<=n&&n<l&&a[n]}));f.update(p,i,g,h.color.getNormalizer(),{inRange:h.color.getColorMapper(),outOfRange:d.color.getColorMapper()},v),t=new Qs({style:{width:i,height:g,x:m,y:y,image:f.canvas},silent:!0});this.group.add(t)},CF.type="heatmap";var TF,IF=CF;function kF(){var e=null!==TF&&TF.apply(this,arguments)||this;return e.type=kF.type,e}_(kF,TF=Pf),kF.prototype.getInitialData=function(e,t){return q_(null,this,{generateCoord:"value"})},kF.prototype.preventIncremental=function(){var e=dd.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},kF.type="series.heatmap",kF.dependencies=["grid","geo","calendar"],kF.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}};var DF,BF=kF,EF=["itemStyle","borderWidth"],PF=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],LF=new ug;function RF(){var e=null!==DF&&DF.apply(this,arguments)||this;return e.type=RF.type,e}function OF(e,t,n,i){var r=e.getItemLayout(t),o=n.get("symbolRepeat"),a=n.get("symbolClip"),s=n.get("symbolPosition")||"start",l=(n.get("symbolRotate")||0)*Math.PI/180||0,u=n.get("symbolPatternSize")||2,c=n.isAnimationEnabled(),h=(a={dataIndex:t,layout:r,itemModel:n,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:l,animationModel:c?n:null,hoverScale:c&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0},c=n,o),d=r,p=a,f=(v=i).valueDim,g=(c=c.get("symbolBoundingData"),(y=v.coordSys.getOtherAxis(v.coordSys.getBaseAxis())).toGlobalCoord(y.dataToCoord(0))),m=1-(d[f.wh]<=0),y=(x=le(c)?((x=[FF(y,c[0])-g,FF(y,c[1])-g])[1]<x[0]&&x.reverse(),x[m]):null!=c?FF(y,c)-g:h?v.coordSysExtent[f.index][m]-g:d[f.wh],p.boundingLength=x,h&&(p.repeatCutLength=d[f.wh]),p.pxSign=0<x?1:-1,e),v=(c=t,r),x=(m=o,g=a.boundingLength,h=a.pxSign,d=u,p=a,(f=i).valueDim),_=(e=f.categoryDim,v=Math.abs(v[e.wh]),t=((c=le(y=y.getItemVisual(c,"symbolSize"))?y.slice():null==y?["100%","100%"]:[y,y])[e.index]=_o(c[e.index],v),c[x.index]=_o(c[x.index],m?v:Math.abs(g)),p.symbolSize=c,(p.symbolScale=[c[0]/d,c[1]/d])[x.index]*=(f.isHorizontal?-1:1)*h,n),u=a.symbolScale,y=l,e=i,m=a,v=((t=t.get(EF)||0)&&(LF.attr({scaleX:u[0],scaleY:u[1],rotation:y}),LF.updateTransform(),t=(t/=LF.getLineScale())*u[e.valueDim.index]),m.valueLineWidth=t||0,a.symbolSize),g=cv(n.get("symbolOffset"),v),p=n,c=v,d=r,f=o,h=g,l=s,y=a.valueLineWidth,u=a.boundingLength,e=a.repeatCutLength,t=a,n=(m=i).categoryDim,v=m.valueDim,r=t.pxSign,o=y=Math.max(c[v.index]+y,0),f&&(_=Math.abs(u),b=!1,(p=be(p.get("symbolMargin"),"15%")+"").lastIndexOf("!")===p.length-1&&(b=!0,p=p.slice(0,p.length-1)),p=_o(p,c[v.index]),c=Math.max(y+2*p,0),g=b?0:2*p,c=y+2*(p=(_-(s=(w=No(f))?f:qF((_+g)/c))*y)/2/(b?s:Math.max(s-1,1))),g=b?0:2*p,w||"fixed"===f||(s=e?qF((Math.abs(e)+g)/c):0),o=s*c-g,t.repeatTimes=s,t.symbolMargin=p),r*(o/2)),b=((y=t.pathPosition=[])[n.index]=d[n.wh]/2,y[v.index]="start"===l?_:"end"===l?u-_:u/2,h&&(y[0]+=h[0],y[1]+=h[1]),t.bundlePosition=[]),w=(b[n.index]=d[n.xy],b[v.index]=d[v.xy],t.barRectShape=X({},d));return w[v.wh]=r*Math.max(Math.abs(d[v.wh]),Math.abs(y[v.index]+_)),w[n.wh]=d[n.wh],(f=t.clipShape={})[n.xy]=-d[n.xy],f[n.wh]=m.ecSize[n.wh],f[v.xy]=0,f[v.wh]=d[v.wh],a}function FF(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function NF(e){var t=e.symbolPatternSize;return(e=lv(e.symbolType,-t/2,-t/2,t,t)).attr({culling:!0}),"image"!==e.type&&e.setStyle({strokeNoScale:!0}),e}function zF(e,t,n,i){var r=e.__pictorialBundle,o=n.symbolSize,a=n.valueLineWidth,s=n.pathPosition,l=t.valueDim,u=n.repeatTimes||0,c=0,h=o[t.valueDim.index]+a+2*n.symbolMargin;for(JF(e,(function(e){e.__pictorialAnimationIndex=c,e.__pictorialRepeatTimes=u,c<u?KF(e,null,f(c),n,i):KF(e,null,{scaleX:0,scaleY:0},n,i,(function(){r.remove(e)})),c++}));c<u;c++){var d=NF(n),p=(d.__pictorialAnimationIndex=c,d.__pictorialRepeatTimes=u,r.add(d),f(c));KF(d,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},n,i)}function f(e){var t=s.slice(),i=n.pxSign,r=e;return("start"===n.symbolRepeatDirection?0<i:i<0)&&(r=u-1-e),t[l.index]=h*(r-u/2+.5)+s[l.index],{x:t[0],y:t[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function GF(e,t,n,i){var r=e.__pictorialBundle,o=e.__pictorialMainPath;o?KF(o,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,i):(o=e.__pictorialMainPath=NF(n),r.add(o),KF(o,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,i))}function HF(e,t,n){var i=X({},t.barRectShape),r=e.__pictorialBarRect;r?KF(r,null,{shape:i},t,n):((r=e.__pictorialBarRect=new sl({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,e.add(r))}function VF(e,t,n,i){var r,o,a,s;n.symbolClip&&(r=e.__pictorialClipPath,s=X({},n.clipShape),t=t.valueDim,o=n.animationModel,a=n.dataIndex,r?Cu(r,{shape:s},o,a):(s[t.wh]=0,r=new sl({shape:s}),e.__pictorialBundle.setClipPath(r),e.__pictorialClipPath=r,(s={})[t.wh]=n.clipShape[t.wh],l[i?"updateProps":"initProps"](r,{shape:s},o,a)))}function UF(e,t){return(e=e.getItemModel(t)).getAnimationDelayParams=ZF,e.isAnimationEnabled=WF,e}function ZF(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function WF(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function jF(e,t,n,i){var r=new ao,o=new ao;return r.add(o),(r.__pictorialBundle=o).x=n.bundlePosition[0],o.y=n.bundlePosition[1],n.symbolRepeat?zF(r,t,n):GF(r,0,n),HF(r,n,i),VF(r,t,n,i),r.__pictorialShapeStr=YF(e,n),r.__pictorialSymbolMeta=n,r}function XF(e,t,n,i){var r=i.__pictorialBarRect,o=(r&&r.removeTextContent(),[]);JF(i,(function(e){o.push(e)})),i.__pictorialMainPath&&o.push(i.__pictorialMainPath),i.__pictorialClipPath&&(n=null),ee(o,(function(e){ku(e,{scaleX:0,scaleY:0},n,t,(function(){i.parent&&i.parent.remove(i)}))})),e.setItemGraphicEl(t,null)}function YF(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function JF(e,t,n){ee(e.__pictorialBundle.children(),(function(i){i!==e.__pictorialBarRect&&t.call(n,i)}))}function KF(e,t,n,i,r,o){t&&e.attr(t),i.symbolClip&&!r?n&&e.attr(n):n&&l[r?"updateProps":"initProps"](e,n,i.animationModel,i.dataIndex,o)}function QF(e,t,n){var i=n.dataIndex,r=n.itemModel,o=r.getModel("emphasis"),a=o.getModel("itemStyle").getItemStyle(),s=r.getModel(["blur","itemStyle"]).getItemStyle(),l=r.getModel(["select","itemStyle"]).getItemStyle(),u=r.getShallow("cursor"),c=o.get("focus"),h=o.get("blurScope"),d=o.get("scale"),p=(JF(e,(function(e){e instanceof Qs?(t=e.style,e.useStyle(X({image:t.image,x:t.x,y:t.y,width:t.width,height:t.height},n.style))):e.useStyle(n.style);var t=e.ensureState("emphasis");t.style=a,d&&(t.scaleX=1.1*e.scaleX,t.scaleY=1.1*e.scaleY),e.ensureState("blur").style=s,e.ensureState("select").style=l,u&&(e.cursor=u),e.z2=n.z2})),t.valueDim.posDesc[+(0<n.boundingLength)]);Ou(e.__pictorialBarRect,Fu(r),{labelFetcher:t.seriesModel,labelDataIndex:i,defaultText:HA(t.seriesModel.getData(),i),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:p}),fu(e,c,h,o.get("disabled"))}function qF(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}_(RF,DF=sy),RF.prototype.render=function(e,t,n){var i=this.group,r=e.getData(),o=this._data,a=e.coordinateSystem,s=a.getBaseAxis().isHorizontal(),l=a.master.getRect(),u={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:a,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:s,valueDim:PF[+s],categoryDim:PF[1-+s]};return r.diff(o).add((function(e){var t,n;r.hasValue(e)&&(t=UF(r,e),t=OF(r,e,t,u),n=jF(r,u,t),r.setItemGraphicEl(e,n),i.add(n),QF(n,u,t))})).update((function(e,t){var n,a,s,l,c,h;t=o.getItemGraphicEl(t);r.hasValue(e)?(n=UF(r,e),n=OF(r,e,n,u),a=YF(r,n),t&&a!==t.__pictorialShapeStr&&(i.remove(t),r.setItemGraphicEl(e,null),t=null),t?(a=t,s=u,c=(l=n).animationModel,h=l.dataIndex,Cu(a.__pictorialBundle,{x:l.bundlePosition[0],y:l.bundlePosition[1]},c,h),(l.symbolRepeat?zF:GF)(a,s,l,!0),HF(a,l,!0),VF(a,s,l,!0)):t=jF(r,u,n,!0),r.setItemGraphicEl(e,t),t.__pictorialSymbolMeta=n,i.add(t),QF(t,u,n)):i.remove(t)})).remove((function(e){var t=o.getItemGraphicEl(e);t&&XF(o,e,t.__pictorialSymbolMeta.animationModel,t)})).execute(),this._data=r,this.group},RF.prototype.remove=function(e,t){var n=this.group,i=this._data;e.get("animation")?i&&i.eachItemGraphicEl((function(t){XF(i,Cl(t).dataIndex,e,t)})):n.removeAll()},RF.type="pictorialBar";var $F,eN=RF;function tN(){var e=null!==$F&&$F.apply(this,arguments)||this;return e.type=tN.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}_(tN,$F=Uy),tN.prototype.getInitialData=function(e){return e.stack=null,$F.prototype.getInitialData.apply(this,arguments)},tN.type="series.pictorialBar",tN.dependencies=["grid"],tN.defaultOption=uc(Uy.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}});var nN,iN=tN;function rN(){var e=null!==nN&&nN.apply(this,arguments)||this;return e.type=rN.type,e._layers=[],e}_(rN,nN=sy),rN.prototype.render=function(e,t,n){var i=e.getData(),r=this,o=this.group,a=e.getLayerSeries(),s=(l=i.getLayout("layoutInfo")).rect,l=l.boundaryGap;function u(e){return e.name}o.x=0,o.y=s.y+l[0];s=new y_(this._layersSeries||[],a,u,u);var c=[];function h(t,n,s){var l=r._layers;if("remove"===t)o.remove(l[n]);else{for(var u,h=[],d=[],p=a[n].indices,f=0;f<p.length;f++){var g=(y=i.getItemLayout(p[f])).x,m=y.y0,y=y.y;h.push(g,m),d.push(g,m+y),u=i.getItemVisual(p[f],"style")}var v,x,_,b,w,S=i.getItemLayout(p[0]),A=e.getModel("label").get("margin"),M=e.getModel("emphasis");(t=("add"===t?(x=c[n]=new ao,v=new dM({shape:{points:h,stackedOnPoints:d,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),x.add(v),o.add(x),e.isAnimationEnabled()&&v.setClipPath((t=v.getBoundingRect(),_=e,b=function(){v.removeClipPath()},Tu(w=new sl({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}}),{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},_,b),w))):(x=l[s],v=x.childAt(0),o.add(x),c[n]=x,Cu(v,{shape:{points:h,stackedOnPoints:d}},e),Eu(v)),Ou(v,Fu(e),{labelDataIndex:p[f-1],defaultText:i.getName(p[f-1]),inheritColor:u.fill},{normal:{verticalAlign:"middle"}}),v.setTextConfig({position:null,local:!0}),v.getTextContent()))&&(t.x=S.x-A,t.y=S.y0+S.y/2),v.useStyle(u),i.setItemGraphicEl(n,v),vu(v,e),fu(v,M.get("focus"),M.get("blurScope"),M.get("disabled"))}}s.add(ae(h,this,"add")).update(ae(h,this,"update")).remove(ae(h,this,"remove")).execute(),this._layersSeries=a,this._layers=c},rN.type="themeRiver";var oN,aN=rN;function sN(){var e=null!==oN&&oN.apply(this,arguments)||this;return e.type=sN.type,e}_(sN,oN=Pf),sN.prototype.init=function(e){oN.prototype.init.apply(this,arguments),this.legendVisualProvider=new BC(ae(this.getData,this),ae(this.getRawData,this))},sN.prototype.fixData=function(e){for(var t=e.length,n={},i=la(e,(function(e){return n.hasOwnProperty(e[0]+"")||(n[e[0]+""]=-1),e[2]})),r=[],o=(i.buckets.each((function(e,t){r.push({name:t,dataList:e})})),r.length),a=0;a<o;++a){for(var s=r[a].name,l=0;l<r[a].dataList.length;++l){var u=r[a].dataList[l][0]+"";n[u]=a}for(u in n)n.hasOwnProperty(u)&&n[u]!==a&&(n[u]=a,e[t]=[u,0,s],t++)}return e},sN.prototype.getInitialData=function(e,t){for(var n=this.getReferringComponents("singleAxis",ra).models[0].get("type"),i=(e=ie(e.data,(function(e){return void 0!==e[2]})),this.fixData(e||[])),r=[],o=this.nameMap=Pe(),a=0,s=0;s<i.length;++s)r.push(i[s][2]),o.get(i[s][2])||(o.set(i[s][2],a),a++);return e=W_(i,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:b_(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,(n=new U_(e,this)).initData(i),n},sN.prototype.getLayerSeries=function(){for(var e=this.getData(),t=e.count(),n=[],i=0;i<t;++i)n[i]=i;var r=e.mapDimension("single"),o=la(n,(function(t){return e.get("name",t)})),a=[];return o.buckets.each((function(t,n){t.sort((function(t,n){return e.get(r,t)-e.get(r,n)})),a.push({name:n,indices:t})})),a},sN.prototype.getAxisTooltipData=function(e,t,n){le(e)||(e=e?[e]:[]);for(var i,r=this.getData(),o=this.getLayerSeries(),a=[],s=o.length,l=0;l<s;++l){for(var u=Number.MAX_VALUE,c=-1,h=o[l].indices.length,d=0;d<h;++d){var p=r.get(e[0],o[l].indices[d]),f=Math.abs(p-t);f<=u&&(i=p,u=f,c=o[l].indices[d])}a.push(c)}return{dataIndices:a,nestestValue:i}},sN.prototype.formatTooltip=function(e,t,n){var i=this.getData();return lf("nameValue",{name:i.getName(e),value:i.get(i.mapDimension("value"),e)})},sN.type="series.themeRiver",sN.dependencies=["singleAxis"],sN.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}};var lN,uN=sN;function cN(e,t){e.eachSeriesByType("themeRiver",(function(e){var t=e.getData(),n={},i=(o=e.coordinateSystem).getRect(),r=(n.rect=i,e.get("boundaryGap")),o=o.getAxis();n.boundaryGap=r,"horizontal"===o.orient?(r[0]=_o(r[0],i.height),r[1]=_o(r[1],i.height),hN(t,e,i.height-r[0]-r[1])):(r[0]=_o(r[0],i.width),r[1]=_o(r[1],i.width),hN(t,e,i.width-r[0]-r[1])),t.setLayout("layoutInfo",n)}))}function hN(e,t,n){if(e.count())for(var i,r=t.coordinateSystem,o=t.getLayerSeries(),a=e.mapDimension("single"),s=e.mapDimension("value"),l=te(o,(function(t){return te(t.indices,(function(t){var n=r.dataToPoint(e.get(a,t));return n[1]=e.get(s,t),n}))})),u=(t=function(e){for(var t=e.length,n=e[0].length,i=[],r=[],o=0,a=0;a<n;++a){for(var s=0,l=0;l<t;++l)s+=e[l][a][1];o<s&&(o=s),i.push(s)}for(var u=0;u<n;++u)r[u]=(o-i[u])/2;for(var c=o=0;c<n;++c){var h=i[c]+r[c];o<h&&(o=h)}return{y0:r,max:o}}(l),t.y0),c=n/t.max,h=o.length,d=o[0].indices.length,p=0;p<d;++p){i=u[p]*c,e.setItemLayout(o[0].indices[p],{layerIndex:0,x:l[0][p][0],y0:i,y:l[0][p][1]*c});for(var f=1;f<h;++f)i+=l[f-1][p][1]*c,e.setItemLayout(o[f].indices[p],{layerIndex:f,x:l[f][p][0],y0:i,y:l[f][p][1]*c})}}function dN(e,t,n,i){var r=lN.call(this)||this,o=(r.z2=2,r.textConfig={inside:!0},Cl(r).seriesIndex=t.seriesIndex,new Ml({z2:4,silent:e.getModel().get(["label","silent"])}));return r.setTextContent(o),r.updateData(!0,e,t,n,i),r}_(dN,lN=Bg),dN.prototype.updateData=function(e,t,n,i,r){(this.node=t).piece=this,n=n||this._seriesModel,i=i||this._ecModel;var o=this,a=(Cl(o).dataIndex=t.dataIndex,t.getModel()),s=a.getModel("emphasis"),l=t.getLayout(),u=X({},l),c=(u.label=null,t.getVisual("style")),h=((h=(c.lineJoin="bevel",t.getVisual("decal")))&&(c.decal=Lv(h,r)),bC(a.getModel("itemStyle"),u,!0));X(u,h),ee(Bl,(function(e){var t=o.ensureState(e);e=a.getModel([e,"itemStyle"]);(e=(t.style=e.getItemStyle(),bC(e,u)))&&(t.shape=e)})),e?(o.setShape(u),o.shape.r=l.r0,Cu(o,{shape:{r:l.r}},n,t.dataIndex)):(Cu(o,{shape:u},n),Eu(o)),o.useStyle(c),this._updateLabel(n),r=a.getShallow("cursor");fu(this,"ancestor"===(h=(r&&o.attr("cursor",r),this._seriesModel=n||this._seriesModel,this._ecModel=i||this._ecModel,s.get("focus")))?t.getAncestorsIndices():"descendant"===h?t.getDescendantIndices():h,s.get("blurScope"),s.get("disabled"))},dN.prototype._updateLabel=function(e){var t=this,n=this.node.getModel(),i=n.getModel("label"),r=this.node.getLayout(),o=r.endAngle-r.startAngle,a=(r.startAngle+r.endAngle)/2,s=Math.cos(a),l=Math.sin(a),u=this,c=u.getTextContent(),h=this.node.dataIndex,d=i.get("minAngle")/180*Math.PI;d=i.get("show")&&!(null!=d&&Math.abs(o)<d);function p(e,t){return null==(e=e.get(t))?i.get(t):e}c.ignore=!d,ee(El,(function(i){var d,f="normal"===i?n.getModel("label"):n.getModel([i,"label"]),g=(y="normal"===i)?c:c.ensureState(i),m=e.getFormattedLabel(h,i),y=(m=(null==(m=(y&&(m=m||t.node.name),g.style=Nu(f,{},null,"normal"!==i,!0),m&&(g.style.text=m),f.get("show")))||y||(g.ignore=!m),p(f,"position")),i=(y=y?u:u.states[i]).style.fill,y.textConfig={outsideFill:"inherit"===f.get("color")?i:null,inside:"outside"!==m},p(f,"distance")||0);i=p(f,"align"),"outside"===m?(d=r.r+y,i=a>Math.PI/2?"right":"left"):i&&"center"!==i?"left"===i?(d=r.r0+y,a>Math.PI/2&&(i="right")):"right"===i&&(d=r.r-y,a>Math.PI/2&&(i="left")):(d=o==2*Math.PI&&0===r.r0?0:(r.r+r.r0)/2,i="center"),g.style.align=i,g.style.verticalAlign=p(f,"verticalAlign")||"middle",g.x=d*s+r.cx,g.y=d*l+r.cy,m=p(f,"rotate"),y=0;"radial"===m?(y=-a)<-Math.PI/2&&(y+=Math.PI):"tangential"===m?(y=Math.PI/2-a)>Math.PI/2?y-=Math.PI:y<-Math.PI/2&&(y+=Math.PI):de(m)&&(y=m*Math.PI/180),g.rotation=y})),c.dirtyStyle()};var pN,fN=dN,gN="sunburstRootToNode",mN="sunburstHighlight";function yN(){var e=null!==pN&&pN.apply(this,arguments)||this;return e.type=yN.type,e}_(yN,pN=sy),yN.prototype.render=function(e,t,n,i){var r,o,a,s=this,l=(this.seriesModel=e,this.api=n,this.ecModel=t,e.getData()),u=l.tree.root,c=e.getViewRoot(),h=this.group,d=e.get("renderLabelForZeroData"),p=[],f=(c.eachNode((function(e){p.push(e)})),this._oldChildren||[]);function g(e){return e.getId()}function m(i,a){if(i=null==i?null:r[i],a=null==a?null:o[a],(i=d||!i||i.getValue()?i:null)!==u&&a!==u)if(a&&a.piece){if(i)return a.piece.updateData(!1,i,e,t,n),void l.setItemGraphicEl(i.dataIndex,a.piece);var s=a;s&&s.piece&&(h.remove(s.piece),s.piece=null)}else i&&(a=new fN(i,e,t,n),h.add(a),l.setItemGraphicEl(i.dataIndex,a))}o=f,0===(r=p).length&&0===o.length||new y_(o,r,g,g).add(m).update(m).remove(se(m,null)).execute(),f=u,0<(a=c).depth?(s.virtualPiece?s.virtualPiece.updateData(!1,f,e,t,n):(s.virtualPiece=new fN(f,e,t,n),h.add(s.virtualPiece)),a.piece.off("click"),s.virtualPiece.on("click",(function(e){s._rootToNode(a.parentNode)}))):s.virtualPiece&&(h.remove(s.virtualPiece),s.virtualPiece=null),this._initEvents(),this._oldChildren=p},yN.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",(function(t){var n=!1;e.seriesModel.getViewRoot().eachNode((function(i){var r;!n&&i.piece&&i.piece===t.target&&("rootToNode"===(r=i.getModel().get("nodeClick"))?e._rootToNode(i):"link"===r&&(i=(r=i.getModel()).get("link"))&&oh(i,r.get("target",!0)||"_blank"),n=!0)}))}))},yN.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:gN,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},yN.prototype.containPoint=function(e,t){var n;if(t=t.getData().getItemLayout(0))return n=e[0]-t.cx,e=e[1]-t.cy,(n=Math.sqrt(n*n+e*e))<=t.r&&n>=t.r0},yN.type="sunburst";var vN,xN=yN;function _N(){var e=null!==vN&&vN.apply(this,arguments)||this;return e.type=_N.type,e.ignoreStyleOnData=!0,e}_(_N,vN=Pf),_N.prototype.getInitialData=function(e,t){var n={name:e.name,children:e.data},i=(function e(t){var n=0;ee(t.children,(function(t){e(t),le(t=t.value)&&(t=t[0]),n+=t}));var i=t.value;le(i)&&(i=i[0]),null!=i&&!isNaN(i)||(i=n),i<0&&(i=0),le(t.value)?t.value[0]=i:t.value=i}(n),this._levelModels=te(e.levels||[],(function(e){return new ac(e,this,t)}),this)),r=KD.createTree(n,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){return t=r.getNodeByDataIndex(t),(t=i[t.depth])&&(e.parentModel=t),e}))}));return r.data},_N.prototype.optionUpdated=function(){this.resetViewRoot()},_N.prototype.getDataParams=function(e){var t=vN.prototype.getDataParams.apply(this,arguments);e=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=eB(e,this),t},_N.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},_N.prototype.getViewRoot=function(){return this._viewRoot},_N.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},_N.prototype.enableAriaDecal=function(){lB(this)},_N.type="series.sunburst",_N.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"};var bN=_N,wN=Math.PI/180;function SN(e,t,n){t.eachSeriesByType(e,(function(e){var t=e.get("center"),i=(le(m=e.get("radius"))||(m=[0,m]),le(t)||(t=[t,t]),n.getWidth()),r=n.getHeight(),o=Math.min(i,r),a=_o(t[0],i),s=_o(t[1],r),l=_o(m[0],o/2),u=(i=_o(m[1],o/2),t=-e.get("startAngle")*wN,e.get("minAngle")*wN),c=e.getData().tree.root,h=(r=e.getViewRoot()).depth,d=(null!=(m=e.get("sort"))&&function e(t,n){var i=t.children||[];t.children=function(e,t){var n,i;return ue(t)?((n=te(e,(function(e,t){var n=e.getValue();return{params:{depth:e.depth,height:e.height,dataIndex:e.dataIndex,getValue:function(){return n}},index:t}}))).sort((function(e,n){return t(e.params,n.params)})),te(n,(function(t){return e[t.index]}))):(i="asc"===t,e.sort((function(e,t){var n=(e.getValue()-t.getValue())*(i?1:-1);return 0==n?(e.dataIndex-t.dataIndex)*(i?-1:1):n})))}(i,n),i.length&&ee(t.children,(function(t){e(t,n)}))}(r,m),0),p=(ee(r.children,(function(e){isNaN(e.getValue())||d++})),r.getValue()),f=Math.PI/(p||d)*2,g=0<r.depth,m=r.height-(g?-1:1),y=(i-l)/(m||1),v=e.get("clockwise"),x=e.get("stillShowZeroSum"),_=v?1:-1;g&&(i=2*Math.PI,c.setLayout({angle:i,startAngle:t,endAngle:t+i,clockwise:v,cx:a,cy:s,r0:l,r:l+y})),function t(n,i){var r,d,m,b,w,S,A,M;if(n)return r=i,n!==c&&(d=n.getValue(),r=i+_*(d=(d=0===p&&x?f:d*f)<u?u:d),b=n.depth-h-(g?-1:1),m=l+y*b,b=l+y*(1+b),(A=e.getLevelModel(n))&&(w=A.get("r0",!0),S=A.get("r",!0),null!=(A=A.get("radius",!0))&&(w=A[0],S=A[1]),null!=w&&(m=_o(w,o/2)),null!=S&&(b=_o(S,o/2))),n.setLayout({angle:d,startAngle:i,endAngle:r,clockwise:v,cx:a,cy:s,r0:m,r:b})),n.children&&n.children.length&&(M=0,ee(n.children,(function(e){M+=t(e,i+M)}))),r-i}(r,t)}))}function AN(e){var t={};e.eachSeriesByType("sunburst",(function(e){var n=e.getData(),i=n.tree;i.eachNode((function(r){var o=r.getModel().getModel("itemStyle").getItemStyle();o.fill||(o.fill=function(e,n,i){for(var r=e;r&&1<r.depth;)r=r.parentNode;return n=n.getColorFromPalette(r.name||r.dataIndex+"",t),1<e.depth&&ce(n)?$n(n,(e.depth-1)/(i-1)*.5):n}(r,e,i.root.height)),X(n.ensureUniqueItemVisual(r.dataIndex,"style"),o)}))}))}var MN,CN={color:"fill",borderColor:"stroke"},TN={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},IN=ea();function kN(){var e=null!==MN&&MN.apply(this,arguments)||this;return e.type=kN.type,e}_(kN,MN=Pf),kN.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},kN.prototype.getInitialData=function(e,t){return q_(null,this)},kN.prototype.getDataParams=function(e,t,n){return e=MN.prototype.getDataParams.call(this,e,t),n&&(e.info=IN(n).info),e},kN.type="series.custom",kN.dependencies=["grid","polar","geo","singleAxis","calendar"],kN.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1};var DN=kN;function BN(e,t){return t=t||[0,0],te(["x","y"],(function(n,i){n=this.getAxis(n);var r=t[i];i=e[i]/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(r-i)-n.dataToCoord(r+i))}),this)}function EN(e,t){return t=t||[0,0],te([0,1],(function(n){var i=t[n],r=e[n]/2,o=[],a=[];return o[n]=i-r,a[n]=i+r,o[1-n]=a[1-n]=t[1-n],Math.abs(this.dataToPoint(o)[n]-this.dataToPoint(a)[n])}),this)}function PN(e,t){var n=this.getAxis();t=t instanceof Array?t[0]:t,e=(e instanceof Array?e[0]:e)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(t-e)-n.dataToCoord(t+e))}function LN(e,t){return t=t||[0,0],te(["Radius","Angle"],(function(n,i){var r=this["get"+n+"Axis"](),o=t[i];i=e[i]/2,r="category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-i)-r.dataToCoord(o+i));return"Angle"===n?r*Math.PI/180:r}),this)}function RN(e,t,n,i){return e&&(e.legacy||!1!==e.legacy&&!n&&!i&&"tspan"!==t&&("text"===t||Fe(e,"text")))}function ON(e,t,n){var i,r,o,a=e;return"text"===t?i=a:(i={},Fe(a,"text")&&(i.text=a.text),Fe(a,"rich")&&(i.rich=a.rich),Fe(a,"textFill")&&(i.fill=a.textFill),Fe(a,"textStroke")&&(i.stroke=a.textStroke),Fe(a,"fontFamily")&&(i.fontFamily=a.fontFamily),Fe(a,"fontSize")&&(i.fontSize=a.fontSize),Fe(a,"fontStyle")&&(i.fontStyle=a.fontStyle),Fe(a,"fontWeight")&&(i.fontWeight=a.fontWeight),r={type:"text",style:i,silent:!0},o={},t=Fe(a,"textPosition"),n?o.position=t?a.textPosition:"inside":t&&(o.position=a.textPosition),Fe(a,"textPosition")&&(o.position=a.textPosition),Fe(a,"textOffset")&&(o.offset=a.textOffset),Fe(a,"textRotation")&&(o.rotation=a.textRotation),Fe(a,"textDistance")&&(o.distance=a.textDistance)),FN(i,e),ee(i.rich,(function(e){FN(e,e)})),{textConfig:o,textContent:r}}function FN(e,t){t&&(t.font=t.textFont||t.font,Fe(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth),Fe(t,"textAlign")&&(e.align=t.textAlign),Fe(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign),Fe(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight),Fe(t,"textWidth")&&(e.width=t.textWidth),Fe(t,"textHeight")&&(e.height=t.textHeight),Fe(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor),Fe(t,"textPadding")&&(e.padding=t.textPadding),Fe(t,"textBorderColor")&&(e.borderColor=t.textBorderColor),Fe(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth),Fe(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius),Fe(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor),Fe(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur),Fe(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX),Fe(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY))}function NN(e,t,n){var i=e,r=(i.textPosition=i.textPosition||n.position||"inside",null!=n.offset&&(i.textOffset=n.offset),null!=n.rotation&&(i.textRotation=n.rotation),null!=n.distance&&(i.textDistance=n.distance),0<=i.textPosition.indexOf("inside")),o=e.fill||"#000",a=(zN(i,t),null==i.textFill);return r?a&&(i.textFill=n.insideFill||"#fff",!i.textStroke&&n.insideStroke&&(i.textStroke=n.insideStroke),i.textStroke||(i.textStroke=o),null==i.textStrokeWidth&&(i.textStrokeWidth=2)):(a&&(i.textFill=e.fill||n.outsideFill||"#000"),!i.textStroke&&n.outsideStroke&&(i.textStroke=n.outsideStroke)),i.text=t.text,i.rich=t.rich,ee(t.rich,(function(e){zN(e,e)})),i}function zN(e,t){t&&(Fe(t,"fill")&&(e.textFill=t.fill),Fe(t,"stroke")&&(e.textStroke=t.fill),Fe(t,"lineWidth")&&(e.textStrokeWidth=t.lineWidth),Fe(t,"font")&&(e.font=t.font),Fe(t,"fontStyle")&&(e.fontStyle=t.fontStyle),Fe(t,"fontWeight")&&(e.fontWeight=t.fontWeight),Fe(t,"fontSize")&&(e.fontSize=t.fontSize),Fe(t,"fontFamily")&&(e.fontFamily=t.fontFamily),Fe(t,"align")&&(e.textAlign=t.align),Fe(t,"verticalAlign")&&(e.textVerticalAlign=t.verticalAlign),Fe(t,"lineHeight")&&(e.textLineHeight=t.lineHeight),Fe(t,"width")&&(e.textWidth=t.width),Fe(t,"height")&&(e.textHeight=t.height),Fe(t,"backgroundColor")&&(e.textBackgroundColor=t.backgroundColor),Fe(t,"padding")&&(e.textPadding=t.padding),Fe(t,"borderColor")&&(e.textBorderColor=t.borderColor),Fe(t,"borderWidth")&&(e.textBorderWidth=t.borderWidth),Fe(t,"borderRadius")&&(e.textBorderRadius=t.borderRadius),Fe(t,"shadowColor")&&(e.textBoxShadowColor=t.shadowColor),Fe(t,"shadowBlur")&&(e.textBoxShadowBlur=t.shadowBlur),Fe(t,"shadowOffsetX")&&(e.textBoxShadowOffsetX=t.shadowOffsetX),Fe(t,"shadowOffsetY")&&(e.textBoxShadowOffsetY=t.shadowOffsetY),Fe(t,"textShadowColor")&&(e.textShadowColor=t.textShadowColor),Fe(t,"textShadowBlur")&&(e.textShadowBlur=t.textShadowBlur),Fe(t,"textShadowOffsetX")&&(e.textShadowOffsetX=t.textShadowOffsetX),Fe(t,"textShadowOffsetY")&&(e.textShadowOffsetY=t.textShadowOffsetY))}var GN={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},HN=oe(GN),VN=(ne(Mr,(function(e,t){return e[t]=1,e}),{}),Mr.join(", "),["","style","shape","extra"]),UN=ea();function ZN(e,t,n,i,r){var o=e+"Animation";i=Au(e,i,r)||{},r=UN(t).userDuring;return 0<i.duration&&(i.during=r?ae(QN,{el:t,userDuring:r}):null,i.setToFinal=!0,i.scope=e),X(i,n[o]),i}function WN(e,t,n,i){for(var r,o=(i=i||{}).dataIndex,a=i.isInit,s=(i=i.clearStyle,n.isAnimationEnabled()),l=UN(e),u=t.style,c=(l=(l.userDuring=t.during,{}),{}),h=t,d=c,p=0;p<HN.length;p++){var f=HN[p],g=GN[f];(f=h[f])&&(d[g[0]]=f[0],d[g[1]]=f[1])}for(p=0;p<Mr.length;p++){var m=Mr[p];null!=h[m]&&(d[m]=h[m])}if($N("shape",t,c),$N("extra",t,c),!a&&s){for(var y=e,v=t,x=l,_=YN(v=t.transition)?Mr:Uo(v||[]),b=0;b<_.length;b++){var w,S=_[b];"style"!==S&&"shape"!==S&&"extra"!==S&&(w=y[S],x[S]=w)}qN("shape",e,t,l),qN("extra",e,t,l);v=e;var A=t,M=u,C=l;if(M){var T,I=v.style;if(I){var k=M.transition;A=A.transition;if(k&&!YN(k)){var D=Uo(k);T=T||(C.style={});for(var B=0;B<D.length;B++){var E=D[B],P=I[E];T[E]=P}}else if(v.getAnimationStyleProps&&(YN(A)||YN(k)||0<=K(A,"style"))){var L=(k=v.getAnimationStyleProps())?k.style:null;if(L){T=T||(C.style={});var R=oe(M);for(B=0;B<R.length;B++)L[E=R[B]]&&(P=I[E],T[E]=P)}}}}}c.style=u;var O=e;v=i,k=(A=c).style;if(!O.isGroup&&k){if(v){O.useStyle({});for(var F=O.animators,N=0;N<F.length;N++){var z=F[N];"style"===z.targetName&&z.changeTarget(O.style)}}O.setStyle(k)}A&&(A.style=null,A&&O.attr(A),A.style=k),C=e,Fe(M=t,"silent")&&(C.silent=M.silent),Fe(M,"ignore")&&(C.ignore=M.ignore),C instanceof Wa&&Fe(M,"invisible")&&(C.invisible=M.invisible),C instanceof Us&&Fe(M,"autoBatch")&&(C.autoBatch=M.autoBatch),s&&(a?(r={},ee(VN,(function(e){var n=e?t[e]:t;n&&n.enterFrom&&(e&&(r[e]=r[e]||{}),X(e?r[e]:r,n.enterFrom))})),0<(c=ZN("enter",e,t,n,o)).duration&&e.animateFrom(r,c)):(i=e,s=t,a=o||0,c=n,(o=l)&&0<(s=ZN("update",i,s,c,a)).duration&&i.animateFrom(o,s))),jN(e,t),u?e.dirty():e.markRedraw()}function jN(e,t){for(var n=UN(e).leaveToProps,i=0;i<VN.length;i++){var r=VN[i],o=r?t[r]:t;o&&o.leaveTo&&(n=n||(UN(e).leaveToProps={}),r&&(n[r]=n[r]||{}),X(r?n[r]:n,o.leaveTo))}}function XN(e,t,n,i){var r,o;e&&(r=e.parent,(o=UN(e).leaveToProps)?((t=ZN("update",e,t,n,0)).done=function(){r.remove(e),i&&i()},e.animateTo(o,t)):(r.remove(e),i&&i()))}function YN(e){return"all"===e}var JN={},KN={setTransform:function(e,t){return JN.el[e]=t,this},getTransform:function(e){return JN.el[e]},setShape:function(e,t){var n=JN.el;return(n.shape||(n.shape={}))[e]=t,n.dirtyShape&&n.dirtyShape(),this},getShape:function(e){var t=JN.el.shape;if(t)return t[e]},setStyle:function(e,t){var n=JN.el,i=n.style;return i&&(i[e]=t,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(e){var t=JN.el.style;if(t)return t[e]},setExtra:function(e,t){return(JN.el.extra||(JN.el.extra={}))[e]=t,this},getExtra:function(e){var t=JN.el.extra;if(t)return t[e]}};function QN(){var e,t=this.el;t&&(UN(t).userDuring!==(e=this.userDuring)?this.el=this.userDuring=null:(JN.el=t,e(KN)))}function qN(e,t,n,i){var r=n[e];if(r){var o,a,s=t[e];if(s)if(t=n.transition,n=r.transition)if(h=h||(i[e]={}),YN(n))X(h,s);else for(var l=Uo(n),u=0;u<l.length;u++){var c=s[p=l[u]];h[p]=c}else if(YN(t)||0<=K(t,e)){var h=h||(i[e]={}),d=oe(s);for(u=0;u<d.length;u++){var p;a=c=s[p=d[u]],($(o=r[p])?o!==a:null!=o&&isFinite(o))&&(h[p]=c)}}}}function $N(e,t,n){var i=t[e];if(i)for(var r=n[e]={},o=oe(i),a=0;a<o.length;a++){var s=o[a];r[s]=Ii(i[s])}}var ez=ea(),tz=["percent","easing","shape","style","extra"];function nz(e){e.stopAnimation("keyframe"),e.attr(ez(e))}function iz(e,t,n){var i,r,o,a;n.isAnimationEnabled()&&t&&(le(t)?ee(t,(function(t){iz(e,t,n)})):(i=t.keyframes,o=t.duration,n&&null==o&&(r=Au("enter",n,0),o=r&&r.duration),i&&o&&(a=ez(e),ee(VN,(function(n){var r;n&&!e[n]||(i.sort((function(e,t){return e.percent-t.percent})),ee(i,(function(i){var s=e.animators,l=n?i[n]:i;if(l){var u=oe(l);if((u=n?u:ie(u,(function(e){return K(tz,e)<0}))).length){r||((r=e.animate(n,t.loop,!0)).scope="keyframe");for(var c=0;c<s.length;c++)s[c]!==r&&s[c].targetName===r.targetName&&s[c].stopTracks(u);n&&(a[n]=a[n]||{});var h=n?a[n]:a;ee(u,(function(t){h[t]=((n?e[n]:e)||{})[t]})),r.whenWithKeys(o*i.percent,l,u,i.easing)}}})),r&&r.delay(t.delay||0).duration(o).start(t.easing))})))))}var rz,oz="emphasis",az="normal",sz=[az,oz,"blur",iv="select"],lz={normal:["itemStyle"],emphasis:[oz,"itemStyle"],blur:["blur","itemStyle"],select:[iv,"itemStyle"]},uz={normal:["label"],emphasis:[oz,"label"],blur:["blur","label"],select:[iv,"label"]},cz=["x","y"],hz={normal:{},emphasis:{},blur:{},select:{}},dz={cartesian2d:function(e){var t=e.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:ae(BN,e)}}},geo:function(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(t){return e.dataToPoint(t)},size:ae(EN,e)}}},singleAxis:function(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:ae(PN,e)}}},polar:function(e){var t=e.getRadiusAxis(),n=e.getAngleAxis(),i=t.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:i[1],r0:i[0]},api:{coord:function(i){var r,o=t.dataToRadius(i[0]);i=n.dataToAngle(i[1]);return(r=e.coordToPoint([o,i])).push(o,i*Math.PI/180),r},size:ae(LN,e)}}},calendar:function(e){var t=e.getRect(),n=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(t,n){return e.dataToPoint(t,n)}}}}};function pz(e){return e instanceof Us}function fz(e){return e instanceof Wa}function gz(){var e=null!==rz&&rz.apply(this,arguments)||this;return e.type=gz.type,e}_(gz,rz=sy),gz.prototype.render=function(e,t,n,i){this._progressiveEls=null;var r=this._data,o=e.getData(),a=this.group,s=_z(e,o,t,n);r||a.removeAll(),o.diff(r).add((function(t){bz(n,null,t,s(t,i),e,a,o)})).remove((function(t){XN(t=r.getItemGraphicEl(t),IN(t).option,e)})).update((function(t,l){l=r.getItemGraphicEl(l),bz(n,l,t,s(t,i),e,a,o)})).execute(),t=e.get("clip",!0)?mM(e.coordinateSystem,!1,e):null;t?a.setClipPath(t):a.removeClipPath(),this._data=o},gz.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll(),this._data=null},gz.prototype.incrementalRender=function(e,t,n,i,r){var o=t.getData(),a=_z(t,o,n,i),s=this._progressiveEls=[];function l(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}for(var u=e.start;u<e.end;u++){var c=bz(null,null,u,a(u,r),t,this.group,o);c&&(c.traverse(l),s.push(c))}},gz.prototype.eachRendered=function(e){qm(this._progressiveEls||this.group,e)},gz.prototype.filterForExposedEvent=function(e,t,n,i){var r=t.element;if(null==r||n.name===r)return!0;for(;(n=n.__hostTarget||n.parent)&&n!==this.group;)if(n.name===r)return!0;return!1},gz.type="custom";var mz=gz;function yz(e){var t=e.type;if("path"===t){var n=e.shape,i=null!=n.width&&null!=n.height?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,r=Dz(n);i=Em(r,null,i,n.layout||"center");IN(i).customPathData=r}else if("image"===t)i=new Qs({}),IN(i).customImagePath=e.style.image;else if("text"===t)i=new Ml({});else if("group"===t)i=new ao;else{if("compoundPath"===t)throw new Error('"compoundPath" is not supported yet.');(n=Bm(t))||Sp(""),i=new n}return IN(i).customGraphicType=t,i.name=e.name,i.z2EmphasisLift=1,i.z2SelectLift=1,i}function vz(e,t,n,i,r,o,a){var s,l;nz(t),(r=((r=r&&r.normal.cfg)&&t.setTextConfig(r),i&&null==i.transition&&(i.transition=cz),i&&i.style))&&(l=void("text"===t.type&&(Fe(l=r,"textFill")&&(l.fill=l.textFill),Fe(l,"textStroke")&&(l.stroke=l.textStroke))),s=pz(t)?r.decal:null,e&&s&&(s.dirty=!0,l=Lv(s,e)),r.__decalPattern=l),fz(t)&&r&&(l=r.__decalPattern)&&(r.decal=l),WN(t,i,o,{dataIndex:n,isInit:a,clearStyle:!0}),iz(t,i.keyframeAnimation,o)}function xz(e,t,n,i,r){var o;t=t.isGroup?null:t,r=r&&r[e].cfg;t&&(o=t.ensureState(e),!1===i?(e=t.getState(e))&&(e.style=null):o.style=i||null,r&&(o.textConfig=r),ql(t))}function _z(e,t,n,i){for(var r,o,a,s,l=e.get("renderItem"),u=e.coordinateSystem,c={},h=(u&&(c=u.prepareCustoms?u.prepareCustoms(u):dz[u.type](u)),Y({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(e,n){return null==n&&(n=a),t.getStore().get(t.getDimensionIndex(e||0),n)},style:function(n,i){null==i&&(i=a);var r=(o=t.getItemVisual(i,"style"))&&o.fill,o=o&&o.opacity,s=_(i,az).getItemStyle(),l=(o=(null!=r&&(s.fill=r),null!=o&&(s.opacity=o),{inheritColor:ce(r)?r:"#000"}),Nu(r=b(i,az),null,o,!1,!0));l.text=r.getShallow("show")?we(e.getFormattedLabel(i,az),HA(t,i)):null,i=zu(r,o,!1);return S(n,s),s=NN(s,l,i),n&&w(s,n),s.legacy=!0,s},ordinalRawValue:function(e,n){null==n&&(n=a),e=e||0;var i=t.getDimensionInfo(e);return i?(e=t.get(i.name,n),(n=i&&i.ordinalMeta)?n.categories[e]:e):0<=(e=t.getDimensionIndex(e))?t.getStore().get(e,n):void 0},styleEmphasis:function(n,i){var r=_(i=null==i?a:i,oz).getItemStyle(),o=b(i,oz),s=Nu(o,null,null,!0,!0);s.text=o.getShallow("show")?Se(e.getFormattedLabel(i,oz),e.getFormattedLabel(i,az),HA(t,i)):null,i=zu(o,null,!0);return S(n,r),r=NN(r,s,i),n&&w(r,n),r.legacy=!0,r},visual:function(e,n){var i;return null==n&&(n=a),Fe(CN,e)?(i=t.getItemVisual(n,"style"))?i[CN[e]]:null:Fe(TN,e)?t.getItemVisual(n,e):void 0},barLayout:function(e){if("cartesian2d"===u.type)return function(e){var t=[],n=e.axis;if("category"===n.type){for(var i=n.getBandWidth(),r=0;r<e.count;r++)t.push(Y({bandWidth:i,axisKey:"axis0",stackId:wb+r},e));var o=Tb(t),a=[];for(r=0;r<e.count;r++){var s=o.axis0[wb+r];s.offsetCenter=s.offset+s.width/2,a.push(s)}return a}}(Y({axis:u.getBaseAxis()},e))},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(e){return Zu(e,n)}},c.api||{})),d={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:c.coordSys,dataInsideLength:t.count(),encode:(r=e.getData(),o={},ee(r.dimensions,(function(e){var t,n=r.getDimensionInfo(e);n.isExtraCoord||(t=n.coordDim,(o[t]=o[t]||[])[n.coordDimIndex]=r.getDimensionIndex(e))})),o)},p={},f={},g={},m={},y=0;y<sz.length;y++){var v=sz[y];g[v]=e.getModel(lz[v]),m[v]=e.getModel(uz[v])}function x(e){return e===a?s=s||t.getItemModel(e):t.getItemModel(e)}function _(e,n){return t.hasItemOption?e===a?p[n]||(p[n]=x(e).getModel(lz[n])):x(e).getModel(lz[n]):g[n]}function b(e,n){return t.hasItemOption?e===a?f[n]||(f[n]=x(e).getModel(uz[n])):x(e).getModel(uz[n]):m[n]}return function(e,n){return a=e,s=null,p={},f={},l&&l(Y({dataIndexInside:e,dataIndex:t.getRawIndex(e),actionType:n?n.type:null},d),h)};function w(e,t){for(var n in t)Fe(t,n)&&(e[n]=t[n])}function S(e,t){e&&(e.textFill&&(t.textFill=e.textFill),e.textPosition&&(t.textPosition=e.textPosition))}}function bz(e,t,n,i,r,o,a){if(i)return(e=wz(e,t,n,i,r,o))&&a.setItemGraphicEl(n,e),e&&fu(e,i.focus,i.blurScope,i.emphasisDisabled),e;o.remove(t)}function wz(e,t,n,i,r,o){var a=-1,s=t,l=(t&&Sz(t,i,r)&&(a=K(o.childrenRef(),t),t=null),!t),u=t,c=(s=(u?u.clearStates():(u=yz(i),s&&(t=s,(s=u).copyTransform(t),fz(s)&&fz(t)&&(s.setStyle(t.style),s.z=t.z,s.z2=t.z2,s.zlevel=t.zlevel,s.invisible=t.invisible,s.ignore=t.ignore,pz(s)&&pz(t)&&s.setShape(t.shape)))),!1===i.morph?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),hz.normal.cfg=hz.normal.conOpt=hz.emphasis.cfg=hz.emphasis.conOpt=hz.blur.cfg=hz.blur.conOpt=hz.select.cfg=hz.select.conOpt=null,hz.isLegacy=!1,u),t=n,i),h=r,d=l,p=hz;if(!s.isGroup){Az(c,null,p),Az(c,oz,p);var f=p.normal.conOpt,g=(c=p.emphasis.conOpt,p.blur.conOpt),m=p.select.conOpt;if(null!=f||null!=c||null!=m||null!=g){var y=s.getTextContent();if(!1===f)y&&s.removeTextContent();else{f=p.normal.conOpt=f||{type:"text"},y?y.clearStates():(y=yz(f),s.setTextContent(y)),vz(null,y,t,f,null,h,d);c=f&&f.style;for(var v=0;v<sz.length;v++){var x=sz[v];x!==az&&xz(x,y,0,Cz(f,p[x].conOpt,x),null)}c?y.dirty():y.markRedraw()}}}m=u,g=n,t=r,h=l,!1===(s=(s=i).clipPath)?m&&m.getClipPath()&&m.removeClipPath():s&&((d=(d=m.getClipPath())&&Sz(d,s,t)?null:d)||(d=yz(s),m.setClipPath(d)),vz(null,d,g,s,null,t,h)),vz(e,u,n,i,hz,r,l),Fe(i,"info")&&(IN(u).info=i.info);for(var _=0;_<sz.length;_++){var b=sz[_];b!==az&&xz(b,u,0,Cz(i,Mz(i,b),b),hz)}if(function(e,t,n){if(!e.isGroup){var i=e;e=n.currentZ,n=n.currentZLevel,null!=(i.z=e,i.zlevel=n,e=t.z2)&&(i.z2=e||0);for(var r,o,a,s,l=0;l<sz.length;l++)r=i,o=t,null!=(o=(o=(s=(a=sz[l])===az)?o:Mz(o,a))?o.z2:null)&&((s?r:r.ensureState(a)).z2=o||0)}}(u,i,r),"group"===i.type){var w=e,S=u,A=n,M=r,C=(c=i).children,T=C?C.length:0;c="byName"===(d=c.$mergeChildren)||c.diffChildrenByName,d=!1===d;if(T||c||d)if(c)c={api:w,oldChildren:S.children()||[],newChildren:C||[],dataIndex:A,seriesModel:M,group:S},new y_(c.oldChildren,c.newChildren,Tz,Tz,c).add(Iz).update(Iz).remove(kz).execute();else{d&&S.removeAll();for(var I=0;I<T;I++)C[I]&&wz(w,S.childAt(I),A,C[I],M,S);for(var k=S.childCount()-1;I<=k;k--)XN(S.childAt(k),IN(S).option,M)}}return 0<=a?o.replaceAt(u,a):o.add(u),u}function Sz(e,t,n){e=IN(e);var i=t.type,r=t.shape;t=t.style;return n.isUniversalTransitionEnabled()||null!=i&&i!==e.customGraphicType||"path"===i&&(n=r)&&(Fe(n,"pathData")||Fe(n,"d"))&&Dz(r)!==e.customPathData||"image"===i&&Fe(t,"image")&&t.image!==e.customImagePath}function Az(e,t,n){var i=t?Mz(e,t):e,r=t?Cz(e,i,oz):e.style,o=e.type;i=i?i.textConfig:null,e=(e=e.textContent)?t?Mz(e,t):e:null;(r=(r&&(n.isLegacy||RN(r,o,!!i,!!e))&&(n.isLegacy=!0,r=ON(r,o,!t),!i&&r.textConfig&&(i=r.textConfig),!e&&r.textContent&&(e=r.textContent)),t||!e||(o=e).type||(o.type="text"),t?n[t]:n.normal)).cfg=i,r.conOpt=e}function Mz(e,t){return t?e?e[t]:null:e}function Cz(e,t,n){return null==(t=t&&t.style)&&n===oz&&e?e.styleEmphasis:t}function Tz(e,t){return null!=(e=e&&e.name)?e:"e\0\0"+t}function Iz(e,t){var n=this.context;e=null!=e?n.newChildren[e]:null,t=null!=t?n.oldChildren[t]:null;wz(n.api,t,n.dataIndex,e,n.seriesModel,n.group)}function kz(e){var t=this.context;XN(e=t.oldChildren[e],IN(e).option,t.seriesModel)}function Dz(e){return e&&(e.pathData||e.d)}var Bz,Ez=ea(),Pz=Z,Lz=ae;function Rz(){this._dragging=!1,this.animationThreshold=15}function Oz(e,t,n,i){!function e(t,n){var i;return pe(t)&&pe(n)?(i=!0,ee(n,(function(n,r){i=i&&e(t[r],n)})),!!i):t===n}(Ez(n).lastProp,i)&&(Ez(n).lastProp=i,t?Cu(n,i,e):(n.stopAnimation(),n.attr(i)))}function Fz(e,t){e[t.get(["label","show"])?"show":"hide"]()}function Nz(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function zz(e,t,n){var i=t.get("z"),r=t.get("zlevel");e&&e.traverse((function(e){"group"!==e.type&&(null!=i&&(e.z=i),null!=r&&(e.zlevel=r),e.silent=n)}))}function Gz(e){var t,n=e.get("type");e=e.getModel(n+"Style");return"line"===n?(t=e.getLineStyle()).fill=null:"shadow"===n&&((t=e.getAreaStyle()).stroke=null),t}function Hz(e,t,n,i,r){var o,a=Vz(n.get("value"),t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),s=(n=n.getModel("label"),Xc(n.get("padding")||0)),l=n.getFont(),u=Ur(a,l),c=r.position,h=u.width+s[1]+s[3];u=u.height+s[0]+s[2];(i=("bottom"===(o=("right"===(o=r.align)&&(c[0]-=h),"center"===o&&(c[0]-=h/2),r.verticalAlign))&&(c[1]-=u),"middle"===o&&(c[1]-=u/2),r=c,o=h,h=u,i=(u=i).getWidth(),u=u.getHeight(),r[0]=Math.min(r[0]+o,i)-o,r[1]=Math.min(r[1]+h,u)-h,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0),n.get("backgroundColor")))&&"auto"!==i||(i=t.get(["axisLine","lineStyle","color"])),e.label={x:c[0],y:c[1],style:Nu(n,{text:a,font:l,fill:n.getTextColor(),padding:s,backgroundColor:i}),z2:10}}function Vz(e,t,n,i,r){e=t.scale.parse(e);var o,a=t.scale.getLabel({value:e},{precision:r.precision});return(r=r.formatter)&&(o={value:rw(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]},ee(i,(function(e){var t=n.getSeriesByIndex(e.seriesIndex);e=e.dataIndexInside;(t=t&&t.getDataParams(e))&&o.seriesData.push(t)})),ce(r)?a=r.replace("{value}",a):ue(r)&&(a=r(o))),a}function Uz(e,t,n){var i=[1,0,0,1,0,0];return pr(i,i,n.rotation),dr(i,i,n.position),Hm([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function Zz(e,t,n,i,r,o){var a=kT.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=r.get(["label","margin"]),Hz(t,i,r,o,{position:Uz(i.axis,e,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function Wz(e,t,n){return{x1:e[n=n||0],y1:e[1-n],x2:t[n],y2:t[1-n]}}function jz(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}}function Xz(e,t,n,i,r,o){return{cx:e,cy:t,r0:n,r:i,startAngle:r,endAngle:o,clockwise:!0}}function Yz(){return null!==Bz&&Bz.apply(this,arguments)||this}function Jz(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}Rz.prototype.render=function(e,t,n,i){var r=t.get("value"),o=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,i||this._lastValue!==r||this._lastStatus!==o){this._lastValue=r,this._lastStatus=o;i=this._group;var a=this._handle;if(!o||"hide"===o)return i&&i.hide(),void(a&&a.hide());i&&i.show(),a&&a.show();o={},a=((a=(this.makeElOption(o,r,e,t,n),o.graphicKey))!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=a,this._moveAnimation=this.determineAnimation(e,t));i?(a=se(Oz,t,a),this.updatePointerEl(i,o,a),this.updateLabelEl(i,o,a,t)):(i=this._group=new ao,this.createPointerEl(i,o,e,t),this.createLabelEl(i,o,e,t),n.getZr().add(i)),zz(i,t,!0),this._renderHandle(r)}},Rz.prototype.remove=function(e){this.clear(e)},Rz.prototype.dispose=function(e){this.clear(e)},Rz.prototype.determineAnimation=function(e,t){var n,i=t.get("animation"),r=e.axis,o="category"===r.type;return!(!(t=t.get("snap"))&&!o)&&("auto"===i||null==i?(n=this.animationThreshold,o&&r.getBandWidth()>n||!!t&&(o=BT(e).seriesDataCount,t=r.getExtent(),Math.abs(t[0]-t[1])/o>n)):!0===i)},Rz.prototype.makeElOption=function(e,t,n,i,r){},Rz.prototype.createPointerEl=function(e,t,n,i){var r=t.pointer;r&&(r=Ez(e).pointerEl=new l[r.type](Pz(t.pointer)),e.add(r))},Rz.prototype.createLabelEl=function(e,t,n,i){t.label&&(t=Ez(e).labelEl=new Ml(Pz(t.label)),e.add(t),Fz(t,i))},Rz.prototype.updatePointerEl=function(e,t,n){(e=Ez(e).pointerEl)&&t.pointer&&(e.setStyle(t.pointer.style),n(e,{shape:t.pointer.shape}))},Rz.prototype.updateLabelEl=function(e,t,n,i){(e=Ez(e).labelEl)&&(e.setStyle(t.label.style),n(e,{x:t.label.x,y:t.label.y}),Fz(e,i))},Rz.prototype._renderHandle=function(e){if(!this._dragging&&this.updateHandleTransform){var t,n=this._axisPointerModel,i=this._api.getZr(),r=this._handle,o=n.getModel("handle"),a=n.get("status");if(!o.get("show")||!a||"hide"===a)return r&&i.remove(r),void(this._handle=null);this._handle||(t=!0,r=this._handle=Xm(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){Pt(e.event)},onmousedown:Lz(this._onHandleDragMove,this,0,0),drift:Lz(this._onHandleDragMove,this),ondragend:Lz(this._onHandleDragEnd,this)}),i.add(r)),zz(r,n,!1),r.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"])),le(a=o.get("size"))||(a=[a,a]),r.scaleX=a[0]/2,r.scaleY=a[1]/2,dy(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},Rz.prototype._moveHandleToValue=function(e,t){Oz(this._axisPointerModel,!t&&this._moveAnimation,this._handle,Nz(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},Rz.prototype._onHandleDragMove=function(e,t){var n=this._handle;n&&(this._dragging=!0,e=this.updateHandleTransform(Nz(n),[e,t],this._axisModel,this._axisPointerModel),this._payloadInfo=e,n.stopAnimation(),n.attr(Nz(e)),Ez(n).lastProp=null,this._doDispatchAxisPointer())},Rz.prototype._doDispatchAxisPointer=function(){var e,t;this._handle&&(e=this._payloadInfo,t=this._axisModel,this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]}))},Rz.prototype._onHandleDragEnd=function(){var e;this._dragging=!1,this._handle&&(e=this._axisPointerModel.get("value"),this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"}))},Rz.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;e=e.getZr();var t=this._group,n=this._handle;e&&t&&(this._lastGraphicKey=null,t&&e.remove(t),n&&e.remove(n),this._group=null,this._handle=null,this._payloadInfo=null),py(this,"_doDispatchAxisPointer")},Rz.prototype.doClear=function(){},Rz.prototype.buildLabel=function(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}},_(Yz,Bz=ev=Rz),Yz.prototype.makeElOption=function(e,t,n,i,r){var o,a=(c=n.axis).grid,s=i.get("type"),l=Jz(a,c).getOtherAxis(c).getGlobalExtent(),u=c.toGlobalCoord(c.dataToCoord(t,!0)),c=(s&&"none"!==s&&(o=Gz(i),(s=Kz[s](c,u,l)).style=o,e.graphicKey=s.type,e.pointer=s),hT(a.model,n));Zz(t,e,c,n,i,r)},Yz.prototype.getHandleTransform=function(e,t,n){var i=hT(t.axis.grid.model,t,{labelInside:!1});return{x:(n=(i.labelMargin=n.get(["handle","margin"]),Uz(t.axis,e,i)))[0],y:n[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},Yz.prototype.updateHandleTransform=function(e,t,n,i){var r=(n=n.axis).grid,o=n.getGlobalExtent(!0),a=(r=Jz(r,n).getOtherAxis(n).getGlobalExtent(),n="x"===n.dim?0:1,[e.x,e.y]);return(o=[t=(a[n]+=t[n],a[n]=Math.min(o[1],a[n]),a[n]=Math.max(o[0],a[n]),(r[1]+r[0])/2),t])[n]=a[n],{x:a[0],y:a[1],rotation:e.rotation,cursorPoint:o,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][n]}};var Kz={line:function(e,t,n){return{type:"Line",subPixelOptimize:!0,shape:Wz([t,n[0]],[t,n[1]],Qz(e))}},shadow:function(e,t,n){var i=Math.max(1,e.getBandWidth()),r=n[1]-n[0];return{type:"Rect",shape:jz([t-i/2,n[0]],[i,r],Qz(e))}}};function Qz(e){return"x"===e.dim?0:1}var qz,$z=Yz;function eG(){var e=null!==qz&&qz.apply(this,arguments)||this;return e.type=eG.type,e}_(eG,qz=Mh),eG.type="axisPointer",eG.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}};var tG,nG=eG,iG=ea(),rG=ee;function oG(e,t,n){var i,r,o;function a(e,t){r.on(e,(function(e){n=o;var n,i,a,s={dispatchAction:function e(t){var r=i[t.type];r?r.push(t):(t.dispatchAction=e,n.dispatchAction(t))},pendings:i={showTip:[],hideTip:[]}},l=(rG(iG(r).records,(function(n){n&&t(n,e,s.dispatchAction)})),s.pendings),u=o,c=l.showTip.length,h=l.hideTip.length;c?a=l.showTip[c-1]:h&&(a=l.hideTip[h-1]),a&&(a.dispatchAction=null,u.dispatchAction(a))}))}A.node||(i=t.getZr(),iG(i).records||(iG(i).records={}),o=t,iG(r=i).initialized||(iG(r).initialized=!0,a("click",se(sG,"click")),a("mousemove",se(sG,"mousemove")),a("globalout",aG)),(iG(i).records[e]||(iG(i).records[e]={})).handler=n)}function aG(e,t,n){e.handler("leave",null,n)}function sG(e,t,n,i){t.handler(e,n,i)}function lG(e,t){A.node||(t=t.getZr(),(iG(t).records||{})[e]&&(iG(t).records[e]=null))}function uG(){var e=null!==tG&&tG.apply(this,arguments)||this;return e.type=uG.type,e}_(uG,tG=Rf),uG.prototype.render=function(e,t,n){t=t.getComponent("tooltip");var i=e.get("triggerOn")||t&&t.get("triggerOn")||"mousemove|click";oG("axisPointer",n,(function(e,t,n){"none"!==i&&("leave"===e||0<=i.indexOf(e))&&n({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})}))},uG.prototype.remove=function(e,t){lG("axisPointer",t)},uG.prototype.dispose=function(e,t){lG("axisPointer",t)},uG.type="axisPointer";var cG=uG;function hG(e,t){var n=[];if(null==(a=e.seriesIndex)||!(o=t.getSeriesByIndex(a)))return{point:[]};var i=o.getData();if(null==(t=$o(i,e))||t<0||le(t))return{point:[]};var r,o,a=i.getItemGraphicEl(t),s=o.coordinateSystem;return o.getTooltipPosition?n=o.getTooltipPosition(t)||[]:s&&s.dataToPoint?n=e.isStacked?(o=s.getBaseAxis(),e=s.getOtherAxis(o).dim,o=o.dim,e="x"===e||"radius"===e?1:0,o=i.mapDimension(o),(r=[])[e]=i.get(o,t),r[1-e]=i.get(i.getCalculationInfo("stackResultDimension"),t),s.dataToPoint(r)||[]):s.dataToPoint(i.getValues(te(s.dimensions,(function(e){return i.mapDimension(e)})),t))||[]:a&&((o=a.getBoundingRect().clone()).applyTransform(a.transform),n=[o.x+o.width/2,o.y+o.height/2]),{point:n,el:a}}var dG,pG=ea();function fG(e,t,n){var i,r,o,a,s,l,u,c,h,d,p,f,g,m,y=e.currTrigger,v=[e.x,e.y],x=e,_=e.dispatchAction||ae(n.dispatchAction,n),b=t.getComponent("axisPointer").coordSysAxesInfo;if(b)return xG(v)&&(v=hG({seriesIndex:x.seriesIndex,dataIndex:x.dataIndex},t).point),i=xG(v),r=x.axesInfo,o=b.axesInfo,a="leave"===y||xG(v),s={},t={list:[],map:{}},u={showPointer:se(mG,l={}),showTooltip:se(yG,t)},ee(b.coordSysMap,(function(e,t){var n=i||e.containPoint(v);ee(b.coordSysAxesInfo[t],(function(e,t){var o=e.axis,l=function(e,t){for(var n=0;n<(e||[]).length;n++){var i=e[n];if(t.axis.dim===i.axisDim&&t.axis.model.componentIndex===i.axisIndex)return i}}(r,e);a||!n||r&&!l||null!=(l=null!=(l=l&&l.value)||i?l:o.pointToData(v))&&gG(e,l,u,!1,s)}))})),c={},ee(o,(function(e,t){var n=e.linkGroup;n&&!l[t]&&ee(n.axesInfo,(function(t,i){i=l[i];t!==e&&i&&(i=i.value,n.mapper&&(i=e.axis.scale.parse(n.mapper(i,vG(t),vG(e)))),c[e.key]=i)}))})),ee(c,(function(e,t){gG(o[t],e,u,!0,s)})),h=l,x=o,d=s.axesInfo=[],ee(x,(function(e,t){var n=e.axisPointerModel.option;(t=h[t])?(e.useHandle||(n.status="show"),n.value=t.value,n.seriesDataIndices=(t.payloadBatch||[]).slice()):e.useHandle||(n.status="hide"),"show"===n.status&&d.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:n.value})})),y=t,x=e,t=_,xG(e=v)||!y.list.length?t({type:"hideTip"}):(_=((y.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{},t({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:x.tooltipOption,position:x.position,dataIndexInside:_.dataIndexInside,dataIndex:_.dataIndex,seriesIndex:_.seriesIndex,dataByCoordSys:y.list})),t=o,x=(e=n).getZr(),_="axisPointerLastHighlights",p=pG(x)[_]||{},f=pG(x)[_]={},ee(t,(function(e,t){"show"===(e=e.axisPointerModel.option).status&&ee(e.seriesDataIndices,(function(e){var t=e.seriesIndex+" | "+e.dataIndex;f[t]=e}))})),g=[],m=[],ee(p,(function(e,t){f[t]||m.push(e)})),ee(f,(function(e,t){p[t]||g.push(e)})),m.length&&e.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:m}),g.length&&e.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:g}),s}function gG(e,t,n,i,r){var o,a,s,l,u,c,h,d,p,f,g=e.axis;!g.scale.isBlank()&&g.containData(t)&&(e.involveSeries?(a=t,s=e.axis,l=s.dim,u=a,c=[],h=Number.MAX_VALUE,d=-1,ee(e.seriesModels,(function(e,t){var n,i=e.getData().mapDimensionsAll(l);if(e.getAxisTooltipData)var r=(o=e.getAxisTooltipData(i,a,s)).dataIndices,o=o.nestestValue;else{if(!(r=e.getData().indicesOfNearest(i[0],a,"category"===s.type?.5:null)).length)return;o=e.getData().get(i[0],r[0])}null!=o&&isFinite(o)&&(i=a-o,(n=Math.abs(i))<=h&&((n<h||0<=i&&d<0)&&(h=n,d=i,u=o,c.length=0),ee(r,(function(t){c.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})}))))})),f=(o={payloadBatch:c,snapToValue:u}).snapToValue,(p=o.payloadBatch)[0]&&null==r.seriesIndex&&X(r,p[0]),!i&&e.snap&&g.containData(f)&&null!=f&&(t=f),n.showPointer(e,t,p),n.showTooltip(e,o,f)):n.showPointer(e,t))}function mG(e,t,n,i){e[t.key]={value:n,payloadBatch:i}}function yG(e,t,n,i){n=n.payloadBatch;var r,o,a=t.axis,s=a.model,l=t.axisPointerModel;t.triggerTooltip&&n.length&&(r=PT(t=t.coordSys.model),(o=e.map[r])||(o=e.map[r]={coordSysId:t.id,coordSysIndex:t.componentIndex,coordSysType:t.type,coordSysMainType:t.mainType,dataByAxis:[]},e.list.push(o)),o.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:i,valueLabelOpt:{precision:l.get(["label","precision"]),formatter:l.get(["label","formatter"])},seriesDataIndices:n.slice()}))}function vG(e){var t=e.axis.model,n={};e=n.axisDim=e.axis.dim;return n.axisIndex=n[e+"AxisIndex"]=t.componentIndex,n.axisName=n[e+"AxisName"]=t.name,n.axisId=n[e+"AxisId"]=t.id,n}function xG(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}function _G(e){FT.registerAxisPointerClass("CartesianAxisPointer",$z),e.registerComponentModel(nG),e.registerComponentView(cG),e.registerPreprocessor((function(e){var t;e&&(e.axisPointer&&0!==e.axisPointer.length||(e.axisPointer={}),(t=e.axisPointer.link)&&!le(t)&&(e.axisPointer.link=[t]))})),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,(function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=function(e,t){var n,i,r,o,a,s,l,u={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return n=u,r=(i=e).getComponent("tooltip"),o=i.getComponent("axisPointer"),a=o.get("link",!0)||[],s=[],ee(t.getCoordinateSystems(),(function(e){var t,l,u,c,h;function d(r,u,c){var h,d=c.model.getModel("axisPointer",o),p=d.get("show");p&&("auto"!==p||r||ET(d))&&(null==u&&(u=d.get("triggerTooltip")),p=(d=r?function(e,t,n,i,r,o){var a=t.getModel("axisPointer"),s={};return ee(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(e){s[e]=Z(a.get(e))})),s.snap="category"!==e.type&&!!o,"cross"===a.get("type")&&(s.type="line"),null==(t=s.label||(s.label={})).show&&(t.show=!1),"cross"===r&&(r=a.get(["label","show"]),t.show=null==r||r,o||(r=s.lineStyle=a.get("crossStyle"))&&Y(t,r.textStyle)),e.model.getModel("axisPointer",new ac(s,n,i))}(c,l,o,i,r,u):d).get("snap"),r=PT(c.model),h=u||p||"category"===c.type,u=n.axesInfo[r]={key:r,axis:c,coordSys:e,axisPointerModel:d,triggerTooltip:u,involveSeries:h,snap:p,useHandle:ET(d),seriesModels:[],linkGroup:null},t[r]=u,n.seriesInvolved=n.seriesInvolved||h,null!=(p=function(e,t){for(var n=t.model,i=t.dim,r=0;r<e.length;r++){var o=e[r]||{};if(DT(o[i+"AxisId"],n.id)||DT(o[i+"AxisIndex"],n.componentIndex)||DT(o[i+"AxisName"],n.name))return r}}(a,c))&&((d=s[p]||(s[p]={axesInfo:{}})).axesInfo[r]=u,d.mapper=a[p].mapper,u.linkGroup=d))}e.axisPointerEnabled&&(u=PT(e.model),t=n.coordSysAxesInfo[u]={},l=(n.coordSysMap[u]=e).model.getModel("tooltip",r),ee(e.getAxes(),se(d,!1,null)),e.getTooltipAxes&&r&&l.get("show")&&(u="axis"===l.get("trigger"),c="cross"===l.get(["axisPointer","type"]),h=e.getTooltipAxes(l.get(["axisPointer","axis"])),(u||c)&&ee(h.baseAxes,se(d,!c||"cross",u)),c&&ee(h.otherAxes,se(d,"cross",!1))))})),u.seriesInvolved&&(l=u,e.eachSeries((function(e){var t=e.coordinateSystem,n=e.get(["tooltip","trigger"],!0),i=e.get(["tooltip","show"],!0);t&&"none"!==n&&!1!==n&&"item"!==n&&!1!==i&&!1!==e.get(["axisPointer","show"],!0)&&ee(l.coordSysAxesInfo[PT(t.model)],(function(n){var i=n.axis;t.getAxis(i.dim)===i&&(n.seriesModels.push(e),null==n.seriesDataCount&&(n.seriesDataCount=0),n.seriesDataCount+=e.getData().count())}))}))),u}(e,t)})),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},fG)}function bG(){return null!==dG&&dG.apply(this,arguments)||this}_(bG,dG=ev),bG.prototype.makeElOption=function(e,t,n,i,r){var o,a=("angle"===(c=n.axis).dim&&(this.animationThreshold=Math.PI/18),c.polar),s=a.getOtherAxis(c).getExtent(),l=c.dataToCoord(t),u=i.get("type"),c=(u&&"none"!==u&&(o=Gz(i),(u=SG[u](c,a,l,s)).style=o,e.graphicKey=u.type,e.pointer=u),i.get(["label","margin"]));Hz(e,n,i,r,function(e,t,n,i){var r,o,a,s=t.axis,l=(e=s.dataToCoord(e),a=(a=n.getAngleAxis().getExtent()[0])/180*Math.PI,n.getRadiusAxis().getExtent());return l="radius"===s.dim?(pr(s=[1,0,0,1,0,0],s,a),dr(s,s,[n.cx,n.cy]),r=Hm([e,-i],s),s=t.getModel("axisLabel").get("rotate")||0,o=(t=kT.innerTextLayout(a,s*Math.PI/180,-1)).textAlign,t.textVerticalAlign):(a=l[1],r=n.coordToPoint([a+i,e]),s=n.cx,t=n.cy,o=Math.abs(r[0]-s)/a<.3?"center":r[0]>s?"left":"right",Math.abs(r[1]-t)/a<.3?"middle":r[1]>t?"top":"bottom"),{position:r,align:o,verticalAlign:l}}(t,n,a,c))};var wG,SG={line:function(e,t,n,i){return"angle"===e.dim?{type:"Line",shape:Wz(t.coordToPoint([i[0],n]),t.coordToPoint([i[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,i){var r=Math.max(1,e.getBandWidth()),o=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:Xz(t.cx,t.cy,i[0],i[1],(-n-r/2)*o,(r/2-n)*o)}:{type:"Sector",shape:Xz(t.cx,t.cy,n-r/2,n+r/2,0,2*Math.PI)}}},AG=bG;function MG(){var e=null!==wG&&wG.apply(this,arguments)||this;return e.type=MG.type,e}_(MG,wG=Mh),MG.prototype.findAxisModel=function(e){var t;return this.ecModel.eachComponent(e,(function(e){e.getCoordSysModel()===this&&(t=e)}),this),t},MG.type="polar",MG.dependencies=["radiusAxis","angleAxis"],MG.defaultOption={z:0,center:["50%","50%"],radius:"80%"};var CG,TG=MG;function IG(){return null!==CG&&CG.apply(this,arguments)||this}q($y=(_(IG,CG=Mh),IG.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",ra).models[0]},IG.type="polarAxis",IG),lw),_(BG,kG=$y),BG.type="angleAxis";var kG,DG=BG;function BG(){var e=null!==kG&&kG.apply(this,arguments)||this;return e.type=BG.type,e}_(RG,EG=$y),RG.type="radiusAxis";var EG,PG,LG=RG;function RG(){var e=null!==EG&&EG.apply(this,arguments)||this;return e.type=RG.type,e}function OG(e,t){return PG.call(this,"radius",e,t)||this}_(OG,PG=Uw),OG.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},(wc=OG).prototype.dataToRadius=Uw.prototype.dataToCoord,wc.prototype.radiusToData=Uw.prototype.coordToData;var FG,NG=wc,zG=ea();_(GG,FG=Uw),GG.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},GG.prototype.calculateCategoryInterval=function(){var e=this.getLabelModel(),t=(n=this.scale).getExtent(),n=n.count();if(t[1]-t[0]<1)return 0;t=t[0];var i=this.dataToCoord(t+1)-this.dataToCoord(t),r=(i=Math.abs(i),t=Ur(null==t?"":t+"",e.getFont(),"center","top"),e=Math.max(t.height,7)/i,t=(isNaN(e)&&(e=1/0),Math.max(0,Math.floor(e))),e=(i=zG(this.model)).lastAutoInterval,i.lastTickCount);return null!=e&&null!=r&&Math.abs(e-t)<=1&&Math.abs(r-n)<=1&&t<e?t=e:(i.lastTickCount=n,i.lastAutoInterval=t),t},tv=GG;function GG(e,t){return FG.call(this,"angle",e,t||[0,360])||this}tv.prototype.dataToAngle=Uw.prototype.dataToCoord,tv.prototype.angleToData=Uw.prototype.coordToData;var HG=tv,VG=["radius","angle"];function UG(e){this.dimensions=VG,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new NG,this._angleAxis=new HG,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}function ZG(e){var t=e.seriesModel;return(e=e.polarModel)&&e.coordinateSystem||t&&t.coordinateSystem}UG.prototype.containPoint=function(e){return e=this.pointToCoord(e),this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},UG.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},UG.prototype.getAxis=function(e){return this["_"+e+"Axis"]},UG.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},UG.prototype.getAxesByScale=function(e){var t=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===e&&t.push(n),i.scale.type===e&&t.push(i),t},UG.prototype.getAngleAxis=function(){return this._angleAxis},UG.prototype.getRadiusAxis=function(){return this._radiusAxis},UG.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},UG.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},UG.prototype.getTooltipAxes=function(e){return{baseAxes:[e=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis()],otherAxes:[this.getOtherAxis(e)]}},UG.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},UG.prototype.pointToData=function(e,t){return e=this.pointToCoord(e),[this._radiusAxis.radiusToData(e[0],t),this._angleAxis.angleToData(e[1],t)]},UG.prototype.pointToCoord=function(e){for(var t=e[0]-this.cx,n=(e=e[1]-this.cy,this.getAngleAxis()),i=n.getExtent(),r=Math.min(i[0],i[1]),o=Math.max(i[0],i[1]),a=(t/=i=(n.inverse?r=o-360:o=r+360,Math.sqrt(t*t+e*e)),e/=i,Math.atan2(-e,t)/Math.PI*180),s=a<r?1:-1;a<r||o<a;)a+=360*s;return[i,a]},UG.prototype.coordToPoint=function(e){var t=e[0];e=e[1]/180*Math.PI;return[Math.cos(e)*t+this.cx,-Math.sin(e)*t+this.cy]},UG.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis().getExtent().slice(),n=(t[0]>t[1]&&t.reverse(),e.getExtent()),i=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:t[0],r:t[1],startAngle:-n[0]*i,endAngle:-n[1]*i,clockwise:e.inverse,contain:function(e,t){e=(e=e-this.cx)*e+(t=t-this.cy)*t-1e-4,t=this.r;var n=this.r0;return e<=t*t&&n*n<=e}}},UG.prototype.convertToPixel=function(e,t,n){return ZG(t)===this?this.dataToPoint(n):null},UG.prototype.convertFromPixel=function(e,t,n){return ZG(t)===this?this.pointToData(n):null};var WG=UG;function jG(e,t){var n,i=this,r=i.getAngleAxis(),o=i.getRadiusAxis();r.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),e.eachSeries((function(e){var t;e.coordinateSystem===i&&(ee(sw(t=e.getData(),"radius"),(function(e){o.scale.unionExtentFromData(t,e)})),ee(sw(t,"angle"),(function(e){r.scale.unionExtentFromData(t,e)})))})),tw(r.scale,r.model),tw(o.scale,o.model),"category"!==r.type||r.onBand||(e=r.getExtent(),n=360/r.scale.count(),r.inverse?e[1]+=n:e[1]-=n,r.setExtent(e[0],e[1]))}function XG(e,t){var n;e.type=t.get("type"),e.scale=nw(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,e.inverse=t.get("inverse"),"angleAxis"===t.mainType&&(e.inverse=e.inverse!==t.get("clockwise"),n=t.get("startAngle"),e.setExtent(n,n+(e.inverse?-360:360))),(t.axis=e).model=t}var YG,JG={dimensions:VG,create:function(e,t){var n=[];return e.eachComponent("polar",(function(e,i){var r,o=((i=new WG(i+"")).update=jG,i.getRadiusAxis()),a=i.getAngleAxis(),s=e.findAxisModel("radiusAxis"),l=e.findAxisModel("angleAxis");XG(o,s),XG(a,l),o=i,s=t,l=(a=e).get("center"),r=s.getWidth(),s=s.getHeight(),o.cx=_o(l[0],r),o.cy=_o(l[1],s),l=o.getRadiusAxis(),o=Math.min(r,s)/2,null==(r=a.get("radius"))?r=[0,"100%"]:le(r)||(r=[0,r]),s=[_o(r[0],o),_o(r[1],o)],l.inverse?l.setExtent(s[1],s[0]):l.setExtent(s[0],s[1]),n.push(i),(e.coordinateSystem=i).model=e})),e.eachSeries((function(e){var t;"polar"===e.get("coordinateSystem")&&(t=e.getReferringComponents("polar",ra).models[0],e.coordinateSystem=t.coordinateSystem)})),n}},KG=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function QG(e,t,n){t[1]>t[0]&&(t=t.slice().reverse());var i=e.coordToPoint([t[0],n]);e=e.coordToPoint([t[1],n]);return{x1:i[0],y1:i[1],x2:e[0],y2:e[1]}}function qG(e){return e.getRadiusAxis().inverse?0:1}function $G(e){var t=e[0],n=e[e.length-1];t&&n&&Math.abs(Math.abs(t.coord-n.coord)-360)<1e-4&&e.pop()}function eH(){var e=null!==YG&&YG.apply(this,arguments)||this;return e.type=eH.type,e.axisPointerClass="PolarAxisPointer",e}_(eH,YG=FT),eH.prototype.render=function(e,t){var n,i,r,o,a,s;this.group.removeAll(),e.get("show")&&(n=e.axis,i=n.polar,r=i.getRadiusAxis().getExtent(),o=n.getTicksCoords(),a=n.getMinorTicksCoords(),$G(s=te(n.getViewLabels(),(function(e){e=Z(e);var t="ordinal"===(t=n.scale).type?t.getRawOrdinalNumber(e.tickValue):e.tickValue;return e.coord=n.dataToCoord(t),e}))),$G(o),ee(KG,(function(t){!e.get([t,"show"])||n.scale.isBlank()&&"axisLine"!==t||nH[t](this.group,e,i,o,a,r,s)}),this))},eH.type="angleAxis";var tH,nH={axisLine:function(e,t,n,i,r,o){t=t.getModel(["axisLine","lineStyle"]);var a=qG(n),s=a?0:1;(n=0===o[s]?new ug({shape:{cx:n.cx,cy:n.cy,r:o[a]},style:t.getLineStyle(),z2:1,silent:!0}):new Lg({shape:{cx:n.cx,cy:n.cy,r:o[a],r0:o[s]},style:t.getLineStyle(),z2:1,silent:!0})).style.fill=null,e.add(n)},axisTick:function(e,t,n,i,r,o){var a=t.getModel("axisTick"),s=(a.get("inside")?-1:1)*a.get("length"),l=o[qG(n)];o=te(i,(function(e){return new Jg({shape:QG(n,[l,l+s],e.coord)})}));e.add(Rm(o,{style:Y(a.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(e,t,n,i,r,o){if(r.length){for(var a=t.getModel("axisTick"),s=t.getModel("minorTick"),l=(a.get("inside")?-1:1)*s.get("length"),u=o[qG(n)],c=[],h=0;h<r.length;h++)for(var d=0;d<r[h].length;d++)c.push(new Jg({shape:QG(n,[u,u+l],r[h][d].coord)}));e.add(Rm(c,{style:Y(s.getModel("lineStyle").getLineStyle(),Y(a.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(e,t,n,i,r,o,a){var s=t.getCategories(!0),l=t.getModel("axisLabel"),u=l.get("margin"),c=t.get("triggerEvent");ee(a,(function(i,r){var a=l,h=i.tickValue,d=o[qG(n)],p=n.coordToPoint([d+u,i.coord]),f=n.cx,g=n.cy;f=Math.abs(p[0]-f)/d<.3?"center":p[0]>f?"left":"right",d=Math.abs(p[1]-g)/d<.3?"middle":p[1]>g?"top":"bottom",s&&s[h]&&pe(g=s[h])&&g.textStyle&&(a=new ac(g.textStyle,l,l.ecModel)),h=new Ml({silent:kT.isLabelSilent(t),style:Nu(a,{x:p[0],y:p[1],fill:a.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:i.formattedLabel,align:f,verticalAlign:d})});e.add(h),c&&((g=kT.makeAxisEventDataBase(t)).targetType="axisLabel",g.value=i.rawLabel,Cl(h).eventData=g)}),this)},splitLine:function(e,t,n,i,r,o){for(var a=t.getModel("splitLine").getModel("lineStyle"),s=0,l=(l=a.get("color"))instanceof Array?l:[l],u=[],c=0;c<i.length;c++){var h=s++%l.length;u[h]=u[h]||[],u[h].push(new Jg({shape:QG(n,o,i[c].coord)}))}for(c=0;c<u.length;c++)e.add(Rm(u[c],{style:Y({stroke:l[c%l.length]},a.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(e,t,n,i,r,o){if(r.length){for(var a=t.getModel("minorSplitLine").getModel("lineStyle"),s=[],l=0;l<r.length;l++)for(var u=0;u<r[l].length;u++)s.push(new Jg({shape:QG(n,o,r[l][u].coord)}));e.add(Rm(s,{style:a.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(e,t,n,i,r,o){if(i.length){for(var a=t.getModel("splitArea").getModel("areaStyle"),s=0,l=(l=a.get("color"))instanceof Array?l:[l],u=[],c=Math.PI/180,h=-i[0].coord*c,d=Math.min(o[0],o[1]),p=Math.max(o[0],o[1]),f=t.get("clockwise"),g=1,m=i.length;g<=m;g++){var y=(g===m?i[0]:i[g]).coord,v=s++%l.length;u[v]=u[v]||[],u[v].push(new Bg({shape:{cx:n.cx,cy:n.cy,r0:d,r:p,startAngle:h,endAngle:-y*c,clockwise:f},silent:!0})),h=-y*c}for(g=0;g<u.length;g++)e.add(Rm(u[g],{style:Y({fill:l[g%l.length]},a.getAreaStyle()),silent:!0}))}}},iH=eH,rH=["axisLine","axisTickLabel","axisName"],oH=["splitLine","splitArea","minorSplitLine"];function aH(){var e=null!==tH&&tH.apply(this,arguments)||this;return e.type=aH.type,e.axisPointerClass="PolarAxisPointer",e}_(aH,tH=FT),aH.prototype.render=function(e,t){var n,i,r,o,a,s,l,u,c;this.group.removeAll(),e.get("show")&&(n=this._axisGroup,i=this._axisGroup=new ao,this.group.add(i),r=e.axis,c=(o=r.polar).getAngleAxis(),a=r.getTicksCoords(),s=r.getMinorTicksCoords(),l=c.getExtent()[0],u=r.getExtent(),c={position:[o.cx,o.cy],rotation:l/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1},c=new kT(e,c),ee(rH,c.add,c),i.add(c.getGroup()),Zm(n,i,e),ee(oH,(function(t){e.get([t,"show"])&&!r.scale.isBlank()&&sH[t](this.group,e,o,l,u,a,s)}),this))},aH.type="radiusAxis";var sH={splitLine:function(e,t,n,i,r,o){for(var a=t.getModel("splitLine").getModel("lineStyle"),s=0,l=(l=a.get("color"))instanceof Array?l:[l],u=[],c=0;c<o.length;c++){var h=s++%l.length;u[h]=u[h]||[],u[h].push(new ug({shape:{cx:n.cx,cy:n.cy,r:Math.max(o[c].coord,0)}}))}for(c=0;c<u.length;c++)e.add(Rm(u[c],{style:Y({stroke:l[c%l.length],fill:null},a.getLineStyle()),silent:!0}))},minorSplitLine:function(e,t,n,i,r,o,a){if(a.length){t=t.getModel("minorSplitLine").getModel("lineStyle");for(var s=[],l=0;l<a.length;l++)for(var u=0;u<a[l].length;u++)s.push(new ug({shape:{cx:n.cx,cy:n.cy,r:a[l][u].coord}}));e.add(Rm(s,{style:Y({fill:null},t.getLineStyle()),silent:!0}))}},splitArea:function(e,t,n,i,r,o){if(o.length){for(var a=t.getModel("splitArea").getModel("areaStyle"),s=0,l=(l=a.get("color"))instanceof Array?l:[l],u=[],c=o[0].coord,h=1;h<o.length;h++){var d=s++%l.length;u[d]=u[d]||[],u[d].push(new Bg({shape:{cx:n.cx,cy:n.cy,r0:c,r:o[h].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),c=o[h].coord}for(h=0;h<u.length;h++)e.add(Rm(u[h],{style:Y({fill:l[h%l.length]},a.getAreaStyle()),silent:!0}))}}},lH=aH;function uH(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function cH(e,t){return t.dim+e.model.componentIndex}function hH(e,t,n){var i,r,o,a={},s=(i=ie(t.getSeriesByType(e),(function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&"polar"===e.coordinateSystem.type})),r={},ee(i,(function(e,t){var n=e.getData(),i=(o=e.coordinateSystem).getBaseAxis(),o=cH(o,i),a=i.getExtent(),s=(i="category"===i.type?i.getBandWidth():Math.abs(a[1]-a[0])/n.count(),(n=(a=r[o]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}}).stacks)[o=(r[o]=a,uH(e))]||a.autoWidthCount++,n[o]=n[o]||{width:0,maxWidth:0},_o(e.get("barWidth"),i)),l=(i=_o(e.get("barMaxWidth"),i),e.get("barGap"));e=e.get("barCategoryGap");s&&!n[o].width&&(s=Math.min(a.remainedWidth,s),n[o].width=s,a.remainedWidth-=s),i&&(n[o].maxWidth=i),null!=l&&(a.gap=l),null!=e&&(a.categoryGap=e)})),o={},ee(r,(function(e,t){o[t]={};var n,i=e.stacks,r=e.bandWidth,a=(r=_o(e.categoryGap,r),_o(e.gap,1)),s=e.remainedWidth,l=e.autoWidthCount,u=(s-r)/(l+(l-1)*a),c=(u=Math.max(u,0),ee(i,(function(e,t){var n=e.maxWidth;n&&n<u&&(n=Math.min(n,s),e.width&&(n=Math.min(n,e.width)),s-=n,e.width=n,l--)})),u=(s-r)/(l+(l-1)*a),u=Math.max(u,0),0),h=(ee(i,(function(e,t){e.width||(e.width=u),c+=(n=e).width*(1+a)})),n&&(c-=n.width*a),-c/2);ee(i,(function(e,n){o[t][n]=o[t][n]||{offset:h,width:e.width},h+=e.width*(1+a)}))})),o);t.eachSeriesByType(e,(function(e){if("polar"===e.coordinateSystem.type)for(var t=e.getData(),n=e.coordinateSystem,i=n.getBaseAxis(),r=cH(n,i),o=uH(e),l=(r=s[r][o]).offset,u=r.width,c=n.getOtherAxis(i),h=e.coordinateSystem.cx,d=e.coordinateSystem.cy,p=e.get("barMinHeight")||0,f=e.get("barMinAngle")||0,g=(a[o]=a[o]||[],t.mapDimension(c.dim)),m=t.mapDimension(i.dim),y=K_(t,g),v="radius"!==i.dim||!e.get("roundCap",!0),x=c.dataToCoord(0),_=0,b=t.count();_<b;_++){var w,S,A=t.get(g,_),M=t.get(m,_),C=0<=A?"p":"n",T=x,I=void(y&&(a[o][M]||(a[o][M]={p:x,n:x}),T=a[o][M][C])),k=void 0,D=void 0,B=void 0;"radius"===c.dim?(S=c.dataToCoord(A)-x,w=i.dataToCoord(M),k=(I=T)+(S=Math.abs(S)<p?(S<0?-1:1)*p:S),B=(D=w-l)-u,y&&(a[o][M][C]=k)):(S=c.dataToCoord(A,v)-x,k=(I=i.dataToCoord(M)+l)+u,B=(D=T)+(S=Math.abs(S)<f?(S<0?-1:1)*f:S),y&&(a[o][M][C]=B)),t.setItemLayout(_,{cx:h,cy:d,r0:I,r:k,startAngle:-D*Math.PI/180,endAngle:-B*Math.PI/180,clockwise:B<=D})}}))}var dH,pH={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},fH={splitNumber:5},gH=(_(mH,dH=Rf),mH.type="polar",mH);function mH(){var e=null!==dH&&dH.apply(this,arguments)||this;return e.type=mH.type,e}function yH(e,t){t=t||{};var n=e.coordinateSystem,i={},r=(o=e.axis).position,o=o.orient,a={horizontal:{top:(n=[(n=n.getRect()).x,n.x+n.width,n.y,n.y+n.height])[2],bottom:n[3]},vertical:{left:n[0],right:n[1]}};return null==(a=(i.position=["vertical"===o?a.vertical[r]:n[0],"horizontal"===o?a.horizontal[r]:n[3]],i.rotation=Math.PI/2*{horizontal:0,vertical:1}[o],i.labelDirection=i.tickDirection=i.nameDirection={top:-1,bottom:1,right:1,left:-1}[r],e.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),be(t.labelInside,e.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection),t.rotate))&&(a=e.get(["axisLabel","rotate"])),i.labelRotation="top"===r?-a:a,i.z2=1,i}var vH,xH=["axisLine","axisTickLabel","axisName"],_H=["splitArea","splitLine"];function bH(){var e=null!==vH&&vH.apply(this,arguments)||this;return e.type=bH.type,e.axisPointerClass="SingleAxisPointer",e}_(bH,vH=FT),bH.prototype.render=function(e,t,n,i){var r=this.group,o=(r.removeAll(),this._axisGroup),a=(this._axisGroup=new ao,yH(e));a=new kT(e,a);ee(xH,a.add,a),r.add(this._axisGroup),r.add(a.getGroup()),ee(_H,(function(t){e.get([t,"show"])&&SH[t](this,this.group,this._axisGroup,e)}),this),Zm(o,this._axisGroup,e),vH.prototype.render.call(this,e,t,n,i)},bH.prototype.remove=function(){GT(this)},bH.type="singleAxis";var wH,SH={splitLine:function(e,t,n,i){var r=i.axis;if(!r.scale.isBlank()){for(var o=i.getModel("splitLine"),a=o.getModel("lineStyle"),s=(s=a.get("color"))instanceof Array?s:[s],l=i.coordinateSystem.getRect(),u=r.isHorizontal(),c=[],h=0,d=r.getTicksCoords({tickModel:o}),p=[],f=[],g=0;g<d.length;++g){var m=r.toGlobalCoord(d[g].coord);c[m=(u?(p[0]=m,p[1]=l.y,f[0]=m,f[1]=l.y+l.height):(p[0]=l.x,p[1]=m,f[0]=l.x+l.width,f[1]=m),h++%s.length)]=c[m]||[],c[m].push(new Jg({subPixelOptimize:!0,shape:{x1:p[0],y1:p[1],x2:f[0],y2:f[1]},silent:!0}))}var y=a.getLineStyle(["color"]);for(g=0;g<c.length;++g)t.add(Rm(c[g],{style:Y({stroke:s[g%s.length]},y),silent:!0}))}},splitArea:function(e,t,n,i){zT(e,n,i,i)}},AH=bH;function MH(){var e=null!==wH&&wH.apply(this,arguments)||this;return e.type=MH.type,e}q(hg=(_(MH,wH=Mh),MH.prototype.getCoordSysModel=function(){return this},MH.type="singleAxis",MH.layoutMode="box",MH.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},MH),lw.prototype);var CH,TH=hg;function IH(e,t,n,i,r){return(e=CH.call(this,e,t,n)||this).type=i||"value",e.position=r||"bottom",e}_(IH,CH=Uw),IH.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},IH.prototype.pointToData=function(e,t){return this.coordinateSystem.pointToData(e)[0]};var kH=IH,DH=["single"];function BH(e,t,n){this.type="single",this.dimension="single",this.dimensions=DH,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,n)}function EH(e){var t=e.seriesModel;return(e=e.singleAxisModel)&&e.coordinateSystem||t&&t.coordinateSystem}BH.prototype._init=function(e,t,n){var i=this.dimension,r="category"===(i=new kH(i,nw(e),[0,0],e.get("type"),e.get("position"))).type;i.onBand=r&&e.get("boundaryGap"),i.inverse=e.get("inverse"),i.orient=e.get("orient"),(e.axis=i).model=e,(i.coordinateSystem=this)._axis=i},BH.prototype.update=function(e,t){e.eachSeries((function(e){var t;e.coordinateSystem===this&&(ee((t=e.getData()).mapDimensionsAll(this.dimension),(function(e){this._axis.scale.unionExtentFromData(t,e)}),this),tw(this._axis.scale,this._axis.model))}),this)},BH.prototype.resize=function(e,t){this._rect=hh({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},BH.prototype.getRect=function(){return this._rect},BH.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,n=t.isHorizontal(),i=n?[0,e.width]:[0,e.height],r=t.reverse?1:0;t.setExtent(i[r],i[1-r]),this._updateAxisTransform(t,n?e.x:e.y)},BH.prototype._updateAxisTransform=function(e,t){var n=(i=e.getExtent())[0]+i[1],i=e.isHorizontal();e.toGlobalCoord=i?function(e){return e+t}:function(e){return n-e+t},e.toLocalCoord=i?function(e){return e-t}:function(e){return n-e+t}},BH.prototype.getAxis=function(){return this._axis},BH.prototype.getBaseAxis=function(){return this._axis},BH.prototype.getAxes=function(){return[this._axis]},BH.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},BH.prototype.containPoint=function(e){var t=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},BH.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e["horizontal"===t.orient?0:1]))]},BH.prototype.dataToPoint=function(e){var t=this.getAxis(),n=this.getRect(),i=[],r="horizontal"===t.orient?0:1;return e instanceof Array&&(e=e[0]),i[r]=t.toGlobalCoord(t.dataToCoord(+e)),i[1-r]=0==r?n.y+n.height/2:n.x+n.width/2,i},BH.prototype.convertToPixel=function(e,t,n){return EH(t)===this?this.dataToPoint(n):null},BH.prototype.convertFromPixel=function(e,t,n){return EH(t)===this?this.pointToData(n):null};var PH,LH=BH,RH={create:function(e,t){var n=[];return e.eachComponent("singleAxis",(function(i,r){var o=new LH(i,e,t);o.name="single_"+r,o.resize(i,t),i.coordinateSystem=o,n.push(o)})),e.eachSeries((function(e){var t;"singleAxis"===e.get("coordinateSystem")&&(t=e.getReferringComponents("singleAxis",ra).models[0],e.coordinateSystem=t&&t.coordinateSystem)})),n},dimensions:DH},OH=["x","y"],FH=["width","height"];function NH(){return null!==PH&&PH.apply(this,arguments)||this}_(NH,PH=ev),NH.prototype.makeElOption=function(e,t,n,i,r){var o,a=HH(s=(u=n.axis).coordinateSystem,1-GH(u)),s=s.dataToPoint(t)[0],l=i.get("type"),u=(l&&"none"!==l&&(o=Gz(i),(l=zH[l](u,s,a)).style=o,e.graphicKey=l.type,e.pointer=l),yH(n));Zz(t,e,u,n,i,r)},NH.prototype.getHandleTransform=function(e,t,n){var i=yH(t,{labelInside:!1});return{x:(n=(i.labelMargin=n.get(["handle","margin"]),Uz(t.axis,e,i)))[0],y:n[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},NH.prototype.updateHandleTransform=function(e,t,n,i){var r,o=HH(r=(n=n.axis).coordinateSystem,n=GH(n)),a=[e.x,e.y];return(r=[o=((t=(a[n]+=t[n],a[n]=Math.min(o[1],a[n]),a[n]=Math.max(o[0],a[n]),HH(r,1-n)))[1]+t[0])/2,o])[n]=a[n],{x:a[0],y:a[1],rotation:e.rotation,cursorPoint:r,tooltipOption:{verticalAlign:"middle"}}};var zH={line:function(e,t,n){return{type:"Line",subPixelOptimize:!0,shape:Wz([t,n[0]],[t,n[1]],GH(e))}},shadow:function(e,t,n){var i=e.getBandWidth(),r=n[1]-n[0];return{type:"Rect",shape:jz([t-i/2,n[0]],[i,r],GH(e))}}};function GH(e){return e.isHorizontal()?0:1}function HH(e,t){return[(e=e.getRect())[OH[t]],e[OH[t]]+e[FH[t]]]}var VH,UH,ZH=NH,WH=(_(jH,VH=Rf),jH.type="single",jH);function jH(){var e=null!==VH&&VH.apply(this,arguments)||this;return e.type=jH.type,e}function XH(){var e=null!==UH&&UH.apply(this,arguments)||this;return e.type=XH.type,e}function YH(e,t){var n=le(i=e.cellSize)?i:e.cellSize=[i,i],i=(1===n.length&&(n[1]=n[0]),te([0,1],(function(e){var i,r;return(null!=(i=t)[lh[r=e][0]]||null!=i[lh[r][1]]&&null!=i[lh[r][2]])&&(n[e]="auto"),null!=n[e]&&"auto"!==n[e]})));fh(e,t,{type:"box",ignoreSize:i})}_(XH,UH=Mh),XH.prototype.init=function(e,t,n){var i=gh(e);UH.prototype.init.apply(this,arguments),YH(e,i)},XH.prototype.mergeOption=function(e){UH.prototype.mergeOption.apply(this,arguments),YH(this.option,e)},XH.prototype.getCellSize=function(){return this.option.cellSize},XH.type="calendar",XH.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}};var JH,KH=XH;function QH(){var e=null!==JH&&JH.apply(this,arguments)||this;return e.type=QH.type,e}_(QH,JH=Rf),QH.prototype.render=function(e,t,n){var i=this.group,r=(o=(i.removeAll(),e.coordinateSystem)).getRangeInfo(),o=o.getOrient();t=t.getLocaleModel();this._renderDayRect(e,r,i),this._renderLines(e,r,o,i),this._renderYearText(e,r,o,i),this._renderMonthText(e,t,o,i),this._renderWeekText(e,t,r,o,i)},QH.prototype._renderDayRect=function(e,t,n){for(var i=e.coordinateSystem,r=e.getModel("itemStyle").getItemStyle(),o=i.getCellWidth(),a=i.getCellHeight(),s=t.start.time;s<=t.end.time;s=i.getNextNDay(s,1).time){var l=i.dataToRect([s],!1).tl;l=new sl({shape:{x:l[0],y:l[1],width:o,height:a},cursor:"default",style:r});n.add(l)}},QH.prototype._renderLines=function(e,t,n,i){for(var r=this,o=e.coordinateSystem,a=e.getModel(["splitLine","lineStyle"]).getLineStyle(),s=e.get(["splitLine","show"]),l=a.lineWidth,u=(this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[],t.start),c=0;u.time<=t.end.time;c++){d(u.formatedDate);var h=(u=0===c?o.getDateInfo(t.start.y+"-"+t.start.m):u).date;h.setMonth(h.getMonth()+1),u=o.getDateInfo(h)}function d(t){r._firstDayOfMonth.push(o.getDateInfo(t)),r._firstDayPoints.push(o.dataToRect([t],!1).tl),t=r._getLinePointsOfOneWeek(e,t,n),r._tlpoints.push(t[0]),r._blpoints.push(t[t.length-1]),s&&r._drawSplitline(t,a,i)}d(o.getNextNDay(t.end.time,1).formatedDate),s&&this._drawSplitline(r._getEdgesPoints(r._tlpoints,l,n),a,i),s&&this._drawSplitline(r._getEdgesPoints(r._blpoints,l,n),a,i)},QH.prototype._getEdgesPoints=function(e,t,n){return n="horizontal"===n?0:1,(e=[e[0].slice(),e[e.length-1].slice()])[0][n]=e[0][n]-t/2,e[1][n]=e[1][n]+t/2,e},QH.prototype._drawSplitline=function(e,t,n){e=new Zg({z2:20,shape:{points:e},style:t}),n.add(e)},QH.prototype._getLinePointsOfOneWeek=function(e,t,n){for(var i=e.coordinateSystem,r=i.getDateInfo(t),o=[],a=0;a<7;a++){var s=i.getNextNDay(r.time,a),l=i.dataToRect([s.time],!1);o[2*s.day]=l.tl,o[2*s.day+1]=l["horizontal"===n?"bl":"tr"]}return o},QH.prototype._formatterLabel=function(e,t){return ce(e)&&e?(n=e,ee(t,(function(e,t){n=n.replace("{"+t+"}",e)})),n):ue(e)?e(t):t.nameMap;var n},QH.prototype._yearTextPositionControl=function(e,t,n,i,r){var o=t[0],a=(t=t[1],["center","bottom"]);"bottom"===i?(t+=r,a=["center","top"]):"left"===i?o-=r:"right"===i?(o+=r,a=["center","top"]):t-=r,r=0;return{rotation:r="left"!==i&&"right"!==i?r:Math.PI/2,x:o,y:t,style:{align:a[0],verticalAlign:a[1]}}},QH.prototype._renderYearText=function(e,t,n,i){var r,o,a,s,l,u;(e=e.getModel("yearLabel")).get("show")&&(r=e.get("margin"),o=(o=e.get("position"))||("horizontal"!==n?"top":"left"),a=((u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]])[0][0]+u[1][0])/2,l=(u[0][1]+u[1][1])/2,a={top:[a,u[s="horizontal"===n?0:1][1]],bottom:[a,u[1-s][1]],left:[u[1-s][0],l],right:[u[s][0],l]},u=t.start.y,+t.end.y>+t.start.y&&(u=u+"-"+t.end.y),s=e.get("formatter"),l={start:t.start.y,end:t.end.y,nameMap:u},t=this._formatterLabel(s,l),(u=new Ml({z2:30,style:Nu(e,{text:t})})).attr(this._yearTextPositionControl(u,a[o],n,o,r)),i.add(u))},QH.prototype._monthTextPositionControl=function(e,t,n,i,r){var o="left",a="top",s=e[0];e=e[1];return"horizontal"===n?(e+=r,t&&(o="center"),"start"===i&&(a="bottom")):(s+=r,t&&(a="middle"),"start"===i&&(o="right")),{x:s,y:e,align:o,verticalAlign:a}},QH.prototype._renderMonthText=function(e,t,n,i){var r=e.getModel("monthLabel");if(r.get("show"))for(var o=r.get("nameMap"),a=r.get("margin"),s=r.get("position"),l=(e=r.get("align"),[this._tlpoints,this._blpoints]),u=(o&&!ce(o)||(o=(t=o&&yc(o)||t).get(["time","monthAbbr"])||[]),"start"===s?0:1),c="horizontal"===n?0:1,h=(a="start"===s?-a:a,"center"===e),d=0;d<l[u].length-1;d++){var p=l[u][d].slice(),f=this._firstDayOfMonth[d],g=(h&&(g=this._firstDayPoints[d],p[c]=(g[c]+l[0][d+1][c])/2),r.get("formatter")),m=o[+f.m-1];f={yyyy:f.y,yy:(f.y+"").slice(2),MM:f.m,M:+f.m,nameMap:m},m=this._formatterLabel(g,f),f=new Ml({z2:30,style:X(Nu(r,{text:m}),this._monthTextPositionControl(p,h,n,s,a))});i.add(f)}},QH.prototype._weekTextPositionControl=function(e,t,n,i,r){var o="center",a="middle",s=e[0];e=e[1],n="start"===n;return"horizontal"===t?(s=s+i+(n?1:-1)*r[0]/2,o=n?"right":"left"):(e=e+i+(n?1:-1)*r[1]/2,a=n?"bottom":"top"),{x:s,y:e,align:o,verticalAlign:a}},QH.prototype._renderWeekText=function(e,t,n,i,r){var o=e.getModel("dayLabel");if(o.get("show")){var a=e.coordinateSystem,s=o.get("position"),l=o.get("nameMap"),u=o.get("margin"),c=a.getFirstDayOfWeek(),h=(l&&!ce(l)||(l=(t=l&&yc(l)||t).get(["time","dayOfWeekShort"])||te(t.get(["time","dayOfWeekAbbr"]),(function(e){return e[0]}))),a.getNextNDay(n.end.time,7-n.lweek).time),d=[a.getCellWidth(),a.getCellHeight()];u=_o(u,Math.min(d[1],d[0]));"start"===s&&(h=a.getNextNDay(n.start.time,-(7+n.fweek)).time,u=-u);for(var p=0;p<7;p++){var f=a.getNextNDay(h,p),g=(f=a.dataToRect([f.time],!1).center,Math.abs((p+c)%7));g=new Ml({z2:30,style:X(Nu(o,{text:l[g]}),this._weekTextPositionControl(f,i,s,u,d))});r.add(g)}}},QH.type="calendar";var qH=QH;function $H(e,t,n){this.type="calendar",this.dimensions=$H.dimensions,this.getDimensionsInfo=$H.getDimensionsInfo,this._model=e}function eV(e){var t=e.calendarModel;e=e.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem:null}$H.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},$H.prototype.getRangeInfo=function(){return this._rangeInfo},$H.prototype.getModel=function(){return this._model},$H.prototype.getRect=function(){return this._rect},$H.prototype.getCellWidth=function(){return this._sw},$H.prototype.getCellHeight=function(){return this._sh},$H.prototype.getOrient=function(){return this._orient},$H.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},$H.prototype.getDateInfo=function(e){var t=(e=Bo(e)).getFullYear(),n=(n=e.getMonth()+1)<10?"0"+n:""+n,i=(i=e.getDate())<10?"0"+i:""+i,r=e.getDay();return{y:t+"",m:n,d:i,day:Math.abs((r+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+"-"+n+"-"+i,date:e}},$H.prototype.getNextNDay=function(e,t){return 0===(t=t||0)||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},$H.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],r=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),a="horizontal"===this._orient?[n,7]:[7,n],s=(n=(ee([0,1],(function(e){l(r,e)&&(o[i[e]]=r[e]*a[e])})),{width:t.getWidth(),height:t.getHeight()}),this._rect=hh(o,n));function l(e,t){return null!=e[t]&&"auto"!==e[t]}ee([0,1],(function(e){l(r,e)||(r[e]=s[i[e]]/a[e])})),this._sw=r[0],this._sh=r[1]},$H.prototype.dataToPoint=function(e,t){le(e)&&(e=e[0]),null==t&&(t=!0);e=this.getDateInfo(e);var n=this._rangeInfo,i=e.formatedDate;return!t||e.time>=n.start.time&&e.time<n.end.time+864e5?(t=e.day,e=this._getRangeInfo([n.start.time,i]).nthWeek,"vertical"===this._orient?[this._rect.x+t*this._sw+this._sw/2,this._rect.y+e*this._sh+this._sh/2]:[this._rect.x+e*this._sw+this._sw/2,this._rect.y+t*this._sh+this._sh/2]):[NaN,NaN]},$H.prototype.pointToData=function(e){return(e=this.pointToDate(e))&&e.time},$H.prototype.dataToRect=function(e,t){return{contentShape:{x:(e=this.dataToPoint(e,t))[0]-(this._sw-this._lineWidth)/2,y:e[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:e,tl:[e[0]-this._sw/2,e[1]-this._sh/2],tr:[e[0]+this._sw/2,e[1]-this._sh/2],br:[e[0]+this._sw/2,e[1]+this._sh/2],bl:[e[0]-this._sw/2,e[1]+this._sh/2]}},$H.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=(e=Math.floor((e[1]-this._rect.y)/this._sh)+1,this._rangeInfo.range);return"vertical"===this._orient?this._getDateByWeeksAndDay(e,t-1,n):this._getDateByWeeksAndDay(t,e-1,n)},$H.prototype.convertToPixel=function(e,t,n){return(t=eV(t))===this?t.dataToPoint(n):null},$H.prototype.convertFromPixel=function(e,t,n){return(t=eV(t))===this?t.pointToData(n):null},$H.prototype.containPoint=function(e){return!1},$H.prototype._initRangeOption=function(){var e,t,n,i=this._model.get("range");if(le(i)&&1===i.length&&(i=i[0]),le(i)?n=i:(e=i.toString(),/^\d{4}$/.test(e)&&(n=[e+"-01-01",e+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(e)&&((t=(r=this.getDateInfo(e)).date).setMonth(t.getMonth()+1),t=this.getNextNDay(t,-1),n=[r.formatedDate,t.formatedDate]),/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(e)&&(n=[e,e])),!n)return i;var r=this._getRangeInfo(n);return r.start.time>r.end.time&&n.reverse(),n},$H.prototype._getRangeInfo=function(e){var t,n,i=[this.getDateInfo(e[0]),this.getDateInfo(e[1])],r=(i[0].time>i[1].time&&(t=!0,i.reverse()),Math.floor(i[1].time/864e5)-Math.floor(i[0].time/864e5)+1),o=new Date(i[0].time),a=(e=o.getDate(),i[1].date.getDate());if(o.setDate(e+r-1),o.getDate()!==a)for(var s=0<o.getTime()-i[1].time?1:-1;(n=o.getDate())!==a&&0<(o.getTime()-i[1].time)*s;)r-=s,o.setDate(n-s);e=Math.floor((r+i[0].day+6)/7);var l=t?1-e:e-1;return t&&i.reverse(),{range:[i[0].formatedDate,i[1].formatedDate],start:i[0],end:i[1],allDay:r,weeks:e,nthWeek:l,fweek:i[0].day,lweek:i[1].day}},$H.prototype._getDateByWeeksAndDay=function(e,t,n){return e>(n=this._getRangeInfo(n)).weeks||0===e&&t<n.fweek||e===n.weeks&&t>n.lweek?null:(e=7*(e-1)-n.fweek+t,(t=new Date(n.start.time)).setDate(+n.start.d+e),this.getDateInfo(t))},$H.create=function(e,t){var n=[];return e.eachComponent("calendar",(function(e){var t=new $H(e);n.push(t),e.coordinateSystem=t})),e.eachSeries((function(e){"calendar"===e.get("coordinateSystem")&&(e.coordinateSystem=n[e.get("calendarIndex")||0])})),n},$H.dimensions=["time","value"];var tV=$H;function nV(e,t){var n;return ee(t,(function(t){null!=e[t]&&"auto"!==e[t]&&(n=!0)})),n}var iV=["transition","enterFrom","leaveTo"],rV=iV.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function oV(e,t,n){if(n&&(!e[n]&&t[n]&&(e[n]={}),e=e[n],t=t[n]),e&&t)for(var i=n?iV:rV,r=0;r<i.length;r++){var o=i[r];null==e[o]&&null!=t[o]&&(e[o]=t[o])}}_(lV,aV=Mh),lV.prototype.mergeOption=function(e,t){var n=this.option.elements;this.option.elements=null,aV.prototype.mergeOption.call(this,e,t),this.option.elements=n},lV.prototype.optionUpdated=function(e,t){var n=this.option,i=(e=(t?n:e).elements,n.elements=t?[]:n.elements),r=(t=[],e=(this._flatten(e,t,null),Xo(i,t,"normalMerge")),this._elOptionsToUpdate=[]);ee(e,(function(e,t){var n,o,a,s,l,u=e.newOption;u&&(r.push(u),s=u,n=e.existing,s.id=e.keyInfo.id,!s.type&&n&&(s.type=n.type),null==s.parentId&&((e=s.parentOption)?s.parentId=e.id:n&&(s.parentId=n.parentId)),s.parentOption=null,e=i,n=t,l=X({},s=u),o=e[n],"merge"===(a=s.$action||"merge")?o?(W(o,l,!0),fh(o,l,{ignoreSize:!0}),mh(s,o),oV(s,o),oV(s,o,"shape"),oV(s,o,"style"),oV(s,o,"extra"),s.clipPath=o.clipPath):e[n]=l:"replace"===a?e[n]=l:"remove"===a&&o&&(e[n]=null),l=u,(s=i[t])&&(s.hv=l.hv=[nV(l,["left","right"]),nV(l,["top","bottom"])],"group"===s.type&&(null==s.width&&(s.width=l.width=0),null==s.height&&(s.height=l.height=0))))}),this),n.elements=ie(i,(function(e){return e&&delete e.$action,null!=e}))},lV.prototype._flatten=function(e,t,n){ee(e,(function(e){var i;e&&(n&&(e.parentOption=n),t.push(e),i=e.children,"group"===e.type&&i&&this._flatten(i,t,e),delete e.children)}),this)},lV.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},lV.type="graphic",lV.defaultOption={elements:[]};var aV,sV=lV;function lV(){var e=null!==aV&&aV.apply(this,arguments)||this;return e.type=lV.type,e.preventAutoZ=!0,e}var uV,cV={path:null,compoundPath:null,group:ao,image:Qs,text:Ml},hV=ea(),dV=(_(pV,uV=Rf),pV.prototype.init=function(){this._elMap=Pe()},pV.prototype.render=function(e,t,n){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,n)},pV.prototype._updateElements=function(e){var t,n,i,r,o=e.useElOptionsToUpdate();o&&(t=this._elMap,n=this.group,i=e.get("z"),r=e.get("zlevel"),ee(o,(function(o){var a,s,l,u=Ko(o.id,null),c=null!=u?t.get(u):null,h=null!=(h=Ko(o.parentId,null))?t.get(h):n,d=o.type,p=o.style,f=("text"===d&&p&&o.hv&&o.hv[1]&&(p.textVerticalAlign=p.textBaseline=p.verticalAlign=p.align=null),o.textContent),g=o.textConfig,m=(d=(p&&RN(p,d,!!g,!!f)&&(p=ON(p,d,!0),!g&&p.textConfig&&(g=o.textConfig=p.textConfig),!f&&p.textContent&&(f=p.textContent)),a=X({},a=o),ee(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(sh),(function(e){delete a[e]})),a),"merge"===(p=o.$action||"merge")),y="replace"===p;(h=(m?((l=!(s=c))?s=gV(u,h,o.type,t):(s&&(hV(s).isNew=!1),nz(s)),s&&(WN(s,d,e,{isInit:l}),yV(s,o,i,r))):y?(mV(c,o,t,e),(s=gV(u,h,o.type,t))&&(WN(s,d,e,{isInit:!0}),yV(s,o,i,r))):"remove"===p&&(jN(c,o),mV(c,o,t,e)),t.get(u)))&&f&&(m?(d=h.getTextContent())?d.attr(f):h.setTextContent(new Ml(f)):y&&h.setTextContent(new Ml(f))),h&&((s=o.clipPath)&&(p=s.type,c=void 0,l=!1,m?c=(l=!(u=h.getClipPath())||hV(u).type!==p)?fV(p):u:y&&(l=!0,c=fV(p)),h.setClipPath(c),WN(c,s,e,{isInit:l}),iz(c,s.keyframeAnimation,e)),d=hV(h),h.setTextConfig(g),d.option=o,f=e,m=o,y=Cl(u=h).eventData,(y=u.silent||u.ignore||y?y:Cl(u).eventData={componentType:"graphic",componentIndex:f.componentIndex,name:u.name})&&(y.info=m.info),Km({el:h,componentModel:e,itemName:h.name,itemTooltipOption:o.tooltip}),iz(h,o.keyframeAnimation,e))})))},pV.prototype._relocate=function(e,t){for(var n,i,r=e.option.elements,o=this.group,a=this._elMap,s=t.getWidth(),l=t.getHeight(),u=["x","y"],c=0;c<r.length;c++)(p=null!=(d=Ko((h=r[c]).id,null))?a.get(d):null)&&p.isGroup&&(n=(f=p.parent)===o,i=hV(p),g=hV(f),i.width=_o(i.option.width,n?s:g.width)||0,i.height=_o(i.option.height,n?l:g.height)||0);var h,d,p;for(c=r.length-1;0<=c;c--)if(p=null!=(d=Ko((h=r[c]).id,null))?a.get(d):null){var f=p.parent,g=hV(f),m={},y=dh(p,h,f===o?{width:s,height:l}:{width:g.width,height:g.height},null,{hv:h.hv,boundingMode:h.bounding},m);if(!hV(p).isNew&&y){for(var v=h.transition,x={},_=0;_<u.length;_++){var b=u[_],w=m[b];v&&(YN(v)||0<=K(v,b))?x[b]=w:p[b]=w}Cu(p,x,e,0)}else p.attr(m)}},pV.prototype._clear=function(){var e=this,t=this._elMap;t.each((function(n){mV(n,hV(n).option,t,e._lastGraphicModel)})),this._elMap=Pe()},pV.prototype.dispose=function(){this._clear()},pV.type="graphic",pV);function pV(){var e=null!==uV&&uV.apply(this,arguments)||this;return e.type=pV.type,e}function fV(e){var t=new(Fe(cV,e)?cV[e]:Bm(e))({});return hV(t).type=e,t}function gV(e,t,n,i){return n=fV(n),t.add(n),i.set(e,n),hV(n).id=e,hV(n).isNew=!0,n}function mV(e,t,n,i){e&&e.parent&&("group"===e.type&&e.traverse((function(e){mV(e,t,n,i)})),XN(e,t,i),n.removeKey(hV(e).id))}function yV(e,t,n,i){var r;e.isGroup||((r=e).cursor=we(t.cursor,Wa.prototype.cursor),r.z=we(t.z,n||0),r.zlevel=we(t.zlevel,i||0),null!=(n=t.z2)&&(r.z2=n||0)),ee(oe(t),(function(n){var i=t[n];0===n.indexOf("on")&&ue(i)&&(e[n]=i)})),e.draggable=t.draggable,null!=t.name&&(e.name=t.name),null!=t.id&&(e.id=t.id)}var vV=["x","y","radius","angle","single"],xV=["cartesian2d","polar","singleAxis"];function _V(e){return e+"Axis"}function bV(e){var t=e.ecModel,n={infoList:[],infoMap:Pe()};return e.eachTargetAxis((function(e,i){var r,o;!(e=t.getComponent(_V(e),i))||(i=e.getCoordSysModel())&&(r=i.uid,(o=n.infoMap.get(r))||(n.infoList.push(o={model:i,axisModels:[]}),n.infoMap.set(r,o)),o.axisModels.push(e))})),n}MV.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)};var wV,SV,AV=MV;function MV(){this.indexList=[],this.indexMap=[]}function CV(){var e=null!==wV&&wV.apply(this,arguments)||this;return e.type=CV.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}function TV(e){var t={};return ee(["start","end","startValue","endValue","throttle"],(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}function IV(){var e=null!==SV&&SV.apply(this,arguments)||this;return e.type=IV.type,e}_(CV,wV=Mh),CV.prototype.init=function(e,t,n){var i=TV(e);this.settledOption=i,this.mergeDefaultAndTheme(e,n),this._doInit(i)},CV.prototype.mergeOption=function(e){var t=TV(e);W(this.option,e,!0),W(this.settledOption,t,!0),this._doInit(t)},CV.prototype._doInit=function(e){var t=this.option,n=(this._setDefaultThrottle(e),this._updateRangeUse(e),this.settledOption);ee([["start","startValue"],["end","endValue"]],(function(e,i){"value"===this._rangePropMode[i]&&(t[e[0]]=n[e[0]]=null)}),this),this._resetTarget()},CV.prototype._resetTarget=function(){var e=this.get("orient",!0),t=this._targetAxisInfoMap=Pe();this._fillSpecifiedTargetAxis(t)?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(t,this._orient)),this._noTarget=!0,t.each((function(e){e.indexList.length&&(this._noTarget=!1)}),this)},CV.prototype._fillSpecifiedTargetAxis=function(e){var t=!1;return ee(vV,(function(n){var i,r=this.getReferringComponents(_V(n),oa);r.specified&&(t=!0,i=new AV,ee(r.models,(function(e){i.add(e.componentIndex)})),e.set(n,i))}),this),t},CV.prototype._fillAutoTargetAxisByOrient=function(e,t){var n,i=this.ecModel,r=!0;function o(t,n){var i,o,a=t[0];a&&((i=new AV).add(a.componentIndex),e.set(n,i),r=!1,"x"!==n&&"y"!==n||(o=a.getReferringComponents("grid",ra).models[0])&&ee(t,(function(e){a.componentIndex!==e.componentIndex&&o===e.getReferringComponents("grid",ra).models[0]&&i.add(e.componentIndex)})))}r&&o(i.findComponents({mainType:(n="vertical"===t?"y":"x")+"Axis"}),n),r&&o(i.findComponents({mainType:"singleAxis",filter:function(e){return e.get("orient",!0)===t}}),"single"),r&&ee(vV,(function(t){var n,o;!r||(n=i.findComponents({mainType:_V(t),filter:function(e){return"category"===e.get("type",!0)}}))[0]&&((o=new AV).add(n[0].componentIndex),e.set(t,o),r=!1)}),this)},CV.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis((function(t){e=e||t}),this),"y"===e?"vertical":"horizontal"},CV.prototype._setDefaultThrottle=function(e){e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle&&(e=this.ecModel.option,this.option.throttle=e.animation&&0<e.animationDurationUpdate?100:20)},CV.prototype._updateRangeUse=function(e){var t=this._rangePropMode,n=this.get("rangeMode");ee([["start","startValue"],["end","endValue"]],(function(i,r){var o=null!=e[i[0]];i=null!=e[i[1]];o&&!i?t[r]="percent":!o&&i?t[r]="value":n?t[r]=n[r]:o&&(t[r]="percent")}))},CV.prototype.noTarget=function(){return this._noTarget},CV.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis((function(t,n){null==e&&(e=this.ecModel.getComponent(_V(t),n))}),this),e},CV.prototype.eachTargetAxis=function(e,t){this._targetAxisInfoMap.each((function(n,i){ee(n.indexList,(function(n){e.call(t,i,n)}))}))},CV.prototype.getAxisProxy=function(e,t){if(e=this.getAxisModel(e,t))return e.__dzAxisProxy},CV.prototype.getAxisModel=function(e,t){var n=this._targetAxisInfoMap.get(e);if(n&&n.indexMap[t])return this.ecModel.getComponent(_V(e),t)},CV.prototype.setRawRange=function(e){var t=this.option,n=this.settledOption;ee([["start","startValue"],["end","endValue"]],(function(i){null==e[i[0]]&&null==e[i[1]]||(t[i[0]]=n[i[0]]=e[i[0]],t[i[1]]=n[i[1]]=e[i[1]])}),this),this._updateRangeUse(e)},CV.prototype.setCalculatedRange=function(e){var t=this.option;ee(["start","startValue","end","endValue"],(function(n){t[n]=e[n]}))},CV.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},CV.prototype.getValueRange=function(e,t){return null!=e||null!=t?this.getAxisProxy(e,t).getDataValueWindow():(e=this.findRepresentativeAxisProxy())?e.getDataValueWindow():void 0},CV.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var t,n=this._targetAxisInfoMap.keys(),i=0;i<n.length;i++)for(var r=n[i],o=this._targetAxisInfoMap.get(r),a=0;a<o.indexList.length;a++){var s=this.getAxisProxy(r,o.indexList[a]);if(s.hostedBy(this))return s;t=t||s}return t},CV.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},CV.prototype.getOrient=function(){return this._orient},CV.type="dataZoom",CV.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],CV.defaultOption={z:4,filterMode:"filter",start:0,end:100},_(IV,SV=nv=CV),IV.type="dataZoom.select";var kV,DV,BV=IV;function EV(){var e=null!==kV&&kV.apply(this,arguments)||this;return e.type=EV.type,e}function PV(){var e=null!==DV&&DV.apply(this,arguments)||this;return e.type=PV.type,e}_(EV,kV=Rf),EV.prototype.render=function(e,t,n,i){this.dataZoomModel=e,this.ecModel=t,this.api=n},EV.type="dataZoom",_(PV,DV=$u=EV),PV.type="dataZoom.select";var LV=PV,RV=ee,OV=wo;function FV(e,t,n,i){this._dimName=e,this._axisIndex=t,this.ecModel=i,this._dataZoomModel=n}FV.prototype.hostedBy=function(e){return this._dataZoomModel===e},FV.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},FV.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},FV.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries((function(t){var n;n=(n=t).get("coordinateSystem"),0<=K(xV,n)&&(n=_V(this._dimName),(n=t.getReferringComponents(n,ra).models[0])&&this._axisIndex===n.componentIndex&&e.push(t))}),this),e},FV.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},FV.prototype.getMinMaxSpan=function(){return Z(this._minMaxSpan)},FV.prototype.calculateDataWindow=function(e){var t,n=this._dataExtent,i=this.getAxisModel().axis.scale,r=this._dataZoomModel.getRangePropMode(),o=[0,100],a=[],s=[],l=(RV(["start","end"],(function(l,u){var c=e[l];l=e[l+"Value"];"percent"===r[u]?l=i.parse(xo(c=null==c?o[u]:c,o,n)):(t=!0,c=xo(l=null==l?n[u]:i.parse(l),n,o)),s[u]=l,a[u]=c})),OV(s),OV(a),this._minMaxSpan);function u(e,t,n,r,o){var a=o?"Span":"ValueSpan";dL(0,e,n,"all",l["min"+a],l["max"+a]);for(var s=0;s<2;s++)t[s]=xo(e[s],n,r,!0),o&&(t[s]=i.parse(t[s]))}return t?u(s,a,n,o,!1):u(a,s,o,n,!0),{valueWindow:s,percentWindow:a}},FV.prototype.reset=function(e){var t,n,i,r;e===this._dataZoomModel&&(r=this.getTargetSeriesModels(),this._dataExtent=(n=(t=this)._dimName,i=[1/0,-1/0],RV(r,(function(e){var t,r;t=i,r=e.getData(),e=n,r&&ee(sw(r,e),(function(e){(e=r.getApproximateExtent(e))[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])}))})),[(t=qb((r=t.getAxisModel()).axis.scale,r,i).calculate()).min,t.max]),this._updateMinMaxSpan(),r=this.calculateDataWindow(e.settledOption),this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel())},FV.prototype.filterData=function(e,t){var n,i,r,o;e===this._dataZoomModel&&(n=this._dimName,i=this.getTargetSeriesModels(),r=e.get("filterMode"),o=this._valueWindow,"none"!==r&&RV(i,(function(e){var t,i,a=e.getData(),s=a.mapDimensionsAll(n);s.length&&("weakFilter"===r?(t=a.getStore(),i=te(s,(function(e){return a.getDimensionIndex(e)}),a),a.filterSelf((function(e){for(var n,r,a,l=0;l<s.length;l++){var u=t.get(i[l],e),c=!isNaN(u),h=u<o[0];u=u>o[1];if(c&&!h&&!u)return!0;c&&(a=!0),h&&(n=!0),u&&(r=!0)}return a&&n&&r}))):RV(s,(function(t){var n;"empty"===r?e.setData(a=a.map(t,(function(e){return(t=e)>=o[0]&&t<=o[1]?e:NaN;var t}))):((n={})[t]=o,a.selectRange(n))})),RV(s,(function(e){a.setApproximateExtent(o,e)})))})))},FV.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,n=this._dataExtent;RV(["min","max"],(function(i){var r=t.get(i+"Span"),o=t.get(i+"ValueSpan");null!=(o=null!=o?this.getAxisModel().axis.scale.parse(o):o)?r=xo(n[0]+o,n,[0,100],!0):null!=r&&(o=xo(r,[0,100],n,!0)-n[0]),e[i+"Span"]=r,e[i+"ValueSpan"]=o}),this)},FV.prototype._setAxisModel=function(){var e,t=this.getAxisModel(),n=this._percentWindow,i=this._valueWindow;n&&(e=Mo(i,[0,500]),e=Math.min(e,20),t=t.axis.scale.rawExtentInfo,0!==n[0]&&t.setDeterminedMinMax("min",+i[0].toFixed(e)),100!==n[1]&&t.setDeterminedMinMax("max",+i[1].toFixed(e)),t.freeze())};var NV=FV,zV={getTargetSeries:function(e){function t(t){e.eachComponent("dataZoom",(function(n){n.eachTargetAxis((function(i,r){var o=e.getComponent(_V(i),r);t(i,r,o,n)}))}))}t((function(e,t,n,i){n.__dzAxisProxy=null}));var n=[],i=(t((function(t,i,r,o){r.__dzAxisProxy||(r.__dzAxisProxy=new NV(t,i,o,e),n.push(r.__dzAxisProxy))})),Pe());return ee(n,(function(e){ee(e.getTargetSeriesModels(),(function(e){i.set(e.uid,e)}))})),i},overallReset:function(e,t){e.eachComponent("dataZoom",(function(e){e.eachTargetAxis((function(t,n){e.getAxisProxy(t,n).reset(e)})),e.eachTargetAxis((function(n,i){e.getAxisProxy(n,i).filterData(e,t)}))})),e.eachComponent("dataZoom",(function(e){var t,n=e.findRepresentativeAxisProxy();n&&(t=n.getDataPercentWindow(),n=n.getDataValueWindow(),e.setCalculatedRange({start:t[0],end:t[1],startValue:n[0],endValue:n[1]}))}))}},GV=!1;function HV(e){GV||(GV=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,zV),e.registerAction("dataZoom",(function(e,t){ee(function(e,t){var n,i=Pe(),r=[],o=Pe();for(e.eachComponent({mainType:"dataZoom",query:t},(function(e){o.get(e.uid)||s(e)}));n=!1,e.eachComponent("dataZoom",a),n;);function a(e){var t;!o.get(e.uid)&&(t=!1,e.eachTargetAxis((function(e,n){(e=i.get(e))&&e[n]&&(t=!0)})),t)&&(s(e),n=!0)}function s(e){o.set(e.uid,!0),r.push(e),e.eachTargetAxis((function(e,t){(i.get(e)||i.set(e,[]))[t]=!0}))}return r}(t,e),(function(t){t.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})}))})),e.registerSubTypeDefaulter("dataZoom",(function(){return"slider"})))}function VV(e){e.registerComponentModel(BV),e.registerComponentView(LV),HV(e)}function UV(){}var ZV,WV={};function jV(e,t){WV[e]=t}function XV(e){return WV[e]}function YV(){var e=null!==ZV&&ZV.apply(this,arguments)||this;return e.type=YV.type,e}_(YV,ZV=Mh),YV.prototype.optionUpdated=function(){ZV.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;ee(this.option.feature,(function(t,n){(n=XV(n))&&(n.getDefaultOption&&(n.defaultOption=n.getDefaultOption(e)),W(t,n.defaultOption))}))},YV.type="toolbox",YV.layoutMode={type:"box",ignoreSize:!0},YV.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}};var JV,KV=YV;function QV(e,t){var n=Xc(t.get("padding")),i=t.getItemStyle(["color","opacity"]);return i.fill=t.get("backgroundColor"),new sl({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:i,silent:!0,z2:-1})}function qV(){return null!==JV&&JV.apply(this,arguments)||this}_(qV,JV=Rf),qV.prototype.render=function(e,t,n,i){var r,o,a,s,l,u,c,h,d,p,f,g=this.group;function m(u,c){u=l[u],c=l[c];var h,d=a[u],p=new ac(d,e,e.ecModel);if(i&&null!=i.newTitle&&i.featureName===u&&(d.title=i.newTitle),u&&!c){if(0===u.indexOf("my"))h={onclick:p.option.onclick,featureName:u};else{if(!(d=XV(u)))return;h=new d}s[u]=h}else if(!(h=s[c]))return;h.uid=lc("toolbox-feature"),h.model=p,h.ecModel=t,h.api=n;var f,m,y,v,x,_,b;d=h instanceof UV;!u&&c?d&&h.dispose&&h.dispose(t,n):!p.get("show")||d&&h.unusable?d&&h.remove&&h.remove(t,n):(m=h,c=u,x=(f=p).getModel("iconStyle"),_=f.getModel(["emphasis","iconStyle"]),d=m instanceof UV&&m.getIcons?m.getIcons():f.get("icon"),u=f.get("title")||{},ce(d)?(y={})[c]=d:y=d,ce(u)?(v={})[c]=u:v=u,b=f.iconPaths={},ee(y,(function(i,a){var s=Xm(i,{},{x:-r/2,y:-r/2,width:r,height:r});s.setStyle(x.getItemStyle()),s.ensureState("emphasis").style=_.getItemStyle();var l=new Ml({style:{text:v[a],align:_.get("textAlign"),borderRadius:_.get("textBorderRadius"),padding:_.get("textPadding"),fill:null},ignore:!0});s.setTextContent(l),Km({el:s,componentModel:e,itemName:a,formatterParamsExtra:{title:v[a]}}),s.__title=v[a],s.on("mouseover",(function(){var t=_.getItemStyle(),i=o?null==e.get("right")&&"right"!==e.get("left")?"right":"left":null==e.get("bottom")&&"bottom"!==e.get("top")?"bottom":"top";l.setStyle({fill:_.get("textFill")||t.fill||t.stroke||"#000",backgroundColor:_.get("textBackgroundColor")}),s.setTextConfig({position:_.get("textPosition")||i}),l.ignore=!e.get("showTitle"),n.enterEmphasis(this)})).on("mouseout",(function(){"emphasis"!==f.get(["iconStatus",a])&&n.leaveEmphasis(this),l.hide()})),("emphasis"===f.get(["iconStatus",a])?tu:nu)(s),g.add(s),s.on("click",ae(m.onclick,m,t,n,a)),b[a]=s})),p.setIconStatus=function(e,t){var n=this.option,i=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[e]=t,i[e]&&("emphasis"===t?tu:nu)(i[e])},h instanceof UV&&h.render&&h.render(p,t,n,i))}g.removeAll(),e.get("show")&&(r=+e.get("itemSize"),o="vertical"===e.get("orient"),a=e.get("feature")||{},s=this._features||(this._features={}),l=[],ee(a,(function(e,t){l.push(t)})),new y_(this._featureNames||[],l).add(m).update(m).remove(se(m,null)).execute(),this._featureNames=l,u=g,h=n,d=(c=e).getBoxLayoutParams(),p=c.get("padding"),f=hh(d,h={width:h.getWidth(),height:h.getHeight()},p),ch(c.get("orient"),u,c.get("itemGap"),f.width,f.height),dh(u,d,h,p),g.add(QV(g.getBoundingRect(),e)),o||g.eachChild((function(e){var t,i,o,a=e.__title,s=(s=e.ensureState("emphasis")).textConfig||(s.textConfig={});(o=(o=e.getTextContent())&&o.ensureState("emphasis"))&&!ue(o)&&a&&(o=o.style||(o.style={}),a=Ur(a,Ml.makeFont(o)),t=e.x+g.x,i=!1,e.y+g.y+r+a.height>n.getHeight()&&(s.position="top",i=!0),e=i?-5-a.height:r+10,t+a.width/2>n.getWidth()?(s.position=["100%",e],o.align="right"):t-a.width/2<0&&(s.position=[0,e],o.align="left"))})))},qV.prototype.updateView=function(e,t,n,i){ee(this._features,(function(e){e instanceof UV&&e.updateView&&e.updateView(e.model,t,n,i)}))},qV.prototype.remove=function(e,t){ee(this._features,(function(n){n instanceof UV&&n.remove&&n.remove(e,t)})),this.group.removeAll()},qV.prototype.dispose=function(e,t){ee(this._features,(function(n){n instanceof UV&&n.dispose&&n.dispose(e,t)}))},qV.type="toolbox";var $V,eU=qV;function tU(){return null!==$V&&$V.apply(this,arguments)||this}_(tU,$V=UV),tU.prototype.onclick=function(e,t){var n=this.model,i=n.get("name")||e.get("title.0.text")||"echarts",r=(s="svg"===t.getZr().painter.getType())?"svg":n.get("type",!0)||"png";t=t.getConnectedDataURL({type:r,backgroundColor:n.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")}),e=A.browser;if(ue(MouseEvent)&&(e.newEdge||!e.ie&&!e.edge)){var o=((e=document.createElement("a")).download=i+"."+r,e.target="_blank",e.href=t,new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1}));e.dispatchEvent(o)}else if(window.navigator.msSaveOrOpenBlob||s){o=-1<(e=t.split(","))[0].indexOf("base64");var a=s?decodeURIComponent(e[1]):e[1],s=(o&&(a=window.atob(a)),i+"."+r);if(window.navigator.msSaveOrOpenBlob){for(var l=a.length,u=new Uint8Array(l);l--;)u[l]=a.charCodeAt(l);e=new Blob([u]),window.navigator.msSaveOrOpenBlob(e,s)}else o=document.createElement("iframe"),document.body.appendChild(o),(e=(r=o.contentWindow).document).open("image/svg+xml","replace"),e.write(a),e.close(),r.focus(),e.execCommand("SaveAs",!0,s),document.body.removeChild(o)}else e='<body style="margin:0;"><img src="'+t+'" style="max-width:100%;" title="'+((r=n.get("lang"))&&r[0]||"")+'" /></body>',(s=window.open()).document.write(e),s.document.title=i},tU.getDefaultOption=function(e){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])}};var nU,iU=tU,rU="__ec_magicType_stack__",oU=[["line","bar"],["stack"]];_(aU,nU=UV),aU.prototype.getIcons=function(){var e=this.model,t=e.get("icon"),n={};return ee(e.get("type"),(function(e){t[e]&&(n[e]=t[e])})),n},aU.getDefaultOption=function(e){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},aU.prototype.onclick=function(e,t,n){var i,r,o=this.model,a=o.get(["seriesIndex",n]);sU[n]&&(i={series:[]},ee(oU,(function(e){0<=K(e,n)&&ee(e,(function(e){o.setIconStatus(e,"normal")}))})),o.setIconStatus(n,"emphasis"),e.eachComponent({mainType:"series",query:null==a?null:{seriesIndex:a}},(function(e){var t=e.subType,r=e.id;if((r=((t=sU[n](t,r,e,o))&&(Y(t,e.option),i.series.push(t)),e.coordinateSystem))&&"cartesian2d"===r.type&&("line"===n||"bar"===n)&&(t=r.getAxesByScale("ordinal")[0])){var a=t.dim+"Axis",s=e.getReferringComponents(a,ra).models[0].componentIndex;i[a]=i[a]||[];for(var l=0;l<=s;l++)i[a][s]=i[a][s]||{};i[a][s].boundaryGap="bar"===n}})),"stack"===(e=n)&&(r=W({stack:o.option.title.tiled,tiled:o.option.title.stack},o.option.title),"emphasis"!==o.get(["iconStatus",n])&&(e="tiled")),t.dispatchAction({type:"changeMagicType",currentType:e,newOption:i,newTitle:r,featureName:"magicType"}))},_a=aU;function aU(){return null!==nU&&nU.apply(this,arguments)||this}var sU={line:function(e,t,n,i){if("bar"===e)return W({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(e,t,n,i){if("line"===e)return W({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(e,t,n,i){if(n=n.get("stack")===rU,"line"===e||"bar"===e)return i.setIconStatus("stack",n?"normal":"emphasis"),W({id:t,stack:n?"":rU},i.get(["option","stack"])||{},!0)}},lU=(qx({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(e,t){t.mergeOption(e.newOption)})),_a),uU=new Array(60).join("-"),cU="\t";function hU(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var dU=new RegExp("[\t]+","g");_(fU,pU=UV),fU.prototype.onclick=function(e,t){setTimeout((function(){t.dispatchAction({type:"hideTip"})}));var n=t.getDom(),i=this.model,r=(this._dom&&n.removeChild(this._dom),document.createElement("div")),o=(r.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",r.style.backgroundColor=i.get("backgroundColor")||"#fff",document.createElement("h4")),a=i.get("lang")||[],s=(o.innerHTML=a[0]||i.get("title"),o.style.cssText="margin:10px 20px",o.style.color=i.get("textColor"),document.createElement("div")),l=document.createElement("textarea"),u=(s.style.cssText="overflow:auto",i.get("optionToContent")),c=i.get("contentToOption"),h=(e=function(e){var t,n,i,r;return t={},n=[],i=[],e.eachRawSeries((function(e){var r,o,a=e.coordinateSystem;!a||"cartesian2d"!==a.type&&"polar"!==a.type||"category"!==(r=a.getBaseAxis()).type?n.push(e):(o=r.dim+"_"+r.index,t[o]||(t[o]={categoryAxis:r,valueAxis:a.getOtherAxis(r),series:[]},i.push({axisDim:r.dim,axisIndex:r.index})),t[o].series.push(e))})),{value:ie([(r=[],ee((e={seriesGroupByCategoryAxis:t,other:n,meta:i}).seriesGroupByCategoryAxis,(function(e,t){for(var n=e.categoryAxis,i=e.valueAxis.dim,o=[" "].concat(te(e.series,(function(e){return e.name}))),a=[n.model.getCategories()],s=(ee(e.series,(function(e){var t=e.getRawData();a.push(e.getRawData().mapArray(t.mapDimension(i),(function(e){return e})))})),[o.join(cU)]),l=0;l<a[0].length;l++){for(var u=[],c=0;c<a.length;c++)u.push(a[c][l]);s.push(u.join(cU))}r.push(s.join("\n"))})),r.join("\n\n"+uU+"\n\n")),te(e.other,(function(e){var t=e.getRawData(),n=[e.name],i=[];return t.each(t.dimensions,(function(){for(var e=arguments.length,r=t.getName(arguments[e-1]),o=0;o<e-1;o++)i[o]=arguments[o];n.push((r?r+cU:"")+i.join(cU))})),n.join("\n")})).join("\n\n"+uU+"\n\n")],(function(e){return!!e.replace(/[\n\t\s]/g,"")})).join("\n\n"+uU+"\n\n"),meta:e.meta}}(e),ue(u)?ce(d=u(t.getOption()))?s.innerHTML=d:me(d)&&s.appendChild(d):(l.readOnly=i.get("readOnly"),(d=l.style).cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",d.color=i.get("textColor"),d.borderColor=i.get("textareaBorderColor"),d.backgroundColor=i.get("textareaColor"),l.value=e.value,s.appendChild(l)),e.meta),d=document.createElement("div"),p=(e=(d.style.cssText="position:absolute;bottom:5px;left:0;right:0","float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px"),document.createElement("div")),f=document.createElement("div"),g=(e=(e+=";background-color:"+i.get("buttonColor"))+";color:"+i.get("buttonTextColor"),this);function m(){n.removeChild(r),g._dom=null}Et(p,"click",m),Et(f,"click",(function(){if(null==c&&null!=u||null!=c&&null==u)m();else{var e;try{e=ue(c)?c(s,t.getOption()):function(e,t){e=e.split(new RegExp("\n*"+uU+"\n*","g"));var n={series:[]};return ee(e,(function(e,i){var r,o;0<=e.slice(0,e.indexOf("\n")).indexOf(cU)?(o=function(e){for(var t=e.split(/\n+/g),n=[],i=te(hU(t.shift()).split(dU),(function(e){return{name:e,data:[]}})),r=0;r<t.length;r++){var o=hU(t[r]).split(dU);n.push(o.shift());for(var a=0;a<o.length;a++)i[a]&&(i[a].data[r]=o[a])}return{series:i,categories:n}}(e),r=(i=t[i]).axisDim+"Axis",i&&(n[r]=n[r]||[],n[r][i.axisIndex]={data:o.categories},n.series=n.series.concat(o.series))):(o=function(e){for(var t=e.split(/\n+/g),n=(e=hU(t.shift()),[]),i=0;i<t.length;i++)if(s=hU(t[i])){for(var r,o=s.split(dU),a=void 0,s=!1,l=(a=isNaN(o[0])?(s=!0,r=o[0],o=o.slice(1),n[i]={name:r,value:[]},n[i].value):n[i]=[],0);l<o.length;l++)a.push(+o[l]);1===a.length&&(s?n[i].value=a[0]:n[i]=a[0])}return{name:e,data:n}}(e),n.series.push(o))})),n}(l.value,h)}catch(e){throw m(),new Error("Data view format error "+e)}e&&t.dispatchAction({type:"changeDataView",newOption:e}),m()}})),p.innerHTML=a[1],f.innerHTML=a[2],f.style.cssText=p.style.cssText=e,i.get("readOnly")||d.appendChild(f),d.appendChild(p),r.appendChild(o),r.appendChild(s),r.appendChild(d),s.style.height=n.clientHeight-80+"px",n.appendChild(r),this._dom=r},fU.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},fU.prototype.dispose=function(e,t){this.remove(e,t)},fU.getDefaultOption=function(e){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}};var pU;Fy=fU;function fU(){return null!==pU&&pU.apply(this,arguments)||this}qx({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(e,t){var n=[];ee(e.newOption.series,(function(e){var i,r,o=t.getSeriesByName(e.name)[0];o?(o=o.get("data"),n.push({name:e.name,data:(i=e.data,r=o,te(i,(function(e,t){var n;return pe(t=r&&r[t])&&!le(t)&&(pe(e)&&!le(e)||(e={value:e}),n=null!=t.name&&null==e.name,e=Y(e,t),n&&delete e.name),e})))})):n.push(X({type:"scatter"},e))})),t.mergeOption(Y({series:n},e.newOption))}));var gU=Fy,mU=ee,yU=ea();function vU(e){return(e=yU(e)).snapshots||(e.snapshots=[{}]),e.snapshots}_(_U,xU=UV),_U.prototype.onclick=function(e,t){yU(e).snapshots=null,t.dispatchAction({type:"restore",from:this.uid})},_U.getDefaultOption=function(e){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])}};var xU;Ig=_U;function _U(){return null!==xU&&xU.apply(this,arguments)||this}qx({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(e,t){t.resetOption("recreate")}));var bU=Ig,wU=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];SU.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,(function(e,t,n){(e.coordRanges||(e.coordRanges=[])).push(t),e.coordRange||(e.coordRange=t,n=kU[e.brushType](0,n,t),e.__rangeOffset={offset:BU[e.brushType](n.values,e.range,[1,1]),xyMinMax:n.xyMinMax})})),e},SU.prototype.matchOutputRanges=function(e,t,n){ee(e,(function(e){var i=this.findTargetInfo(e,t);i&&!0!==i&&ee(i.coordSyses,(function(i){var r=kU[e.brushType](1,i,e.range,!0);n(e,r.values,i,t)}))}),this)},SU.prototype.setInputRanges=function(e,t){ee(e,(function(e){var n,i=this.findTargetInfo(e,t);e.range=e.range||[],i&&!0!==i&&(e.panelId=i.panelId,i=kU[e.brushType](0,i.coordSys,e.coordRange),n=e.__rangeOffset,e.range=n?BU[e.brushType](i.values,n.offset,function(e,t){return e=PU(e),t=PU(t),e=[e[0]/t[0],e[1]/t[1]],isNaN(e[0])&&(e[0]=1),isNaN(e[1])&&(e[1]=1),e}(i.xyMinMax,n.xyMinMax)):i.values)}),this)},SU.prototype.makePanelOpts=function(e,t){return te(this._targetInfoList,(function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t?t(n):null,clipPath:mR(i),isTargetByCursor:vR(i,e,n.coordSysModel),getLinearBrushOtherExtent:yR(i)}}))},SU.prototype.controlSeries=function(e,t,n){return!0===(e=this.findTargetInfo(e,n))||e&&0<=K(e.coordSyses,t.coordinateSystem)},SU.prototype.findTargetInfo=function(e,t){for(var n=this._targetInfoList,i=MU(t,e),r=0;r<n.length;r++){var o=n[r],a=e.panelId;if(a){if(o.panelId===a)return o}else for(var s=0;s<TU.length;s++)if(TU[s](i,o))return o}return!0},t=SU;function SU(e,t,n){var i=this,r=(this._targetInfoList=[],MU(t,e));ee(CU,(function(e,t){n&&n.include&&!(0<=K(n.include,t))||e(r,i._targetInfoList)}))}function AU(e){return e[0]>e[1]&&e.reverse(),e}function MU(e,t){return na(e,t,{includeMainTypes:wU})}var CU={grid:function(e,t){var n=e.xAxisModels,i=e.yAxisModels,r=(e=e.gridModels,Pe()),o={},a={};(n||i||e)&&(ee(n,(function(e){e=e.axis.grid.model,r.set(e.id,e),o[e.id]=!0})),ee(i,(function(e){e=e.axis.grid.model,r.set(e.id,e),a[e.id]=!0})),ee(e,(function(e){r.set(e.id,e),o[e.id]=!0,a[e.id]=!0})),r.each((function(e){var r=e.coordinateSystem,s=[];ee(r.getCartesians(),(function(e,t){(0<=K(n,e.getAxis("x").model)||0<=K(i,e.getAxis("y").model))&&s.push(e)})),t.push({panelId:"grid--"+e.id,gridModel:e,coordSysModel:e,coordSys:s[0],coordSyses:s,getPanelRect:IU.grid,xAxisDeclared:o[e.id],yAxisDeclared:a[e.id]})})))},geo:function(e,t){ee(e.geoModels,(function(e){var n=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:IU.geo})}))}},TU=[function(e,t){var n=e.xAxisModel,i=e.yAxisModel;return(e=!(e=!(e=e.gridModel)&&n?n.axis.grid.model:e)&&i?i.axis.grid.model:e)&&e===t.gridModel},function(e,t){return(e=e.geoModel)&&e===t.geoModel}],IU={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(Gm(e)),t}},kU={lineX:se(DU,0),lineY:se(DU,1),rect:function(e,t,n,i){var r=e?t.pointToData([n[0][0],n[1][0]],i):t.dataToPoint([n[0][0],n[1][0]],i);e=e?t.pointToData([n[0][1],n[1][1]],i):t.dataToPoint([n[0][1],n[1][1]],i);return{values:t=[AU([r[0],e[0]]),AU([r[1],e[1]])],xyMinMax:t}},polygon:function(e,t,n,i){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:te(n,(function(n){return n=e?t.pointToData(n,i):t.dataToPoint(n,i),r[0][0]=Math.min(r[0][0],n[0]),r[1][0]=Math.min(r[1][0],n[1]),r[0][1]=Math.max(r[0][1],n[0]),r[1][1]=Math.max(r[1][1],n[1]),n})),xyMinMax:r}}};function DU(e,t,n,i){var r=n.getAxis(["x","y"][e]),o=(n=AU(te([0,1],(function(e){return t?r.coordToData(r.toLocalCoord(i[e]),!0):r.toGlobalCoord(r.dataToCoord(i[e]))}))),[]);return o[e]=n,o[1-e]=[NaN,NaN],{values:n,xyMinMax:o}}var BU={lineX:se(EU,0),lineY:se(EU,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return te(e,(function(e,i){return[e[0]-n[0]*t[i][0],e[1]-n[1]*t[i][1]]}))}};function EU(e,t,n,i){return[t[0]-i[e]*n[0],t[1]-i[e]*n[1]]}function PU(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var LU,RU=t,OU=ee;_(FU,LU=UV),FU.prototype.render=function(e,t,n,i){this._brushController||(this._brushController=new gR(n.getZr()),this._brushController.on("brush",ae(this._onBrush,this)).mount());var r=e,o=t,a=this,s=a._isZoomActive;i&&"takeGlobalCursor"===i.type&&(s="dataZoomSelect"===i.key&&i.dataZoomSelectActive),a._isZoomActive=s,r.setIconStatus("zoom",s?"emphasis":"normal"),i=new RU(zU(r),o,{include:["grid"]}).makePanelOpts(n,(function(e){return e.xAxisDeclared&&!e.yAxisDeclared?"lineX":!e.xAxisDeclared&&e.yAxisDeclared?"lineY":"rect"})),a._brushController.setPanels(i).enableBrush(!(!s||!i.length)&&{brushType:"auto",brushStyle:r.getModel("brushStyle").getItemStyle()}),e.setIconStatus("back",1<function(e){return vU(e).length}(t)?"emphasis":"normal")},FU.prototype.onclick=function(e,t,n){NU[n].call(this)},FU.prototype.remove=function(e,t){this._brushController&&this._brushController.unmount()},FU.prototype.dispose=function(e,t){this._brushController&&this._brushController.dispose()},FU.prototype._onBrush=function(e){var t,n,i,r,o=e.areas;function a(e,i,r){var o,a,s,l=(i=i.getAxis(e)).model;null==(l=(e=(o=e,a=l,n.eachComponent({mainType:"dataZoom",subType:"select"},(function(e){e.getAxisModel(o,a.componentIndex)&&(s=e)})),s)).findRepresentativeAxisProxy(l).getMinMaxSpan()).minValueSpan&&null==l.maxValueSpan||(r=dL(0,r.slice(),i.scale.getExtent(),0,l.minValueSpan,l.maxValueSpan)),e&&(t[e.id]={dataZoomId:e.id,startValue:r[0],endValue:r[1]})}e.isEnd&&o.length&&(t={},n=this.ecModel,this._brushController.updateCovers([]),new RU(zU(this.model),n,{include:["grid"]}).matchOutputRanges(o,n,(function(e,t,n){"cartesian2d"===n.type&&("rect"===(e=e.brushType)?(a("x",n,t[0]),a("y",n,t[1])):a({lineX:"x",lineY:"y"}[e],n,t))})),e=t,r=vU(i=n),mU(e,(function(e,t){for(var n,o=r.length-1;0<=o&&!r[o][t];o--);o<0&&(n=i.queryComponents({mainType:"dataZoom",subType:"select",id:t})[0])&&(n=n.getPercentRange(),r[0][t]={dataZoomId:t,start:n[0],end:n[1]})})),r.push(e),this._dispatchZoomAction(t))},FU.prototype._dispatchZoomAction=function(e){var t=[];OU(e,(function(e,n){t.push(Z(e))})),t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})},FU.getDefaultOption=function(e){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},Uy=FU;function FU(){return null!==LU&&LU.apply(this,arguments)||this}var NU={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){var e,t,n;this._dispatchZoomAction((e=this.ecModel,e=(t=vU(e))[t.length-1],1<t.length&&t.pop(),n={},mU(e,(function(e,i){for(var r=t.length-1;0<=r;r--)if(e=t[r][i]){n[i]=e;break}})),n))}};function zU(e){return null==(e={xAxisIndex:e.get("xAxisIndex",!0),yAxisIndex:e.get("yAxisIndex",!0),xAxisId:e.get("xAxisId",!0),yAxisId:e.get("yAxisId",!0)}).xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex="all"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex="all"),e}iv="dataZoom",$y=function(e){var t,n,i=e.getComponent("toolbox",0),r=["feature","dataZoom"];if(i&&null!=i.get(r))return t=i.getModel(r),n=[],i=na(e,zU(t)),OU(i.xAxisModels,(function(e){return o(e,"xAxis","xAxisIndex")})),OU(i.yAxisModels,(function(e){return o(e,"yAxis","yAxisIndex")})),n;function o(e,i,r){e=e.componentIndex,(i={type:"select",$fromToolbox:!0,filterMode:t.get("filterMode",!0)||"filter",id:"\0_ec_\0toolbox-dataZoom_"+i+e})[r]=e,n.push(i)}},Ce(null==Yh.get(iv)&&$y),Yh.set(iv,$y);var GU,HU=Uy;function VU(){var e=null!==GU&&GU.apply(this,arguments)||this;return e.type=VU.type,e}_(VU,GU=Mh),VU.type="tooltip",VU.dependencies=["axisPointer"],VU.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}};var UU=VU;function ZU(e){var t=e.get("confine");return null!=t?t:"richText"===e.get("renderMode")}function WU(e){if(A.domSupported)for(var t=document.documentElement.style,n=0,i=e.length;n<i;n++)if(e[n]in t)return e[n]}var jU=WU(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function XU(e,t){if(!e)return t;t=jc(t,!0);var n=e.indexOf(t);return(e=-1===n?t:"-"+e.slice(0,n)+"-"+t).toLowerCase()}var YU=XU(WU(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),JU=XU(jU,"transform"),KU="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(A.transform3dSupported?"will-change:transform;":"");function QU(e,t,n){if(e=e.toFixed(0)+"px",t=t.toFixed(0)+"px",!A.transformSupported)return n?"top:"+t+";left:"+e+";":[["top",t],["left",e]];var i=A.transform3dSupported;e="translate"+(i?"3d":"")+"("+e+","+t+(i?",0":"")+")";return n?"top:0;left:0;"+JU+":"+e+";":[["top",0],["left",0],[jU,e]]}function qU(e,t,n,i,r){var o,a,s=t&&t.painter;n?(n=s&&s.getViewportRoot())&&(o=e,a=document.body,St(wt,n,i,r,!0)&&St(o,a,wt[0],wt[1])):(e[0]=i,e[1]=r,(n=s&&s.getViewportRootOffset())&&(e[0]+=n.offsetLeft,e[1]+=n.offsetTop)),e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}function $U(e,t,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,A.wxa)return null;var i=document.createElement("div"),r=(i.domBelongToZr=!0,this.el=i,this._zr=t.getZr()),o=(n=this._appendToBody=n&&n.appendToBody,qU(this._styleCoord,r,n,t.getWidth()/2,t.getHeight()/2),(n?document.body:e).appendChild(i),this._container=e,this);i.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},i.onmousemove=function(e){var t;e=e||window.event,o._enterable||(t=r.handler,Bt(r.painter.getViewportRoot(),e,!0),t.dispatch("mousemove",e))},i.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}$U.prototype.update=function(e){var t=this._container,n=(n="position",(i=(i=t).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(i))?n?i[n]:i:null),i=t.style;"absolute"!==i.position&&"absolute"!==n&&(i.position="relative"),e.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=e.get("className")||""},$U.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,r=this._styleCoord;n.innerHTML?i.cssText=KU+function(e,t,n){var i,r,o=[],a=e.get("transitionDuration"),s=e.get("backgroundColor"),l=e.get("shadowBlur"),u=e.get("shadowColor"),c=e.get("shadowOffsetX"),h=e.get("shadowOffsetY"),d=e.getModel("textStyle"),p=yf(e,"html");return o.push("box-shadow:"+c+"px "+h+"px "+l+"px "+u),t&&a&&o.push((u="opacity"+(l=" "+(c=a)/2+"s "+(h="cubic-bezier(0.23,1,0.32,1)"))+",visibility"+l,n||(l=" "+c+"s "+h,u+=A.transformSupported?","+JU+l:",left"+l+",top"+l),YU+":"+u)),s&&o.push("background-color:"+s),ee(["width","color","radius"],(function(t){var n="border-"+t,i=jc(n);null!=(i=e.get(i))&&o.push(n+":"+i+("color"===t?"":"px"))})),o.push((r=[],t=(i=d).get("fontSize"),(a=i.getTextColor())&&r.push("color:"+a),r.push("font:"+i.getFont()),t&&r.push("line-height:"+Math.round(3*t/2)+"px"),a=i.get("textShadowColor"),t=i.get("textShadowBlur")||0,n=i.get("textShadowOffsetX")||0,c=i.get("textShadowOffsetY")||0,a&&t&&r.push("text-shadow:"+n+"px "+c+"px "+t+"px "+a),ee(["decoration","align"],(function(e){var t=i.get(e);t&&r.push("text-"+e+":"+t)})),r.join(";"))),null!=p&&o.push("padding:"+Xc(p).join("px ")+"px"),o.join(";")+";"}(e,!this._firstShow,this._longHide)+QU(r[0],r[1],!0)+"border-color:"+rh(t)+";"+(e.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},$U.prototype.setContent=function(e,t,n,i,r){var o=this.el;if(null==e)o.innerHTML="";else{var a="";if(ce(r)&&"item"===n.get("trigger")&&!ZU(n)&&(a=function(e,t,n){if(!ce(n)||"inside"===n)return"";var i=e.get("backgroundColor"),r=(e=e.get("borderWidth"),n=(t=rh(t),n="left"===n?"right":"right"===n?"left":"top"===n?"bottom":"top"),Math.max(1.5*Math.round(e),6)),o="",a=JU+":",s=(-1<K(["left","right"],n)?(o+="top:50%",a+="translateY(-50%) rotate("+(s="left"==n?-225:-45)+"deg)"):(o+="left:50%",a+="translateX(-50%) rotate("+(s="top"==n?225:45)+"deg)"),s*Math.PI/180),l=r+e;s=l*Math.abs(Math.cos(s))+l*Math.abs(Math.sin(s)),t=t+" solid "+e+"px;";return'<div style="'+["position:absolute;width:"+r+"px;height:"+r+"px;",(o+=";"+n+":-"+Math.round(100*((s-Math.SQRT2*e)/2+Math.SQRT2*e-(s-l)/2))/100+"px")+";"+a+";","border-bottom:"+t,"border-right:"+t,"background-color:"+i+";"].join("")+'"></div>'}(n,i,r)),ce(e))o.innerHTML=e+a;else if(e){o.innerHTML="",le(e)||(e=[e]);for(var s=0;s<e.length;s++)me(e[s])&&e[s].parentNode!==o&&o.appendChild(e[s]);a&&o.childNodes.length&&((n=document.createElement("div")).innerHTML=a,o.appendChild(n))}}},$U.prototype.setEnterable=function(e){this._enterable=e},$U.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},$U.prototype.moveTo=function(e,t){var n,i=this._styleCoord;qU(i,this._zr,this._appendToBody,e,t),null!=i[0]&&null!=i[1]&&(n=this.el.style,ee(QU(i[0],i[1]),(function(e){n[e[0]]=e[1]})))},$U.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},$U.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",A.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return e._longHide=!0}),500)},$U.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(ae(this.hide,this),e)):this.hide())},$U.prototype.isShow=function(){return this._show},$U.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)};var eZ=$U;function tZ(e){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=e.getZr(),rZ(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}function nZ(e){return Math.max(0,e)}function iZ(e){var t=nZ(e.shadowBlur||0),n=nZ(e.shadowOffsetX||0);e=nZ(e.shadowOffsetY||0);return{left:nZ(t-n),right:nZ(t+n),top:nZ(t-e),bottom:nZ(t+e)}}function rZ(e,t,n,i){e[0]=n,e[1]=i,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}tZ.prototype.update=function(e){e.get("alwaysShowContent")&&this._moveIfResized()},tZ.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},tZ.prototype.setContent=function(e,t,n,i,r){var o=this,a=(pe(e)&&Sp(""),this.el&&this._zr.remove(this.el),n.getModel("textStyle")),s=(this.el=new Ml({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:a.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:yf(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),ee(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],(function(e){o.el.style[e]=n.get(e)})),ee(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],(function(e){o.el.style[e]=a.get(e)||0})),this._zr.add(this.el),this);this.el.on("mouseover",(function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0})),this.el.on("mouseout",(function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1}))},tZ.prototype.setEnterable=function(e){this._enterable=e},tZ.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect();e=iZ(e.style);return[t.width+e.left+e.right,t.height+e.top+e.bottom]},tZ.prototype.moveTo=function(e,t){var n,i,r=this.el;r&&(rZ(i=this._styleCoord,this._zr,e,t),e=i[0],t=i[1],n=nZ((i=r.style).borderWidth||0),i=iZ(i),r.x=e+n+i.left,r.y=t+n+i.top,r.markRedraw())},tZ.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},tZ.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},tZ.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(ae(this.hide,this),e)):this.hide())},tZ.prototype.isShow=function(){return this._show},tZ.prototype.dispose=function(){this._zr.remove(this.el)};var oZ,aZ=tZ,sZ=new sl({shape:{x:-1,y:-1,width:2,height:2}});function lZ(){var e=null!==oZ&&oZ.apply(this,arguments)||this;return e.type=lZ.type,e}function uZ(e,t,n){for(var i=t.ecModel,r=n?(r=new ac(n,i,i),new ac(t.option,r,i)):t,o=e.length-1;0<=o;o--){var a=e[o];(a=a&&(ce(a=a instanceof ac?a.get("tooltip",!0):a)?{formatter:a}:a))&&(r=new ac(a,r,i))}return r}function cZ(e,t){return e.dispatchAction||ae(t.dispatchAction,t)}function hZ(e){return"center"===e||"middle"===e}_(lZ,oZ=Rf),lZ.prototype.init=function(e,t){var n;!A.node&&t.getDom()&&(e=e.getComponent("tooltip"),n=this._renderMode="auto"===(n=e.get("renderMode"))?A.domSupported?"html":"richText":n||"html",this._tooltipContent="richText"===n?new aZ(t):new eZ(t.getDom(),t,{appendToBody:e.get("appendToBody",!0)}))},lZ.prototype.render=function(e,t,n){!A.node&&n.getDom()&&(this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=n,this._alwaysShowContent=e.get("alwaysShowContent"),(t=this._tooltipContent).update(e),t.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&e.get("transitionDuration")?dy(this,"_updatePosition",50,"fixRate"):py(this,"_updatePosition"))},lZ.prototype._initGlobalListener=function(){var e=this._tooltipModel.get("triggerOn");oG("itemTooltip",this._api,ae((function(t,n,i){"none"!==e&&(0<=e.indexOf(t)?this._tryShow(n,i):"leave"===t&&this._hide(i))}),this))},lZ.prototype._keepShow=function(){var e,t=this._tooltipModel,n=this._ecModel,i=this._api;null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")&&(e=this,clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){i.isDisposed()||e.manuallyShowTip(t,n,i,{x:e._lastX,y:e._lastY,dataByCoordSys:e._lastDataByCoordSys})})))},lZ.prototype.manuallyShowTip=function(e,t,n,i){var r,o,a,s;i.from!==this.uid&&!A.node&&n.getDom()&&(r=cZ(i,n),this._ticket="",s=i.dataByCoordSys,(o=function(e,t,n){var i,r=ia(e).queryOptionMap,o=r.keys()[0];if(o&&"series"!==o&&((t=aa(t,o,r.get(o),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0])&&(n.getViewOfComponentModel(t).group.traverse((function(t){var n=Cl(t).tooltipConfig;if(n&&n.name===e.name)return i=t,!0})),i)))return{componentMainType:o,componentIndex:t.componentIndex,el:i}}(i,t,n))?((a=o.el.getBoundingRect().clone()).applyTransform(o.el.transform),this._tryShow({offsetX:a.x+a.width/2,offsetY:a.y+a.height/2,target:o.el,position:i.position,positionDefault:"bottom"},r)):i.tooltip&&null!=i.x&&null!=i.y?((a=sZ).x=i.x,a.y=i.y,a.update(),Cl(a).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:a},r)):s?this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:s,tooltipOption:i.tooltipOption},r):null!=i.seriesIndex?this._manuallyAxisShowTip(e,t,n,i)||(a=(o=hG(i,t)).point[0],s=o.point[1],null!=a&&null!=s&&this._tryShow({offsetX:a,offsetY:s,target:o.el,position:i.position,positionDefault:"bottom"},r)):null!=i.x&&null!=i.y&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target},r)))},lZ.prototype.manuallyHideTip=function(e,t,n,i){var r=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&r.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(cZ(i,n))},lZ.prototype._manuallyAxisShowTip=function(e,t,n,i){var r=i.seriesIndex,o=i.dataIndex,a=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=r&&null!=o&&null!=a&&(a=t.getSeriesByIndex(r))&&"axis"===(t=uZ([a.getData().getItemModel(o),a,(a.coordinateSystem||{}).model],this._tooltipModel)).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:r,dataIndex:o,position:i.position}),!0},lZ.prototype._tryShow=function(e,t){var n,i,r,o=e.target;this._tooltipModel&&(this._lastX=e.offsetX,this._lastY=e.offsetY,(n=e.dataByCoordSys)&&n.length?this._showAxisTooltip(n,e):o?(Jy(o,(function(e){return null!=Cl(e).dataIndex?(i=e,1):null!=Cl(e).tooltipConfig&&(r=e,1)}),!(this._lastDataByCoordSys=null)),i?this._showSeriesItemTooltip(e,i,t):r?this._showComponentItemTooltip(e,r,t):this._hide(t)):(this._lastDataByCoordSys=null,this._hide(t)))},lZ.prototype._showOrMove=function(e,t){e=e.get("showDelay"),t=ae(t,this),clearTimeout(this._showTimout),0<e?this._showTimout=setTimeout(t,e):t()},lZ.prototype._showAxisTooltip=function(e,t){var n=this._ecModel,i=this._tooltipModel,r=[t.offsetX,t.offsetY],o=uZ([t.tooltipOption],i),a=this._renderMode,s=[],l=lf("section",{blocks:[],noHeader:!0}),u=[],c=new vf,h=(ee(e,(function(e){ee(e.dataByAxis,(function(e){var t,r,o=n.getComponent(e.axisDim+"Axis",e.axisIndex),h=e.value;o&&null!=h&&(t=Vz(h,o.axis,n,e.seriesDataIndices,e.valueLabelOpt),r=lf("section",{header:t,noHeader:!Te(t),sortBlocks:!0,blocks:[]}),l.blocks.push(r),ee(e.seriesDataIndices,(function(l){var d,p=n.getSeriesByIndex(l.seriesIndex),f=(l=l.dataIndexInside,p.getDataParams(l));f.dataIndex<0||(f.axisDim=e.axisDim,f.axisIndex=e.axisIndex,f.axisType=e.axisType,f.axisId=e.axisId,f.axisValue=rw(o.axis,{value:h}),f.axisValueLabel=t,f.marker=c.makeTooltipMarker("item",rh(f.color),a),(d=(l=cp(p.formatTooltip(l,!0,null))).frag)&&(p=uZ([p],i).get("valueFormatter"),r.blocks.push(p?X({valueFormatter:p},d):d)),l.text&&u.push(l.text),s.push(f))})))}))})),l.blocks.reverse(),u.reverse(),t.position),d=(t=o.get("order"),t=((t=pf(l,c,a,t,n.get("useUTC"),o.get("textStyle")))&&u.unshift(t),"richText"===a?"\n\n":"<br/>"),u.join(t));this._showOrMove(o,(function(){this._updateContentNotChangedOnAxis(e,s)?this._updatePosition(o,h,r[0],r[1],this._tooltipContent,s):this._showTooltipContent(o,d,s,Math.random()+"",r[0],r[1],h,null,c)}))},lZ.prototype._showSeriesItemTooltip=function(e,t,n){var i,r,o,a,s,l=this._ecModel,u=(t=Cl(t)).seriesIndex,c=l.getSeriesByIndex(u),h=t.dataModel||c,d=t.dataIndex,p=(t=t.dataType,h.getData(t)),f=this._renderMode,g=e.positionDefault,m=uZ([p.getItemModel(d),h,c&&(c.coordinateSystem||{}).model],this._tooltipModel,g?{position:g}:null);null!=(c=m.get("trigger"))&&"item"!==c||(i=h.getDataParams(d,t),r=new vf,i.marker=r.makeTooltipMarker("item",rh(i.color),f),g=cp(h.formatTooltip(d,!1,t)),c=m.get("order"),t=m.get("valueFormatter"),o=g.frag,a=o?pf(t?X({valueFormatter:t},o):o,r,f,c,l.get("useUTC"),m.get("textStyle")):g.text,s="item_"+h.name+"_"+d,this._showOrMove(m,(function(){this._showTooltipContent(m,a,i,s,e.offsetX,e.offsetY,e.position,e.target,r)})),n({type:"showTip",dataIndexInside:d,dataIndex:p.getRawIndex(d),seriesIndex:u,from:this.uid}))},lZ.prototype._showComponentItemTooltip=function(e,t,n){var i=(o=Cl(t)).tooltipConfig.option||{},r=[i=ce(i)?{content:i,formatter:i}:i],o=((o=this._ecModel.getComponent(o.componentMainType,o.componentIndex))&&r.push(o),r.push({formatter:i.content}),e.positionDefault),a=uZ(r,this._tooltipModel,o?{position:o}:null),s=a.get("content"),l=Math.random()+"",u=new vf;this._showOrMove(a,(function(){var n=Z(a.get("formatterParams")||{});this._showTooltipContent(a,s,n,l,e.offsetX,e.offsetY,e.position,t,u)})),n({type:"showTip",from:this.uid})},lZ.prototype._showTooltipContent=function(e,t,n,i,r,o,a,s,l){var u,c,h,d,p;this._ticket="",e.get("showContent")&&e.get("show")&&((u=this._tooltipContent).setEnterable(e.get("enterable")),c=e.get("formatter"),a=a||e.get("position"),h=this._getNearestPoint([r,o],n,e.get("trigger"),e.get("borderColor")).color,c&&(t=ce(c)?(d=e.ecModel.get("useUTC"),t=c,eh(t=(p=le(n)?n[0]:n)&&p.axisType&&0<=p.axisType.indexOf("time")?kc(p.axisValue,t,d):t,n,!0)):ue(c)?(p=ae((function(t,i){t===this._ticket&&(u.setContent(i,l,e,h,a),this._updatePosition(e,a,r,o,u,n,s))}),this),this._ticket=i,c(n,i,p)):c),u.setContent(t,l,e,h,a),u.show(e,h),this._updatePosition(e,a,r,o,u,n,s))},lZ.prototype._getNearestPoint=function(e,t,n,i){return"axis"===n||le(t)?{color:i||("html"===this._renderMode?"#fff":"none")}:le(t)?void 0:{color:i||t.color||t.borderColor}},lZ.prototype._updatePosition=function(e,t,n,i,r,o,a){var s,l=this._api.getWidth(),u=this._api.getHeight(),c=(t=t||e.get("position"),r.getSize()),h=e.get("align"),d=e.get("verticalAlign"),p=a&&a.getBoundingRect().clone();a&&p.applyTransform(a.transform),le(t=ue(t)?t([n,i],o,r.el,p,{viewSize:[l,u],contentSize:c.slice()}):t)?(n=_o(t[0],l),i=_o(t[1],u)):pe(t)?((o=t).width=c[0],o.height=c[1],n=(o=hh(o,{width:l,height:u})).x,i=o.y,d=h=null):(n=(s=ce(t)&&a?function(e,t,n,i){var r=n[0],o=n[1],a=Math.ceil(Math.SQRT2*i)+8,s=0,l=0,u=t.width,c=t.height;switch(e){case"inside":s=t.x+u/2-r/2,l=t.y+c/2-o/2;break;case"top":s=t.x+u/2-r/2,l=t.y-o-a;break;case"bottom":s=t.x+u/2-r/2,l=t.y+c+a;break;case"left":s=t.x-r-a,l=t.y+c/2-o/2;break;case"right":s=t.x+u+a,l=t.y+c/2-o/2}return[s,l]}(t,p,c,e.get("borderWidth")):function(e,t,n,i,r,o,a){var s=(n=n.getSize())[0];n=n[1];return null!=o&&(i<e+s+o+2?e-=s+o:e+=o),null!=a&&(r<t+n+a?t-=n+a:t+=a),[e,t]}(n,i,r,l,u,h?null:20,d?null:20))[0],i=s[1]),h&&(n-=hZ(h)?c[0]/2:"right"===h?c[0]:0),d&&(i-=hZ(d)?c[1]/2:"bottom"===d?c[1]:0),ZU(e)&&(o=n,a=i,t=l,p=u,d=(h=(h=r).getSize())[0],h=h[1],o=Math.min(o+d,t)-d,a=Math.min(a+h,p)-h,n=(s=[o=Math.max(o,0),a=Math.max(a,0)])[0],i=s[1]),r.moveTo(n,i)},lZ.prototype._updateContentNotChangedOnAxis=function(e,t){var n=this._lastDataByCoordSys,i=this._cbParamsList,r=!!n&&n.length===e.length;return r&&ee(n,(function(n,o){n=n.dataByAxis||[];var a=(e[o]||{}).dataByAxis||[];(r=r&&n.length===a.length)&&ee(n,(function(e,n){n=a[n]||{};var o=e.seriesDataIndices||[],s=n.seriesDataIndices||[];(r=r&&e.value===n.value&&e.axisType===n.axisType&&e.axisId===n.axisId&&o.length===s.length)&&ee(o,(function(e,t){t=s[t],r=r&&e.seriesIndex===t.seriesIndex&&e.dataIndex===t.dataIndex})),i&&ee(e.seriesDataIndices,(function(e){e=e.seriesIndex;var n=t[e];e=i[e];n&&e&&e.data!==n.data&&(r=!1)}))}))})),this._lastDataByCoordSys=e,this._cbParamsList=t,!!r},lZ.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},lZ.prototype.dispose=function(e,t){!A.node&&t.getDom()&&(py(this,"_updatePosition"),this._tooltipContent.dispose(),lG("itemTooltip",t))},lZ.type="tooltip";var dZ=lZ,pZ=["rect","polygon","keep","clear"];function fZ(e,t){var n,i,r,o=Uo(e?e.brush:[]);o.length&&(n=[],ee(o,(function(e){(e=e.hasOwnProperty("toolbox")?e.toolbox:[])instanceof Array&&(n=n.concat(e))})),(o=le(o=e&&e.toolbox)?o[0]:o)||(e.toolbox=[o={feature:{}}]),o=(e=o.feature||(o.feature={})).brush||(e.brush={}),(e=o.type||(o.type=[])).push.apply(e,n),r={},ee(i=e,(function(e){r[e]=1})),i.length=0,ee(r,(function(e,t){i.push(t)})),t&&!e.length&&e.push.apply(e,pZ))}var gZ=ee;function mZ(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return 1}function yZ(e,t,n){var i={};return gZ(t,(function(t){var r=i[t]=(o.prototype.__hidden=o.prototype,new o);function o(){}gZ(e[t],(function(e,i){GB.isValidType(i)&&(e={type:i,visual:e},n&&n(e,t),r[i]=new GB(e),"opacity"===i&&((e=Z(e)).type="colorAlpha",r.__hidden.__alphaForOpacity=new GB(e)))}))})),i}function vZ(e,t,n){var i;ee(n,(function(e){t.hasOwnProperty(e)&&mZ(t[e])&&(i=!0)})),i&&ee(n,(function(n){t.hasOwnProperty(n)&&mZ(t[n])?e[n]=Z(t[n]):delete e[n]}))}var xZ={lineX:_Z(0),lineY:_Z(1),rect:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])},rect:function(e,t,n){return e&&n.boundingRect.intersect(e)}},polygon:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])&&mw(n.range,e[0],e[1])},rect:function(e,t,n){if(n=n.range,!e||n.length<=1)return!1;var i=e.x,r=e.y,o=e.width,a=e.height,s=n[0];return!!(mw(n,i,r)||mw(n,i+o,r)||mw(n,i,r+a)||mw(n,i+o,r+a)||zr.create(e).contain(s[0],s[1])||Ym(i,r,i+o,r,n)||Ym(i,r,i,r+a,n)||Ym(i+o,r,i+o,r+a,n)||Ym(i,r+a,i+o,r+a,n))||void 0}}};function _Z(e){var t=["x","y"],n=["width","height"];return{point:function(t,n,i){if(t)return i=i.range,bZ(t[e],i)},rect:function(i,r,o){if(i)return o=o.range,(i=[i[t[e]],i[t[e]]+i[n[e]]])[1]<i[0]&&i.reverse(),bZ(i[0],o)||bZ(i[1],o)||bZ(o[0],i)||bZ(o[1],i)}}}function bZ(e,t){return t[0]<=e&&e<=t[1]}var wZ=["inBrush","outOfBrush"],SZ="__ecBrushSelect",AZ="__ecInBrushSelectEvent";function MZ(e){e.eachComponent({mainType:"brush"},(function(t){(t.brushTargetManager=new RU(t.option,e)).setInputRanges(t.areas,e)}))}function CZ(e,t,n){var i,r,o,a,s,l,u=[];e.eachComponent({mainType:"brush"},(function(e){n&&"takeGlobalCursor"===n.type&&e.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1})})),MZ(e),e.eachComponent({mainType:"brush"},(function(t,n){var o={brushId:t.id,brushIndex:n,brushName:t.name,areas:Z(t.areas),selected:[]},a=(u.push(o),t.option),s=a.brushLink,l=[],c=[],h=[],d=!1,p=(n||(i=a.throttleType,r=a.throttleDelay),te(t.areas,(function(e){var t,n,i,r;return(r=Y({boundingRect:(r=DZ[e.brushType])?r(e):void 0},e)).selectors=(n=(t=r).brushType,i={point:function(e){return xZ[n].point(e,i,t)},rect:function(e){return xZ[n].rect(e,i,t)}}),r}))),f=yZ(t.option,wZ,(function(e){e.mappingMethod="fixed"}));function g(e){return"all"===s||l[e]}function m(e){return!!e.length}le(s)&&ee(s,(function(e){l[e]=1})),e.eachSeries((function(n,i){var r,o,a,s,l,u,f=h[i]=[];"parallel"===n.subType?(l=i,u=(s=n).coordinateSystem,d=d||u.hasAxisBrushed(),g(l)&&u.eachActiveState(s.getData(),(function(e,t){"active"===e&&(c[t]=1)}))):(l=i,o=f,(r=n).brushSelector&&!function(e,t){return null!=(e=e.option.seriesIndex)&&"all"!==e&&(le(e)?K(e,t)<0:t!==e)}(t,l)&&(ee(p,(function(n){t.brushTargetManager.controlSeries(n,r,e)&&o.push(n),d=d||m(o)})),g(l)&&m(o)&&(a=r.getData()).each((function(e){IZ(r,o,a,e)&&(c[e]=1)}))))})),e.eachSeries((function(e,t){var n,i,r,a,s,l={seriesId:e.id,seriesIndex:t,seriesName:e.name,dataIndex:[]},u=(o.selected.push(l),h[t]),p=e.getData(),y=g(t)?function(e){return c[e]?(l.dataIndex.push(p.getRawIndex(e)),"inBrush"):"outOfBrush"}:function(t){return IZ(e,u,p,t)?(l.dataIndex.push(p.getRawIndex(t)),"inBrush"):"outOfBrush"};function v(e){return Zy(i,a,e)}function x(e,t){jy(i,a,e,t)}function _(e,t){if(a=e,!(t=i.getRawDataItem(a))||!1!==t.visualMap){t=r.call(undefined,e);for(var o=n[t],l=s[t],u=0,c=l.length;u<c;u++){var h=l[u];o[h]&&o[h].applyVisual(e,v,x)}}}(g(t)?d:m(u))&&(n=f,i=p,r=y,s={},ee(wZ,(function(e){var t=GB.prepareVisualTypes(n[e]);s[e]=t})),i.each(_))}))})),o=i,a=r,s=u,(l=n)&&!(l=t.getZr())[AZ]&&(l[SZ]||(l[SZ]=TZ),dy(l,SZ,a,o)(t,s))}function TZ(e,t){var n;e.isDisposed()||((n=e.getZr())[AZ]=!0,e.dispatchAction({type:"brushSelect",batch:t}),n[AZ]=!1)}function IZ(e,t,n,i){for(var r=0,o=t.length;r<o;r++){var a=t[r];if(e.brushSelector(i,n,a.selectors,a))return 1}}var kZ,DZ={rect:function(e){return BZ(e.range)},polygon:function(e){for(var t=e.range,n=0,i=t.length;n<i;n++){var r=r||[[1/0,-1/0],[1/0,-1/0]],o=t[n];o[0]<r[0][0]&&(r[0][0]=o[0]),o[0]>r[0][1]&&(r[0][1]=o[0]),o[1]<r[1][0]&&(r[1][0]=o[1]),o[1]>r[1][1]&&(r[1][1]=o[1])}return r&&BZ(r)}};function BZ(e){return new zr(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}function EZ(){var e=null!==kZ&&kZ.apply(this,arguments)||this;return e.type=EZ.type,e}_(EZ,kZ=Rf),EZ.prototype.init=function(e,t){this.ecModel=e,this.api=t,this.model,(this._brushController=new gR(t.getZr())).on("brush",ae(this._onBrush,this)).mount()},EZ.prototype.render=function(e,t,n,i){this.model=e,this._updateController(e,t,n,i)},EZ.prototype.updateTransform=function(e,t,n,i){MZ(t),this._updateController(e,t,n,i)},EZ.prototype.updateVisual=function(e,t,n,i){this.updateTransform(e,t,n,i)},EZ.prototype.updateView=function(e,t,n,i){this._updateController(e,t,n,i)},EZ.prototype._updateController=function(e,t,n,i){i&&i.$from===e.id||this._brushController.setPanels(e.brushTargetManager.makePanelOpts(n)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},EZ.prototype.dispose=function(){this._brushController.dispose()},EZ.prototype._onBrush=function(e){var t=this.model.id,n=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);e.isEnd&&!e.removeOnClick||this.api.dispatchAction({type:"brush",brushId:t,areas:Z(n),$from:t}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:t,areas:Z(n),$from:t})},EZ.type="brush";var PZ,LZ=EZ;function RZ(){var e=null!==PZ&&PZ.apply(this,arguments)||this;return e.type=RZ.type,e.areas=[],e.brushOption={},e}function OZ(e,t){return W({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new ac(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}_(RZ,PZ=Mh),RZ.prototype.optionUpdated=function(e,t){var n=this.option;t||vZ(n,e,["inBrush","outOfBrush"]),t=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:"#ddd"},t.hasOwnProperty("liftZ")||(t.liftZ=5)},RZ.prototype.setAreas=function(e){e&&(this.areas=te(e,(function(e){return OZ(this.option,e)}),this))},RZ.prototype.setBrushOption=function(e){this.brushOption=OZ(this.option,e),this.brushType=this.brushOption.brushType},RZ.type="brush",RZ.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],RZ.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4};var FZ,NZ=RZ,zZ=["rect","polygon","lineX","lineY","keep","clear"];function GZ(){return null!==FZ&&FZ.apply(this,arguments)||this}_(GZ,FZ=UV),GZ.prototype.render=function(e,t,n){var i,r,o;t.eachComponent({mainType:"brush"},(function(e){i=e.brushType,r=e.brushOption.brushMode||"single",o=o||!!e.areas.length})),this._brushType=i,this._brushMode=r,ee(e.get("type",!0),(function(t){e.setIconStatus(t,("keep"===t?"multiple"===r:"clear"===t?o:t===i)?"emphasis":"normal")}))},GZ.prototype.updateView=function(e,t,n){this.render(e,t,n)},GZ.prototype.getIcons=function(){var e=this.model,t=e.get("icon",!0),n={};return ee(e.get("type",!0),(function(e){t[e]&&(n[e]=t[e])})),n},GZ.prototype.onclick=function(e,t,n){var i=this._brushType,r=this._brushMode;"clear"===n?(t.dispatchAction({type:"axisAreaSelect",intervals:[]}),t.dispatchAction({type:"brush",command:"clear",areas:[]})):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?i:i!==n&&n,brushMode:"keep"===n?"multiple"===r?"single":"multiple":r}})},GZ.getDefaultOption=function(e){return{show:!0,type:zZ.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])}};var HZ=GZ;_(ZZ,VZ=Mh),ZZ.type="title",ZZ.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}};var VZ,UZ=ZZ;function ZZ(){var e=null!==VZ&&VZ.apply(this,arguments)||this;return e.type=ZZ.type,e.layoutMode={type:"box",ignoreSize:!0},e}_(JZ,WZ=Rf),JZ.prototype.render=function(e,t,n){var i,r,o,a,s,l,u,c,h;this.group.removeAll(),e.get("show")&&(i=this.group,u=e.getModel("textStyle"),r=e.getModel("subtextStyle"),c=e.get("textAlign"),h=we(e.get("textBaseline"),e.get("textVerticalAlign")),s=(u=new Ml({style:Nu(u,{text:e.get("text"),fill:u.getTextColor()},{disableBox:!0}),z2:10})).getBoundingRect(),l=e.get("subtext"),r=new Ml({style:Nu(r,{text:l,fill:r.getTextColor(),y:s.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),o=e.get("link"),a=e.get("sublink"),s=e.get("triggerEvent",!0),u.silent=!o&&!s,r.silent=!a&&!s,o&&u.on("click",(function(){oh(o,"_"+e.get("target"))})),a&&r.on("click",(function(){oh(a,"_"+e.get("subtarget"))})),Cl(u).eventData=Cl(r).eventData=s?{componentType:"title",componentIndex:e.componentIndex}:null,i.add(u),l&&i.add(r),s=i.getBoundingRect(),(l=e.getBoxLayoutParams()).width=s.width,l.height=s.height,l=hh(l,{width:n.getWidth(),height:n.getHeight()},e.get("padding")),c||("right"===(c="middle"===(c=e.get("left")||e.get("right"))?"center":c)?l.x+=l.width:"center"===c&&(l.x+=l.width/2)),h||("bottom"===(h="center"===(h=e.get("top")||e.get("bottom"))?"middle":h)?l.y+=l.height:"middle"===h&&(l.y+=l.height/2),h=h||"top"),i.x=l.x,i.y=l.y,i.markRedraw(),u.setStyle(n={align:c,verticalAlign:h}),r.setStyle(n),s=i.getBoundingRect(),u=l.margin,(c=e.getItemStyle(["color","opacity"])).fill=e.get("backgroundColor"),h=new sl({shape:{x:s.x-u[3],y:s.y-u[0],width:s.width+u[1]+u[3],height:s.height+u[0]+u[2],r:e.get("borderRadius")},style:c,subPixelOptimize:!0,silent:!0}),i.add(h))},JZ.type="title";var WZ,jZ,XZ,YZ=JZ;function JZ(){var e=null!==WZ&&WZ.apply(this,arguments)||this;return e.type=JZ.type,e}function KZ(){var e=null!==jZ&&jZ.apply(this,arguments)||this;return e.type=KZ.type,e.layoutMode="box",e}function QZ(){var e=null!==XZ&&XZ.apply(this,arguments)||this;return e.type=QZ.type,e}_(KZ,jZ=Mh),KZ.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n),this._initData()},KZ.prototype.mergeOption=function(e){jZ.prototype.mergeOption.apply(this,arguments),this._initData()},KZ.prototype.setCurrentIndex=function(e){null==e&&(e=this.option.currentIndex);var t=this._data.count();this.option.loop?e=(e%t+t)%t:(e=t<=e?t-1:e)<0&&(e=0),this.option.currentIndex=e},KZ.prototype.getCurrentIndex=function(){return this.option.currentIndex},KZ.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},KZ.prototype.setPlayState=function(e){this.option.autoPlay=!!e},KZ.prototype.getPlayState=function(){return!!this.option.autoPlay},KZ.prototype._initData=function(){var e,t=(n=this.option).data||[],n=n.axisType,i=this._names=[];"category"===n?(e=[],ee(t,(function(t,n){var r,o=Ko(jo(t),"");pe(t)?(r=Z(t)).value=n:r=n,e.push(r),i.push(o)}))):e=t,t={category:"ordinal",time:"time",value:"number"}[n]||"number";(this._data=new U_([{name:"value",type:t}],this)).initData(e,i)},KZ.prototype.getData=function(){return this._data},KZ.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},KZ.type="timeline",KZ.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},q(tv=(_(QZ,XZ=wc=KZ),QZ.type="timeline.slider",QZ.defaultOption=uc(wc.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),QZ),ic.prototype);var qZ,$Z=tv;function eW(){var e=null!==qZ&&qZ.apply(this,arguments)||this;return e.type=eW.type,e}_(eW,qZ=Rf),eW.type="timeline";var tW;hg=eW;function nW(e,t,n,i){return(e=tW.call(this,e,t,n)||this).type=i||"value",e}_(nW,tW=Uw),nW.prototype.getLabelModel=function(){return this.model.getModel("label")},nW.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")};var iW,rW=nW,oW=Math.PI,aW=ea();function sW(){var e=null!==iW&&iW.apply(this,arguments)||this;return e.type=sW.type,e}function lW(e,t,n,i,r,o){var a=t.get("color");r?(r.setColor(a),n.add(r),o&&o.onUpdate(r)):((r=lv(e.get("symbol"),-1,-1,2,2,a)).setStyle("strokeNoScale",!0),n.add(r),o&&o.onCreate(r)),a=t.getItemStyle(["color"]),r.setStyle(a),i=W({rectHover:!0,z2:100},i,!0),n=uv(e.get("symbolSize")),(o=(i.scaleX=n[0]/2,i.scaleY=n[1]/2,cv(e.get("symbolOffset"),n)))&&(i.x=(i.x||0)+o[0],i.y=(i.y||0)+o[1]),t=e.get("symbolRotate");return i.rotation=(t||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function uW(e,t,n,i,r,o){var a;e.dragging||(a=r.getModel("checkpointStyle"),i=i.dataToCoord(r.getData().get("value",n)),o||!a.get("animation",!0)?(e.attr({x:i,y:0}),t&&t.attr({shape:{x2:i}})):(r={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)},e.stopAnimation(null,!0),e.animateTo({x:i,y:0},r),t&&t.animateTo({shape:{x2:i}},r)))}_(sW,iW=hg),sW.prototype.init=function(e,t){this.api=t},sW.prototype.render=function(e,t,n){var i,r,o;this.model=e,this.api=n,this.ecModel=t,this.group.removeAll(),e.get("show",!0)&&(i=this._layout(e,n),r=this._createGroup("_mainGroup"),t=this._createGroup("_labelGroup"),o=this._axis=this._createAxis(i,e),e.formatTooltip=function(e){return lf("nameValue",{noName:!0,value:o.scale.getLabel({value:e})})},ee(["AxisLine","AxisTick","Control","CurrentPointer"],(function(t){this["_render"+t](i,r,o,e)}),this),this._renderAxisLabel(i,t,o,e),this._position(i,e)),this._doPlayStop(),this._updateTicksStatus()},sW.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},sW.prototype.dispose=function(){this._clearTimer()},sW.prototype._layout=function(e,t){var n,i,r,o=e.get(["label","position"]),a=e.get("orient"),s=(s=t,hh((l=e).getBoxLayoutParams(),{width:s.getWidth(),height:s.getHeight()},l.get("padding"))),l=null==o||"auto"===o?"horizontal"===a?s.y+s.height/2<t.getHeight()/2?"-":"+":s.x+s.width/2<t.getWidth()/2?"+":"-":ce(o)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][o]:o,u=(t={horizontal:"center",vertical:0<=l||"+"===l?"left":"right"},o={horizontal:0<=l||"+"===l?"top":"bottom",vertical:"middle"},{horizontal:0,vertical:oW/2}),c="vertical"===a?s.height:s.width,h=(v=(x=e.getModel("controlStyle")).get("show",!0))?x.get("itemSize"):0,d=v?x.get("itemGap"):0,p=h+d,f=(e.get(["label","rotate"])||0)*oW/180,g=x.get("position",!0),m=v&&x.get("showPlayBtn",!0),y=v&&x.get("showPrevBtn",!0),v=v&&x.get("showNextBtn",!0),x=0,_=c;"left"===g||"bottom"===g?(m&&(n=[0,0],x+=p),y&&(i=[x,0],x+=p)):(m&&(n=[_-h,0],_-=p),y&&(i=[0,0],x+=p)),v&&(r=[_-h,0],_-=p),g=[x,_];return e.get("inverse")&&g.reverse(),{viewRect:s,mainLength:c,orient:a,rotation:u[a],labelRotation:f,labelPosOpt:l,labelAlign:e.get(["label","align"])||t[a],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||o[a],playPosition:n,prevBtnPosition:i,nextBtnPosition:r,axisExtent:g,controlSize:h,controlGap:d}},sW.prototype._position=function(e,t){var n,i=this._mainGroup,r=this._labelGroup,o=e.viewRect,a=("vertical"===e.orient&&(dr(u=[1,0,0,1,0,0],u,[-(s=o.x),-(l=o.y+o.height)]),pr(u,u,-oW/2),dr(u,u,[s,l]),(o=o.clone()).applyTransform(u)),d(o)),s=d(i.getBoundingRect()),l=d(r.getBoundingRect()),u=[i.x,i.y],c=((o=[r.x,r.y])[0]=u[0]=a[0][0],e.labelPosOpt);function h(e){e.originX=a[0][0]-e.x,e.originY=a[1][0]-e.y}function d(e){return[[e.x,e.x+e.width],[e.y,e.y+e.height]]}function p(e,t,n,i,r){e[i]+=n[i][r]-t[i][r]}null==c||ce(c)?(p(u,s,a,1,n="+"===c?0:1),p(o,l,a,1,1-n)):(p(u,s,a,1,n=0<=c?0:1),o[1]=u[1]+c),i.setPosition(u),r.setPosition(o),i.rotation=r.rotation=e.rotation,h(i),h(r)},sW.prototype._createAxis=function(e,t){var n=t.getData(),i=t.get("axisType"),r=function(e,t){if(t=t||e.get("type"))switch(t){case"category":return new gb({ordinalMeta:e.getCategories(),extent:[1/0,-1/0]});case"time":return new Fb({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new vb}}(t,i),o=(r.getTicks=function(){return n.mapArray(["value"],(function(e){return{value:e}}))},n.getDataExtent("value"));return(o=(r.setExtent(o[0],o[1]),r.calcNiceTicks(),new rW("value",r,e.axisExtent,i))).model=t,o},sW.prototype._createGroup=function(e){return e=this[e]=new ao,this.group.add(e),e},sW.prototype._renderAxisLine=function(e,t,n,i){var r;n=n.getExtent();i.get(["lineStyle","show"])&&(r=new Jg({shape:{x1:n[0],y1:0,x2:n[1],y2:0},style:X({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}),t.add(r),n=this._progressLine=new Jg({shape:{x1:n[0],x2:this._currentPointer?this._currentPointer.x:n[0],y1:0,y2:0},style:Y({lineCap:"round",lineWidth:r.style.lineWidth},i.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1}),t.add(n))},sW.prototype._renderAxisTick=function(e,t,n,i){var r=this,o=i.getData(),a=n.scale.getTicks();this._tickSymbols=[],ee(a,(function(e){var a=n.dataToCoord(e.value),s=o.getItemModel(e.value),l=s.getModel("itemStyle"),u=s.getModel(["emphasis","itemStyle"]),c=s.getModel(["progress","itemStyle"]);a={x:a,y:0,onclick:ae(r._changeTimeline,r,e.value)},(l=lW(s,l,t,a)).ensureState("emphasis").style=u.getItemStyle(),l.ensureState("progress").style=c.getItemStyle(),pu(l),a=Cl(l);s.get("tooltip")?(a.dataIndex=e.value,a.dataModel=i):a.dataIndex=a.dataModel=null,r._tickSymbols.push(l)}))},sW.prototype._renderAxisLabel=function(e,t,n,i){var r,o=this;n.getLabelModel().get("show")&&(r=i.getData(),i=n.getViewLabels(),this._tickLabels=[],ee(i,(function(i){var a=i.tickValue,s=(u=r.getItemModel(a)).getModel("label"),l=u.getModel(["emphasis","label"]),u=u.getModel(["progress","label"]),c=n.dataToCoord(i.tickValue);(c=new Ml({x:c,y:0,rotation:e.labelRotation-e.rotation,onclick:ae(o._changeTimeline,o,a),silent:!1,style:Nu(s,{text:i.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})})).ensureState("emphasis").style=Nu(l),c.ensureState("progress").style=Nu(u),t.add(c),pu(c),aW(c).dataIndex=a,o._tickLabels.push(c)})))},sW.prototype._renderControl=function(e,t,n,i){var r=e.controlSize,o=e.rotation,a=i.getModel("controlStyle").getItemStyle(),s=i.getModel(["emphasis","controlStyle"]).getItemStyle(),l=i.getPlayState(),u=i.get("inverse",!0);function c(e,n,l,u){var c;e&&(c=Xr(we(i.get(["controlStyle",n+"BtnSize"]),r),r),(n=function(e,t,n,i){var r=i.style;e=Xm(e.get(["controlStyle",t]),i||{},new zr(n[0],n[1],n[2],n[3]));return r&&e.setStyle(r),e}(i,n+"Icon",[0,-c/2,c,c],{x:e[0],y:e[1],originX:r/2,originY:0,rotation:u?-o:0,rectHover:!0,style:a,onclick:l})).ensureState("emphasis").style=s,t.add(n),pu(n))}c(e.nextBtnPosition,"next",ae(this._changeTimeline,this,u?"-":"+")),c(e.prevBtnPosition,"prev",ae(this._changeTimeline,this,u?"+":"-")),c(e.playPosition,l?"stop":"play",ae(this._handlePlayClick,this,!l),!0)},sW.prototype._renderCurrentPointer=function(e,t,n,i){var r=i.getData(),o=i.getCurrentIndex(),a=(r=r.getItemModel(o).getModel("checkpointStyle"),this);this._currentPointer=lW(r,r,this._mainGroup,{},this._currentPointer,{onCreate:function(e){e.draggable=!0,e.drift=ae(a._handlePointerDrag,a),e.ondragend=ae(a._handlePointerDragend,a),uW(e,a._progressLine,o,n,i,!0)},onUpdate:function(e){uW(e,a._progressLine,o,n,i)}})},sW.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},sW.prototype._handlePointerDrag=function(e,t,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},sW.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},sW.prototype._pointerChangeTimeline=function(e,t){var n=((e=(e=this._toAxisCoord(e)[0])>(n=wo(this._axis.getExtent().slice()))[1]?n[1]:e)<n[0]&&(e=n[0]),this._currentPointer.x=e,this._currentPointer.markRedraw(),this._progressLine.shape.x2=e,this._progressLine.dirty(),this._findNearestTick(e));e=this.model;(t||n!==e.getCurrentIndex()&&e.get("realtime"))&&this._changeTimeline(n)},sW.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout((function(){var t=e.model;e._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))}),this.model.get("playInterval")))},sW.prototype._toAxisCoord=function(e){return Hm(e,this._mainGroup.getLocalTransform(),!0)},sW.prototype._findNearestTick=function(e){var t,n=this.model.getData(),i=1/0,r=this._axis;return n.each(["value"],(function(n,o){n=r.dataToCoord(n),(n=Math.abs(n-e))<i&&(i=n,t=o)})),t},sW.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},sW.prototype._changeTimeline=function(e){var t=this.model.getCurrentIndex();"+"===e?e=t+1:"-"===e&&(e=t-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},sW.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),t=this._tickSymbols,n=this._tickLabels;if(t)for(var i=0;i<t.length;i++)t&&t[i]&&t[i].toggleState("progress",i<e);if(n)for(i=0;i<n.length;i++)n&&n[i]&&n[i].toggleState("progress",aW(n[i]).dataIndex<=e)},sW.type="timeline.slider";var cW=sW;function hW(e){ee(e=le(e=e&&e.timeline)?e:e?[e]:[],(function(e){var t,n;e&&((n={number:"value",time:"time"})[t=e.type]&&(e.axisType=n[t],delete e.type),dW(e),pW(e,"controlPosition")&&(pW(n=e.controlStyle||(e.controlStyle={}),"position")||(n.position=e.controlPosition),"none"!==n.position||pW(n,"show")||(n.show=!1,delete n.position),delete e.controlPosition),ee(e.data||[],(function(e){pe(e)&&!le(e)&&(!pW(e,"value")&&pW(e,"name")&&(e.value=e.name),dW(e))})))}))}function dW(e){var t=(t=e.itemStyle||(e.itemStyle={})).emphasis||(t.emphasis={}),n=(e=e.label||e.label||{}).normal||(e.normal={}),i={normal:1,emphasis:1};ee(e,(function(e,t){i[t]||pW(n,t)||(n[t]=e)})),t.label&&!pW(e,"emphasis")&&(e.emphasis=t.label,delete t.label)}function pW(e,t){return e.hasOwnProperty(t)}function fW(e,t){if(e)for(var n=le(e)?e:[e],i=0;i<n.length;i++)if(n[i]&&n[i][t])return 1}function gW(e){Zo(e,"label",["show"])}var mW,yW=ea();_(vW,mW=Mh),vW.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n),this._mergeOption(e,n,!1,!0)},vW.prototype.isAnimationEnabled=function(){if(A.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},vW.prototype.mergeOption=function(e,t){this._mergeOption(e,t,!1,!1)},vW.prototype._mergeOption=function(e,t,n,i){var r=this.mainType;n||t.eachSeries((function(e){var n=e.get(this.mainType,!0),o=yW(e)[r];n&&n.data?(o?o._mergeOption(n,t,!0):(i&&gW(n),ee(n.data,(function(e){e instanceof Array?(gW(e[0]),gW(e[1])):gW(e)})),X(o=this.createMarkerModelFromSeries(n,this,t),{mainType:this.mainType,seriesIndex:e.seriesIndex,name:e.name,createdBySelf:!0}),o.__hostSeries=e),yW(e)[r]=o):yW(e)[r]=null}),this)},vW.prototype.formatTooltip=function(e,t,n){var i=this.getData(),r=this.getRawValue(e);i=i.getName(e);return lf("section",{header:this.name,blocks:[lf("nameValue",{name:i,value:r,noName:!i,noValue:null==r})]})},vW.prototype.getData=function(){return this._data},vW.prototype.setData=function(e){this._data=e},vW.getMarkerModelFromSeries=function(e,t){return yW(e)[t]},vW.type="marker",vW.dependencies=["series","grid","polar","geo"],ev=vW;function vW(){var e=null!==mW&&mW.apply(this,arguments)||this;return e.type=vW.type,e.createdBySelf=!1,e}q(ev,ic.prototype);var xW,_W=ev;function bW(){var e=null!==xW&&xW.apply(this,arguments)||this;return e.type=bW.type,e}_(bW,xW=_W),bW.prototype.createMarkerModelFromSeries=function(e,t,n){return new bW(e,t,n)},bW.type="markPoint",bW.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}};var wW=bW;function SW(e,t,n,i,r,o){var a=[],s=K_(t,i)?t.getCalculationInfo("stackResultDimension"):i;e=kW(t,s,e),e=t.indicesOfNearest(s,e)[0],a[r]=t.get(n,e),a[o]=t.get(s,e),r=t.get(i,e),n=So(t.get(i,e));return 0<=(n=Math.min(n,20))&&(a[o]=+a[o].toFixed(n)),[a,r]}var AW={min:se(SW,"min"),max:se(SW,"max"),average:se(SW,"average"),median:se(SW,"median")};function MW(e,t){var n=e.getData(),i=e.coordinateSystem;if(t&&(o=t,isNaN(parseFloat(o.x))||isNaN(parseFloat(o.y)))&&!le(t.coord)&&i){var r=i.dimensions,o=CW(t,n,i,e);if((t=Z(t)).type&&AW[t.type]&&o.baseAxis&&o.valueAxis)i=K(r,o.baseAxis.dim),e=K(r,o.valueAxis.dim),o=AW[t.type](n,o.baseDataDim,o.valueDataDim,i,e),t.coord=o[0],t.value=o[1];else{for(var a=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],s=0;s<2;s++)AW[a[s]]&&(a[s]=kW(n,n.mapDimension(r[s]),a[s]));t.coord=a}}return t}function CW(e,t,n,i){var r={};return null!=e.valueIndex||null!=e.valueDim?(r.valueDataDim=null!=e.valueIndex?t.getDimension(e.valueIndex):e.valueDim,r.valueAxis=n.getAxis(function(e,t){return(e=e.getData().getDimensionInfo(t))&&e.coordDim}(i,r.valueDataDim)),r.baseAxis=n.getOtherAxis(r.valueAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=n.getOtherAxis(r.baseAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim),r.valueDataDim=t.mapDimension(r.valueAxis.dim)),r}function TW(e,t){return!(e&&e.containData&&t.coord&&(n=t,isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y))))||e.containData(t.coord);var n}function IW(e,t){return e?function(e,n,i,r){return Ap(r<2?e.coord&&e.coord[r]:e.value,t[r])}:function(e,n,i,r){return Ap(e.value,t[r])}}function kW(e,t,n){var i,r;return"average"===n?(r=i=0,e.each(t,(function(e,t){isNaN(e)||(i+=e,r++)})),i/r):"median"===n?e.getMedian(t):e.getDataExtent(t)["max"===n?1:0]}var DW,BW,EW=ea();function PW(){var e=null!==DW&&DW.apply(this,arguments)||this;return e.type=PW.type,e}function LW(e,t,n){var i=t.coordinateSystem;e.each((function(r){var o,a,s,l=_o((u=e.getItemModel(r)).get("x"),n.getWidth()),u=_o(u.get("y"),n.getHeight());isNaN(l)||isNaN(u)?t.getMarkerPosition?s=t.getMarkerPosition(e.getValues(e.dimensions,r)):i&&(o=e.get(i.dimensions[0],r),a=e.get(i.dimensions[1],r),s=i.dataToPoint([o,a])):s=[l,u],isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u),e.setItemLayout(r,s)}))}function RW(){var e=null!==BW&&BW.apply(this,arguments)||this;return e.type=RW.type,e}_(PW,DW=Rf),PW.prototype.init=function(){this.markerGroupMap=Pe()},PW.prototype.render=function(e,t,n){var i=this,r=this.markerGroupMap;r.each((function(e){EW(e).keep=!1})),t.eachSeries((function(e){var r=_W.getMarkerModelFromSeries(e,i.type);r&&i.renderSeries(e,r,t,n)})),r.each((function(e){EW(e).keep||i.group.remove(e.group)}))},PW.prototype.markKeep=function(e){EW(e).keep=!0},PW.prototype.toggleBlurSeries=function(e,t){var n=this;ee(e,(function(e){(e=_W.getMarkerModelFromSeries(e,n.type))&&e.getData().eachItemGraphicEl((function(e){e&&(t?iu:ru)(e)}))}))},PW.type="marker",_(RW,BW=_a=PW),RW.prototype.updateTransform=function(e,t,n){t.eachSeries((function(e){var t=_W.getMarkerModelFromSeries(e,"markPoint");t&&(LW(t.getData(),e,n),this.markerGroupMap.get(e.id).updateLayout())}),this)},RW.prototype.renderSeries=function(e,t,n,i){var r=e.coordinateSystem,o=e.id,a=e.getData(),s=(s=this.markerGroupMap).get(o)||s.set(o,new KA),l=function(e,t,n){var i;i=e?te(e&&e.dimensions,(function(e){return X(X({},t.getData().getDimensionInfo(t.getData().mapDimension(e))||{}),{name:e,ordinalMeta:null})})):[{name:"value",type:"float"}];var r=new U_(i,n);n=te(n.get("data"),se(MW,t));return e&&(n=ie(n,se(TW,e))),e=IW(!!e,i),r.initData(n,null,e),r}(r,e,t);t.setData(l),LW(t.getData(),e,i),l.each((function(e){var n=l.getItemModel(e),i=n.getShallow("symbol"),r=n.getShallow("symbolSize"),o=n.getShallow("symbolRotate"),s=n.getShallow("symbolOffset"),u=n.getShallow("symbolKeepAspect"),c=((ue(i)||ue(r)||ue(o)||ue(s))&&(c=t.getRawValue(e),h=t.getDataParams(e),ue(i)&&(i=i(c,h)),ue(r)&&(r=r(c,h)),ue(o)&&(o=o(c,h)),ue(s)&&(s=s(c,h))),n.getModel("itemStyle").getItemStyle()),h=Wy(a,"color");c.fill||(c.fill=h),l.setItemVisual(e,{symbol:i,symbolSize:r,symbolRotate:o,symbolOffset:s,symbolKeepAspect:u,style:c})})),s.updateData(l),this.group.add(s.group),l.eachItemGraphicEl((function(e){e.traverse((function(e){Cl(e).dataModel=t}))})),this.markKeep(s),s.group.silent=t.get("silent")||e.get("silent")},RW.type="markPoint";var OW,FW=RW;function NW(){var e=null!==OW&&OW.apply(this,arguments)||this;return e.type=NW.type,e}function zW(e,t,n,i){var r,o,a,s,l=e.getData();return(t=[MW(e,(n=le(i)?i:"min"===(r=i.type)||"max"===r||"average"===r||"median"===r||null!=i.xAxis||null!=i.yAxis?(o=s=void 0,o=null!=i.yAxis||null!=i.xAxis?(s=t.getAxis(null!=i.yAxis?"y":"x"),be(i.yAxis,i.xAxis)):(s=(t=CW(i,l,t,e)).valueAxis,kW(l,Q_(l,t.valueDataDim),r)),t=1-(l="x"===s.dim?0:1),s={coord:[]},(a=Z(i)).type=null,a.coord=[],a.coord[t]=-1/0,s.coord[t]=1/0,0<=(t=n.get("precision"))&&de(o)&&(o=+o.toFixed(Math.min(t,20))),a.coord[l]=s.coord[l]=o,[a,s,{type:r,valueIndex:i.valueIndex,value:o}]):[])[0]),MW(e,n[1]),X({},n[2])])[2].type=t[2].type||null,W(t[2],t[0]),W(t[2],t[1]),t}_(NW,OW=_W),NW.prototype.createMarkerModelFromSeries=function(e,t,n){return new NW(e,t,n)},NW.type="markLine",NW.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"};var GW,HW=NW,VW=ea();function UW(e){return!isNaN(e)&&!isFinite(e)}function ZW(e,t,n,i){var r=1-e,o=i.dimensions[e];return UW(t[r])&&UW(n[r])&&t[e]===n[e]&&i.getAxis(o).containData(t[e])}function WW(e,t){if("cartesian2d"===e.type){var n=t[0].coord,i=t[1].coord;if(n&&i&&(ZW(1,n,i,e)||ZW(0,n,i,e)))return!0}return TW(e,t[0])&&TW(e,t[1])}function jW(e,t,n,i,r){var o,a,s=i.coordinateSystem,l=_o((u=e.getItemModel(t)).get("x"),r.getWidth()),u=_o(u.get("y"),r.getHeight());isNaN(l)||isNaN(u)?(o=i.getMarkerPosition?i.getMarkerPosition(e.getValues(e.dimensions,t)):(a=s.dimensions,r=e.get(a[0],t),i=e.get(a[1],t),s.dataToPoint([r,i])),yM(s,"cartesian2d")&&(r=s.getAxis("x"),i=s.getAxis("y"),a=s.dimensions,UW(e.get(a[0],t))?o[0]=r.toGlobalCoord(r.getExtent()[n?0:1]):UW(e.get(a[1],t))&&(o[1]=i.toGlobalCoord(i.getExtent()[n?0:1]))),isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)):o=[l,u],e.setItemLayout(t,o)}function XW(){var e=null!==GW&&GW.apply(this,arguments)||this;return e.type=XW.type,e}_(XW,GW=_a),XW.prototype.updateTransform=function(e,t,n){t.eachSeries((function(e){var t,i,r,o=_W.getMarkerModelFromSeries(e,"markLine");o&&(t=o.getData(),i=VW(o).from,r=VW(o).to,i.each((function(t){jW(i,t,!0,e,n),jW(r,t,!1,e,n)})),t.each((function(e){t.setItemLayout(e,[i.getItemLayout(e),r.getItemLayout(e)])})),this.markerGroupMap.get(e.id).updateLayout())}),this)},XW.prototype.renderSeries=function(e,t,n,i){var r=e.coordinateSystem,o=e.id,a=e.getData(),s=(s=this.markerGroupMap).get(o)||s.set(o,new YE),l=(o=(this.group.add(s.group),function(e,t,n){var i;i=e?te(e&&e.dimensions,(function(e){return X(X({},t.getData().getDimensionInfo(t.getData().mapDimension(e))||{}),{name:e,ordinalMeta:null})})):[{name:"value",type:"float"}];var r=new U_(i,n),o=new U_(i,n),a=new U_([],n);n=te(n.get("data"),se(zW,t,e,n));return e&&(n=ie(n,se(WW,e))),e=IW(!!e,i),r.initData(te(n,(function(e){return e[0]})),null,e),o.initData(te(n,(function(e){return e[1]})),null,e),a.initData(te(n,(function(e){return e[2]}))),a.hasItemOption=!0,{from:r,to:o,line:a}}(r,e,t)),o.from),u=o.to,c=o.line,h=(VW(t).from=l,VW(t).to=u,t.setData(c),t.get("symbol")),d=t.get("symbolSize"),p=t.get("symbolRotate"),f=t.get("symbolOffset");function g(t,n,r){var o=t.getItemModel(n),s=(jW(t,n,r,e,i),o.getModel("itemStyle").getItemStyle());null==s.fill&&(s.fill=Wy(a,"color")),t.setItemVisual(n,{symbolKeepAspect:o.get("symbolKeepAspect"),symbolOffset:we(o.get("symbolOffset",!0),f[r?0:1]),symbolRotate:we(o.get("symbolRotate",!0),p[r?0:1]),symbolSize:we(o.get("symbolSize"),d[r?0:1]),symbol:we(o.get("symbol",!0),h[r?0:1]),style:s})}le(h)||(h=[h,h]),le(d)||(d=[d,d]),le(p)||(p=[p,p]),le(f)||(f=[f,f]),o.from.each((function(e){g(l,e,!0),g(u,e,!1)})),c.each((function(e){var t=c.getItemModel(e).getModel("lineStyle").getLineStyle();c.setItemLayout(e,[l.getItemLayout(e),u.getItemLayout(e)]),null==t.stroke&&(t.stroke=l.getItemVisual(e,"style").fill),c.setItemVisual(e,{fromSymbolKeepAspect:l.getItemVisual(e,"symbolKeepAspect"),fromSymbolOffset:l.getItemVisual(e,"symbolOffset"),fromSymbolRotate:l.getItemVisual(e,"symbolRotate"),fromSymbolSize:l.getItemVisual(e,"symbolSize"),fromSymbol:l.getItemVisual(e,"symbol"),toSymbolKeepAspect:u.getItemVisual(e,"symbolKeepAspect"),toSymbolOffset:u.getItemVisual(e,"symbolOffset"),toSymbolRotate:u.getItemVisual(e,"symbolRotate"),toSymbolSize:u.getItemVisual(e,"symbolSize"),toSymbol:u.getItemVisual(e,"symbol"),style:t})})),s.updateData(c),o.line.eachItemGraphicEl((function(e,n){e.traverse((function(e){Cl(e).dataModel=t}))})),this.markKeep(s),s.group.silent=t.get("silent")||e.get("silent")},XW.type="markLine";var YW,JW=XW;function KW(){var e=null!==YW&&YW.apply(this,arguments)||this;return e.type=KW.type,e}function QW(e,t,n,i){var r=MW(e,i[0]),o=(e=MW(e,i[1]),i=r.coord,e.coord);return i[0]=be(i[0],-1/0),i[1]=be(i[1],-1/0),o[0]=be(o[0],1/0),o[1]=be(o[1],1/0),(i=j([{},r,e])).coord=[r.coord,e.coord],i.x0=r.x,i.y0=r.y,i.x1=e.x,i.y1=e.y,i}_(KW,YW=_W),KW.prototype.createMarkerModelFromSeries=function(e,t,n){return new KW(e,t,n)},KW.type="markArea",KW.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}};var qW=KW,$W=ea();function ej(e){return!isNaN(e)&&!isFinite(e)}function tj(e,t,n){return ej(t[e=1-e])&&ej(n[e])}function nj(e,t){var n=t.coord[0],i=t.coord[1];return!!(yM(e,"cartesian2d")&&n&&i&&(tj(1,n,i)||tj(0,n,i)))||TW(e,{coord:n,x:t.x0,y:t.y0})||TW(e,{coord:i,x:t.x1,y:t.y1})}function ij(e,t,n,i,r){var o,a,s,l=i.coordinateSystem,u=_o((c=e.getItemModel(t)).get(n[0]),r.getWidth()),c=_o(c.get(n[1]),r.getHeight());return isNaN(u)||isNaN(c)?(s=i.getMarkerPosition?i.getMarkerPosition(e.getValues(n,t)):(r=[o=e.get(n[0],t),a=e.get(n[1],t)],l.clampData&&l.clampData(r,r),l.dataToPoint(r,!0)),yM(l,"cartesian2d")&&(i=l.getAxis("x"),r=l.getAxis("y"),o=e.get(n[0],t),a=e.get(n[1],t),ej(o)?s[0]=i.toGlobalCoord(i.getExtent()["x0"===n[0]?0:1]):ej(a)&&(s[1]=r.toGlobalCoord(r.getExtent()["y0"===n[1]?0:1]))),isNaN(u)||(s[0]=u),isNaN(c)||(s[1]=c)):s=[u,c],s}var rj,oj=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];function aj(){var e=null!==rj&&rj.apply(this,arguments)||this;return e.type=aj.type,e}_(aj,rj=_a),aj.prototype.updateTransform=function(e,t,n){t.eachSeries((function(e){var t,i=_W.getMarkerModelFromSeries(e,"markArea");i&&(t=i.getData()).each((function(i){var r=te(oj,(function(r){return ij(t,i,r,e,n)}));t.setItemLayout(i,r),t.getItemGraphicEl(i).setShape("points",r)}))}),this)},aj.prototype.renderSeries=function(e,t,n,i){var r=e.coordinateSystem,o=e.id,a=e.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,{group:new ao}),u=(this.group.add(l.group),this.markKeep(l),function(e,t,n){var i,r,o;return i=e?(o=te(e&&e.dimensions,(function(e){var n=t.getData();return X(X({},n.getDimensionInfo(n.mapDimension(e))||{}),{name:e,ordinalMeta:null})})),r=te(["x0","y0","x1","y1"],(function(e,t){return{name:e,type:o[t%2].type}})),new U_(r,n)):new U_(r=[{name:"value",type:"float"}],n),n=te(n.get("data"),se(QW,t,e,n)),e&&(n=ie(n,se(nj,e))),e=e?function(e,t,n,i){return Ap(e.coord[Math.floor(i/2)][i%2],r[i])}:function(e,t,n,i){return Ap(e.value,r[i])},i.initData(n,null,e),i.hasItemOption=!0,i}(r,e,t));t.setData(u),u.each((function(t){var n=te(oj,(function(n){return ij(u,t,n,e,i)})),o=r.getAxis("x").scale,s=r.getAxis("y").scale,l=o.getExtent(),c=s.getExtent();o=[o.parse(u.get("x0",t)),o.parse(u.get("x1",t))],s=[s.parse(u.get("y0",t)),s.parse(u.get("y1",t))],wo(o),wo(s),l=!(l[0]>o[1]||l[1]<o[0]||c[0]>s[1]||c[1]<s[0]),u.setItemLayout(t,{points:n,allClipped:!l}),o=u.getItemModel(t).getModel("itemStyle").getItemStyle(),c=Wy(a,"color");o.fill||(o.fill=c,ce(o.fill)&&(o.fill=ai(o.fill,.4))),o.stroke||(o.stroke=c),u.setItemVisual(t,"style",o)})),u.diff($W(l).data).add((function(e){var t=u.getItemLayout(e);t.allClipped||(t=new Gg({shape:{points:t.points}}),u.setItemGraphicEl(e,t),l.group.add(t))})).update((function(e,n){n=$W(l).data.getItemGraphicEl(n);var i=u.getItemLayout(e);i.allClipped?n&&l.group.remove(n):(n?Cu(n,{shape:{points:i.points}},t,e):n=new Gg({shape:{points:i.points}}),u.setItemGraphicEl(e,n),l.group.add(n))})).remove((function(e){e=$W(l).data.getItemGraphicEl(e),l.group.remove(e)})).execute(),u.eachItemGraphicEl((function(e,n){var i=u.getItemModel(n),r=u.getItemVisual(n,"style");e.useStyle(u.getItemVisual(n,"style")),Ou(e,Fu(i),{labelFetcher:t,labelDataIndex:n,defaultText:u.getName(n)||"",inheritColor:ce(r.fill)?ai(r.fill,1):"#000"}),vu(e,i),fu(e,null,null,i.get(["emphasis","disabled"])),Cl(e).dataModel=t})),$W(l).data=u,l.group.silent=t.get("silent")||e.get("silent")},aj.type="markArea";var sj,lj=aj;function uj(){var e=null!==sj&&sj.apply(this,arguments)||this;return e.type=uj.type,e.layoutMode={type:"box",ignoreSize:!0},e}_(uj,sj=Mh),uj.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{},this._updateSelector(e)},uj.prototype.mergeOption=function(e,t){sj.prototype.mergeOption.call(this,e,t),this._updateSelector(e)},uj.prototype._updateSelector=function(e){var t=e.selector,n=this.ecModel;le(t=!0===t?e.selector=["all","inverse"]:t)&&ee(t,(function(e,i){ce(e)&&(e={type:e}),t[i]=W(e,(i=n,"all"===(e=e.type)?{type:"all",title:i.getLocaleModel().get(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:i.getLocaleModel().get(["legend","selector","inverse"])}:void 0))}))},uj.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,n=0;n<e.length;n++){var i=e[n].get("name");if(this.isSelected(i)){this.select(i),t=!0;break}}t||this.select(e[0].get("name"))}},uj.prototype._updateData=function(e){var t=[],n=[];e.eachRawSeries((function(i){var r,o=i.name;n.push(o),i.legendVisualProvider?(o=i.legendVisualProvider.getAllNames(),e.isSeriesFiltered(i)||(n=n.concat(o)),o.length?t=t.concat(o):r=!0):r=!0,r&&Qo(i)&&t.push(i.name)})),this._availableNames=n;var i=te(this.get("data")||t,(function(e){return(ce(e)||de(e))&&(e={name:e}),new ac(e,this,this.ecModel)}),this);this._data=i},uj.prototype.getData=function(){return this._data},uj.prototype.select=function(e){var t=this.option.selected;"single"===this.get("selectedMode")&&ee(this._data,(function(e){t[e.get("name")]=!1})),t[e]=!0},uj.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},uj.prototype.toggleSelected=function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},uj.prototype.allSelect=function(){var e=this._data,t=this.option.selected;ee(e,(function(e){t[e.get("name",!0)]=!0}))},uj.prototype.inverseSelect=function(){var e=this._data,t=this.option.selected;ee(e,(function(e){e=e.get("name",!0),t.hasOwnProperty(e)||(t[e]=!0),t[e]=!t[e]}))},uj.prototype.isSelected=function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&0<=K(this._availableNames,e)},uj.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},uj.type="legend.plain",uj.dependencies=["series"],uj.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}};var cj,hj=uj,dj=se,pj=ee,fj=ao;function gj(){var e=null!==cj&&cj.apply(this,arguments)||this;return e.type=gj.type,e.newlineDisabled=!1,e}function mj(e,t,n,i){xj(e,t,n,i),n.dispatchAction({type:"legendToggleSelect",name:null!=e?e:t}),vj(e,t,n,i)}function yj(e){for(var t,n=e.getZr().storage.getDisplayList(),i=0,r=n.length;i<r&&!(t=n[i].states.emphasis);)i++;return t&&t.hoverLayer}function vj(e,t,n,i){yj(n)||n.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:i})}function xj(e,t,n,i){yj(n)||n.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:i})}_(gj,cj=Rf),gj.prototype.init=function(){this.group.add(this._contentGroup=new fj),this.group.add(this._selectorGroup=new fj),this._isFirstRender=!0},gj.prototype.getContentGroup=function(){return this._contentGroup},gj.prototype.getSelectorGroup=function(){return this._selectorGroup},gj.prototype.render=function(e,t,n){var i,r,o,a,s,l=this._isFirstRender;this._isFirstRender=!1,this.resetInner(),e.get("show",!0)&&(a=e.get("align"),o=e.get("orient"),a&&"auto"!==a||(a="right"===e.get("left")&&"vertical"===o?"right":"left"),i=e.get("selector",!0),r=e.get("selectorPosition",!0),this.renderInner(a,e,t,n,i,o,r=!i||r&&"auto"!==r?r:"horizontal"===o?"end":"start"),s=hh(t=e.getBoxLayoutParams(),o={width:n.getWidth(),height:n.getHeight()},n=e.get("padding")),s=hh(Y({width:(a=this.layoutInner(e,a,s,l,i,r)).width,height:a.height},t),o,n),this.group.x=s.x-a.x,this.group.y=s.y-a.y,this.group.markRedraw(),this.group.add(this._backgroundEl=QV(a,e)))},gj.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},gj.prototype.renderInner=function(e,t,n,i,r,o,a){var s=this.getContentGroup(),l=Pe(),u=t.get("selectedMode"),c=[];n.eachRawSeries((function(e){e.get("legendHoverLink")||c.push(e.id)})),pj(t.getData(),(function(r,o){var a=r.get("name");if(!this.newlineDisabled&&(""===a||"\n"===a))return(f=new fj).newline=!0,void s.add(f);var h,d,p,f=n.getSeriesByName(a)[0];l.get(a)||(f?(h=(p=f.getData()).getVisual("legendLineStyle")||{},d=p.getVisual("legendIcon"),p=p.getVisual("style"),this._createItem(f,a,o,r,t,e,h,p,d,u).on("click",dj(mj,a,null,i,c)).on("mouseover",dj(vj,f.name,null,i,c)).on("mouseout",dj(xj,f.name,null,i,c)),l.set(a,!0)):n.eachRawSeries((function(n){var s,h,d;!l.get(a)&&n.legendVisualProvider&&(h=n.legendVisualProvider).containName(a)&&(d=h.indexOfName(a),s=h.getItemVisual(d,"style"),h=h.getItemVisual(d,"legendIcon"),(d=Qn(s.fill))&&0===d[3]&&(d[3]=.2,s=X(X({},s),{fill:si(d,"rgba")})),this._createItem(n,a,o,r,t,e,{},s,h,u).on("click",dj(mj,null,a,i,c)).on("mouseover",dj(vj,null,a,i,c)).on("mouseout",dj(xj,null,a,i,c)),l.set(a,!0))}),this))}),this),r&&this._createSelector(r,t,i,o,a)},gj.prototype._createSelector=function(e,t,n,i,r){var o=this.getSelectorGroup();pj(e,(function(e){var i=e.type,r=new Ml({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===i?"legendAllSelect":"legendInverseSelect"})}});o.add(r),Ou(r,{normal:t.getModel("selectorLabel"),emphasis:t.getModel(["emphasis","selectorLabel"])},{defaultText:e.title}),pu(r)}))},gj.prototype._createItem=function(e,t,n,i,r,o,a,s,l,u){var c=e.visualDrawType,h=r.get("itemWidth"),d=r.get("itemHeight"),p=r.isSelected(t),f=i.get("symbolRotate"),g=i.get("symbolKeepAspect"),m=(a=function(e,t,n,i,r,o){function a(e,t){"auto"===e.lineWidth&&(e.lineWidth=0<t.lineWidth?2:0),pj(e,(function(n,i){"inherit"===e[i]&&(e[i]=t[i])}))}var s=t.getModel("itemStyle").getItemStyle();e=0===e.lastIndexOf("empty",0)?"fill":"stroke";s.decal=i.decal,"inherit"===s.fill&&(s.fill=i[r]),"inherit"===s.stroke&&(s.stroke=i[e]),"inherit"===s.opacity&&(s.opacity=("fill"===r?i:n).opacity),a(s,i);var l=(r=t.getModel("lineStyle")).getLineStyle();return a(l,n),"auto"===s.fill&&(s.fill=i.fill),"auto"===s.stroke&&(s.stroke=i.fill),"auto"===l.stroke&&(l.stroke=i.fill),o||(n=t.get("inactiveBorderWidth"),o=s[e],s.lineWidth="auto"===n?0<i.lineWidth&&o?2:0:s.lineWidth,s.fill=t.get("inactiveColor"),s.stroke=t.get("inactiveBorderColor"),l.stroke=r.get("inactiveColor"),l.lineWidth=r.get("inactiveWidth")),{itemStyle:s,lineStyle:l}}(l=(m=i.get("icon"))||l||"roundRect",i,a,s,c,p),s=new fj,c=i.getModel("textStyle"),!ue(e.getLegendIcon)||m&&"inherit"!==m?(m="inherit"===m&&e.getData().getVisual("symbol")?"inherit"===f?e.getData().getVisual("symbolRotate"):f:0,s.add(function(e){var t=e.icon||"roundRect",n=lv(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);return n.setStyle(e.itemStyle),n.rotation=(e.iconRotate||0)*Math.PI/180,n.setOrigin([e.itemWidth/2,e.itemHeight/2]),-1<t.indexOf("empty")&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n}({itemWidth:h,itemHeight:d,icon:l,iconRotate:m,itemStyle:a.itemStyle,lineStyle:a.lineStyle,symbolKeepAspect:g}))):s.add(e.getLegendIcon({itemWidth:h,itemHeight:d,icon:l,iconRotate:f,itemStyle:a.itemStyle,lineStyle:a.lineStyle,symbolKeepAspect:g})),"left"===o?h+5:-5);e=o,f=t,ce(l=r.get("formatter"))&&l?f=l.replace("{name}",null!=t?t:""):ue(l)&&(f=l(t)),a=i.get("inactiveColor"),s.add(new Ml({style:Nu(c,{text:f,x:m,y:d/2,fill:p?c.getTextColor():a,align:e,verticalAlign:"middle"})})),g=new sl({shape:s.getBoundingRect(),invisible:!0});return(h=i.getModel("tooltip")).get("show")&&Km({el:g,componentModel:r,itemName:t,itemTooltipOption:h.option}),s.add(g),s.eachChild((function(e){e.silent=!0})),g.silent=!u,this.getContentGroup().add(s),pu(s),s.__legendDataIndex=n,s},gj.prototype.layoutInner=function(e,t,n,i,r,o){var a,s,l,u,c,h=this.getContentGroup(),d=this.getSelectorGroup(),p=[-(n=(ch(e.get("orient"),h,e.get("itemGap"),n.width,n.height),h.getBoundingRect())).x,-n.y];return d.markRedraw(),h.markRedraw(),r?(ch("horizontal",d,e.get("selectorItemGap",!0)),a=[-(r=d.getBoundingRect()).x,-r.y],s=e.get("selectorButtonGap",!0),l=0===(e=e.getOrient().index)?"width":"height",u=0===e?"height":"width",c=0===e?"y":"x","end"===o?a[e]+=n[l]+s:p[e]+=r[l]+s,a[1-e]+=n[u]/2-r[u]/2,d.x=a[0],d.y=a[1],h.x=p[0],h.y=p[1],(o={x:0,y:0})[l]=n[l]+s+r[l],o[u]=Math.max(n[u],r[u]),o[c]=Math.min(0,r[c]+a[1-e]),o):(h.x=p[0],h.y=p[1],this.group.getBoundingRect())},gj.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},gj.type="legend.plain";var _j,bj=gj;function wj(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries((function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0}))}function Sj(e,t,n){var i,r={},o="toggleSelected"===e;return n.eachComponent("legend",(function(n){o&&null!=i?n[i?"select":"unSelect"](t.name):"allSelect"===e||"inverseSelect"===e?n[e]():(n[e](t.name),i=n.isSelected(t.name)),ee(n.getData(),(function(e){var t;"\n"!==(e=e.get("name"))&&""!==e&&(t=n.isSelected(e),r.hasOwnProperty(e)?r[e]=r[e]&&t:r[e]=t)}))})),"allSelect"===e||"inverseSelect"===e?{selected:r}:{name:t.name,selected:r}}function Aj(e){e.registerComponentModel(hj),e.registerComponentView(bj),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,wj),e.registerSubTypeDefaulter("legend",(function(){return"plain"})),e.registerAction("legendToggleSelect","legendselectchanged",se(Sj,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",se(Sj,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",se(Sj,"inverseSelect")),e.registerAction("legendSelect","legendselected",se(Sj,"select")),e.registerAction("legendUnSelect","legendunselected",se(Sj,"unSelect"))}function Mj(){var e=null!==_j&&_j.apply(this,arguments)||this;return e.type=Mj.type,e}function Cj(e,t,n){var i=[1,1];i[e.getOrient().index]=0,fh(t,n,{type:"box",ignoreSize:!!i})}_(Mj,_j=hj),Mj.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},Mj.prototype.init=function(e,t,n){var i=gh(e);_j.prototype.init.call(this,e,t,n),Cj(this,e,i)},Mj.prototype.mergeOption=function(e,t){_j.prototype.mergeOption.call(this,e,t),Cj(this,this.option,e)},Mj.type="legend.scroll",Mj.defaultOption=uc(hj.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800});var Tj,Ij=Mj,kj=ao,Dj=["width","height"],Bj=["x","y"];function Ej(){var e=null!==Tj&&Tj.apply(this,arguments)||this;return e.type=Ej.type,e.newlineDisabled=!0,e._currentIndex=0,e}_(Ej,Tj=bj),Ej.prototype.init=function(){Tj.prototype.init.call(this),this.group.add(this._containerGroup=new kj),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new kj)},Ej.prototype.resetInner=function(){Tj.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},Ej.prototype.renderInner=function(e,t,n,i,r,o,a){var s=this,l=(Tj.prototype.renderInner.call(this,e,t,n,i,r,o,a),this._controllerGroup),u=le(e=t.get("pageIconSize",!0))?e:[e,e];c("pagePrev",0),n=t.getModel("pageTextStyle");function c(e,n){var r=e+"DataIndex";(n=Xm(t.get("pageIcons",!0)[t.getOrient().name][n],{onclick:ae(s._pageGo,s,r,t,i)},{x:-u[0]/2,y:-u[1]/2,width:u[0],height:u[1]})).name=e,l.add(n)}l.add(new Ml({name:"pageText",style:{text:"xx/xx",fill:n.getTextColor(),font:n.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),c("pageNext",1)},Ej.prototype.layoutInner=function(e,t,n,i,r,o){var a=this.getSelectorGroup(),s=e.getOrient().index,l=Dj[s],u=Bj[s],c=Dj[1-s],h=Bj[1-s],d=(r&&ch("horizontal",a,e.get("selectorItemGap",!0)),e.get("selectorButtonGap",!0)),p=a.getBoundingRect(),f=[-p.x,-p.y],g=Z(n);r&&(g[l]=n[l]-p[l]-d),n=this._layoutContentAndController(e,i,g,s,l,c,h,u);return r&&("end"===o?f[s]+=n[l]+d:(e=p[l]+d,f[s]-=e,n[u]-=e),n[l]+=p[l]+d,f[1-s]+=n[h]+n[c]/2-p[c]/2,n[c]=Math.max(n[c],p[c]),n[h]=Math.min(n[h],p[h]+f[1-s]),a.x=f[0],a.y=f[1],a.markRedraw()),n},Ej.prototype._layoutContentAndController=function(e,t,n,i,r,o,a,s){var l=this.getContentGroup(),u=this._containerGroup,c=this._controllerGroup,h=(ch(e.get("orient"),l,e.get("itemGap"),i?n.width:null,i?null:n.height),ch("horizontal",c,e.get("pageButtonItemGap",!0)),l.getBoundingRect()),d=c.getBoundingRect(),p=this._showController=h[r]>n[r],f=[-h.x,-h.y],g=(t=(t||(f[i]=l[s]),[0,0]),s=[-d.x,-d.y],we(e.get("pageButtonGap",!0),e.get("itemGap",!0)));return null!=(h=((f=(p&&("end"===e.get("pageButtonPosition",!0)?s[i]+=n[r]-d[r]:t[i]+=d[r]+g),s[1-i]+=h[o]/2-d[o]/2,l.setPosition(f),u.setPosition(t),c.setPosition(s),{x:0,y:0}))[r]=(p?n:h)[r],f[o]=Math.max(h[o],d[o]),f[a]=Math.min(0,d[a]+s[1-i]),u.__rectSize=n[r],p?((t={x:0,y:0})[r]=Math.max(n[r]-d[r]-g,0),t[o]=f[o],u.setClipPath(new sl({shape:t})),u.__rectSize=t[r]):c.eachChild((function(e){e.attr({invisible:!0,silent:!0})})),this._getPageInfo(e))).pageIndex&&Cu(l,{x:h.contentPosition[0],y:h.contentPosition[1]},p?e:null),this._updatePageInfoView(e,h),f},Ej.prototype._pageGo=function(e,t,n){null!=(e=this._getPageInfo(t)[e])&&n.dispatchAction({type:"legendScroll",scrollDataIndex:e,legendId:t.id})},Ej.prototype._updatePageInfoView=function(e,t){var n=this._controllerGroup,i=(ee(["pagePrev","pageNext"],(function(i){var r=null!=t[i+"DataIndex"];(i=n.childOfName(i))&&(i.setStyle("fill",r?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),i.cursor=r?"pointer":"default")})),n.childOfName("pageText")),r=e.get("pageFormatter"),o=null!=(o=t.pageIndex)?o+1:0,a=t.pageCount;i&&r&&i.setStyle("text",ce(r)?r.replace("{current}",null==o?"":o+"").replace("{total}",null==a?"":a+""):r({current:o,total:a}))},Ej.prototype._getPageInfo=function(e){var t=e.get("scrollDataIndex",!0),n=this.getContentGroup(),i=this._containerGroup.__rectSize,r=(e=e.getOrient().index,Dj[e]),o=Bj[e],a=(t=this._findTargetItemIndex(t),n.children()),s=a[t],l=a.length,u=l?1:0,c={contentPosition:[n.x,n.y],pageCount:u,pageIndex:u-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!s)return c;n=g(s),c.contentPosition[e]=-n.s;for(var h=t+1,d=n,p=n,f=null;h<=l;++h)(!(f=g(a[h]))&&p.e>d.s+i||f&&!m(f,d.s))&&(d=p.i>d.i?p:f)&&(null==c.pageNextDataIndex&&(c.pageNextDataIndex=d.i),++c.pageCount),p=f;for(h=t-1,d=n,p=n,f=null;-1<=h;--h)(f=g(a[h]))&&m(p,f.s)||!(d.i<p.i)||(p=d,null==c.pagePrevDataIndex&&(c.pagePrevDataIndex=d.i),++c.pageCount,++c.pageIndex),d=f;return c;function g(e){var t,n;if(e)return{s:n=(t=e.getBoundingRect())[o]+e[o],e:n+t[r],i:e.__legendDataIndex}}function m(e,t){return e.e>=t&&e.s<=t+i}},Ej.prototype._findTargetItemIndex=function(e){return this._showController?(this.getContentGroup().eachChild((function(i,r){i=i.__legendDataIndex,null==n&&null!=i&&(n=r),i===e&&(t=r)})),null!=t?t:n):0;var t,n},Ej.type="legend.scroll";var Pj,Lj=Ej;function Rj(e){p_(Aj),e.registerComponentModel(Ij),e.registerComponentView(Lj),e.registerAction("legendScroll","legendscroll",(function(e,t){var n=e.scrollDataIndex;null!=n&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},(function(e){e.setScrollDataIndex(n)}))}))}function Oj(){var e=null!==Pj&&Pj.apply(this,arguments)||this;return e.type=Oj.type,e}_(Oj,Pj=nv),Oj.type="dataZoom.inside",Oj.defaultOption=uc(nv.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0});var Fj,Nj=Oj,zj=ea();function Gj(e,t){t&&(e.removeKey(t.model.uid),(e=t.controller)&&e.dispose())}function Hj(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function Vj(e,t,n,i){return e.coordinateSystem.containPoint([n,i])}function Uj(){var e=null!==Fj&&Fj.apply(this,arguments)||this;return e.type="dataZoom.inside",e}_(Uj,Fj=$u),Uj.prototype.render=function(e,t,n){var i,r;Fj.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),i=e,r={pan:ae(Zj.pan,this),zoom:ae(Zj.zoom,this),scrollMove:ae(Zj.scrollMove,this)},zj(n).coordSysRecordMap.each((function(e){(e=e.dataZoomInfoMap.get(i.uid))&&(e.getRange=r)})))},Uj.prototype.dispose=function(){this._clear(),Fj.prototype.dispose.apply(this,arguments)},Uj.prototype._clear=function(){for(var e=this.api,t=this.dataZoomModel,n=zj(e).coordSysRecordMap,i=n.keys(),r=0;r<i.length;r++){var o,a=i[r],s=(a=n.get(a)).dataZoomInfoMap;s&&(o=t.uid,s.get(o)&&(s.removeKey(o),s.keys().length||Gj(n,a)))}this.range=null},Uj.type="dataZoom.inside";var Zj={zoom:function(e,t,n,i){var r=this.range,o=r.slice(),a=e.axisModels[0];if(a)return a=(0<(t=Xj[t](null,[i.originX,i.originY],a,n,e)).signal?t.pixelStart+t.pixelLength-t.pixel:t.pixel-t.pixelStart)/t.pixelLength*(o[1]-o[0])+o[0],n=Math.max(1/i.scale,0),o[0]=(o[0]-a)*n+a,o[1]=(o[1]-a)*n+a,dL(0,o,[0,100],0,(e=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan()).minSpan,e.maxSpan),this.range=o,r[0]!==o[0]||r[1]!==o[1]?o:void 0},pan:Wj((function(e,t,n,i,r,o){return(i=Xj[i]([o.oldX,o.oldY],[o.newX,o.newY],t,r,n)).signal*(e[1]-e[0])*i.pixel/i.pixelLength})),scrollMove:Wj((function(e,t,n,i,r,o){return Xj[i]([0,0],[o.scrollDelta,o.scrollDelta],t,r,n).signal*(e[1]-e[0])*o.scrollDelta}))};function Wj(e){return function(t,n,i,r){var o=this.range,a=o.slice(),s=t.axisModels[0];if(s)return dL(e(a,s,t,n,i,r),a,[0,100],"all"),this.range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}}var jj,Xj={grid:function(e,t,n,i,r){n=n.axis;var o={};r=r.model.coordinateSystem.getRect();return e=e||[0,0],"x"===n.dim?(o.pixel=t[0]-e[0],o.pixelLength=r.width,o.pixelStart=r.x,o.signal=n.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=r.height,o.pixelStart=r.y,o.signal=n.inverse?-1:1),o},polar:function(e,t,n,i,r){var o=n.axis,a={},s=(r=r.model.coordinateSystem).getRadiusAxis().getExtent(),l=r.getAngleAxis().getExtent();return e=e?r.pointToCoord(e):[0,0],t=r.pointToCoord(t),"radiusAxis"===n.mainType?(a.pixel=t[0]-e[0],a.pixelLength=s[1]-s[0],a.pixelStart=s[0],a.signal=o.inverse?1:-1):(a.pixel=t[1]-e[1],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?-1:1),a},singleAxis:function(e,t,n,i,r){n=n.axis,r=r.model.coordinateSystem.getRect();var o={};return e=e||[0,0],"horizontal"===n.orient?(o.pixel=t[0]-e[0],o.pixelLength=r.width,o.pixelStart=r.x,o.signal=n.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=r.height,o.pixelStart=r.y,o.signal=n.inverse?-1:1),o}},Yj=Uj;function Jj(e){HV(e),e.registerComponentModel(Nj),e.registerComponentView(Yj),function(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,(function(e,t){var n=zj(t),i=n.coordSysRecordMap||(n.coordSysRecordMap=Pe());i.each((function(e){e.dataZoomInfoMap=null})),e.eachComponent({mainType:"dataZoom",subType:"inside"},(function(e){ee(bV(e).infoList,(function(n){var r,o,a=n.model.uid,s=i.get(a)||i.set(a,(a=t,s=n.model,r={model:s,containsPoint:se(Vj,s),dispatchAction:se(Hj,a),dataZoomInfoMap:null,controller:null},o=r.controller=new RI(a.getZr()),ee(["pan","zoom","scrollMove"],(function(e){o.on(e,(function(t){var n=[];r.dataZoomInfoMap.each((function(i){var o;t.isAvailableBehavior(i.model.option)&&(o=(o=(i.getRange||{})[e])&&o(i.dzReferCoordSysInfo,r.model.mainType,r.controller,t),!i.model.get("disabled",!0)&&o&&n.push({dataZoomId:i.model.id,start:o[0],end:o[1]}))})),n.length&&r.dispatchAction(n)}))})),r));(s.dataZoomInfoMap||(s.dataZoomInfoMap=Pe())).set(e.uid,{dzReferCoordSysInfo:n,model:e,getRange:null})}))})),i.each((function(e){var t,n,r,o,a,s=e.controller,l=e.dataZoomInfoMap;l&&null!=(n=l.keys()[0])&&(t=l.get(n)),t?(o={type_true:2,type_move:1,type_false:0,type_undefined:-1},a=!0,l.each((function(e){var t=!(e=e.model).get("disabled",!0)&&(!e.get("zoomLock",!0)||"move");o["type_"+r]<o["type_"+t]&&(r=t),a=a&&e.get("preventDefaultMouseMove",!0)})),n={controlType:r,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!a}},s.enable(n.controlType,n.opt),s.setPointerChecker(e.containsPoint),dy(e,"dispatchAction",t.model.get("throttle",!0),"fixRate")):Gj(i,e)}))}))}(e)}function Kj(){var e=null!==jj&&jj.apply(this,arguments)||this;return e.type=Kj.type,e}_(Kj,jj=nv),Kj.type="dataZoom.slider",Kj.layoutMode="box",Kj.defaultOption=uc(nv.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}});var Qj,qj=Kj,$j=sl,eX="horizontal",tX=["line","bar","candlestick","scatter"],nX={easing:"cubicOut",duration:100,delay:0};function iX(){var e=null!==Qj&&Qj.apply(this,arguments)||this;return e.type=iX.type,e._displayables={},e}function rX(e){return"vertical"===e?"ns-resize":"ew-resize"}_(iX,Qj=$u),iX.prototype.init=function(e,t){this.api=t,this._onBrush=ae(this._onBrush,this),this._onBrushEnd=ae(this._onBrushEnd,this)},iX.prototype.render=function(e,t,n,i){if(Qj.prototype.render.apply(this,arguments),dy(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1===e.get("show"))this.group.removeAll();else{if(e.noTarget())return this._clear(),void this.group.removeAll();i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),this._updateView()}},iX.prototype.dispose=function(){this._clear(),Qj.prototype.dispose.apply(this,arguments)},iX.prototype._clear=function(){py(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},iX.prototype._buildView=function(){var e=this.group,t=(e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval(),this._displayables.sliderGroup=new ao);this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},iX.prototype._resetLocation=function(){var e=this.dataZoomModel,t=this.api,n=e.get("brushSelect")?7:0,i=this._findCoordRect(),r=(t={width:t.getWidth(),height:t.getHeight()},this._orient===eX?{right:t.width-i.x-i.width,top:t.height-30-7-n,width:i.width,height:30}:{right:7,top:i.y,width:30,height:i.height}),o=gh(e.option);ee(["right","top","width","height"],(function(e){"ph"===o[e]&&(o[e]=r[e])})),n=hh(o,t);this._location={x:n.x,y:n.y},this._size=[n.width,n.height],"vertical"===this._orient&&this._size.reverse()},iX.prototype._positionGroup=function(){var e=this.group,t=this._location,n=this._orient,i=(i=this.dataZoomModel.getFirstTargetAxisModel())&&i.get("inverse"),r=this._displayables.sliderGroup,o=(this._dataShadowInfo||{}).otherAxisInverse;r.attr(n!==eX||i?n===eX&&i?{scaleY:o?1:-1,scaleX:-1}:"vertical"!==n||i?{scaleY:o?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:o?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:o?1:-1,scaleX:1}),n=e.getBoundingRect([r]);e.x=t.x-n.x,e.y=t.y-n.y,e.markRedraw()},iX.prototype._getViewExtent=function(){return[0,this._size[0]]},iX.prototype._renderBackground=function(){var e=this.dataZoomModel,t=this._size,n=this._displayables.sliderGroup,i=e.get("brushSelect");n.add(new $j({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40})),e=new $j({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:ae(this._onClickPanel,this)}),t=this.api.getZr();i?(e.on("mousedown",this._onBrushStart,this),e.cursor="crosshair",t.on("mousemove",this._onBrush),t.on("mouseup",this._onBrushEnd)):(t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)),n.add(e)},iX.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var t,n=this._size,i=this._shadowSize||[],r=(t=e.series).getRawData();if(null!=(t=t.getShadowDim?t.getShadowDim():e.otherDim))for(var o,a,s,l,u,c,h,d,p,f,g=this._shadowPolygonPts,m=this._shadowPolylinePts,y=(r===this._shadowData&&t===this._shadowDim&&n[0]===i[0]&&n[1]===i[1]||(e=.3*((o=r.getDataExtent(t))[1]-o[0]),o=[o[0]-e,o[1]+e],a=[0,n[1]],i=[0,n[0]],s=[[n[0],0],[0,0]],l=[],u=i[1]/(r.count()-1),c=0,h=Math.round(r.count()/n[0]),r.each([t],(function(e,t){var n;0<h&&t%h?c+=u:(e=(n=null==e||isNaN(e)||""===e)?0:xo(e,o,a,!0),n&&!d&&t?(s.push([s[s.length-1][0],0]),l.push([l[l.length-1][0],0])):!n&&d&&(s.push([c,0]),l.push([c,0])),s.push([c,e]),l.push([c,e]),c+=u,d=n)})),g=this._shadowPolygonPts=s,m=this._shadowPolylinePts=l),this._shadowData=r,this._shadowDim=t,this._shadowSize=[n[0],n[1]],this.dataZoomModel),v=0;v<3;v++){p=1===v,x=f=void 0,p=y.getModel(p?"selectedDataBackground":"dataBackground"),f=new ao,x=new Gg({shape:{points:g},segmentIgnoreThreshold:1,style:p.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),p=new Zg({shape:{points:m},segmentIgnoreThreshold:1,style:p.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),f.add(x),f.add(p);var x=f;this._displayables.sliderGroup.add(x),this._displayables.dataShadowSegs.push(x)}}},iX.prototype._prepareDataShadowInfo=function(){var e,t,n=this.dataZoomModel,i=n.get("showDataShadow");if(!1!==i)return t=this.ecModel,n.eachTargetAxis((function(r,o){ee(n.getAxisProxy(r,o).getTargetSeriesModels(),(function(n){var a,s,l,u;e||!0!==i&&K(tX,n.get("type"))<0||(a=t.getComponent(_V(r),o).axis,u=n.coordinateSystem,null!=(s={x:"y",y:"x",radius:"angle",angle:"radius"}[r])&&u.getOtherAxis&&(l=u.getOtherAxis(a).inverse),s=n.getData().mapDimension(s),e={thisAxis:a,series:n,thisDim:r,otherDim:s,otherAxisInverse:l})}),this)}),this),e},iX.prototype._renderHandle=function(){var e,t,n=this.group,i=this._displayables,r=i.handles=[null,null],o=i.handleLabels=[null,null],a=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,h=l.get("brushSelect"),d=i.filler=new $j({silent:h,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});a.add(d),a.add(new $j({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),ee([0,1],(function(e){var t=l.get("handleIcon"),i=((t=lv(t=!ov[t]&&t.indexOf("path://")<0&&t.indexOf("image://")<0?"path://"+t:t,-1,0,2,2,null,!0)).attr({cursor:rX(this._orient),draggable:!0,drift:ae(this._onDragMove,this,e),ondragend:ae(this._onDragEnd,this),onmouseover:ae(this._showDataInfo,this,!0),onmouseout:ae(this._showDataInfo,this,!1),z2:5}),t.getBoundingRect()),s=l.get("handleSize");null!=(s=(this._handleHeight=_o(s,this._size[1]),this._handleWidth=i.width/i.height*this._handleHeight,t.setStyle(l.getModel("handleStyle").getItemStyle()),t.style.strokeNoScale=!0,t.rectHover=!0,t.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),pu(t),l.get("handleColor")))&&(t.style.fill=s),a.add(r[e]=t),i=l.getModel("textStyle");n.add(o[e]=new Ml({silent:!0,invisible:!0,style:Nu(i,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:i.getTextColor(),font:i.getFont()}),z2:10}))}),this),c=d;h&&(d=_o(l.get("moveHandleSize"),s[1]),e=i.moveHandle=new sl({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:d}}),h=.8*d,(h=i.moveHandleIcon=lv(l.get("moveHandleIcon"),-h/2,-h/2,h,h,"#fff",!0)).silent=!0,h.y=s[1]+d/2-.5,e.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle(),t=Math.min(s[1]/2,Math.max(d,10)),(c=i.moveZone=new sl({invisible:!0,shape:{y:s[1]-t,height:d+t}})).on("mouseover",(function(){u.enterEmphasis(e)})).on("mouseout",(function(){u.leaveEmphasis(e)})),a.add(e),a.add(h),a.add(c)),c.attr({draggable:!0,cursor:rX(this._orient),drift:ae(this._onDragMove,this,"all"),ondragstart:ae(this._showDataInfo,this,!0),ondragend:ae(this._onDragEnd,this),onmouseover:ae(this._showDataInfo,this,!0),onmouseout:ae(this._showDataInfo,this,!1)})},iX.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[xo(e[0],[0,100],t,!0),xo(e[1],[0,100],t,!0)]},iX.prototype._updateInterval=function(e,t){var n=this.dataZoomModel,i=this._handleEnds,r=this._getViewExtent(),o=n.findRepresentativeAxisProxy().getMinMaxSpan(),a=[0,100];dL(t,i,r,n.get("zoomLock")?"all":e,null!=o.minSpan?xo(o.minSpan,a,r,!0):null,null!=o.maxSpan?xo(o.maxSpan,a,r,!0):null),t=this._range,n=this._range=wo([xo(i[0],r,a,!0),xo(i[1],r,a,!0)]);return!t||t[0]!==n[0]||t[1]!==n[1]},iX.prototype._updateView=function(e){for(var t=this._displayables,n=this._handleEnds,i=wo(n.slice()),r=this._size,o=(ee([0,1],(function(e){var i=t.handles[e],o=this._handleHeight;i.attr({scaleX:o/2,scaleY:o/2,x:n[e]+(e?-1:1),y:r[1]/2-o/2})}),this),t.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:r[1]}),{x:i[0],width:i[1]-i[0]}),a=(t.moveHandle&&(t.moveHandle.setShape(o),t.moveZone.setShape(o),t.moveZone.getBoundingRect(),t.moveHandleIcon&&t.moveHandleIcon.attr("x",o.x+o.width/2)),t.dataShadowSegs),s=[0,i[0],i[1],r[0]],l=0;l<a.length;l++){var u=a[l],c=u.getClipPath();c||(c=new sl,u.setClipPath(c)),c.setShape({x:s[l],y:0,width:s[l+1]-s[l],height:r[1]})}this._updateDataInfo(e)},iX.prototype._updateDataInfo=function(e){var t,n,i=this.dataZoomModel,r=this._displayables,o=r.handleLabels,a=this._orient,s=["",""],l=(!i.get("showDetail")||(i=i.findRepresentativeAxisProxy())&&(t=i.getAxisModel().axis,n=this._range,e=e?i.calculateDataWindow({start:n[0],end:n[1]}).valueWindow:i.getDataValueWindow(),s=[this._formatLabel(e[0],t),this._formatLabel(e[1],t)]),wo(this._handleEnds.slice()));function u(e){var t=Gm(r.handles[e].parent,this.group),n=Vm(0===e?"right":"left",t),i=this._handleWidth/2+5;i=Hm([l[e]+(0===e?-i:i),this._size[1]/2],t);o[e].setStyle({x:i[0],y:i[1],verticalAlign:a===eX?"middle":n,align:a===eX?n:"center",text:s[e]})}u.call(this,0),u.call(this,1)},iX.prototype._formatLabel=function(e,t){var n,i=(n=this.dataZoomModel).get("labelFormatter");null!=(n=n.get("labelPrecision"))&&"auto"!==n||(n=t.getPixelPrecision()),t=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(n,20));return ue(i)?i(e,t):ce(i)?i.replace("{value}",t):t},iX.prototype._showDataInfo=function(e){e=this._dragging||e;var t=this._displayables,n=t.handleLabels;n[0].attr("invisible",!e),n[1].attr("invisible",!e),t.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](t.moveHandle,1)},iX.prototype._onDragMove=function(e,t,n,i){this._dragging=!0,Pt(i.event),i=Hm([t,n],this._displayables.sliderGroup.getLocalTransform(),!0),t=this._updateInterval(e,i[0]),n=this.dataZoomModel.get("realtime"),this._updateView(!n),t&&n&&this._dispatchZoomAction(!0)},iX.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),this.dataZoomModel.get("realtime")||this._dispatchZoomAction(!1)},iX.prototype._onClickPanel=function(e){var t=this._size;(e=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY))[0]<0||e[0]>t[0]||e[1]<0||e[1]>t[1]||(t=((t=this._handleEnds)[0]+t[1])/2,e=this._updateInterval("all",e[0]-t),this._updateView(),e&&this._dispatchZoomAction(!1))},iX.prototype._onBrushStart=function(e){var t=e.offsetX;e=e.offsetY;this._brushStart=new kr(t,e),this._brushing=!0,this._brushStartTime=+new Date},iX.prototype._onBrushEnd=function(e){var t,n,i;this._brushing&&(t=this._displayables.brushRect,this._brushing=!1,t&&(t.attr("ignore",!0),t=t.shape,+new Date-this._brushStartTime<200&&Math.abs(t.width)<5||(n=this._getViewExtent(),this._range=wo([xo(t.x,n,i=[0,100],!0),xo(t.x+t.width,n,i,!0)]),this._handleEnds=[t.x,t.x+t.width],this._updateView(),this._dispatchZoomAction(!1))))},iX.prototype._onBrush=function(e){this._brushing&&(Pt(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},iX.prototype._updateBrushRect=function(e,t){var n=this._displayables,i=this.dataZoomModel,r=n.brushRect;r||(r=n.brushRect=new $j({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(r)),r.attr("ignore",!1),i=this._brushStart,e=(n=this._displayables.sliderGroup).transformCoordToLocal(e,t),t=n.transformCoordToLocal(i.x,i.y),n=this._size;e[0]=Math.max(Math.min(n[0],e[0]),0),r.setShape({x:t[0],y:0,width:e[0]-t[0],height:n[1]})},iX.prototype._dispatchZoomAction=function(e){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?nX:null,start:t[0],end:t[1]})},iX.prototype._findCoordRect=function(){var e,t,n=bV(this.dataZoomModel).infoList;return(e=!e&&n.length?(n=n[0].model.coordinateSystem).getRect&&n.getRect():e)?e:{x:.2*(n=this.api.getWidth()),y:.2*(t=this.api.getHeight()),width:.6*n,height:.6*t}},iX.type="dataZoom.slider";var oX=iX;function aX(e){e.registerComponentModel(qj),e.registerComponentView(oX),HV(e)}var sX,lX={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},uX=function(e,t,n){return e=Z((lX[e]||{})[t]),n&&le(e)?e[e.length-1]:e},cX=GB.mapVisual,hX=GB.eachVisual,dX=le,pX=ee,fX=wo,gX=xo;function mX(){var e=null!==sX&&sX.apply(this,arguments)||this;return e.type=mX.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}_(mX,sX=Mh),mX.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n)},mX.prototype.optionUpdated=function(e,t){var n=this.option;t||vZ(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},mX.prototype.resetVisual=function(e){var t=this.stateList;e=ae(e,this),this.controllerVisuals=yZ(this.option.controller,t,e),this.targetVisuals=yZ(this.option.target,t,e)},mX.prototype.getItemSymbol=function(){return null},mX.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries((function(e,n){t.push(n)})):t=Uo(e),t},mX.prototype.eachTargetSeries=function(e,t){ee(this.getTargetSeriesIndices(),(function(n){(n=this.ecModel.getSeriesByIndex(n))&&e.call(t,n)}),this)},mX.prototype.isTargetSeries=function(e){var t=!1;return this.eachTargetSeries((function(n){n===e&&(t=!0)})),t},mX.prototype.formatValueText=function(e,t,n){var i,r=(a=this.option).precision,o=this.dataBound,a=a.formatter;n=n||["<",">"],le(e)&&(e=e.slice(),i=!0),t=t?e:i?[s(e[0]),s(e[1])]:s(e);return ce(a)?a.replace("{value}",i?t[0]:t).replace("{value2}",i?t[1]:t):ue(a)?i?a(e[0],e[1]):a(e):i?e[0]===o[0]?n[0]+" "+t[1]:e[1]===o[1]?n[1]+" "+t[0]:t[0]+" - "+t[1]:t;function s(e){return e===o[0]?"min":e===o[1]?"max":(+e).toFixed(Math.min(r,20))}},mX.prototype.resetExtent=function(){var e=this.option;e=fX([e.min,e.max]);this._dataExtent=e},mX.prototype.getDataDimensionIndex=function(e){var t=this.option.dimension;if(null!=t)return e.getDimensionIndex(t);for(var n=e.dimensions,i=n.length-1;0<=i;i--){var r=n[i];if(!(r=e.getDimensionInfo(r)).isCalculationCoord)return r.storeDimIndex}},mX.prototype.getExtent=function(){return this._dataExtent.slice()},mX.prototype.completeVisualOption=function(){var e=this.ecModel,t=this.option,n={inRange:t.inRange,outOfRange:t.outOfRange},i=t.target||(t.target={}),r=t.controller||(t.controller={}),o=(W(i,n),W(r,n),this.isCategory());function a(n){dX(t.color)&&!n.inRange&&(n.inRange={color:t.color.slice().reverse()}),n.inRange=n.inRange||{color:e.get("gradientColor")}}a.call(this,i),a.call(this,r),function(e,t,n){t=e[t];var i=e[n];t&&!i&&(i=e[n]={},pX(t,(function(e,t){var n;!GB.isValidType(t)||null!=(n=uX(t,"inactive",o))&&(i[t]=n,"color"!==t||i.hasOwnProperty("opacity")||i.hasOwnProperty("colorAlpha")||(i.opacity=[0,0]))})))}.call(this,i,"inRange","outOfRange"),function(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,n=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,i=this.get("inactiveColor"),r=this.getItemSymbol()||"roundRect";pX(this.stateList,(function(a){var s,l=this.itemSize,u=e[a];null!=(a=(null==(u=u||(e[a]={color:o?i:[i]})).symbol&&(u.symbol=t&&Z(t)||(o?r:[r])),null==u.symbolSize&&(u.symbolSize=n&&Z(n)||(o?l[0]:[l[0],l[0]])),u.symbol=cX(u.symbol,(function(e){return"none"===e?r:e})),u.symbolSize))&&(s=-1/0,hX(a,(function(e){s<e&&(s=e)})),u.symbolSize=cX(a,(function(e){return gX(e,[0,s],[0,l[0]],!0)})))}),this)}.call(this,r)},mX.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},mX.prototype.isCategory=function(){return!!this.option.categories},mX.prototype.setSelected=function(e){},mX.prototype.getSelected=function(){return null},mX.prototype.getValueState=function(e){return null},mX.prototype.getVisualMeta=function(e){return null},mX.type="visualMap",mX.dependencies=["series"],mX.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}};var yX,vX=[20,140];function xX(){var e=null!==yX&&yX.apply(this,arguments)||this;return e.type=xX.type,e}function _X(e,t,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,r=n[0],o=[],a=0;a<=200&&r<n[1];a++)o.push(r),r+=i;return o.push(n[1]),o}_(xX,yX=Fy=mX),xX.prototype.optionUpdated=function(e,t){yX.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()})),this._resetRange()},xX.prototype.resetItemSize=function(){yX.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;null!=e[0]&&!isNaN(e[0])||(e[0]=vX[0]),null!=e[1]&&!isNaN(e[1])||(e[1]=vX[1])},xX.prototype._resetRange=function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):le(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},xX.prototype.completeVisualOption=function(){yX.prototype.completeVisualOption.apply(this,arguments),ee(this.stateList,(function(e){(e=this.option.controller[e].symbolSize)&&e[0]!==e[1]&&(e[0]=e[1]/3)}),this)},xX.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},xX.prototype.getSelected=function(){var e=this.getExtent(),t=wo((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},xX.prototype.getValueState=function(e){var t=this.option.range,n=this.getExtent();return(t[0]<=n[0]||t[0]<=e)&&(t[1]>=n[1]||e<=t[1])?"inRange":"outOfRange"},xX.prototype.findTargetDataIndices=function(e){var t=[];return this.eachTargetSeries((function(n){var i=[],r=n.getData();r.each(this.getDataDimensionIndex(r),(function(t,n){e[0]<=t&&t<=e[1]&&i.push(n)}),this),t.push({seriesId:n.id,dataIndex:i})}),this),t},xX.prototype.getVisualMeta=function(e){var t=_X(0,0,this.getExtent()),n=_X(0,0,this.option.range.slice()),i=[];function r(t,n){i.push({value:t,color:e(t,n)})}for(var o=0,a=0,s=n.length,l=t.length;a<l&&(!n.length||t[a]<=n[0]);a++)t[a]<n[o]&&r(t[a],"outOfRange");for(var u=1;o<s;o++,u=0)u&&i.length&&r(n[o],"outOfRange"),r(n[o],"inRange");for(u=1;a<l;a++)(!n.length||n[n.length-1]<t[a])&&(u&&(i.length&&r(i[i.length-1].value,"outOfRange"),u=0),r(t[a],"outOfRange"));var c=i.length;return{stops:i,outerColors:[c?i[0].color:"transparent",c?i[c-1].color:"transparent"]}},xX.type="visualMap.continuous",xX.defaultOption=uc(Fy.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}});var bX,wX=xX;function SX(){var e=null!==bX&&bX.apply(this,arguments)||this;return e.type=SX.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}_(SX,bX=Rf),SX.prototype.init=function(e,t){this.ecModel=e,this.api=t},SX.prototype.render=function(e,t,n,i){!1===(this.visualMapModel=e).get("show")?this.group.removeAll():this.doRender(e,t,n,i)},SX.prototype.renderBackground=function(e){var t=this.visualMapModel,n=Xc(t.get("padding")||0),i=e.getBoundingRect();e.add(new sl({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},SX.prototype.getControllerVisual=function(e,t,n){var i,r=(n=n||{}).forceState,o=this.visualMapModel,a={};function s(e){return a[e]}function l(e,t){a[e]=t}"color"===t&&(i=o.get("contentColor"),a.color=i);var u=o.controllerVisuals[r||o.getValueState(e)];return ee(GB.prepareVisualTypes(u),(function(i){var r=u[i];n.convertOpacityToAlpha&&"opacity"===i&&(i="colorAlpha",r=u.__alphaForOpacity),GB.dependsOn(i,t)&&r&&r.applyVisual(e,s,l)})),a[t]},SX.prototype.positionGroup=function(e){var t=this.visualMapModel,n=this.api;dh(e,t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},SX.prototype.doRender=function(e,t,n,i){},SX.type="visualMap";Ig=SX;var AX=[["left","right","width"],["top","bottom","height"]];function MX(e,t,n){var i=e.option;if(null!=(e=i.align)&&"auto"!==e)return e;e={width:t.getWidth(),height:t.getHeight()};for(var r="horizontal"===i.orient?1:0,o=AX[r],a=[0,null,10],s={},l=0;l<3;l++)s[AX[1-r][l]]=a[l],s[o[l]]=2===l?n[0]:i[o[l]];t=[["x","width",3],["y","height",0]][r];var u=hh(s,e,i.padding);return o[(u.margin[t[2]]||0)+u[t[0]]+.5*u[t[1]]<.5*e[t[1]]?0:1]}function CX(e,t){return ee(e||[],(function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")})),e}var TX,IX=xo,kX=ee,DX=Math.min,BX=Math.max;function EX(){var e=null!==TX&&TX.apply(this,arguments)||this;return e.type=EX.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}function PX(e,t,n,i){return new Gg({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(e){Pt(e.event)},ondragend:i})}function LX(e){var t=e.get("hoverLinkOnHandle");return null==t?e.get("realtime"):t}function RX(e){return"vertical"===e?"ns-resize":"ew-resize"}function OX(e,t){t.eachComponent({mainType:"visualMap",query:e},(function(t){t.setSelected(e.selected)}))}_(EX,TX=Ig),EX.prototype.doRender=function(e,t,n,i){this._api=n,i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},EX.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t),e=e.get("text");this._renderEndsText(t,e,0),this._renderEndsText(t,e,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},EX.prototype._renderEndsText=function(e,t,n){var i,r,o;t&&(t=null!=(t=t[1-n])?t+"":"",r=(i=this.visualMapModel).get("textGap"),i=i.itemSize,o=this._shapes.mainGroup,i=this._applyTransform([i[0]/2,0===n?-r:i[1]+r],o),r=this._applyTransform(0===n?"bottom":"top",o),n=this._orient,o=this.visualMapModel.textStyleModel,this.group.add(new Ml({style:Nu(o,{x:i[0],y:i[1],verticalAlign:"horizontal"===n?"middle":r,align:"horizontal"===n?r:"center",text:t})})))},EX.prototype._renderBar=function(e){var t=this.visualMapModel,n=this._shapes,i=t.itemSize,r=this._orient,o=this._useHandle,a=MX(t,this.api,i),s=(a=n.mainGroup=this._createBarGroup(a),new ao);a.add(s),s.add(n.outOfRange=PX()),s.add(n.inRange=PX(null,o?RX(this._orient):null,ae(this._dragHandle,this,"all",!1),ae(this._dragHandle,this,"all",!0))),s.setClipPath(new sl({shape:{x:0,y:0,width:i[0],height:i[1],r:3}})),s=t.textStyleModel.getTextRect("\u56fd"),s=BX(s.width,s.height);o&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(t,a,0,i,s,r),this._createHandle(t,a,1,i,s,r)),this._createIndicator(t,a,i,s,r),e.add(a)},EX.prototype._createHandle=function(e,t,n,i,r,o){var a=ae(this._dragHandle,this,n,!1),s=ae(this._dragHandle,this,n,!0),l=Xr(e.get("handleSize"),i[0]),u=lv(e.get("handleIcon"),-l/2,-l/2,l,l,null,!0),c=RX(this._orient);u.attr({cursor:c,draggable:!0,drift:a,ondragend:s,onmousemove:function(e){Pt(e.event)}}),u.x=i[0]/2,u.useStyle(e.getModel("handleStyle").getItemStyle()),u.setStyle({strokeNoScale:!0,strokeFirst:!0}),u.style.lineWidth*=2,u.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),xu(u,!0),t.add(u),i=this.visualMapModel.textStyleModel,(e=new Ml({cursor:c,draggable:!0,drift:a,onmousemove:function(e){Pt(e.event)},ondragend:s,style:Nu(i,{x:0,y:0,text:""})})).ensureState("blur").style={opacity:.1},e.stateTransition={duration:200},this.group.add(e),t=[l,0];(c=this._shapes).handleThumbs[n]=u,c.handleLabelPoints[n]=t,c.handleLabels[n]=e},EX.prototype._createIndicator=function(e,t,n,i,r){var o=Xr(e.get("indicatorSize"),n[0]),a=(e=((o=lv(e.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0)).attr({cursor:"move",invisible:!0,silent:!0,x:n[0]/2}),e.getModel("indicatorStyle").getItemStyle()),o instanceof Qs?(a=o.style,o.useStyle(X({image:a.image,x:a.x,y:a.y,width:a.width,height:a.height},e))):o.useStyle(e),t.add(o),this.visualMapModel.textStyleModel);e=new Ml({silent:!0,invisible:!0,style:Nu(a,{x:0,y:0,text:""})}),this.group.add(e),t=[("horizontal"===r?i/2:6)+n[0]/2,0];(a=this._shapes).indicator=o,a.indicatorLabel=e,a.indicatorLabelPoint=t,this._firstShowIndicator=!0},EX.prototype._dragHandle=function(e,t,n,i){this._useHandle&&(this._dragging=!t,t||(n=this._applyTransform([n,i],this._shapes.mainGroup,!0),this._updateInterval(e,n[1]),this._hideIndicator(),this._updateView()),t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?this._hovering||this._clearHoverLinkToSeries():LX(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1))},EX.prototype._resetInterval=function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent();e=[0,e.itemSize[1]];this._handleEnds=[IX(t[0],n,e,!0),IX(t[1],n,e,!0)]},EX.prototype._updateInterval=function(e,t){var n=this.visualMapModel,i=this._handleEnds,r=[0,n.itemSize[1]];dL(t=t||0,i,r,e,0),t=n.getExtent();this._dataInterval=[IX(i[0],r,t,!0),IX(i[1],r,t,!0)]},EX.prototype._updateView=function(e){var t=(i=this.visualMapModel).getExtent(),n=this._shapes,i=[0,i.itemSize[1]],r=(e=e?i:this._handleEnds,this._createBarVisual(this._dataInterval,t,e,"inRange"));t=this._createBarVisual(t,t,i,"outOfRange");n.inRange.setStyle({fill:r.barColor}).setShape("points",r.barPoints),n.outOfRange.setStyle({fill:t.barColor}).setShape("points",t.barPoints),this._updateHandle(e,r)},EX.prototype._createBarVisual=function(e,t,n,i){i={forceState:i,convertOpacityToAlpha:!0};var r=this._makeColorGradient(e,i);e=[this.getControllerVisual(e[0],"symbolSize",i),this.getControllerVisual(e[1],"symbolSize",i)],i=this._createBarPoints(n,e);return{barColor:new dm(0,0,0,1,r),barPoints:i,handlesColor:[r[0].color,r[r.length-1].color]}},EX.prototype._makeColorGradient=function(e,t){var n=[],i=(e[1]-e[0])/100;n.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var r=1;r<100;r++){var o=e[0]+i*r;if(o>e[1])break;n.push({color:this.getControllerVisual(o,"color",t),offset:r/100})}return n.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),n},EX.prototype._createBarPoints=function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},EX.prototype._createBarGroup=function(e){var t=this._orient,n=this.visualMapModel.get("inverse");return new ao("horizontal"!==t||n?"horizontal"===t&&n?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==t||n?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},EX.prototype._updateHandle=function(e,t){var n,i,r,o,a,s;this._useHandle&&(n=this._shapes,i=this.visualMapModel,r=n.handleThumbs,o=n.handleLabels,a=i.itemSize,s=i.getExtent(),kX([0,1],(function(l){var u=r[l],c=(u.setStyle("fill",t.handlesColor[l]),u.y=e[l],IX(e[l],[0,a[1]],s,!0));c=this.getControllerVisual(c,"symbolSize"),u.scaleX=u.scaleY=c/a[0],u.x=a[0]-c/2,c=Hm(n.handleLabelPoints[l],Gm(u,this.group));o[l].setStyle({x:c[0],y:c[1],text:i.formatValueText(this._dataInterval[l]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",n.mainGroup):"center"})}),this))},EX.prototype._showIndicator=function(e,t,n,i){var r=this.visualMapModel,o=r.getExtent(),a=[0,(c=r.itemSize)[1]],s=(h=this._shapes).indicator;if(s){s.attr("invisible",!1);var l=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),u=this.getControllerVisual(e,"symbolSize"),c=(e=IX(e,o,a,!0),o=c[0]-u/2,a={x:s.x,y:s.y},s.y=e,s.x=o,Hm(h.indicatorLabelPoint,Gm(s,this.group))),h=((u=h.indicatorLabel).attr("invisible",!1),this._applyTransform("left",h.mainGroup)),d="horizontal"===this._orient,p=(n=(u.setStyle({text:(n||"")+r.formatValueText(t),verticalAlign:d?h:"middle",align:d?"center":h}),{x:o,y:e,style:{fill:l}}),t={style:{x:c[0],y:c[1]}},r.ecModel.isAnimationEnabled()&&!this._firstShowIndicator?(d={duration:100,easing:"cubicInOut",additive:!0},s.x=a.x,s.y=a.y,s.animateTo(n,d),u.animateTo(t,d)):(s.attr(n),u.attr(t)),this._firstShowIndicator=!1,this._shapes.handleLabels);if(p)for(var f=0;f<p.length;f++)this._api.enterBlur(p[f])}},EX.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",(function(t){var n;e._hovering=!0,e._dragging||(n=e.visualMapModel.itemSize,(t=e._applyTransform([t.offsetX,t.offsetY],e._shapes.mainGroup,!0,!0))[1]=DX(BX(0,t[1]),n[1]),e._doHoverLinkToSeries(t[1],0<=t[0]&&t[0]<=n[0]))})).on("mouseout",(function(){e._hovering=!1,e._dragging||e._clearHoverLinkToSeries()}))},EX.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},EX.prototype._doHoverLinkToSeries=function(e,t){var n,i,r,o=this.visualMapModel,a=o.itemSize;function s(e,t,n){for(var i=0,r=e.length;i<r;i++){var o=Ko(e[i].seriesId,null);if(null==o)return;for(var a=Uo(e[i].dataIndex),s=n&&n[o],l=0,u=a.length;l<u;l++){var c=a[l];s&&s[c]?s[c]=null:(t[o]||(t[o]={}))[c]=1}}}function l(e,t){var n,i,r=[];for(n in e)e.hasOwnProperty(n)&&null!=e[n]&&(t?r.push(+n):(i=l(e[n],!0)).length&&r.push({seriesId:n,dataIndex:i}));return r}o.option.hoverLink&&(a=[0,a[1]],i=o.getExtent(),n=[(e=DX(BX(a[0],e),a[1]))-(r=function(e,t,n){var i=6;return(e=e.get("hoverLinkDataSize"))&&(i=IX(e,t,n,!0)/2),i}(o,i,a)),e+r],e=IX(e,a,i,!0),i=[IX(n[0],a,i,!0),IX(n[1],a,i,!0)],n[0]<a[0]&&(i[0]=-1/0),a[1]<n[1]&&(i[1]=1/0),t&&(i[0]===-1/0?this._showIndicator(e,i[1],"< ",r):i[1]===1/0?this._showIndicator(e,i[0],"> ",r):this._showIndicator(e,e,"\u2248 ",r)),a=this._hoverLinkDataIndices,n=[],(t||LX(o))&&(n=this._hoverLinkDataIndices=o.findTargetDataIndices(i)),e=n,r={},s(a||[],t={}),s(e||[],r,t),i=[l(t),l(r)],this._dispatchHighDown("downplay",CX(i[0],o)),this._dispatchHighDown("highlight",CX(i[1],o)))},EX.prototype._hoverLinkFromSeriesMouseOver=function(e){e=e.target;var t,n=this.visualMapModel;e&&null!=Cl(e).dataIndex&&(e=Cl(e),t=this.ecModel.getSeriesByIndex(e.seriesIndex),n.isTargetSeries(t)&&(n=(t=t.getData(e.dataType)).getStore().get(n.getDataDimensionIndex(t),e.dataIndex),isNaN(n)||this._showIndicator(n,n)))},EX.prototype._hideIndicator=function(){var e=this._shapes,t=(e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0),this._shapes.handleLabels);if(t)for(var n=0;n<t.length;n++)this._api.leaveBlur(t[n])},EX.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",CX(e,this.visualMapModel)),e.length=0},EX.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},EX.prototype._applyTransform=function(e,t,n,i){return t=Gm(t,i?null:this.group),(le(e)?Hm:Vm)(e,t,n)},EX.prototype._dispatchHighDown=function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},EX.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},EX.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},EX.type="visualMap.continuous";var FX=EX,NX={type:"selectDataRange",event:"dataRangeSelected",update:"update"},zX=[{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent("visualMap",(function(t){var i,r,o,a,s=e.pipelineContext;!t.isTargetSeries(e)||s&&s.large||n.push((s=t.stateList,i=t.targetVisuals,r=ae(t.getValueState,t),o=t.getDataDimensionIndex(e.getData()),a={},ee(s,(function(e){var t=GB.prepareVisualTypes(i[e]);a[e]=t})),{progress:function(e,t){var n,s;function l(e){return Zy(t,s,e)}function u(e,n){jy(t,s,e,n)}null!=o&&(n=t.getDimensionIndex(o));for(var c=t.getStore();null!=(s=e.next());){if(!(d=t.getRawDataItem(s))||!1!==d.visualMap)for(var h=null!=o?c.get(n,s):s,d=r(h),p=i[d],f=a[d],g=0,m=f.length;g<m;g++){var y=f[g];p[y]&&p[y].applyVisual(h,l,u)}}}}))})),n}},{createOnAllSeries:!0,reset:function(e,t){var n=e.getData(),i=[];t.eachComponent("visualMap",(function(t){var r;t.isTargetSeries(e)&&(r=t.getVisualMeta(ae(GX,null,e,t))||{stops:[],outerColors:[]},0<=(t=t.getDataDimensionIndex(n))&&(r.dimension=t,i.push(r)))})),e.getData().setVisual("visualMeta",i)}}];function GX(e,t,n,i){for(var r=t.targetVisuals[i],o=GB.prepareVisualTypes(r),a={color:Wy(e.getData(),"color")},s=0,l=o.length;s<l;s++){var u;(u=r["opacity"===(u=o[s])?"__alphaForOpacity":u])&&u.applyVisual(n,c,h)}return a.color;function c(e){return a[e]}function h(e,t){a[e]=t}}var HX=ee;function VX(e){le(e=e&&e.visualMap)||(e=e?[e]:[]),HX(e,(function(e){e&&(UX(e,"splitList")&&!UX(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList),(e=e.pieces)&&le(e)&&HX(e,(function(e){pe(e)&&(UX(e,"start")&&!UX(e,"min")&&(e.min=e.start),UX(e,"end")&&!UX(e,"max")&&(e.max=e.end))})))}))}function UX(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var ZX,WX=!1;function jX(e){WX||(WX=!0,e.registerSubTypeDefaulter("visualMap",(function(e){return e.categories||(e.pieces?0<e.pieces.length:0<e.splitNumber)&&!e.calculable?"piecewise":"continuous"})),e.registerAction(NX,OX),ee(zX,(function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)})),e.registerPreprocessor(VX))}function XX(e){e.registerComponentModel(wX),e.registerComponentView(FX),jX(e)}function YX(){var e=null!==ZX&&ZX.apply(this,arguments)||this;return e.type=YX.type,e._pieceList=[],e}_(YX,ZX=Fy),YX.prototype.optionUpdated=function(e,t){ZX.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var n=this._mode=this._determineMode(),i=(this._pieceList=[],JX[this._mode].call(this,this._pieceList),this._resetSelected(e,t),this.option.categories);this.resetVisual((function(e,t){"categories"===n?(e.mappingMethod="category",e.categories=Z(i)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=te(this._pieceList,(function(e){return e=Z(e),"inRange"!==t&&(e.visual=null),e})))}))},YX.prototype.completeVisualOption=function(){var e=this.option,t={},n=GB.listVisualTypes(),i=this.isCategory();function r(e,t,n){return e&&e[t]&&e[t].hasOwnProperty(n)}ee(e.pieces,(function(e){ee(n,(function(n){e.hasOwnProperty(n)&&(t[n]=1)}))})),ee(t,(function(t,n){var o=!1;ee(this.stateList,(function(t){o=o||r(e,t,n)||r(e.target,t,n)}),this),o||ee(this.stateList,(function(t){(e[t]||(e[t]={}))[n]=uX(n,"inRange"===t?"active":"inactive",i)}))}),this),ZX.prototype.completeVisualOption.apply(this,arguments)},YX.prototype._resetSelected=function(e,t){var n,i=this.option,r=this._pieceList,o=(t?i:e).selected||{};i.selected=o,ee(r,(function(e,t){e=this.getSelectedMapKey(e),o.hasOwnProperty(e)||(o[e]=!0)}),this),"single"===i.selectedMode&&(n=!1,ee(r,(function(e,t){e=this.getSelectedMapKey(e),o[e]&&(n?o[e]=!1:n=!0)}),this))},YX.prototype.getItemSymbol=function(){return this.get("itemSymbol")},YX.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},YX.prototype.getPieceList=function(){return this._pieceList},YX.prototype._determineMode=function(){var e=this.option;return e.pieces&&0<e.pieces.length?"pieces":this.option.categories?"categories":"splitNumber"},YX.prototype.setSelected=function(e){this.option.selected=Z(e)},YX.prototype.getValueState=function(e){return null!=(e=GB.findPieceIndex(e,this._pieceList))&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},YX.prototype.findTargetDataIndices=function(e){var t=[],n=this._pieceList;return this.eachTargetSeries((function(i){var r=[],o=i.getData();o.each(this.getDataDimensionIndex(o),(function(t,i){GB.findPieceIndex(t,n)===e&&r.push(i)}),this),t.push({seriesId:i.id,dataIndex:r})}),this),t},YX.prototype.getRepresentValue=function(e){return this.isCategory()||null!=e.value?e.value:(e=e.interval||[])[0]===-1/0&&e[1]===1/0?0:(e[0]+e[1])/2},YX.prototype.getVisualMeta=function(e){var t,n,i,r,o,a;if(!this.isCategory())return t=[],n=["",""],i=this,(r=this._pieceList.slice()).length?((o=r[0].interval[0])!==-1/0&&r.unshift({interval:[-1/0,o]}),(o=r[r.length-1].interval[1])!==1/0&&r.push({interval:[o,1/0]})):r.push({interval:[-1/0,1/0]}),a=-1/0,ee(r,(function(e){(e=e.interval)&&(e[0]>a&&s([a,e[0]],"outOfRange"),s(e.slice()),a=e[1])}),this),{stops:t,outerColors:n};function s(r,o){var a=i.getRepresentValue({interval:r});o=o||i.getValueState(a),a=e(a,o);r[0]===-1/0?n[0]=a:r[1]===1/0?n[1]=a:t.push({value:r[0],color:a},{value:r[1],color:a})}},YX.type="visualMap.piecewise",YX.defaultOption=uc(Fy.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0});var JX={splitNumber:function(e){for(var t=this.option,n=Math.min(t.precision,20),i=this.getExtent(),r=t.splitNumber,o=(r=Math.max(parseInt(r,10),1),t.splitNumber=r,(i[1]-i[0])/r);+o.toFixed(n)!==o&&n<5;)n++;t.precision=n,o=+o.toFixed(n),t.minOpen&&e.push({interval:[-1/0,i[0]],close:[0,0]});for(var a=0,s=i[0];a<r;s+=o,a++){var l=a===r-1?i[1]:s+o;e.push({interval:[s,l],close:[1,1]})}t.maxOpen&&e.push({interval:[i[1],1/0],close:[0,0]}),Oo(e),ee(e,(function(e,t){e.index=t,e.text=this.formatValueText(e.interval)}),this)},categories:function(e){var t=this.option;ee(t.categories,(function(t){e.push({text:this.formatValueText(t,!0),value:t})}),this),KX(t,e)},pieces:function(e){var t=this.option;ee(t.pieces,(function(t,n){if(n={text:"",index:n},null!=(t=pe(t)?t:{value:t}).label&&(n.text=t.label),t.hasOwnProperty("value")){var i=n.value=t.value;n.interval=[i,i],n.close=[1,1]}else{for(var r=n.interval=[],o=n.close=[0,0],a=[1,0,1],s=[-1/0,1/0],l=[],u=0;u<2;u++){for(var c=[["gte","gt","min"],["lte","lt","max"]][u],h=0;h<3&&null==r[u];h++)r[u]=t[c[h]],o[u]=a[h],l[u]=2===h;null==r[u]&&(r[u]=s[u])}l[0]&&r[1]===1/0&&(o[0]=0),l[1]&&r[0]===-1/0&&(o[1]=0),r[0]===r[1]&&o[0]&&o[1]&&(n.value=r[0])}n.visual=GB.retrieveVisuals(t),e.push(n)}),this),KX(t,e),Oo(e),ee(e,(function(e){var t=[["<","\u2264"][(t=e.close)[1]],[">","\u2265"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,t)}),this)}};function KX(e,t){var n=e.inverse;("vertical"===e.orient?!n:n)&&t.reverse()}var QX,qX=YX;function $X(){var e=null!==QX&&QX.apply(this,arguments)||this;return e.type=$X.type,e}_($X,QX=Ig),$X.prototype.doRender=function(){var e,t=this.group,n=(t.removeAll(),this.visualMapModel),i=n.get("textGap"),r=(e=n.textStyleModel).getFont(),o=e.getTextColor(),a=this._getItemAlign(),s=n.itemSize,l=(e=this._getViewData()).endsText,u=be(n.get("showLabel",!0),!l);l&&this._renderEndsText(t,l[0],s,u,a),ee(e.viewPieceList,(function(e){var l=e.piece,c=new ao;c.onclick=ae(this._onItemClick,this,l),this._enableHoverLink(c,e.indexInModelPieceList),e=n.getRepresentValue(l);this._createItemSymbol(c,e,[0,0,s[0],s[1]]),u&&(e=this.visualMapModel.getValueState(e),c.add(new Ml({style:{x:"right"===a?-i:s[0]+i,y:s[1]/2,text:l.text,verticalAlign:"middle",align:a,font:r,fill:o,opacity:"outOfRange"===e?.5:1}}))),t.add(c)}),this),l&&this._renderEndsText(t,l[1],s,u,a),ch(n.get("orient"),t,n.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},$X.prototype._enableHoverLink=function(e,t){var n=this,i=(e.on("mouseover",(function(){return i("highlight")})).on("mouseout",(function(){return i("downplay")})),function(e){var i=n.visualMapModel;i.option.hoverLink&&n.api.dispatchAction({type:e,batch:CX(i.findTargetDataIndices(t),i)})})},$X.prototype._getItemAlign=function(){var e=this.visualMapModel,t=e.option;return"vertical"===t.orient?MX(e,this.api,e.itemSize):(e=t.align)&&"auto"!==e?e:"left"},$X.prototype._renderEndsText=function(e,t,n,i,r){var o,a;t&&(o=new ao,a=this.visualMapModel.textStyleModel,o.add(new Ml({style:Nu(a,{x:i?"right"===r?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:"middle",align:i?r:"center",text:t})})),e.add(o))},$X.prototype._getViewData=function(){var e=te((i=this.visualMapModel).getPieceList(),(function(e,t){return{piece:e,indexInModelPieceList:t}})),t=i.get("text"),n=i.get("orient"),i=i.get("inverse");return("horizontal"===n?i:!i)?e.reverse():t=t&&t.slice().reverse(),{viewPieceList:e,endsText:t}},$X.prototype._createItemSymbol=function(e,t,n){e.add(lv(this.getControllerVisual(t,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(t,"color")))},$X.prototype._onItemClick=function(e){var t=this.visualMapModel,n=t.option,i=Z(n.selected),r=t.getSelectedMapKey(e);"single"===n.selectedMode?(i[r]=!0,ee(i,(function(e,t){i[t]=t===r}))):i[r]=!i[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})},$X.type="visualMap.piecewise";var eY=$X;function tY(e){e.registerComponentModel(qX),e.registerComponentView(eY),jX(e)}var nY={label:{enabled:!0},decal:{show:!1}},iY=ea(),rY={};function oY(e,t){var n,i,r,o,a,s,l,u,c=e.getModel("aria");function h(e,t){if(!ce(e))return e;var n=e;return ee(t,(function(e,t){n=n.replace(new RegExp("\\{\\s*"+t+"\\s*\\}","g"),e)})),n}c.get("enabled")&&(W((l=Z(nY)).label,e.getLocaleModel().get("aria"),!1),W(c.option,l,!1),c.getModel("decal").get("show")&&(n=Pe(),e.eachSeries((function(e){var t;e.isColorBySeries()||((t=n.get(e.type))||n.set(e.type,t={}),iY(e).scope=t)})),e.eachRawSeries((function(t){var n,i,r,o,a,s,l;function u(e,t){return(e=e?X(X({},t),e):t).dirty=!0,e}e.isSeriesFiltered(t)||(ue(t.enableAriaDecal)?t.enableAriaDecal():(n=t.getData(),t.isColorBySeries()?(i=$h(t.ecModel,t.name,rY,e.getSeriesCount()),r=n.getVisual("decal"),n.setVisual("decal",u(r,i))):(o=t.getRawData(),a={},s=iY(t).scope,n.each((function(e){var t=n.getRawIndex(e);a[t]=e})),l=o.count(),o.each((function(e){var i=a[e],r=(e=o.getName(e)||e+"",e=$h(t.ecModel,e,s,l),n.getItemVisual(i,"decal"));n.setItemVisual(i,"decal",u(r,e))})))))}))),l=e.getLocaleModel().get("aria"),(u=c.getModel("label")).option=Y(u.option,l),u.get("enabled")&&(l=t.getZr().dom,u.get("description")?l.setAttribute("aria-label",u.get("description")):(i=e.getSeriesCount(),r=u.get(["data","maxCount"])||10,c=u.get(["series","maxCount"])||10,o=Math.min(i,c),i<1||(c=(c=function(){var t=e.get("title");return t&&t.length&&(t=t[0]),t&&t.text}())?h(u.get(["general","withTitle"]),{title:c}):u.get(["general","withoutTitle"]),a=[],c+=h(t=1<i?u.get(["series","multiple","prefix"]):u.get(["series","single","prefix"]),{seriesCount:i}),e.eachSeries((function(t,n){if(n<o){n=void 0;var s=t.get("name")?"withName":"withoutName";n=h(n=1<i?u.get(["series","multiple",s]):u.get(["series","single",s]),{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:(s=t.subType,e.getLocaleModel().get(["series","typeNames"])[s]||"\u81ea\u5b9a\u4e49\u56fe")});for(var l,c,d,p=t.getData(),f=(p.count()>r?n+=h(u.get(["data","partialData"]),{displayCnt:r}):n+=u.get(["data","allData"]),u.get(["data","separator","middle"])),g=(s=u.get(["data","separator","end"]),[]),m=0;m<p.count();m++)m<r&&(l=p.getName(m),c=p.getValues(m),d=u.get(["data",l?"withName":"withoutName"]),g.push(h(d,{name:l,value:c.join(f)})));n+=g.join(f)+s,a.push(n)}})),s=(t=u.getModel(["series","multiple","separator"])).get("middle"),t=t.get("end"),c+=a.join(s)+t,l.setAttribute("aria-label",c)))))}function aY(e){var t;e&&e.aria&&(null!=(t=e.aria).show&&(t.enabled=t.show),t.label=t.label||{},ee(["description","general","series","data"],(function(e){null!=t[e]&&(t.label[e]=t[e])})))}var sY={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},lY=(uY.prototype.evaluate=function(e){var t=typeof e;return ce(t)?this._condVal.test(e):!!de(t)&&this._condVal.test(e+"")},uY);function uY(e){null==(this._condVal=ce(e)?new RegExp(e):xe(e)?e:null)&&Sp("")}hY.prototype.evaluate=function(){return this.value};var cY=hY;function hY(){}pY.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0};var dY=pY;function pY(){}gY.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1};var fY=gY;function gY(){}yY.prototype.evaluate=function(){return!this.child.evaluate()};var mY=yY;function yY(){}xY.prototype.evaluate=function(){for(var e=!!this.valueParser,t=(0,this.getValue)(this.valueGetterParam),n=e?this.valueParser(t):null,i=0;i<this.subCondList.length;i++)if(!this.subCondList[i].evaluate(e?n:t))return!1;return!0};var vY=xY;function xY(){}function _Y(e,t){if(!0===e||!1===e)return(n=new cY).value=e,n;var n;if(wY(e)||Sp(""),e.and)return bY("and",e,t);if(e.or)return bY("or",e,t);if(e.not)return n=t,wY(o=(o=e).not)||Sp(""),(l=new mY).child=_Y(o,n),l.child||Sp(""),l;for(var i=e,r=t,o=r.prepareGetValue(i),a=[],s=oe(i),l=i.parser,u=l?Cp(l):null,c=0;c<s.length;c++){var h,d=s[c];"parser"===d||r.valueGetterAttrMap.get(d)||(h=Fe(sY,d)?sY[d]:d,d=i[d],(h=function(e,t){return"eq"===e||"ne"===e?new Ep("eq"===e,t):Fe(Tp,e)?new Ip(e,t):null}(h,d=u?u(d):d)||"reg"===h&&new lY(d))||Sp(""),a.push(h))}return a.length||Sp(""),(l=new vY).valueGetterParam=o,l.valueParser=u,l.getValue=r.getValue,l.subCondList=a,l}function bY(e,t,n){return le(t=t[e])||Sp(""),t.length||Sp(""),(e=new("and"===e?dY:fY)).children=te(t,(function(e){return _Y(e,n)})),e.children.length||Sp(""),e}function wY(e){return pe(e)&&!$(e)}AY.prototype.evaluate=function(){return this._cond.evaluate()};var SY=AY;function AY(e,t){this._cond=_Y(e,t)}var MY={type:"echarts:filter",transform:function(e){for(var t,n,i=e.upstream,r=(e=e.config,n={valueGetterAttrMap:Pe({dimension:!0}),prepareGetValue:function(e){var t=e.dimension;return(e=(Fe(e,"dimension")||Sp(""),i.getDimensionInfo(t)))||Sp(""),{dimIdx:e.index}},getValue:function(e){return i.retrieveValueFromItem(t,e.dimIdx)}},new SY(e,n)),o=[],a=0,s=i.count();a<s;a++)t=i.getRawDataItem(a),r.evaluate()&&o.push(t);return{data:o}}},CY={type:"echarts:sort",transform:function(e){for(var t=e.upstream,n=((e=Uo(e=e.config)).length||Sp(""),[]),i=(e=(ee(e,(function(e){var i=e.dimension,r=e.order,o=e.parser,a=(e=e.incomparable,(i=(null==i&&Sp(""),"asc"!==r&&"desc"!==r&&Sp(""),e&&"min"!==e&&"max"!==e&&Sp(""),"asc"!==r&&"desc"!==r&&Sp(""),t.getDimensionInfo(i)))||Sp(""),o?Cp(o):null);o&&!a&&Sp(""),n.push({dimIdx:i.index,parser:a,comparator:new Dp(r,e)})})),t.sourceFormat),e!==kh&&e!==Dh&&Sp(""),[]),r=0,o=t.count();r<o;r++)i.push(t.getRawDataItem(r));return i.sort((function(e,i){for(var r=0;r<n.length;r++){var o=n[r],a=t.retrieveValueFromItem(e,o.dimIdx),s=t.retrieveValueFromItem(i,o.dimIdx);if(0!==(o=(o.parser&&(a=o.parser(a),s=o.parser(s)),o.comparator.evaluate(a,s))))return o}return 0})),{data:i}}};_(kY,TY=Mh),kY.prototype.init=function(e,t,n){TY.prototype.init.call(this,e,t,n),this._sourceManager=new qp(this),ef(this)},kY.prototype.mergeOption=function(e,t){TY.prototype.mergeOption.call(this,e,t),ef(this)},kY.prototype.optionUpdated=function(){this._sourceManager.dirty()},kY.prototype.getSourceManager=function(){return this._sourceManager},kY.type="dataset",kY.defaultOption={seriesLayoutBy:Lh};var TY,IY=kY;function kY(){var e=null!==TY&&TY.apply(this,arguments)||this;return e.type="dataset",e}_(EY,DY=Rf),EY.type="dataset";var DY,BY=EY;function EY(){var e=null!==DY&&DY.apply(this,arguments)||this;return e.type="dataset",e}var PY=Ss.CMD;function LY(e,t){return Math.abs(e-t)<1e-5}function RY(e){var t,n,i=e.data,r=e.len(),o=[],a=0,s=0,l=0,u=0;function c(e,n){t&&2<t.length&&o.push(t),t=[e,n]}function h(e,n,i,r){LY(e,i)&&LY(n,r)||t.push(e,n,i,r,i,r)}for(var d,p,f,g,m,y,v,x,_,b,w,S,A=0;A<r;){var M=i[A++],C=1===A;switch(C&&(l=a=i[A],u=s=i[A+1],M!==PY.L&&M!==PY.C&&M!==PY.Q||(t=[l,u])),M){case PY.M:a=l=i[A++],s=u=i[A++],c(l,u);break;case PY.L:h(a,s,L=i[A++],R=i[A++]),a=L,s=R;break;case PY.C:t.push(i[A++],i[A++],i[A++],i[A++],a=i[A++],s=i[A++]);break;case PY.Q:L=i[A++],R=i[A++],B=i[A++],n=i[A++],t.push(a+2/3*(L-a),s+2/3*(R-s),B+2/3*(L-B),n+2/3*(R-n),B,n),a=B,s=n;break;case PY.A:var T=i[A++],I=i[A++],k=i[A++],D=i[A++],B=i[A++],E=i[A++]+B,P=(A+=1,!i[A++]),L=Math.cos(B)*k+T,R=Math.sin(B)*D+I;C?c(l=L,u=R):h(a,s,L,R);a=Math.cos(E)*k+T,s=Math.sin(E)*D+I;for(var O=(P?-1:1)*Math.PI/2,F=B;P?E<F:F<E;F+=O){var N=P?Math.max(F+O,E):Math.min(F+O,E);d=F,p=T,f=I,g=k,m=D,y=y=void 0,y=Math.abs(N-d),y=4*Math.tan(y/4)/3,v=N<d?-1:1,x=Math.cos(d),d=Math.sin(d),b=(_=Math.cos(N))*g+p,w=(N=Math.sin(N))*m+f,S=g*y*v,y=m*y*v,t.push(x*g+p-S*d,d*m+f+y*x,b+S*N,w-y*_,b,w)}break;case PY.R:l=a=i[A++],u=s=i[A++],L=l+i[A++],R=u+i[A++],c(L,u),h(L,u,L,R),h(L,R,l,R),h(l,R,l,u),h(l,u,L,u);break;case PY.Z:t&&h(a,s,l,u),a=l,s=u}}return t&&2<t.length&&o.push(t),o}function OY(e,t,n){for(var i=e[t],r=(e=e[1-t],t=Math.abs(i/e),Math.ceil(Math.sqrt(t*n))),o=Math.floor(n/r),a=(0===o&&(o=1,r=n),[]),s=0;s<r;s++)a.push(o);var l=n-r*o;if(0<l)for(s=0;s<l;s++)a[s%r]+=1;return a}function FY(e,t,n){for(var i=e.r0,r=e.r,o=e.startAngle,a=e.endAngle,s=Math.abs(a-o),l=r-i,u=(a=s*r)>Math.abs(l),c=OY([a,l],u?0:1,t),h=(u?s:l)/c.length,d=0;d<c.length;d++)for(var p=(u?l:s)/c[d],f=0;f<c[d];f++){var g={};u?(g.startAngle=o+h*d,g.endAngle=o+h*(d+1),g.r0=i+p*f,g.r=i+p*(f+1)):(g.startAngle=o+p*f,g.endAngle=o+p*(f+1),g.r0=i+h*d,g.r=i+h*(d+1)),g.clockwise=e.clockwise,g.cx=e.cx,g.cy=e.cy,n.push(g)}}function NY(e,t){var n=e[e.length-1];n&&n[0]===t[0]&&n[1]===t[1]||e.push(t)}function zY(e){var t=(r=(es(e=e.points,t=[],r=[]),new zr(t[0],t[1],r[0]-t[0],r[1]-t[1]))).width,n=r.height,i=r.x,r=r.y,o=new kr,a=new kr;return n<t?(o.x=a.x=i+t/2,o.y=r,a.y=r+n):(o.y=a.y=r+n/2,o.x=i,a.x=i+t),function(e,t,n){for(var i,r,o,a,s,l,u=e.length,c=[],h=0;h<u;h++){var d=e[h],p=e[(h+1)%u],f=(i=d[0],d=d[1],r=p[0],p=p[1],o=t.x,a=t.y,s=n.x,f=n.y,l=void 0,l=(s-=o)*(p-=d)-(r-=i)*(f-=a),Math.abs(l)<1e-6||(o=((i-o)*f-s*(d-a))/l)<0||1<o?null:new kr(o*r+i,o*p+d));f&&c.push({projPt:(s=f,a=t,l=n,r=void 0,r=new kr,kr.sub(r,l,a),r.normalize(),l=new kr,kr.sub(l,s,a),l.dot(r)),pt:f,idx:h})}if(c.length<2)return[{points:e},{points:e}];c.sort((function(e,t){return e.projPt-t.projPt}));var g=c[0],m=c[c.length-1],y=(m.idx<g.idx&&(y=g,g=m,m=y),[g.pt.x,g.pt.y]),v=[m.pt.x,m.pt.y],x=[y],_=[v];for(h=g.idx+1;h<=m.idx;h++)NY(x,e[h].slice());for(NY(x,v),NY(x,y),h=m.idx+1;h<=g.idx+u;h++)NY(_,e[h%u].slice());return NY(_,y),NY(_,v),[{points:x},{points:_}]}(e,o,a)}function GY(e,t,n,i){var r;1===n?i.push(t):(r=Math.floor(n/2),t=e(t),GY(e,t[0],r,i),GY(e,t[1],n-r,i))}function HY(e,t){var n,i=[],r=e.shape;switch(e.type){case"rect":for(var o=r,a=t,s=i,l=o.width,u=(_=o.height)<l,c=OY([l,_],u?0:1,a),h=u?"width":"height",d=u?"height":"width",p=u?"x":"y",f=u?"y":"x",g=o[h]/c.length,m=0;m<c.length;m++)for(var y=o[d]/c[m],v=0;v<c[m];v++){var x={};x[p]=m*g,x[f]=v*y,x[h]=g,x[d]=y,x.x+=o.x,x.y+=o.y,s.push(x)}n=sl;break;case"sector":FY(r,t,i),n=Bg;break;case"circle":FY({r0:0,r:r.r,startAngle:0,endAngle:2*Math.PI,cx:r.cx,cy:r.cy},t,i),n=Bg;break;default:var _=(l=e.getComputedTransform())?Math.sqrt(Math.max(l[0]*l[0]+l[1]*l[1],l[2]*l[2]+l[3]*l[3])):1,b=te(function(e,t){var n=RY(e),i=[];t=t||1;for(var r=0;r<n.length;r++){var o=n[r],a=[],s=o[0],l=o[1];a.push(s,l);for(var u=2;u<o.length;){var c=o[u++],h=o[u++],d=o[u++],p=o[u++],f=o[u++],g=o[u++];!function e(t,n,i,r,o,a,s,l,u,c){var h,d,p,f,g,m,y,v,x;LY(t,i)&&LY(n,r)&&LY(o,s)&&LY(a,l)?u.push(s,l):(h=(h=2/c)*h,v=s-t,d=l-n,v/=y=Math.sqrt(v*v+d*d),d/=y,g=(y=o-s)*y+(m=a-l)*m,(x=(p=i-t)*p+(f=r-n)*f)<h&&g<h?u.push(s,l):(y=-v*y-d*m,x-(m=v*p+d*f)*m<h&&0<=m&&g-y*y<h&&0<=y?u.push(s,l):(x=[],Sn(t,i,o,s,.5,v=[]),Sn(n,r,a,l,.5,x),e(v[0],x[0],v[1],x[1],v[2],x[2],v[3],x[3],u,c),e(v[4],x[4],v[5],x[5],v[6],x[6],v[7],x[7],u,c))))}(s,l,c,h,d,p,f,g,a,t),s=f,l=g}i.push(a)}return i}(e.getUpdatedPathProxy(),_),(function(e){for(var t=e,n=[],i=0;i<t.length;)n.push([t[i++],t[i++]]);return n})),w=b.length;if(0===w)GY(zY,{points:b[0]},t,i);else if(w===t)for(var S=0;S<w;S++)i.push({points:b[S]});else{var A=0,M=te(b,(function(e){var t=[],n=(es(e,t,n=[]),(n[1]-t[1])*(n[0]-t[0]));return A+=n,{poly:e,area:n}})),C=(M.sort((function(e,t){return t.area-e.area})),t);for(S=0;S<w;S++){var T=M[S];if(C<=0)break;var I=S===w-1?C:Math.ceil(T.area/A*t);I<0||(GY(zY,{points:T.poly},I,i),C-=I)}}n=Gg}if(!n){for(var k=e,D=t,B=[],E=0;E<D;E++)B.push(rg(k));return B}var P,L,R=[];for(S=0;S<i.length;S++){var O=new n;O.setShape(i[S]),P=e,(L=O).setStyle(P.style),L.z=P.z,L.z2=P.z2,L.zlevel=P.zlevel,R.push(O)}return R}function VY(e,t){for(var n=e.length,i=e[n-2],r=e[n-1],o=[],a=0;a<t.length;)o[a++]=i,o[a++]=r;return o}function UY(e){for(var t=0,n=0,i=0,r=e.length,o=0,a=r-2;o<r;a=o,o+=2){var s=e[a],l=e[a+1],u=e[o],c=e[o+1],h=s*c-u*l;t+=h,n+=(s+u)*h,i+=(l+c)*h}return 0===t?[e[0]||0,e[1]||0]:[n/t/3,i/t/3,t]}function ZY(e){return e.__isCombineMorphing}var WY="__mOriginal_";function jY(e,t,n){var i=WY+t,r=e[i]||e[t],o=(e[i]||(e[i]=e[t]),n.replace),a=n.after,s=n.before;e[t]=function(){var e,t=arguments;return s&&s.apply(this,t),e=(o||r).apply(this,t),a&&a.apply(this,t),e}}function XY(e,t){var n=WY+t;e[n]&&(e[t]=e[n],e[n]=null)}function YY(e,t){for(var n=0;n<e.length;n++)for(var i=e[n],r=0;r<i.length;){var o=i[r],a=i[r+1];i[r++]=t[0]*o+t[2]*a+t[4],i[r++]=t[1]*o+t[3]*a+t[5]}}function JY(e,t){var n=e.getUpdatedPathProxy(),i=t.getUpdatedPathProxy(),r=(n=function(e,t){for(var n,i,r=[],o=[],a=0;a<Math.max(e.length,t.length);a++){var s=e[a],l=t[a],u=void 0,c=void 0;s?l?(n=u=(i=function(e,t){var n=e.length;if(n===(s=t.length))return[e,t];for(var i=[],r=[],o=n<s?e:t,a=Math.min(n,s),s=Math.abs(s-n)/6,l=Math.ceil(s/((a-2)/6))+1,u=[o[0],o[1]],c=s,h=2;h<a;){var d=o[h-2],p=o[h-1],f=o[h++],g=o[h++],m=o[h++],y=o[h++],v=o[h++],x=o[h++];if(c<=0)u.push(f,g,m,y,v,x);else{for(var _=Math.min(c,l-1)+1,b=1;b<=_;b++){var w=b/_;Sn(d,f,m,v,w,i),Sn(p,g,y,x,w,r),u.push(i[1],r[1],i[2],r[2],d=i[3],p=r[3]),f=i[5],g=r[5],m=i[6],y=r[6]}c-=_-1}}return o===e?[u,t]:[e,u]}(s,l))[0],i=c=i[1]):(c=VY(i||s,s),u=s):(u=VY(n||l,l),c=l),r.push(u),o.push(c)}return[r,o]}(RY(n),RY(i)),i=n[0],n=n[1],e=e.getComputedTransform(),t.getComputedTransform());e&&YY(i,e),r&&YY(n,r),jY(t,"updateTransform",{replace:function(){this.transform=null}}),t.transform=null;var o=function(e,t,n,i){for(var r,o=[],a=0;a<e.length;a++){for(var s=e[a],l=t[a],u=UY(s),c=UY(l),h=(null==r&&(r=u[2]<0!=c[2]<0),[]),d=[],p=0,f=1/0,g=[],m=s.length,y=6*function(e,t,n,i){for(var r=(e.length-2)/6,o=1/0,a=0,s=e.length,l=s-2,u=0;u<r;u++){for(var c=6*u,h=0,d=0;d<s;d+=2){var p=e[f=0===d?c:(c+d-2)%l+2]-n[0],f=e[1+f]-n[1];h+=(p=t[d]-i[0]-p)*p+(f=t[d+1]-i[1]-f)*f}h<o&&(o=h,a=u)}return a}(s=r?function(e){for(var t=[],n=e.length,i=0;i<n;i+=2)t[i]=e[n-i-2],t[i+1]=e[n-i-1];return t}(s):s,l,u,c),v=m-2,x=0;x<v;x+=2){var _=(y+x)%v+2;h[x+2]=s[_]-u[0],h[x+3]=s[1+_]-u[1]}if(h[0]=s[y]-u[0],h[1]=s[1+y]-u[1],0<n)for(var b=i/n,w=-i/2;w<=i/2;w+=b){var S=Math.sin(w),A=Math.cos(w),M=0;for(x=0;x<s.length;x+=2){var C,T=h[x],I=h[x+1],k=(D=l[x]-c[0])*A-(C=l[x+1]-c[1])*S,D=D*S+C*A;M+=(C=(g[x]=k)-T)*C+(k=(g[x+1]=D)-I)*k}if(M<f){f=M,p=w;for(var B=0;B<g.length;B++)d[B]=g[B]}}else for(var E=0;E<m;E+=2)d[E]=l[E]-c[0],d[E+1]=l[E+1]-c[1];o.push({from:h,to:d,fromCp:u,toCp:c,rotation:-p})}return o}(i,n,10,Math.PI),a=[];jY(t,"buildPath",{replace:function(e){for(var n=t.__morphT,i=1-n,r=[],s=0;s<o.length;s++){var l=(d=o[s]).from,u=d.to,c=d.rotation*n,h=d.fromCp,d=d.toCp,p=Math.sin(c),f=Math.cos(c);ut(r,h,d,n);for(var g=0;g<l.length;g+=2){var m=l[g],y=l[g+1];m=m*i+(_=u[g])*n,y=y*i+(b=u[g+1])*n;a[g]=m*f-y*p+r[0],a[g+1]=m*p+y*f+r[1]}var v=a[0],x=a[1];for(e.moveTo(v,x),g=2;g<l.length;){var _=a[g++],b=a[g++],w=a[g++],S=a[g++],A=a[g++],M=a[g++];v===_&&x===b&&w===A&&S===M?e.lineTo(A,M):e.bezierCurveTo(_,b,w,S,A,M),v=A,x=M}}}})}function KY(e,t,n){var i,r;e&&t&&(i=n.done,r=n.during,JY(e,t),t.__morphT=0,t.animateTo({__morphT:1},Y({during:function(e){t.dirtyShape(),r&&r(e)},done:function(){XY(t,"buildPath"),XY(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape(),i&&i()}},n)))}function QY(e){var t=1/0,n=1/0,i=-1/0,r=-1/0,o=te(e,(function(e){var o=e.getBoundingRect(),a=(e=e.getComputedTransform(),o.x+o.width/2+(e?e[4]:0));o=o.y+o.height/2+(e?e[5]:0);return t=Math.min(a,t),n=Math.min(o,n),i=Math.max(a,i),r=Math.max(o,r),[a,o]}));return te(o,(function(o,a){return{cp:o,z:function(e,t,n,i,r,o){e=r===n?0:Math.round(32767*(e-n)/(r-n)),t=o===i?0:Math.round(32767*(t-i)/(o-i));for(var a=0,s=32768;0<s;s/=2){var l=0,u=0;a+=s*s*(3*(l=0<(e&s)?1:l)^(u=0<(t&s)?1:u)),0===u&&(1===l&&(e=s-1-e,t=s-1-t),u=e,e=t,t=u)}return a}(o[0],o[1],t,n,i,r),path:e[a]}})).sort((function(e,t){return e.z-t.z})).map((function(e){return e.path}))}function qY(e){return HY(e.path,e.count)}function $Y(e,t,n){var i=[];!function e(t){for(var n=0;n<t.length;n++){var r=t[n];ZY(r)?e(r.childrenRef()):r instanceof Us&&i.push(r)}}(e);var r=i.length;if(!r)return{fromIndividuals:[],toIndividuals:[],count:0};var o=n.dividePath||qY;if((a=o({path:t,count:r})).length!==r)return{fromIndividuals:[],toIndividuals:[],count:0};i=QY(i);for(var a=QY(a),s=n.done,l=n.during,u=n.individualDelay,c=new Tr,h=0;h<r;h++){var d=i[h],p=a[h];p.parent=t,p.copyTransform(c),u||JY(d,p)}function f(e){for(var t=0;t<a.length;t++)a[t].addSelfToZr(e)}function g(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,XY(t,"addSelfToZr"),XY(t,"removeSelfFromZr")}t.__isCombineMorphing=!0,t.childrenRef=function(){return a},jY(t,"addSelfToZr",{after:function(e){f(e)}}),jY(t,"removeSelfFromZr",{after:function(e){for(var t=0;t<a.length;t++)a[t].removeSelfFromZr(e)}});var m=a.length;if(u){var y=m,v=function(){0===--y&&(g(),s&&s())};for(h=0;h<m;h++){var x=u?Y({delay:(n.delay||0)+u(h,m,i[h],a[h]),done:v},n):n;KY(i[h],a[h],x)}}else t.__morphT=0,t.animateTo({__morphT:1},Y({during:function(e){for(var n=0;n<m;n++){var i=a[n];i.__morphT=t.__morphT,i.dirtyShape()}l&&l(e)},done:function(){g();for(var t=0;t<e.length;t++)XY(e[t],"updateTransform");s&&s()}},n));return t.__zr&&f(t.__zr),{fromIndividuals:i,toIndividuals:a,count:m}}function eJ(e,t,n){var i=t.length,r=[],o=n.dividePath||qY;if(ZY(e)){!function e(t){for(var n=0;n<t.length;n++){var i=t[n];ZY(i)?e(i.childrenRef()):i instanceof Us&&r.push(i)}}(e.childrenRef());var a=r.length;if(a<i)for(var s=0,l=a;l<i;l++)r.push(rg(r[s++%a]));r.length=i}else{r=o({path:e,count:i});var u=e.getComputedTransform();for(l=0;l<r.length;l++)r[l].setLocalTransform(u);if(r.length!==i)return{fromIndividuals:[],toIndividuals:[],count:0}}r=QY(r),t=QY(t);var c=n.individualDelay;for(l=0;l<i;l++){var h=c?Y({delay:(n.delay||0)+c(l,i,r[l],t[l])},n):n;KY(r[l],t[l],h)}return{fromIndividuals:r,toIndividuals:t,count:t.length}}function tJ(e){return le(e[0])}function nJ(e,t){for(var n=[],i=e.length,r=0;r<i;r++)n.push({one:e[r],many:[]});for(r=0;r<t.length;r++){var o=t[r].length,a=void 0;for(a=0;a<o;a++)n[a%i].many.push(t[r][a])}var s=0;for(r=i-1;0<=r;r--)if(!n[r].many.length){var l=n[s].many;if(l.length<=1){if(!s)return n;s=0}o=l.length;var u=Math.ceil(o/2);n[r].many=l.slice(u,o),n[s].many=l.slice(0,u),s++}return n}var iJ={clone:function(e){for(var t=[],n=1-Math.pow(1-e.path.style.opacity,1/e.count),i=0;i<e.count;i++){var r=rg(e.path);r.setStyle("opacity",n),t.push(r)}return t},split:null};function rJ(e,t,n,i,r,o){if(e.length&&t.length&&(r=Au("update",i,r))&&0<r.duration){for(var a,s,l=i.getModel("universalTransition").get("delay"),u=Object.assign({setToFinal:!0},r),c=(tJ(e)&&(a=e,s=t),tJ(t)&&(a=t,s=e),a?a===e:e.length>t.length),h=a?nJ(s,a):nJ(c?t:e,[c?e:t]),d=0,p=0;p<h.length;p++)d+=h[p].many.length;var f=0;for(p=0;p<h.length;p++)!function e(t,i,r,a,s){var c=t.many,h=t.one;if(1!==c.length||s){s=Y({dividePath:iJ[n],individualDelay:l&&function(e,t,n,i){return l(e+r,a)}},u);for(var d=(s=i?$Y(c,h,s):eJ(h,c,s)).fromIndividuals,p=s.toIndividuals,f=d.length,g=0;g<f;g++)m=l?Y({delay:l(g,f)},u):u,o(d[g],p[g],i?c[g]:t.one,i?t.one:c[g],m)}else{var m;s=i?c[0]:h,h=i?h:c[0];ZY(s)?e({many:[s],one:h},!0,r,a,!0):(KY(s,h,m=l?Y({delay:l(r,a)},u):u),o(s,h,s,h,m))}}(h[p],c,f,d),f+=h[p].many.length}}function oJ(e){if(!e)return[];if(le(e)){for(var t=[],n=0;n<e.length;n++)t.push(oJ(e[n]));return t}var i=[];return e.traverse((function(e){e instanceof Us&&!e.disableMorphing&&!e.invisible&&!e.ignore&&i.push(e)})),i}var aJ=ea();function sJ(e){var t=[];return ee(e,(function(e){var n=e.data;if(!(n.count()>1e4))for(var i=n.getIndices(),r=function(e){for(var t=e.dimensions,n=0;n<t.length;n++){var i=e.getDimensionInfo(t[n]);if(i&&0===i.otherDims.itemGroupId)return t[n]}}(n),o=0;o<i.length;o++)t.push({data:n,dim:e.dim||r,divide:e.divide,dataIndex:o})})),t}function lJ(e,t,n){e.traverse((function(e){e instanceof Us&&Tu(e,{style:{opacity:0}},t,{dataIndex:n,isFrom:!0})}))}function uJ(e){var t;e.parent&&(t=e.getComputedTransform(),e.setLocalTransform(t),e.parent.remove(e))}function cJ(e){e.stopAnimation(),e.isGroup&&e.traverse((function(e){e.stopAnimation()}))}function hJ(e,t,n){var i=sJ(e),r=sJ(t);function o(e,t,n,i,r){(n||e)&&t.animateFrom({style:n&&n!==e?X(X({},n.style),e.style):e.style},r)}function a(e){for(var t=0;t<e.length;t++)if(e[t].dim)return e[t].dim}var s=a(i),l=a(r),u=!1;function c(e,t){return function(n){var i=n.data;n=n.dataIndex;if(t)return i.getId(n);var r,o=i.hostModel&&i.hostModel.get("dataGroupId"),a=(r=(r=e?s||l:l||s)&&i.getDimensionInfo(r))&&r.ordinalMeta;return r?(r=i.get(r.name,n),a&&a.categories[r]||r+""):(a=i.getRawDataItem(n))&&a.groupId?a.groupId+"":o||i.getId(n)}}e=function(e,t){var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++){var r=e[i],o=t[i];if(r.data.getId(r.dataIndex)!==o.data.getId(o.dataIndex))return!1}return!0}(i,r);var h={};if(!e)for(var d=0;d<r.length;d++){var p;(p=(p=r[d]).data.getItemGraphicEl(p.dataIndex))&&(h[p.id]=!0)}function f(e,t){t=i[t];var n=r[e],a=n.data.hostModel,s=(t=t.data.getItemGraphicEl(t.dataIndex),n.data.getItemGraphicEl(n.dataIndex));t===s?s&&function(e,t,n){var i=Au("update",n,t);i&&e.traverse((function(e){var t;e instanceof Wa&&(t=Su(e).oldStyle)&&e.animateFrom({style:t},i)}))}(s,n.dataIndex,a):t&&h[t.id]||s&&(cJ(s),t?(cJ(t),uJ(t),u=!0,rJ(oJ(t),oJ(s),n.divide,a,e,o)):lJ(s,a,e))}new y_(i,r,c(!0,e),c(!1,e),null,"multiple").update(f).updateManyToOne((function(e,t){var n=r[e],a=(l=n.data).hostModel,s=l.getItemGraphicEl(n.dataIndex),l=ie(te(t,(function(e){return i[e].data.getItemGraphicEl(i[e].dataIndex)})),(function(e){return e&&e!==s&&!h[e.id]}));s&&(cJ(s),l.length?(ee(l,(function(e){cJ(e),uJ(e)})),u=!0,rJ(oJ(l),oJ(s),n.divide,a,e,o)):lJ(s,a,n.dataIndex))})).updateOneToMany((function(e,t){var n,a,s=(t=i[t]).data.getItemGraphicEl(t.dataIndex);s&&h[s.id]||(n=ie(te(e,(function(e){return r[e].data.getItemGraphicEl(r[e].dataIndex)})),(function(e){return e&&e!==s})),a=r[e[0]].data.hostModel,n.length&&(ee(n,cJ),s?(cJ(s),uJ(s),u=!0,rJ(oJ(s),oJ(n),t.divide,a,e[0],o)):ee(n,(function(t){return lJ(t,a,e[0])}))))})).updateManyToMany((function(e,t){new y_(t,e,(function(e){return i[e].data.getId(i[e].dataIndex)}),(function(e){return r[e].data.getId(r[e].dataIndex)})).update((function(n,i){f(e[n],t[i])})).execute()})).execute(),u&&ee(t,(function(e){var t=(e=e.data.hostModel)&&n.getViewOfSeriesModel(e),i=Au("update",e,0);t&&e.isAnimationEnabled()&&i&&0<i.duration&&t.group.traverse((function(e){e instanceof Us&&!e.animators.length&&e.animateFrom({style:{opacity:0}},i)}))}))}function dJ(e){return e.getModel("universalTransition").get("seriesKey")||e.id}function pJ(e){return le(e)?e.sort().join(","):e}function fJ(e){if(e.hostModel)return e.hostModel.getModel("universalTransition").get("divideShape")}function gJ(e,t){for(var n=0;n<e.length;n++)if(null!=t.seriesIndex&&t.seriesIndex===e[n].seriesIndex||null!=t.seriesId&&t.seriesId===e[n].id)return n}p_([function(e){e.registerPainter("canvas",RS)}]),p_([function(e){e.registerPainter("svg",FA)}]),p_([function(e){e.registerChartView(TM),e.registerSeriesModel(GA),e.registerLayout(IM("line",!0)),e.registerVisual({seriesType:"line",reset:function(e){var t=e.getData();(e=e.getModel("lineStyle").getLineStyle())&&!e.stroke&&(e.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",e)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,BM("line"))},function(e){e.registerChartView(cC),e.registerSeriesModel(FM),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,se(Ib,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,kb("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,BM("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},(function(t){e.sortInfo&&t.axis.setCategorySortInfo(e.sortInfo)}))}))},function(e){e.registerChartView(TC),e.registerSeriesModel(LC),Xy("pie",e.registerAction),e.registerLayout(se(gC,"pie")),e.registerProcessor(mC("pie")),e.registerProcessor({seriesType:"pie",reset:function(e,t){var n=e.getData();n.filterSelf((function(e){var t=n.mapDimension("value");return!(de(t=n.get(t,e))&&!isNaN(t)&&t<0)}))}})},function(e){p_(iI),e.registerSeriesModel(FC),e.registerChartView(jC),e.registerLayout(IM("scatter"))},function(e){p_(CI),e.registerChartView(cI),e.registerSeriesModel(pI),e.registerLayout(rI),e.registerProcessor(mC("radar")),e.registerPreprocessor(sI)},function(e){p_(mD),e.registerChartView(Vk),e.registerSeriesModel(Zk),e.registerLayout(jk),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Wk),Xy("map",e.registerAction)},function(e){e.registerChartView(OD),e.registerSeriesModel(nB),e.registerLayout(rB),e.registerVisual(oB),e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var n=e.dataIndex;(t=t.getData().tree.getNodeByDataIndex(n)).isExpand=!t.isExpand}))})),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var n=dD(t.coordinateSystem,e);t.setCenter&&t.setCenter(n.center),t.setZoom&&t.setZoom(n.zoom)}))}))},function(e){e.registerSeriesModel(cB),e.registerChartView(AB),e.registerVisual(VB),e.registerLayout(eE),function(e){for(var t=0;t<sB.length;t++)e.registerAction({type:sB[t],update:"updateView"},Ne);e.registerAction({type:"treemapRootToNode",update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},(function(t,n){var i,r=QD(e,["treemapZoomToNode","treemapRootToNode"],t);r&&((i=t.getViewRoot())&&(e.direction=$D(i,r.node)?"rollUp":"drillDown"),t.resetViewRoot(r.node))}))}))}(e)},function(e){e.registerChartView(oP),e.registerSeriesModel(vP),e.registerProcessor(rE),e.registerVisual(oE),e.registerVisual(sE),e.registerLayout(yE),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,AE),e.registerLayout(CE),e.registerCoordinateSystem("graphView",{dimensions:qk.dimensions,create:TE}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Ne),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Ne),e.registerAction(xP,(function(e,t){t.eachComponent({mainType:"series",query:e},(function(t){var n=dD(t.coordinateSystem,e);t.setCenter&&t.setCenter(n.center),t.setZoom&&t.setZoom(n.zoom)}))}))},function(e){e.registerChartView(TP),e.registerSeriesModel(BP)},function(e){e.registerChartView(FP),e.registerSeriesModel(GP),e.registerLayout(HP),e.registerProcessor(mC("funnel"))},function(e){p_(CR),e.registerChartView(YP),e.registerSeriesModel(qP),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,eL)},function(e){e.registerChartView(LR),e.registerSeriesModel(FR),e.registerLayout(NR),e.registerVisual(YR),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},(function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])}))}))},function(e){e.registerSeriesModel(qR),e.registerChartView(aO),e.registerVisual(sO),e.registerLayout(uO),e.registerTransform(hO)},function(e){e.registerChartView(IO),e.registerSeriesModel(DO),e.registerPreprocessor(BO),e.registerVisual(OO),e.registerLayout(zO)},function(e){e.registerChartView(jO),e.registerSeriesModel(JO),e.registerLayout(IM("effectScatter"))},function(e){e.registerChartView(fF),e.registerSeriesModel(xF),e.registerLayout(hF),e.registerVisual(bF)},function(e){e.registerChartView(IF),e.registerSeriesModel(BF)},function(e){e.registerChartView(eN),e.registerSeriesModel(iN),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,se(Ib,"pictorialBar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,kb("pictorialBar"))},function(e){e.registerChartView(aN),e.registerSeriesModel(uN),e.registerLayout(cN),e.registerProcessor(mC("themeRiver"))},function(e){e.registerChartView(xN),e.registerSeriesModel(bN),e.registerLayout(se(SN,"sunburst")),e.registerProcessor(se(mC,"sunburst")),e.registerVisual(AN),function(e){e.registerAction({type:gN,update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t,n){var i,r=QD(e,[gN],t);r&&((i=t.getViewRoot())&&(e.direction=$D(i,r.node)?"rollUp":"drillDown"),t.resetViewRoot(r.node))}))})),e.registerAction({type:mN,update:"none"},(function(e,t,n){e=X({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t){(t=QD(e,[mN],t))&&(e.dataIndex=t.node.dataIndex)})),n.dispatchAction(X(e,{type:"highlight"}))})),e.registerAction({type:"sunburstUnhighlight",update:"updateView"},(function(e,t,n){e=X({},e),n.dispatchAction(X(e,{type:"downplay"}))}))}(e)},function(e){e.registerChartView(mz),e.registerSeriesModel(DN)}]),p_((function(e){p_(iI),p_(_G)})),p_((function(e){p_(_G),FT.registerAxisPointerClass("PolarAxisPointer",AG),e.registerCoordinateSystem("polar",JG),e.registerComponentModel(TG),e.registerComponentView(gH),eT(e,"angle",DG,pH),eT(e,"radius",LG,fH),e.registerComponentView(iH),e.registerComponentView(lH),e.registerLayout(se(hH,"bar"))})),p_(mD),p_((function(e){p_(_G),FT.registerAxisPointerClass("SingleAxisPointer",ZH),e.registerComponentView(WH),e.registerComponentView(AH),e.registerComponentModel(TH),eT(e,"single",TH,TH.defaultOption),e.registerCoordinateSystem("single",RH)})),p_(CR),p_((function(e){e.registerComponentModel(KH),e.registerComponentView(qH),e.registerCoordinateSystem("calendar",tV)})),p_((function(e){e.registerComponentModel(sV),e.registerComponentView(dV),e.registerPreprocessor((function(e){var t=e.graphic;le(t)?t[0]&&t[0].elements?e.graphic=[e.graphic[0]]:e.graphic=[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])}))})),p_((function(e){e.registerComponentModel(KV),e.registerComponentView(eU),jV("saveAsImage",iU),jV("magicType",lU),jV("dataView",gU),jV("dataZoom",HU),jV("restore",bU),p_(VV)})),p_((function(e){p_(_G),e.registerComponentModel(UU),e.registerComponentView(dZ),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Ne),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Ne)})),p_(_G),p_((function(e){e.registerComponentView(LZ),e.registerComponentModel(NZ),e.registerPreprocessor(fZ),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,CZ),e.registerAction({type:"brush",event:"brush",update:"updateVisual"},(function(e,t){t.eachComponent({mainType:"brush",query:e},(function(t){t.setAreas(e.areas)}))})),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Ne),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Ne),jV("brush",HZ)})),p_((function(e){e.registerComponentModel(UZ),e.registerComponentView(YZ)})),p_((function(e){var t;e.registerComponentModel($Z),e.registerComponentView(cW),e.registerSubTypeDefaulter("timeline",(function(){return"slider"})),(t=e).registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(e,t,n){var i=t.getComponent("timeline");return i&&null!=e.currentIndex&&(i.setCurrentIndex(e.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),Y({currentIndex:i.option.currentIndex},e)})),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(e,t){(t=t.getComponent("timeline"))&&null!=e.playState&&t.setPlayState(e.playState)})),e.registerPreprocessor(hW)})),p_((function(e){e.registerComponentModel(wW),e.registerComponentView(FW),e.registerPreprocessor((function(e){fW(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})}))})),p_((function(e){e.registerComponentModel(HW),e.registerComponentView(JW),e.registerPreprocessor((function(e){fW(e.series,"markLine")&&(e.markLine=e.markLine||{})}))})),p_((function(e){e.registerComponentModel(qW),e.registerComponentView(lj),e.registerPreprocessor((function(e){fW(e.series,"markArea")&&(e.markArea=e.markArea||{})}))})),p_((function(e){p_(Aj),p_(Rj)})),p_((function(e){p_(Jj),p_(aX)})),p_(Jj),p_(aX),p_((function(e){p_(XX),p_(tY)})),p_(XX),p_(tY),p_((function(e){e.registerPreprocessor(aY),e.registerVisual(e.PRIORITY.VISUAL.ARIA,oY)})),p_((function(e){e.registerTransform(MY),e.registerTransform(CY)})),p_((function(e){e.registerComponentModel(IY),e.registerComponentView(BY)})),p_((function(e){e.registerUpdateLifecycle("series:beforeupdate",(function(e,t,n){ee(Uo(n.seriesTransition),(function(e){ee(Uo(e.to),(function(e){for(var t=n.updatedSeries,i=0;i<t.length;i++)(null!=e.seriesIndex&&e.seriesIndex===t[i].seriesIndex||null!=e.seriesId&&e.seriesId===t[i].id)&&(t[i][Af]=!0)}))}))})),e.registerUpdateLifecycle("series:transition",(function(e,t,n){for(var i,r,o=aJ(t),a=(o.oldSeries&&n.updatedSeries&&n.optionChanged&&((i=n.seriesTransition)?ee(Uo(i),(function(e){var i,r,a,s,l;i=o,r=n,a=t,s=[],l=[],ee(Uo(e.from),(function(e){var t=gJ(i.oldSeries,e);0<=t&&s.push({data:i.oldData[t],divide:fJ(i.oldData[t]),dim:e.dimension})})),ee(Uo(e.to),(function(e){var t=gJ(r.updatedSeries,e);0<=t&&(t=r.updatedSeries[t].getData(),l.push({data:t,divide:fJ(t),dim:e.dimension}))})),0<s.length&&0<l.length&&hJ(s,l,a)})):ee((r=function(e,t){var n=Pe(),i=Pe(),r=Pe();return ee(e.oldSeries,(function(t,n){var o=e.oldData[n],a=pJ(n=dJ(t));i.set(a,o),le(n)&&ee(n,(function(e){r.set(e,{data:o,key:a})}))})),ee(t.updatedSeries,(function(e){var t,o,a,s;e.isUniversalTransitionEnabled()&&e.isAnimationEnabled()&&(t=e.getData(),s=pJ(e=dJ(e)),(a=i.get(s))?n.set(s,{oldSeries:[{divide:fJ(a),data:a}],newSeries:[{divide:fJ(t),data:t}]}):le(e)?(o=[],ee(e,(function(e){(e=i.get(e))&&o.push({divide:fJ(e),data:e})})),o.length&&n.set(s,{oldSeries:o,newSeries:[{data:t,divide:fJ(t)}]})):(a=r.get(e))&&((s=n.get(a.key))||(s={oldSeries:[{data:a.data,divide:fJ(a.data)}],newSeries:[]},n.set(a.key,s)),s.newSeries.push({data:t,divide:fJ(t)})))})),n}(o,n)).keys(),(function(e){hJ((e=r.get(e)).oldSeries,e.newSeries,t)})),ee(n.updatedSeries,(function(e){e[Af]&&(e[Af]=!1)}))),e.getSeries()),s=o.oldSeries=[],l=o.oldData=[],u=0;u<a.length;u++){var c=a[u].getData();c.count()<1e4&&(s.push(a[u]),l.push(c))}}))})),p_(kS);var mJ=n(9867),yJ=n(2881);function vJ(e,t){var n={};return t.forEach((function(t){n[t]=e[t]})),n}function xJ(e){return"function"==typeof e}t=n(9638);var _J,bJ,wJ=n.n(t);y(SJ,_J=mJ.PureComponent),SJ.prototype.componentDidMount=function(){this.renderNewEcharts()},SJ.prototype.componentDidUpdate=function(e){var t=this.props.shouldSetOption;if(!xJ(t)||t(e,this.props)){if(!wJ()(e.theme,this.props.theme)||!wJ()(e.opts,this.props.opts)||!wJ()(e.onEvents,this.props.onEvents))return this.dispose(),void this.renderNewEcharts();t=["option","notMerge","lazyUpdate","showLoading","loadingOption"],wJ()(vJ(this.props,t),vJ(e,t))||this.updateEChartsOption(),wJ()(e.style,this.props.style)&&wJ()(e.className,this.props.className)||this.resize()}},SJ.prototype.componentWillUnmount=function(){this.dispose()},SJ.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)||this.echarts.init(this.ele,this.props.theme,this.props.opts)},SJ.prototype.dispose=function(){if(this.ele){try{(0,yJ.ZH)(this.ele)}catch(t){}this.echarts.dispose(this.ele)}},SJ.prototype.renderNewEcharts=function(){var e=this,t=(n=this.props).onEvents,n=n.onChartReady,i=this.updateEChartsOption();this.bindEvents(i,t||{}),xJ(n)&&n(i),this.ele&&(0,yJ.ak)(this.ele,(function(){e.resize()}))},SJ.prototype.bindEvents=function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&function(t,n){"string"==typeof t&&xJ(n)&&e.on(t,(function(t){n(t,e)}))}(n,t[n])},SJ.prototype.updateEChartsOption=function(){var e=(r=this.props).option,t=void 0!==(t=r.notMerge)&&t,n=void 0!==(n=r.lazyUpdate)&&n,i=r.showLoading,r=void 0===(r=r.loadingOption)?null:r,o=this.getEchartsInstance();return o.setOption(e,t,n),i?o.showLoading(r):o.hideLoading(),o},SJ.prototype.resize=function(){var e=this.getEchartsInstance();if(!this.isInitialResize)try{e.resize()}catch(e){}this.isInitialResize=!1},SJ.prototype.render=function(){var e=this,t=(n=this.props).style,n=void 0===(n=n.className)?"":n;t=v({height:300},t);return mJ.createElement("div",{ref:function(t){e.ele=t},style:t,className:"echarts-for-react "+n})},iv=SJ;function SJ(e){var t=_J.call(this,e)||this;return t.echarts=e.echarts,t.ele=null,t.isInitialResize=!0,t}function AJ(e){return(e=bJ.call(this,e)||this).echarts=g,e}y(AJ,bJ=iv);var MJ=AJ},9638:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,o;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=i;0!=r--;){var a=o[r];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},9407:function(e,t,n){"use strict";n.d(t,{YQ:function(){return l}});n(8664),n(8301),n(1120),n(7762);var i=n(136),r=n(9388),o=n(5671),a=n(3144),s=n(3391);s.ShaderMaterial,s.ShaderMaterial,s.ShaderMaterial,s.ShaderMaterial,s.ShaderMaterial,s.ShaderMaterial;s.ShaderMaterial,s.ShaderMaterial,s.ShaderMaterial,s.ShaderMaterial,s.ShaderMaterial,s.ShaderMaterial,s.ShaderMaterial;s.ShaderMaterial,s.ShaderMaterial,s.ShaderMaterial,s.ShaderMaterial,new s.Camera,new s.Color,s.EventDispatcher,new Float32Array([255/256/Math.pow(256,3),255/256/Math.pow(256,2),255/256/256,255/256]);var l={SKIP:0,ADD:1,ALPHA:2,AVERAGE:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,EXCLUSION:8,LIGHTEN:9,MULTIPLY:10,DIVIDE:11,NEGATION:12,NORMAL:13,OVERLAY:14,REFLECT:15,SCREEN:16,SOFT_LIGHT:17,SUBTRACT:18},u=new Map([[l.SKIP,null],[l.ADD,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}"],[l.ALPHA,"vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}"],[l.AVERAGE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}"],[l.COLOR_BURN,"float blend(const in float x,const in float y){return(y==0.0)?y:max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[l.COLOR_DODGE,"float blend(const in float x,const in float y){return(y==1.0)?y:min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[l.DARKEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}"],[l.DIFFERENCE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}"],[l.EXCLUSION,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}"],[l.LIGHTEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}"],[l.MULTIPLY,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}"],[l.DIVIDE,"float blend(const in float x,const in float y){return(y>0.0)?min(x/y,1.0):1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[l.NEGATION,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}"],[l.NORMAL,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}"],[l.OVERLAY,"float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[l.REFLECT,"float blend(const in float x,const in float y){return(y==1.0)?y:min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[l.SCREEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}"],[l.SOFT_LIGHT,"float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[l.SUBTRACT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}"]]);!function(e){(0,i.Z)(n,e);var t=(0,r.Z)(n);function n(e){var i,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return(0,o.Z)(this,n),(i=t.call(this)).f=e,i.opacity=new s.Uniform(r),i}(0,a.Z)(n,[{key:"getOpacity",value:function(){return this.opacity.value}},{key:"setOpacity",value:function(e){this.opacity.value=e}},{key:"blendFunction",get:function(){return this.f},set:function(e){this.f=e,this.dispatchEvent({type:"change"})}},{key:"getBlendFunction",value:function(){return this.blendFunction}},{key:"setBlendFunction",value:function(e){this.blendFunction=e}},{key:"getShaderCode",value:function(){return u.get(this.blendFunction)}}])}(s.EventDispatcher);function c(e,t,n){var i=document.createElement("canvas"),r=i.getContext("2d");return i.width=e,i.height=t,n instanceof Image?r.drawImage(n,0,0):((e=r.createImageData(e,t)).data.set(n),r.putImageData(e,0,0)),i}s.EventDispatcher,new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10]),Set,s.DataTexture,new s.Vector3,new s.Matrix4;var h=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;(0,o.Z)(this,e),this.width=t,this.height=n,this.data=i}return(0,a.Z)(e,[{key:"toCanvas",value:function(){return"undefined"==typeof document?null:c(this.width,this.height,this.data)}}],[{key:"from",value:function(t){var n,i,r=t.width,o=t.height;return t instanceof Image?null!==(n=c(r,o,t))&&(i=n.getContext("2d").getImageData(0,0,r,o).data):i=t.data,new e(r,o,i)}}]),e}(),d="lut.scaleup",p=new s.Color;!function(e){(0,i.Z)(n,e);var t=(0,r.Z)(n);function n(e,i){return(0,o.Z)(this,n),(e=t.call(this,e,i,i,i)).type=s.FloatType,e.format=s.RGBAFormat,e.encoding=s.LinearEncoding,e.minFilter=s.LinearFilter,e.magFilter=s.LinearFilter,e.wrapS=s.ClampToEdgeWrapping,e.wrapT=s.ClampToEdgeWrapping,e.wrapR=s.ClampToEdgeWrapping,e.unpackAlignment=1,e.needsUpdate=!0,e.domainMin=new s.Vector3(0,0,0),e.domainMax=new s.Vector3(1,1,1),e}(0,a.Z)(n,[{key:"isLookupTexture3D",get:function(){return!0}},{key:"scaleUp",value:function(e){var t=this,i=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=this.image,o=e<=r.width?Promise.reject(new Error("The target size must be greater than the current size")):new Promise((function(o,a){var s=URL.createObjectURL(new Blob(['(()=>{var O=Math.pow;var _={SCALE_UP:"lut.scaleup"};var k=[new Float32Array(3),new Float32Array(3)],n=[new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3)],Z=[[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1])]];function d(a,t,r,m){let i=r[0]-t[0],e=r[1]-t[1],y=r[2]-t[2],h=a[0]-t[0],A=a[1]-t[1],w=a[2]-t[2],c=e*w-y*A,l=y*h-i*w,x=i*A-e*h,u=Math.sqrt(c*c+l*l+x*x),b=u*.5,s=c/u,F=l/u,f=x/u,p=-(a[0]*s+a[1]*F+a[2]*f),M=m[0]*s+m[1]*F+m[2]*f;return Math.abs(M+p)*b/3}function V(a,t,r,m,i,e){let y=(r+m*t+i*t*t)*4;e[0]=a[y+0],e[1]=a[y+1],e[2]=a[y+2]}function j(a,t,r,m,i,e){let y=r*(t-1),h=m*(t-1),A=i*(t-1),w=Math.floor(y),c=Math.floor(h),l=Math.floor(A),x=Math.ceil(y),u=Math.ceil(h),b=Math.ceil(A),s=y-w,F=h-c,f=A-l;if(w===y&&c===h&&l===A)V(a,t,y,h,A,e);else{let p;s>=F&&F>=f?p=Z[0]:s>=f&&f>=F?p=Z[1]:f>=s&&s>=F?p=Z[2]:F>=s&&s>=f?p=Z[3]:F>=f&&f>=s?p=Z[4]:f>=F&&F>=s&&(p=Z[5]);let[M,g,X,Y]=p,P=k[0];P[0]=s,P[1]=F,P[2]=f;let o=k[1],L=x-w,S=u-c,U=b-l;o[0]=L*M[0]+w,o[1]=S*M[1]+c,o[2]=U*M[2]+l,V(a,t,o[0],o[1],o[2],n[0]),o[0]=L*g[0]+w,o[1]=S*g[1]+c,o[2]=U*g[2]+l,V(a,t,o[0],o[1],o[2],n[1]),o[0]=L*X[0]+w,o[1]=S*X[1]+c,o[2]=U*X[2]+l,V(a,t,o[0],o[1],o[2],n[2]),o[0]=L*Y[0]+w,o[1]=S*Y[1]+c,o[2]=U*Y[2]+l,V(a,t,o[0],o[1],o[2],n[3]);let T=d(g,X,Y,P)*6,q=d(M,X,Y,P)*6,C=d(M,g,Y,P)*6,E=d(M,g,X,P)*6;n[0][0]*=T,n[0][1]*=T,n[0][2]*=T,n[1][0]*=q,n[1][1]*=q,n[1][2]*=q,n[2][0]*=C,n[2][1]*=C,n[2][2]*=C,n[3][0]*=E,n[3][1]*=E,n[3][2]*=E,e[0]=n[0][0]+n[1][0]+n[2][0]+n[3][0],e[1]=n[0][1]+n[1][1]+n[2][1]+n[3][1],e[2]=n[0][2]+n[1][2]+n[2][2]+n[3][2]}}var v=class{static expand(t,r){let m=Math.cbrt(t.length/4),i=new Float32Array(3),e=new t.constructor(O(r,3)*4),y=t instanceof Uint8Array?255:1,h=O(r,2),A=1/(r-1);for(let w=0;w<r;++w)for(let c=0;c<r;++c)for(let l=0;l<r;++l){let x=l*A,u=c*A,b=w*A,s=Math.round(l+c*r+w*h)*4;j(t,m,x,u,b,i),e[s+0]=i[0],e[s+1]=i[1],e[s+2]=i[2],e[s+3]=y}return e}};self.addEventListener("message",a=>{let t=a.data,r=t.data;switch(t.operation){case _.SCALE_UP:r=v.expand(r,t.size);break}postMessage(r,[r.buffer]),close()});})();\n'],{type:"text/javascript"})),l=new Worker(s),u=(l.addEventListener("error",(function(e){return a(e.error)})),l.addEventListener("message",(function(i){(i=new n(i.data,e)).encoding=t.encoding,i.type=t.type,i.name=t.name,URL.revokeObjectURL(s),o(i)})),i?[r.data.buffer]:[]);l.postMessage({operation:d,data:r.data,size:e},u)}));return o}},{key:"applyLUT",value:function(e){var t=this.image,n=e.image,i=Math.min(t.width,t.height,t.depth);if(i===Math.min(n.width,n.height,n.depth)&&e.type===s.FloatType&&this.type===s.FloatType&&e.format===s.RGBAFormat&&this.format===s.RGBAFormat){for(var r=t.data,o=n.data,a=i,l=Math.pow(a,2),u=a-1,c=0,h=Math.pow(a,3);c<h;++c){var d=4*c,p=r[0+d]*u,f=r[1+d]*u,g=r[2+d]*u;p=4*Math.round(p+f*a+g*l);r[0+d]=o[0+p],r[1+d]=o[1+p],r[2+d]=o[2+p]}this.needsUpdate=!0}return this}},{key:"convertToUint8",value:function(){if(this.type===s.FloatType){for(var e=this.image.data,t=new Uint8Array(e.length),n=0,i=e.length;n<i;++n)t[n]=255*e[n]+.5;this.image.data=t,this.type=s.UnsignedByteType,this.needsUpdate=!0}return this}},{key:"convertToFloat",value:function(){if(this.type===s.UnsignedByteType){for(var e=this.image.data,t=new Float32Array(e.length),n=0,i=e.length;n<i;++n)t[n]=e[n]/255;this.image.data=t,this.type=s.FloatType,this.needsUpdate=!0}return this}},{key:"convertToRGBA",value:function(){return this}},{key:"convertLinearToSRGB",value:function(){var e=this.image.data;if(this.type===s.FloatType){for(var t=0,n=e.length;t<n;t+=4)p.fromArray(e,t).convertLinearToSRGB().toArray(e,t);this.encoding=s.sRGBEncoding,this.needsUpdate=!0}return this}},{key:"convertSRGBToLinear",value:function(){var e=this.image.data;if(this.type===s.FloatType){for(var t=0,n=e.length;t<n;t+=4)p.fromArray(e,t).convertSRGBToLinear().toArray(e,t);this.encoding=s.LinearEncoding,this.needsUpdate=!0}return this}},{key:"toDataTexture",value:function(){var e=this.image.width,t=this.image.height*this.image.depth;return(e=new s.DataTexture(this.image.data,e,t)).name=this.name,e.type=this.type,e.format=this.format,e.encoding=this.encoding,e.minFilter=s.LinearFilter,e.magFilter=s.LinearFilter,e.wrapS=this.wrapS,e.wrapT=this.wrapT,e.generateMipmaps=!1,e.needsUpdate=!0,e}}],[{key:"from",value:function(e){var t=e.image,i=t.width,r=t.height,o=Math.min(i,r);if(t instanceof Image){var a=h.from(t).data;if(r<i)for(var s=new Uint8Array(a.length),l=0;l<o;++l)for(var u=0;u<o;++u)for(var c=0;c<o;++c){var d=4*(c+l*o+u*o*o),p=4*(c+u*o+l*o*o);s[0+p]=a[0+d],s[1+p]=a[1+d],s[2+p]=a[2+d],s[3+p]=a[3+d]}else s=new Uint8Array(a.buffer)}else s=t.data.slice();return(r=new n(s,o)).encoding=e.encoding,r.type=e.type,r.name=e.name,r}},{key:"createNeutral",value:function(e){for(var t=new Float32Array(4*Math.pow(e,3)),i=Math.pow(e,2),r=1/(e-1),o=0;o<e;++o)for(var a=0;a<e;++a)for(var s=0;s<e;++s){var l=4*(o+a*e+s*i);t[0+l]=o*r,t[1+l]=a*r,t[2+l]=s*r,t[3+l]=1}var u=new n(t,e);return u.name="neutral",u}}])}(s.DataTexture3D);Math.PI,new s.Vector3,new s.Vector3;function f(e,t,n){return e+(t-e)*n}function g(e,t,n,i){return e=f(e,t,.75),t=f(n,i,.75),f(e,t,.875)}new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1]),new Float32Array(2),new Float32Array(2),new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125]),new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4]),new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3]),g(0,0,0,0),new Float32Array([0,0,0,0]),g(0,0,0,1),new Float32Array([0,0,0,1]),g(0,0,1,0),new Float32Array([0,0,1,0]),g(0,0,1,1),new Float32Array([0,0,1,1]),g(0,1,0,0),new Float32Array([0,1,0,0]),g(0,1,0,1),new Float32Array([0,1,0,1]),g(0,1,1,0),new Float32Array([0,1,1,0]),g(0,1,1,1),new Float32Array([0,1,1,1]),g(1,0,0,0),new Float32Array([1,0,0,0]),g(1,0,0,1),new Float32Array([1,0,0,1]),g(1,0,1,0),new Float32Array([1,0,1,0]),g(1,0,1,1),new Float32Array([1,0,1,1]),g(1,1,0,0),new Float32Array([1,1,0,0]),g(1,1,0,1),new Float32Array([1,1,0,1]),g(1,1,1,0),new Float32Array([1,1,1,0]),g(1,1,1,1),new Float32Array([1,1,1,1]),s.Loader,s.Loader,s.Loader},1223:function(e,t,n){"use strict";function i(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}n.d(t,{Z:function(){return i}})},1172:function(e,t,n){"use strict";n.d(t,{hq:function(){return c}});var i=n(1223),r="rc-util-key";function o(e){return(e=(0<arguments.length&&void 0!==e?e:{}).mark)?e.startsWith("data-")?e:"data-".concat(e):r}function a(e){return e.attachTo||document.querySelector("head")||document.body}function s(e,t){if(t=1<arguments.length&&void 0!==t?t:{},!(0,i.Z)())return null;var n=document.createElement("style"),r=(null!=(r=t.csp)&&r.nonce&&(n.nonce=null==(r=t.csp)?void 0:r.nonce),n.innerHTML=e,a(t));e=r.firstChild;return t.prepend&&r.prepend?r.prepend(n):t.prepend&&e?r.insertBefore(n,e):r.appendChild(n),n}var l=new Map;function u(e,t){var n=1<arguments.length&&void 0!==t?t:{};t=a(n);return Array.from(l.get(t).children).find((function(t){return"STYLE"===t.tagName&&t.getAttribute(o(n))===e}))}function c(e,t){var n,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=a(i);if(r=(l.has(r)||(n=(c=s("",i)).parentNode,l.set(r,n),n.removeChild(c)),u(t,i)))return null!=(n=i.csp)&&n.nonce&&r.nonce!==(null==(c=i.csp)?void 0:c.nonce)&&(r.nonce=null==(n=i.csp)?void 0:n.nonce),r.innerHTML!==e&&(r.innerHTML=e),r;var c=s(e,i);return c.setAttribute(o(i),t),c}},2359:function(e,t,n){"use strict";var i={};function r(e,t){}t.ZP=function(e,t){!function(e,t,n){t||i[n]||(e(!1,n),i[n]=!0)}(r,e,t)}},8568:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=(n&&Symbol.for("react.suspense_list"),n?Symbol.for("react.memo"):60115),g=n?Symbol.for("react.lazy"):60116;n&&Symbol.for("react.block"),n&&Symbol.for("react.fundamental"),n&&Symbol.for("react.responder"),n&&Symbol.for("react.scope"),t.isMemo=function(e){return function(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case c:case h:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case u:case d:case g:case f:case l:return e;default:return t}}case r:return t}}}(e)===f}},4623:function(e,t,n){"use strict";e.exports=n(8568)},9319:function(e,t){"use strict";t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},250:function(e,t,n){e.exports=function(e){var t={},i=n(9867),r=n(1049),o=Object.assign;function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),_=(Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode"),Symbol.for("react.offscreen")),b=(Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker"),Symbol.iterator);function w(e){return null!==e&&"object"==typeof e&&"function"==typeof(e=b&&e[b]||e["@@iterator"])?e:null}function S(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case c:return"Fragment";case u:return"Portal";case d:return"Profiler";case h:return"StrictMode";case m:return"Suspense";case y:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case f:return(e.displayName||"Context")+".Consumer";case p:return(e._context.displayName||"Context")+".Provider";case g:var t=e.render;return(e=e.displayName)?e:""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef";case v:return null!==(t=e.displayName||null)?t:S(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return S(e(t))}catch(e){}}return null}function A(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else for(e=t;0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;);return 3===t.tag?n:null}function M(e){if(A(e)!==e)throw Error(a(188))}function C(e){var t=e.alternate;if(!t){if(null===(t=A(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null===(i=r.return))break;n=i}else{if(r.child===o.child){for(o=r.child;o;){if(o===n)return M(r),e;if(o===i)return M(r),t;o=o.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=o;break}if(l===i){s=!0,i=r,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=r;break}if(l===i){s=!0,i=o,n=r;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}function T(e){return null!==(e=C(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var I,k=Array.isArray,D=e.getPublicInstance,B=e.getRootHostContext,E=e.getChildHostContext,P=e.prepareForCommit,L=e.resetAfterCommit,R=e.createInstance,O=e.appendInitialChild,F=e.finalizeInitialChildren,N=e.prepareUpdate,z=e.shouldSetTextContent,G=e.createTextInstance,H=e.scheduleTimeout,V=e.cancelTimeout,U=e.noTimeout,Z=e.isPrimaryRenderer,W=e.supportsMutation,j=e.supportsPersistence,X=e.supportsHydration,Y=e.getInstanceFromNode,J=e.preparePortalMount,K=e.getCurrentEventPriority,Q=e.detachDeletedInstance,q=e.supportsMicrotasks,$=e.scheduleMicrotask,ee=e.supportsTestSelectors,te=e.findFiberRoot,ne=e.getBoundingRect,ie=e.getTextContent,re=e.isHiddenSubtree,oe=e.matchAccessibilityRole,ae=e.setFocusIfFocusable,se=e.setupIntersectionObserver,le=e.appendChild,ue=e.appendChildToContainer,ce=e.commitTextUpdate,he=e.commitMount,de=e.commitUpdate,pe=e.insertBefore,fe=e.insertInContainerBefore,ge=e.removeChild,me=e.removeChildFromContainer,ye=e.resetTextContent,ve=e.hideInstance,xe=e.hideTextInstance,_e=e.unhideInstance,be=e.unhideTextInstance,we=e.clearContainer,Se=e.cloneInstance,Ae=e.createContainerChildSet,Me=e.appendChildToContainerChildSet,Ce=e.finalizeContainerChildren,Te=e.replaceContainerChildren,Ie=e.cloneHiddenInstance,ke=e.cloneHiddenTextInstance,De=e.canHydrateInstance,Be=e.canHydrateTextInstance,Ee=e.canHydrateSuspenseInstance,Pe=e.isSuspenseInstancePending,Le=e.isSuspenseInstanceFallback,Re=e.registerSuspenseInstanceRetry,Oe=e.getNextHydratableSibling,Fe=e.getFirstHydratableChild,Ne=e.getFirstHydratableChildWithinContainer,ze=e.getFirstHydratableChildWithinSuspenseInstance,Ge=e.hydrateInstance,He=e.hydrateTextInstance,Ve=e.hydrateSuspenseInstance,Ue=e.getNextHydratableInstanceAfterSuspenseInstance,Ze=e.commitHydratedContainer,We=e.commitHydratedSuspenseInstance,je=e.clearSuspenseBoundary,Xe=e.clearSuspenseBoundaryFromContainer,Ye=e.shouldDeleteUnhydratedTailInstances,Je=e.didNotMatchHydratedContainerTextInstance,Ke=e.didNotMatchHydratedTextInstance;function Qe(e){if(void 0===I)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var qe=!1;function $e(e,t){if(!e||qe)return"";qe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(t){var i=t}Reflect.construct(e,[],t)}else{try{t.call()}catch(t){i=t}e.call(t.prototype)}else{try{throw Error()}catch(t){i=t}e()}}catch(t){if(t&&i&&"string"==typeof t.stack){for(var r,o=t.stack.split("\n"),a=i.stack.split("\n"),s=o.length-1,l=a.length-1;1<=s&&0<=l&&o[s]!==a[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==a[l]){if(1!==s||1!==l)do{if(s--,--l<0||o[s]!==a[l])return r="\n"+o[s].replace(" at new "," at "),r=e.displayName&&r.includes("<anonymous>")?r.replace("<anonymous>",e.displayName):r}while(1<=s&&0<=l);break}}}finally{qe=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Qe(e):""}var et=Object.prototype.hasOwnProperty,tt=[],nt=-1;function it(e){return{current:e}}function rt(e){nt<0||(e.current=tt[nt],tt[nt]=null,nt--)}function ot(e,t){tt[++nt]=e.current,e.current=t}var at={},st=it(at),lt=it(!1),ut=at;function ct(e,t){var n=e.type.contextTypes;if(!n)return at;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ht(e){return null!=e.childContextTypes}function dt(){rt(lt),rt(st)}function pt(e,t,n){if(st.current!==at)throw Error(a(168));ot(st,t),ot(lt,n)}function ft(e,t,n){var i,r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(i in r=r.getChildContext())if(!(i in t))throw Error(a(108,function(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S(t);case 8:return t===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}(e)||"Unknown",i));return o({},n,r)}function gt(e){e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||at,ut=st.current,ot(st,e),ot(lt,lt.current)}function mt(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=ft(e,t,ut),i.__reactInternalMemoizedMergedChildContext=e,rt(lt),rt(st),ot(st,e)):rt(lt),ot(lt,n)}var yt=Math.clz32||function(e){return 0==(e>>>=0)?32:31-(vt(e)/xt|0)|0},vt=Math.log,xt=Math.LN2,_t=64,bt=4194304;function wt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function St(e,t){var n=e.pendingLanes;if(0===n)return 0;var i,r=0,o=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s?0!=(i=s&~o)?r=wt(i):0!==(a&=s)&&(r=wt(a)):0!==(s=n&~o)?r=wt(s):0!==a&&(r=wt(a)),0===r)return 0;if(0!==t&&t!==r&&0==(t&o)&&((a=t&-t)<=(o=r&-r)||16===o&&0!=(4194240&a)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)r|=e[n=31-yt(t)],t&=~(o=1<<n);return r}function At(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Mt(e){for(var t=[],n=0;n<31;n++)t.push(e);return t}function Ct(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-yt(t)]=n}function Tt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-yt(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var It=0;function kt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var Dt=r.unstable_scheduleCallback,Bt=r.unstable_cancelCallback,Et=r.unstable_shouldYield,Pt=r.unstable_requestPaint,Lt=r.unstable_now,Rt=r.unstable_ImmediatePriority,Ot=r.unstable_UserBlockingPriority,Ft=r.unstable_NormalPriority,Nt=r.unstable_IdlePriority,zt=null,Gt=null,Ht="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Vt=null,Ut=!1,Zt=!1;function Wt(e){null===Vt?Vt=[e]:Vt.push(e)}function jt(){if(!Zt&&null!==Vt){Zt=!0;var e=0,t=It;try{var n=Vt;for(It=1;e<n.length;e++)for(var i=n[e];null!==(i=i(!0)););Vt=null,Ut=!1}catch(t){throw null!==Vt&&(Vt=Vt.slice(e+1)),Dt(Rt,jt),t}finally{It=t,Zt=!1}}return null}var Xt=s.ReactCurrentBatchConfig;function Yt(e,t){if(Ht(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!et.call(t,r)||!Ht(e[r],t[r]))return!1}return!0}function Jt(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Kt=it(null),Qt=null,qt=null,$t=null;function en(){$t=qt=Qt=null}function tn(e,t,n){Z?(ot(Kt,t._currentValue),t._currentValue=n):(ot(Kt,t._currentValue2),t._currentValue2=n)}function nn(e){var t=Kt.current;rt(Kt),Z?e._currentValue=t:e._currentValue2=t}function rn(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function on(e,t){($t=qt=null)!==(e=(Qt=e).dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Cr=!0),e.firstContext=null)}function an(e){var t=Z?e._currentValue:e._currentValue2;if($t!==e)if(e={context:e,memoizedValue:t,next:null},null===qt){if(null===Qt)throw Error(a(308));qt=e,Qt.dependencies={lanes:0,firstContext:e}}else qt=qt.next=e;return t}var sn=null,ln=!1;function un(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Eo&&0!=(1&e.mode)&&0==(2&Bo)?(null===(e=n.interleaved)?(t.next=t,null===sn?sn=[n]:sn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function pn(e,t,n){var i;null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))&&(i=t.lanes,i&=e.pendingLanes,Tt(e,t.lanes=n|=i))}function fn(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null}}while(null===o?r=o=a:o=o.next=a,null!==(n=n.next));null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function gn(e,t,n,i){var r,a,s=e.updateQueue,l=(ln=!1,s.firstBaseUpdate),u=s.lastBaseUpdate;if(null!==(d=s.shared.pending)&&(s.shared.pending=null,a=(r=d).next,(r.next=null)===u?l=a:u.next=a,u=r,null!==(h=e.alternate)&&(d=(h=h.updateQueue).lastBaseUpdate)!==u&&(null===d?h.firstBaseUpdate=a:d.next=a,h.lastBaseUpdate=r)),null!==l){for(var c=s.baseState,h=(u=0,a=r=null),d=l;;){var p=d.lane,f=d.eventTime;if((i&p)===p){null!==h&&(h=h.next={eventTime:f,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var g=e,m=d;p=t,f=n;switch(m.tag){case 1:if("function"==typeof(g=m.payload)){c=g.call(f,c,p);break e}c=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null==(p="function"==typeof(g=m.payload)?g.call(f,c,p):g))break e;c=o({},c,p);break e;case 2:ln=!0}}null!==d.callback&&0!==d.lane&&(e.flags|=64,null===(p=s.effects)?s.effects=[d]:p.push(d))}else f={eventTime:f,lane:p,tag:d.tag,payload:d.payload,callback:d.callback,next:null},null===h?(a=h=f,r=c):h=h.next=f,u|=p;if(null===(d=d.next)){if(null===(d=s.shared.pending))break;d=(p=d).next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}if(null===h&&(r=c),s.baseState=r,s.firstBaseUpdate=a,s.lastBaseUpdate=h,null!==(t=s.shared.interleaved))for(s=t;u|=s.lane,(s=s.next)!==t;);else null===l&&(s.shared.lanes=0);zo|=u,e.lanes=u,e.memoizedState=c}}function mn(e,t,n){if(e=t.effects,(t.effects=null)!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!=typeof r)throw Error(a(191,r));r.call(i)}}}var yn=(new i.Component).refs;function vn(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var xn={isMounted:function(e){return!!(e=e._reactInternals)&&A(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ra(),r=oa(e),o=hn(i,r);o.payload=t,null!=n&&(o.callback=n),dn(e,o),null!==(t=aa(e,r,i))&&pn(t,e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ra(),r=oa(e),o=hn(i,r);o.tag=1,o.payload=t,null!=n&&(o.callback=n),dn(e,o),null!==(t=aa(e,r,i))&&pn(t,e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ra(),i=oa(e),r=hn(n,i);r.tag=2,null!=t&&(r.callback=t),dn(e,r),null!==(t=aa(e,i,n))&&pn(t,e,i)}};function _n(e,t,n,i,r,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||!Yt(n,i)||!Yt(r,o)}function bn(e,t,n){var i=!1,r=at,o=t.contextType;t=new t(n,o="object"==typeof o&&null!==o?an(o):(r=ht(t)?ut:st.current,(i=null!=(i=t.contextTypes))?ct(e,r):at)),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=xn,(e.stateNode=t)._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o)}function wn(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&xn.enqueueReplaceState(t,t.state,null)}function Sn(e,t,n,i){var r=e.stateNode,o=(r.props=n,r.state=e.memoizedState,r.refs=yn,un(e),t.contextType);"object"==typeof o&&null!==o?r.context=an(o):(o=ht(t)?ut:st.current,r.context=ct(e,o)),r.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(vn(e,0,o,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&xn.enqueueReplaceState(r,r.state,null),gn(e,n,r,i),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.flags|=4194308)}var An=[],Mn=0,Cn=null,Tn=0,In=[],kn=0,Dn=null,Bn=1,En="";function Pn(e,t){An[Mn++]=Tn,An[Mn++]=Cn,Cn=e,Tn=t}function Ln(e,t,n){In[kn++]=Bn,In[kn++]=En,In[kn++]=Dn,Dn=e;var i,r=Bn,o=(e=En,32-yt(r)-1),a=(r&=~(1<<o),n+=1,32-yt(t)+o);En=30<a?(a=(r&(1<<(i=o-o%5))-1).toString(32),r>>=i,o-=i,Bn=1<<32-yt(t)+o|n<<o|r,a+e):(Bn=1<<a|n<<o|r,e)}function Rn(e){null!==e.return&&(Pn(e,1),Ln(e,1,0))}function On(e){for(;e===Cn;)Cn=An[--Mn],An[Mn]=null,Tn=An[--Mn],An[Mn]=null;for(;e===Dn;)Dn=In[--kn],In[kn]=null,En=In[--kn],In[kn]=null,Bn=In[--kn],In[kn]=null}var Fn=null,Nn=null,zn=!1,Gn=!1,Hn=null;function Vn(e,t){var n=Da(5,null,null,0);n.elementType="DELETED",n.stateNode=t,null===(t=(n.return=e).deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Un(e,t){switch(e.tag){case 5:return null!==(t=De(t,e.type,e.pendingProps))&&(e.stateNode=t,Fn=e,Nn=Fe(t),1);case 6:return null!==(t=Be(t,e.pendingProps))&&(e.stateNode=t,Fn=e,Nn=null,1);case 13:var n;return null!==(t=Ee(t))?(n=null!==Dn?{id:Bn,overflow:En}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Da(18,null,null,0)).stateNode=t,(n.return=e).child=n,Fn=e,Nn=null,1):void 0;default:return}}function Zn(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function Wn(e){if(zn)if(n=Nn){var t=n;if(!Un(e,n)){if(Zn(e))throw Error(a(418));var n=Oe(t),i=Fn;n&&Un(e,n)?Vn(i,t):(e.flags=-4097&e.flags|2,zn=!1,Fn=e)}}else{if(Zn(e))throw Error(a(418));e.flags=-4097&e.flags|2,zn=!1,Fn=e}}function jn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fn=e}function Xn(e){if(!X||e!==Fn)return!1;if(!zn)return jn(e),!(zn=!0);if(3!==e.tag&&(5!==e.tag||Ye(e.type)&&!z(e.type,e.memoizedProps))){var t=Nn;if(t){if(Zn(e)){for(e=Nn;e;)e=Oe(e);throw Error(a(418))}for(;t;)Vn(e,t),t=Oe(t)}}if(jn(e),13===e.tag){if(!X)throw Error(a(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));Nn=Ue(e)}else Nn=Fn?Oe(e.stateNode):null;return!0}function Yn(){X&&(Nn=Fn=null,Gn=zn=!1)}function Jn(e){null===Hn?Hn=[e]:Hn.push(e)}function Kn(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var r=i,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t;(t=r.refs)===yn&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Qn(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qn(e){return(0,e._init)(e._payload)}function $n(e){function t(t,n){var i;e&&(null===(i=t.deletions)?(t.deletions=[n],t.flags|=16):i.push(n))}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Ea(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null===(i=t.alternate)||(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function h(e,t,n,i){return null===t||6!==t.tag?(t=Oa(n,e.mode,i)).return=e:(t=r(t,n)).return=e,t}function d(e,t,n,i){var o=n.type;return o===c?f(e,t,n.props.children,i,n.key):(null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===x&&qn(o)===t.type)?(i=r(t,n.props)).ref=Kn(0,t,n):(i=Pa(n.type,n.key,n.props,null,e.mode,i)).ref=Kn(0,t,n),i.return=e,i)}function p(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Fa(n,e.mode,i)).return=e:(t=r(t,n.children||[])).return=e,t}function f(e,t,n,i,o){return null===t||7!==t.tag?(t=La(n,e.mode,i,o)).return=e:(t=r(t,n)).return=e,t}function g(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Oa(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case l:return(n=Pa(t.type,t.key,t.props,null,e.mode,n)).ref=Kn(0,null,t),n.return=e,n;case u:return(t=Fa(t,e.mode,n)).return=e,t;case x:return g(e,(0,t._init)(t._payload),n)}if(k(t)||w(t))return(t=La(t,e.mode,n,null)).return=e,t;Qn(0,t)}return null}function m(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==r?null:h(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===r?d(e,t,n,i):null;case u:return n.key===r?p(e,t,n,i):null;case x:return m(e,t,(r=n._init)(n._payload),i)}if(k(n)||w(n))return null!==r?null:f(e,t,n,i,null);Qn(0,n)}return null}function y(e,t,n,i,r){if("string"==typeof i&&""!==i||"number"==typeof i)return h(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case l:return d(t,e=e.get(null===i.key?n:i.key)||null,i,r);case u:return p(t,e=e.get(null===i.key?n:i.key)||null,i,r);case x:return y(e,t,n,(0,i._init)(i._payload),r)}if(k(i)||w(i))return f(t,e=e.get(n)||null,i,r,null);Qn(0,i)}return null}return function h(d,p,f,v){if("object"==typeof(f="object"==typeof f&&null!==f&&f.type===c&&null===f.key?f.props.children:f)&&null!==f){switch(f.$$typeof){case l:e:{for(var _=f.key,b=p;null!==b;){if(b.key===_){if((_=f.type)===c){if(7===b.tag){n(d,b.sibling),(p=r(b,f.props.children)).return=d,d=p;break e}}else if(b.elementType===_||"object"==typeof _&&null!==_&&_.$$typeof===x&&qn(_)===b.type){n(d,b.sibling),(p=r(b,f.props)).ref=Kn(0,b,f),p.return=d,d=p;break e}n(d,b);break}t(d,b),b=b.sibling}d=f.type===c?((p=La(f.props.children,d.mode,v,f.key)).return=d,p):((v=Pa(f.type,f.key,f.props,null,d.mode,v)).ref=Kn(0,p,f),v.return=d,v)}return s(d);case u:e:{for(b=f.key;null!==p;){if(p.key===b){if(4===p.tag&&p.stateNode.containerInfo===f.containerInfo&&p.stateNode.implementation===f.implementation){n(d,p.sibling),(p=r(p,f.children||[])).return=d,d=p;break e}n(d,p);break}t(d,p),p=p.sibling}(p=Fa(f,d.mode,v)).return=d,d=p}return s(d);case x:return h(d,p,(b=f._init)(f._payload),v)}if(k(f)){for(var S=d,A=p,M=f,C=v,T=null,I=null,D=A,B=A=0,E=null;null!==D&&B<M.length;B++){D.index>B?(E=D,D=null):E=D.sibling;var P=m(S,D,M[B],C);if(null===P){null===D&&(D=E);break}e&&D&&null===P.alternate&&t(S,D),A=o(P,A,B),null===I?T=P:I.sibling=P,I=P,D=E}if(B===M.length)return n(S,D),zn&&Pn(S,B),T;if(null===D){for(;B<M.length;B++)null!==(D=g(S,M[B],C))&&(A=o(D,A,B),null===I?T=D:I.sibling=D,I=D);return zn&&Pn(S,B),T}for(D=i(S,D);B<M.length;B++)null!==(E=y(D,S,B,M[B],C))&&(e&&null!==E.alternate&&D.delete(null===E.key?B:E.key),A=o(E,A,B),null===I?T=E:I.sibling=E,I=E);return e&&D.forEach((function(e){return t(S,e)})),zn&&Pn(S,B),T}if(w(f)){var L=d,R=p,O=f,F=v,N=w(O);if("function"!=typeof N)throw Error(a(150));if(null==(O=N.call(O)))throw Error(a(151));for(var z=N=null,G=R,H=R=0,V=null,U=O.next();null!==G&&!U.done;H++,U=O.next()){G.index>H?(V=G,G=null):V=G.sibling;var Z=m(L,G,U.value,F);if(null===Z){null===G&&(G=V);break}e&&G&&null===Z.alternate&&t(L,G),R=o(Z,R,H),null===z?N=Z:z.sibling=Z,z=Z,G=V}if(U.done)return n(L,G),zn&&Pn(L,H),N;if(null===G){for(;!U.done;H++,U=O.next())null!==(U=g(L,U.value,F))&&(R=o(U,R,H),null===z?N=U:z.sibling=U,z=U);return zn&&Pn(L,H),N}for(G=i(L,G);!U.done;H++,U=O.next())null!==(U=y(G,L,H,U.value,F))&&(e&&null!==U.alternate&&G.delete(null===U.key?H:U.key),R=o(U,R,H),null===z?N=U:z.sibling=U,z=U);return e&&G.forEach((function(e){return t(L,e)})),zn&&Pn(L,H),N}Qn(0,f)}return"string"==typeof f&&""!==f||"number"==typeof f?(f=""+f,(p=null!==p&&6===p.tag?(n(d,p.sibling),r(p,f)):(n(d,p),Oa(f,d.mode,v))).return=d,s(d=p)):n(d,p)}}var ei=$n(!0),ti=$n(!1),ni={},ii=it(ni),ri=it(ni),oi=it(ni);function ai(e){if(e===ni)throw Error(a(174));return e}function si(e,t){ot(oi,t),ot(ri,e),ot(ii,ni),e=B(t),rt(ii),ot(ii,e)}function li(){rt(ii),rt(ri),rt(oi)}function ui(e){var t=ai(oi.current),n=ai(ii.current);n!==(t=E(n,e.type,t))&&(ot(ri,e),ot(ii,t))}function ci(e){ri.current===e&&(rt(ii),rt(ri))}var hi=it(0);function di(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Pe(n)||Le(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t=(t.child.return=t).child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pi=[];function fi(){for(var e=0;e<pi.length;e++){var t=pi[e];Z?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}pi.length=0}var gi=s.ReactCurrentDispatcher,mi=s.ReactCurrentBatchConfig,yi=0,vi=null,xi=null,_i=null,bi=!1,wi=!1,Si=0,Ai=0;function Mi(){throw Error(a(321))}function Ci(e,t){if(null!==t){for(var n=0;n<t.length&&n<e.length;n++)if(!Ht(e[n],t[n]))return;return 1}}function Ti(e,t,n,i,r,o){if(yi=o,(vi=t).memoizedState=null,t.updateQueue=null,t.lanes=0,gi.current=null===e||null===e.memoizedState?ar:sr,e=n(i,r),wi){o=0;do{if(wi=!1,Si=0,25<=o)throw Error(a(301))}while(o+=1,_i=xi=null,t.updateQueue=null,gi.current=lr,e=n(i,r),wi)}if(gi.current=or,t=null!==xi&&null!==xi.next,yi=0,_i=xi=vi=null,bi=!1,t)throw Error(a(300));return e}function Ii(){var e=0!==Si;return Si=0,e}function ki(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===_i?vi.memoizedState=_i=e:_i=_i.next=e,_i}function Di(){e=null===xi?null!==(e=vi.alternate)?e.memoizedState:null:xi.next;var e,t=null===_i?vi.memoizedState:_i.next;if(null!==t)_i=t,xi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(xi=e).memoizedState,baseState:xi.baseState,baseQueue:xi.baseQueue,queue:xi.queue,next:null},null===_i?vi.memoizedState=_i=e:_i=_i.next=e}return _i}function Bi(e,t){return"function"==typeof t?t(e):t}function Ei(e){var t=Di(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i,r=(s=xi).baseQueue;if(null!==(o=n.pending)&&(null!==r&&(i=r.next,r.next=o.next,o.next=i),s.baseQueue=r=o,n.pending=null),null!==r){var o=r.next,s=s.baseState,l=i=null,u=null,c=o;do{var h,d=c.lane}while((yi&d)===d?(null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:e(s,c.action)):(h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=h,i=s):u=u.next=h,vi.lanes|=d,zo|=d),null!==(c=c.next)&&c!==o);null===u?i=s:u.next=l,Ht(s,t.memoizedState)||(Cr=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=u,n.lastRenderedState=s}if(null!==(e=n.interleaved))for(r=e;o=r.lane,vi.lanes|=o,zo|=o,(r=r.next)!==e;);else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pi(e){var t=Di(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;for(var s=r=r.next;o=e(o,s.action),(s=s.next)!==r;);Ht(o,t.memoizedState)||(Cr=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function Li(){}function Ri(e,t){var n=vi,i=Di(),r=t(),o=!Ht(i.memoizedState,r);if(o&&(i.memoizedState=r,Cr=!0),i=i.queue,ji(Ni.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==_i&&1&_i.memoizedState.tag){if(n.flags|=2048,Hi(9,Fi.bind(null,n,i,r,t),void 0,null),null===Eo)throw Error(a(349));0==(30&yi)&&Oi(n,t,r)}return r}function Oi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vi.updateQueue)?(vi.updateQueue=t={lastEffect:null,stores:null}).stores=[e]:null===(n=t.stores)?t.stores=[e]:n.push(e)}function Fi(e,t,n,i){t.value=n,t.getSnapshot=i,zi(t)&&aa(e,1,-1)}function Ni(e,t,n){return n((function(){zi(t)&&aa(e,1,-1)}))}function zi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ht(e,n)}catch(e){return 1}}function Gi(e){var t=ki();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(t.queue=e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e}).dispatch=function(e,t,n){var i=oa(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(tr(e))nr(t,r);else{ir(e,t,r);var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(r.hasEagerState=!0,r.eagerState=s,Ht(s,a))return}catch(e){}null!==(e=aa(e,i,n=ra()))&&rr(e,t,i)}}.bind(null,vi,e),[t.memoizedState,e]}function Hi(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=vi.updateQueue)?(vi.updateQueue=t={lastEffect:null,stores:null}).lastEffect=e.next=e:null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,(n.next=e).next=i,t.lastEffect=e),e}function Vi(){return Di().memoizedState}function Ui(e,t,n,i){var r=ki();vi.flags|=e,r.memoizedState=Hi(1|t,n,void 0,void 0===i?null:i)}function Zi(e,t,n,i){var r=Di(),o=void(i=void 0===i?null:i);if(null!==xi){var a=xi.memoizedState;o=a.destroy;if(null!==i&&Ci(i,a.deps))return void(r.memoizedState=Hi(t,n,o,i))}vi.flags|=e,r.memoizedState=Hi(1|t,n,o,i)}function Wi(e,t){return Ui(8390656,8,e,t)}function ji(e,t){return Zi(2048,8,e,t)}function Xi(e,t){return Zi(4,2,e,t)}function Yi(e,t){return Zi(4,4,e,t)}function Ji(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ki(e,t,n){return n=null!=n?n.concat([e]):null,Zi(4,4,Ji.bind(null,t,e),n)}function Qi(){}function qi(e,t){var n=Di(),i=(t=void 0===t?null:t,n.memoizedState);return null!==i&&null!==t&&Ci(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function $i(e,t){var n=Di(),i=(t=void 0===t?null:t,n.memoizedState);return null!==i&&null!==t&&Ci(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function er(){return Di().memoizedState}function tr(e){var t=e.alternate;return e===vi||null!==t&&t===vi}function nr(e,t){wi=bi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ir(e,t,n){null!==Eo&&0!=(1&e.mode)&&0==(2&Bo)?(null===(e=t.interleaved)?(n.next=n,null===sn?sn=[t]:sn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function rr(e,t,n){var i;0!=(4194240&n)&&(i=t.lanes,i&=e.pendingLanes,Tt(e,t.lanes=n|=i))}var or={readContext:an,useCallback:Mi,useContext:Mi,useEffect:Mi,useImperativeHandle:Mi,useInsertionEffect:Mi,useLayoutEffect:Mi,useMemo:Mi,useReducer:Mi,useRef:Mi,useState:Mi,useDebugValue:Mi,useDeferredValue:Mi,useTransition:Mi,useMutableSource:Mi,useSyncExternalStore:Mi,useId:Mi,unstable_isNewReconciler:!1},ar={readContext:an,useCallback:function(e,t){return ki().memoizedState=[e,void 0===t?null:t],e},useContext:an,useEffect:Wi,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ui(4194308,4,Ji.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ui(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ui(4,2,e,t)},useMemo:function(e,t){var n=ki();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=ki();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(i.queue=e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=function(e,t,n){var i=oa(e);n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},tr(e)?nr(t,n):(ir(e,t,n),null!==(e=aa(e,i,n=ra()))&&rr(e,t,i))}.bind(null,vi,e),[i.memoizedState,e]},useRef:function(e){return ki().memoizedState={current:e}},useState:Gi,useDebugValue:Qi,useDeferredValue:function(e){var t=Gi(e),n=t[0],i=t[1];return Wi((function(){var t=mi.transition;mi.transition={};try{i(e)}finally{mi.transition=t}}),[e]),n},useTransition:function(){var e=(t=Gi(!1))[0],t=function(e,t){var n=It,i=(It=0!==n&&n<4?n:4,e(!0),mi.transition);mi.transition={};try{e(!1),t()}finally{It=n,mi.transition=i}}.bind(null,t[1]);return[e,ki().memoizedState=t]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=vi,r=ki();if(zn){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Eo)throw Error(a(349));0==(30&yi)&&Oi(i,t,n)}var o={value:r.memoizedState=n,getSnapshot:t};return r.queue=o,Wi(Ni.bind(null,i,o,e),[e]),i.flags|=2048,Hi(9,Fi.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e,t=ki(),n=Eo.identifierPrefix;return zn?(e=En,n=":"+n+"R"+(e=(Bn&~(1<<32-yt(Bn)-1)).toString(32)+e),0<(e=Si++)&&(n+="H"+e.toString(32)),n+=":"):n=":"+n+"r"+(e=Ai++).toString(32)+":",t.memoizedState=n},unstable_isNewReconciler:!1},sr={readContext:an,useCallback:qi,useContext:an,useEffect:ji,useImperativeHandle:Ki,useInsertionEffect:Xi,useLayoutEffect:Yi,useMemo:$i,useReducer:Ei,useRef:Vi,useState:function(){return Ei(Bi)},useDebugValue:Qi,useDeferredValue:function(e){var t=Ei(Bi),n=t[0],i=t[1];return ji((function(){var t=mi.transition;mi.transition={};try{i(e)}finally{mi.transition=t}}),[e]),n},useTransition:function(){return[Ei(Bi)[0],Di().memoizedState]},useMutableSource:Li,useSyncExternalStore:Ri,useId:er,unstable_isNewReconciler:!1},lr={readContext:an,useCallback:qi,useContext:an,useEffect:ji,useImperativeHandle:Ki,useInsertionEffect:Xi,useLayoutEffect:Yi,useMemo:$i,useReducer:Pi,useRef:Vi,useState:function(){return Pi(Bi)},useDebugValue:Qi,useDeferredValue:function(e){var t=Pi(Bi),n=t[0],i=t[1];return ji((function(){var t=mi.transition;mi.transition={};try{i(e)}finally{mi.transition=t}}),[e]),n},useTransition:function(){return[Pi(Bi)[0],Di().memoizedState]},useMutableSource:Li,useSyncExternalStore:Ri,useId:er,unstable_isNewReconciler:!1};function ur(e,t){try{for(var n="",i=t;n+=function(e){switch(e.tag){case 5:return Qe(e.type);case 16:return Qe("Lazy");case 13:return Qe("Suspense");case 19:return Qe("SuspenseList");case 0:case 2:case 15:return $e(e.type,!1);case 11:return $e(e.type.render,!1);case 1:return $e(e.type,!0);default:return""}}(i),i=i.return;);var r=n}catch(e){r="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:r}}var cr,hr,dr,pr,fr,gr="function"==typeof WeakMap?WeakMap:Map;function mr(e,t,n){(n=hn(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Yo||(Yo=!0,Jo=i)},n}function yr(e,t,n){(n=hn(-1,n)).tag=3;var i,r=e.type.getDerivedStateFromError;return null!==(e=("function"==typeof r&&(i=t.value,n.payload=function(){return r(i)},n.callback=function(){}),e.stateNode))&&"function"==typeof e.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ko?Ko=new Set([this]):Ko.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vr(e,t,n){var i,r=e.pingCache;null===r?(r=e.pingCache=new gr,i=new Set,r.set(t,i)):void 0===(i=r.get(t))&&(i=new Set,r.set(t,i)),i.has(n)||(i.add(n),e=function(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=ra(),e.pingedLanes|=e.suspendedLanes&n,Eo===e&&(Lo&n)===n&&(4===Fo||3===Fo&&(130023424&Lo)===Lo&&Lt()-Zo<500?ma(e,0):Ho|=n),la(e,t)}.bind(null,e,t,n),t.then(e,e))}function xr(e){do{var t;if(t=(t=13===e.tag)?null===(t=e.memoizedState)||null!==t.dehydrated:t)return e}while(null!==(e=e.return));return null}function _r(e,t,n,i,r){if(0==(1&e.mode))return e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=hn(-1,1)).tag=2,dn(n,t))),n.lanes|=1);e.flags|=65536,e.lanes=r}function br(e){e.flags|=4}function wr(e,t){if(null!==e&&e.child===t.child)return!0;if(0!=(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!=(12854&e.flags)||0!=(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}function Sr(e,t){if(!zn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ar(e){var t=0,n=0;if(null!==e.alternate&&e.alternate.child===e.child)for(var i=e.child;null!==i;)t|=i.lanes|i.childLanes,n=(n|=14680064&i.subtreeFlags)|14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)t|=i.lanes|i.childLanes,n=(n|=i.subtreeFlags)|i.flags,i.return=e,i=i.sibling;e.subtreeFlags|=n,e.childLanes=t}fr=W?(cr=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)O(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n=(n.child.return=n).child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},dr=function(){},pr=function(e,t,n,i,r){var o,a;(e=e.memoizedProps)!==i&&(o=t.stateNode,a=ai(ii.current),n=N(o,n,e,i,r,a),(t.updateQueue=n)&&br(t))},function(e,t,n,i){n!==i&&br(t)}):j?(cr=function(e,t,n,i){for(var r=t.child;null!==r;){if(5===r.tag){var o=r.stateNode;n&&i&&(o=Ie(o,r.type,r.memoizedProps,r)),O(e,o)}else if(6===r.tag)o=r.stateNode,n&&i&&(o=ke(o,r.memoizedProps,r)),O(e,o);else if(4!==r.tag)if(22===r.tag&&null!==r.memoizedState)null!==(o=r.child)&&(o.return=r),cr(e,r,!0,!0);else if(null!==r.child){r=(r.child.return=r).child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},hr=function e(t,n,i,r){for(var o=n.child;null!==o;){if(5===o.tag){var a=o.stateNode;i&&r&&(a=Ie(a,o.type,o.memoizedProps,o)),Me(t,a)}else if(6===o.tag)a=o.stateNode,i&&r&&(a=ke(a,o.memoizedProps,o)),Me(t,a);else if(4!==o.tag)if(22===o.tag&&null!==o.memoizedState)null!==(a=o.child)&&(a.return=o),e(t,o,!0,!0);else if(null!==o.child){o=(o.child.return=o).child;continue}if(o===n)break;for(;null===o.sibling;){if(null===o.return||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},dr=function(e,t){var n,i=t.stateNode;wr(e,t)||(e=i.containerInfo,n=Ae(e),hr(n,t,!1,!1),i.pendingChildren=n,br(t),Ce(e,n))},pr=function(e,t,n,i,r){var o,a,s,l=e.stateNode,u=e.memoizedProps;(e=wr(e,t))&&u===i?t.stateNode=l:(o=t.stateNode,a=ai(ii.current),s=null,u!==i&&(s=N(o,n,u,i,r,a)),e&&null===s?t.stateNode=l:(l=Se(l,s,n,u,i,t,e,o),F(l,n,i,r,a)&&br(t),t.stateNode=l,e?br(t):cr(l,t,!1,!1)))},function(e,t,n,i){n!==i?(e=ai(oi.current),n=ai(ii.current),t.stateNode=G(i,e,n,t),br(t)):t.stateNode=e.stateNode}):(dr=function(){},pr=function(){},function(){});var Mr=s.ReactCurrentOwner,Cr=!1;function Tr(e,t,n,i){t.child=null===e?ti(t,null,n,i):ei(t,e.child,n,i)}function Ir(e,t,n,i,r){n=n.render;var o=t.ref;return on(t,r),i=Ti(e,t,n,i,o,r),n=Ii(),null===e||Cr?(zn&&n&&Rn(t),t.flags|=1,Tr(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Yr(e,t,r))}function kr(e,t,n,i,r){var o;if(null===e)return"function"!=typeof(o=n.type)||Ba(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pa(n.type,null,i,t,t.mode,r)).ref=t.ref,(e.return=t).child=e):(t.tag=15,t.type=o,Dr(e,t,o,i,r));if(o=e.child,0==(e.lanes&r)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:Yt)(a,i)&&e.ref===t.ref)return Yr(e,t,r)}return t.flags|=1,(e=Ea(o,i)).ref=t.ref,(e.return=t).child=e}function Dr(e,t,n,i,r){if(null!==e&&Yt(e.memoizedProps,i)&&e.ref===t.ref){if(Cr=!1,0==(e.lanes&r))return t.lanes=e.lanes,Yr(e,t,r);0!=(131072&e.flags)&&(Cr=!0)}return Pr(e,t,n,i,r)}function Br(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},ot(Oo,Ro),Ro|=n;else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,ot(Oo,Ro),Ro|=e,null;t.memoizedState={baseLanes:0,cachePool:null},i=null!==o?o.baseLanes:n,ot(Oo,Ro),Ro|=i}else null!==o?(i=o.baseLanes|n,t.memoizedState=null):i=n,ot(Oo,Ro),Ro|=i;return Tr(e,t,r,n),t.child}function Er(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pr(e,t,n,i,r){var o=ct(t,ht(n)?ut:st.current);return on(t,r),n=Ti(e,t,n,i,o,r),i=Ii(),null===e||Cr?(zn&&i&&Rn(t),t.flags|=1,Tr(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Yr(e,t,r))}function Lr(e,t,n,i,r){var o,a,s,l,u,c,h,d,p,f;return ht(n)?(o=!0,gt(t)):o=!1,on(t,r),i=null===t.stateNode?(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),bn(t,n,i),Sn(t,n,i,r),!0):null===e?(a=t.stateNode,s=t.memoizedProps,a.props=s,d=a.context,l="object"==typeof(l=n.contextType)&&null!==l?an(l):ct(t,l=ht(n)?ut:st.current),(c="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||s===i&&d===l||wn(0,a,i,l),ln=!1,h=t.memoizedState,a.state=h,gn(t,i,a,r),d=t.memoizedState,s!==i||h!==d||lt.current||ln?("function"==typeof u&&(vn(t,0,u,i),d=t.memoizedState),(s=ln||_n(t,n,s,i,h,d,l))?(c||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=d),a.props=i,a.state=d,a.context=l,s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),!1)):(a=t.stateNode,cn(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Jt(t.type,s),a.props=l,c=t.pendingProps,h=a.context,d="object"==typeof(d=n.contextType)&&null!==d?an(d):ct(t,d=ht(n)?ut:st.current),(u="function"==typeof(p=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||s===c&&h===d||wn(0,a,i,d),ln=!1,h=t.memoizedState,a.state=h,gn(t,i,a,r),f=t.memoizedState,s!==c||h!==f||lt.current||ln?("function"==typeof p&&(vn(t,0,p,i),f=t.memoizedState),(l=ln||_n(t,n,l,i,h,f,d)||!1)?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(i,f,d),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,f,d)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),a.props=i,a.state=f,a.context=d,l):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),!1)),Rr(e,t,n,i,o,r)}function Rr(e,t,n,i,r,o){Er(e,t);var a=0!=(128&t.flags);if(!i&&!a)return r&&mt(t,n,!1),Yr(e,t,o);i=t.stateNode,Mr.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&a?(t.child=ei(t,e.child,null,o),t.child=ei(t,null,s,o)):Tr(e,t,s,o),t.memoizedState=i.state,r&&mt(t,n,!0),t.child}function Or(e){var t=e.stateNode;t.pendingContext?pt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&pt(0,t.context,!1),si(e,t.containerInfo)}function Fr(e,t,n,i,r){return Yn(),Jn(r),t.flags|=256,Tr(e,t,n,i),t.child}var Nr={dehydrated:null,treeContext:null,retryLane:0};function zr(e){return{baseLanes:e,cachePool:null}}function Gr(e,t,n){var i,r=t.pendingProps,o=hi.current,s=!1,l=0!=(128&t.flags);if((i=(i=l)?i:(null===e||null!==e.memoizedState)&&0!=(2&o))?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ot(hi,1&o),null===e)return Wn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:Le(e)?t.lanes=8:t.lanes=1073741824,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},0==(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=o):s=Ra(o,r,0,null),e=La(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=zr(n),t.memoizedState=Nr,e):Hr(t,o));if(null===(o=e.memoizedState))return s?(r=Ur(e,t,r.children,r.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?zr(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Nr,r):(n=Vr(e,t,r.children,n),t.memoizedState=null,n);if(null===(i=o.dehydrated))return s?(r=Ur(e,t,r.children,r.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?zr(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Nr,r):(n=Vr(e,t,r.children,n),t.memoizedState=null,n);if(l)return 256&t.flags?(t.flags&=-257,Zr(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Ra({mode:"visible",children:r.children},o,0,null),(s=La(s,o,n,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!=(1&t.mode)&&ei(t,e.child,null,n),t.child.memoizedState=zr(n),t.memoizedState=Nr,s);if(0==(1&t.mode))t=Zr(e,t,n,null);else if(Le(i))t=Zr(e,t,n,Error(a(419)));else if(r=0!=(n&e.childLanes),Cr||r){if(null!==(r=Eo)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(r=0!=(s&(r.suspendedLanes|n))?0:s)&&r!==o.retryLane&&aa(e,o.retryLane=r,-1)}xa(),t=Zr(e,t,n,Error(a(421)))}else Pe(i)?(t.flags|=128,t.child=e.child,t=function(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ta(e,n)}.bind(null,e),Re(i,t),t=null):(n=o.treeContext,X&&(Nn=ze(i),Fn=t,Gn=!(zn=!0),(Hn=null)!==n&&(In[kn++]=Bn,In[kn++]=En,In[kn++]=Dn,Bn=n.id,En=n.overflow,Dn=t)),(t=Hr(t,t.pendingProps.children)).flags|=4096);return t}function Hr(e,t){return((t=Ra({mode:"visible",children:t},e.mode,0,null)).return=e).child=t}function Vr(e,t,n,i){var r=e.child;return e=r.sibling,n=Ea(r,{mode:"visible",children:n}),0==(1&t.mode)&&(n.lanes=i),n.return=t,(n.sibling=null)!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n}function Ur(e,t,n,i,r){var o=t.mode,a=(e=e.child).sibling,s={mode:"hidden",children:n};return 0==(1&o)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=Ea(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==a?i=Ea(a,i):(i=La(i,o,r,null)).flags|=2,i.return=t,n.return=t,n.sibling=i,t.child=n,i}function Zr(e,t,n,i){return null!==i&&Jn(i),ei(t,e.child,null,n),(e=Hr(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wr(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),rn(e.return,t,n)}function jr(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Xr(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(Tr(e,t,i.children,n),0!=(2&(i=hi.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wr(e,n,t);else if(19===e.tag)Wr(e,n,t);else if(null!==e.child){e=(e.child.return=e).child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ot(hi,i),0==(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===di(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),jr(t,!1,r,n,o);break;case"backwards":for(r=t.child,t.child=n=null;null!==r;){if(null!==(e=r.alternate)&&null===di(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}jr(t,!0,n,null,o);break;case"together":jr(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yr(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zo|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ea(e=t.child,e.pendingProps),(t.child=n).return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ea(e,e.pendingProps)).return=t;n.sibling=null}return t.child}var Jr=!1,Kr=!1,Qr="function"==typeof WeakSet?WeakSet:Set,qr=null;function $r(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Ca(e,t,n)}else n.current=null}function eo(e,t,n){try{n()}catch(n){Ca(e,t,n)}}var to=!1;function no(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r,o=i=i.next;do{}while((o.tag&e)===e&&(r=o.destroy,(o.destroy=void 0)!==r&&eo(t,n,r)),(o=o.next)!==i)}}function io(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n,i=t=t.next;do{}while((i.tag&e)===e&&(n=i.create,i.destroy=n()),(i=i.next)!==t)}}function ro(e){var t,n=e.ref;null!==n&&(t=e.stateNode,e=5===e.tag?D(t):t,"function"==typeof n?n(e):n.current=e)}function oo(e,t,n){if(Gt&&"function"==typeof Gt.onCommitFiberUnmount)try{Gt.onCommitFiberUnmount(zt,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e=e.next;do{var r=i.destroy,o=i.tag}while(void 0===r||0==(2&o)&&0==(4&o)||eo(t,n,r),(i=i.next)!==e)}break;case 1:if($r(t,n),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Ca(t,n,e)}break;case 5:$r(t,n);break;case 4:W?co(e,t,n):j&&(t=t.stateNode.containerInfo,n=Ae(t),Te(t,n))}}function ao(e,t,n){for(var i=t;;)if(oo(e,i,n),null===i.child||W&&4===i.tag){if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}else i=(i.child.return=i).child}function so(e){return 5===e.tag||3===e.tag||4===e.tag}function lo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||so(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e=(e.child.return=e).child}if(!(2&e.flags))return e.stateNode}}function uo(e){if(W){e:{for(var t=e.return;null!==t;){if(so(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(ye(t),n.flags&=-33),function e(t,n,i){var r=t.tag;if(5===r||6===r)t=t.stateNode,n?pe(i,t,n):le(i,t);else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n=lo(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,function e(t,n,i){var r=t.tag;if(5===r||6===r)t=t.stateNode,n?fe(i,t,n):ue(i,t);else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n=lo(e),t);break;default:throw Error(a(161))}}}function co(e,t,n){for(var i,r,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(i=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:i=i.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag)ao(e,o,n),(r?me:ge)(i,o.stateNode);else if(18===o.tag)(r?Xe:je)(i,o.stateNode);else if(4===o.tag){if(null!==o.child){i=o.stateNode.containerInfo,r=!0,o=(o.child.return=o).child;continue}}else if(oo(e,o,n),null!==o.child){o=(o.child.return=o).child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function ho(e,t){if(W){switch(t.tag){case 0:case 11:case 14:case 15:return no(3,t,t.return),io(3,t),void no(5,t,t.return);case 1:case 12:case 17:return;case 5:var n,i,r,o=t.stateNode;return void(null!=o&&(n=t.memoizedProps,e=null!==e?e.memoizedProps:n,i=t.type,r=t.updateQueue,(t.updateQueue=null)!==r&&de(o,r,i,e,n,t)));case 6:if(null===t.stateNode)throw Error(a(162));return o=t.memoizedProps,void ce(t.stateNode,null!==e?e.memoizedProps:o,o);case 3:return void(X&&null!==e&&e.memoizedState.isDehydrated&&Ze(t.stateNode.containerInfo));case 13:case 19:return void po(t)}throw Error(a(163))}switch(t.tag){case 0:case 11:case 14:case 15:return no(3,t,t.return),io(3,t),void no(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void po(t);case 3:X&&null!==e&&e.memoizedState.isDehydrated&&Ze(t.stateNode.containerInfo)}e:if(j){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,Te(t.containerInfo,t.pendingChildren);break e}throw Error(a(163))}}function po(e){var t,n=e.updateQueue;null!==n&&((e.updateQueue=null)===(t=e.stateNode)&&(t=e.stateNode=new Qr),n.forEach((function(n){var i=function(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(a(314))}null!==i&&i.delete(t),Ta(e,n)}.bind(null,e,n);t.has(n)||(t.add(n),n.then(i,i))})))}function fo(e){for(;null!==qr;){var t=qr;if(0!=(8772&t.flags)){var n,i,r,o=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Kr||io(5,t);break;case 1:var s,l=t.stateNode,u=(4&t.flags&&!Kr&&(null===o?l.componentDidMount():(s=t.elementType===t.type?o.memoizedProps:Jt(t.type,o.memoizedProps),l.componentDidUpdate(s,o.memoizedState,l.__reactInternalSnapshotBeforeUpdate))),t.updateQueue);null!==u&&mn(0,u,l);break;case 3:var c=t.updateQueue;if(null!==c){if((o=null)!==t.child)switch(t.child.tag){case 5:o=D(t.child.stateNode);break;case 1:o=t.child.stateNode}mn(0,c,o)}break;case 5:var h=t.stateNode;null===o&&4&t.flags&&he(h,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:!X||null!==t.memoizedState||null!==(n=t.alternate)&&null!==(i=n.memoizedState)&&null!==(r=i.dehydrated)&&We(r);break;default:throw Error(a(163))}Kr||512&t.flags&&ro(t)}catch(e){Ca(t,t.return,e)}}if(t===e){qr=null;break}if(null!==(o=t.sibling)){o.return=t.return,qr=o;break}qr=t.return}}function go(e){for(;null!==qr;){var t=qr;if(t===e){qr=null;break}var n=t.sibling;if(null!==n){n.return=t.return,qr=n;break}qr=t.return}}function mo(e){for(;null!==qr;){var t=qr;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{io(4,t)}catch(e){Ca(t,n,e)}break;case 1:var i=t.stateNode;if("function"==typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(e){Ca(t,r,e)}}var o=t.return;try{ro(t)}catch(e){Ca(t,o,e)}break;case 5:var a=t.return;try{ro(t)}catch(e){Ca(t,a,e)}}}catch(e){Ca(t,t.return,e)}if(t===e){qr=null;break}var s=t.sibling;if(null!==s){s.return=t.return,qr=s;break}qr=t.return}}var yo=0,vo=1,xo=2,_o=3,bo=4;function wo(e){var t=Y(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(a(364));return t}if(null===(e=te(e)))throw Error(a(362));return e.stateNode.current}function So(e,t){switch(t.$$typeof){case yo:if(e.type===t.value)return 1;break;case vo:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var i=e[n++],r=e[n++],o=t[r];if(5!==i.tag||!re(i)){for(;null!=o&&So(i,o);)o=t[++r];if(r===t.length){t=!0;break e}for(i=i.child;null!==i;)e.push(i,r),i=i.sibling}}t=!1}return t;case xo:if(5===e.tag&&oe(e.stateNode,t.value))return 1;break;case bo:if(5!==e.tag&&6!==e.tag||!(null!==(e=ie(e))&&0<=e.indexOf(t.value)))break;return 1;case _o:if(5===e.tag&&"string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase())return 1;break;default:throw Error(a(365))}}function Ao(e){switch(e.$$typeof){case yo:return"<"+(S(e.value)||"Unknown")+">";case vo:return":has("+(Ao(e)||"")+")";case xo:return'[role="'+e.value+'"]';case bo:return'"'+e.value+'"';case _o:return'[data-testname="'+e.value+'"]';default:throw Error(a(365))}}function Mo(e,t){var n=[];e=[e,0];for(var i=0;i<e.length;){var r=e[i++],o=e[i++],a=t[o];if(5!==r.tag||!re(r)){for(;null!=a&&So(r,a);)a=t[++o];if(o===t.length)n.push(r);else for(r=r.child;null!==r;)e.push(r,o),r=r.sibling}}return n}function Co(e,t){if(!ee)throw Error(a(363));e=Mo(e=wo(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var i=e[n++];if(5===i.tag)re(i)||t.push(i.stateNode);else for(i=i.child;null!==i;)e.push(i),i=i.sibling}return t}"function"==typeof Symbol&&Symbol.for&&(yo=(e=Symbol.for)("selector.component"),vo=e("selector.has_pseudo_class"),xo=e("selector.role"),_o=e("selector.test_id"),bo=e("selector.text"));var To=Math.ceil,Io=s.ReactCurrentDispatcher,ko=s.ReactCurrentOwner,Do=s.ReactCurrentBatchConfig,Bo=0,Eo=null,Po=null,Lo=0,Ro=0,Oo=it(0),Fo=0,No=null,zo=0,Go=0,Ho=0,Vo=null,Uo=null,Zo=0,Wo=1/0;function jo(){Wo=Lt()+500}var Xo,Yo=!1,Jo=null,Ko=null,Qo=!1,qo=null,$o=0,ea=0,ta=null,na=-1,ia=0;function ra(){return 0!=(6&Bo)?Lt():-1!==na?na:na=Lt()}function oa(e){return 0==(1&e.mode)?1:0!=(2&Bo)&&0!==Lo?Lo&-Lo:null!==Xt.transition?(0===ia&&(e=_t,0==(4194240&(_t<<=1))&&(_t=64),ia=e),ia):0!==(e=It)?e:K()}function aa(e,t,n){if(50<ea)throw ea=0,ta=null,Error(a(185));var i=sa(e,t);return null===i?null:(Ct(i,t,n),0!=(2&Bo)&&i===Eo||(i===Eo&&(0==(2&Bo)&&(Go|=t),4===Fo&&da(i,Lo)),la(i,n),1===t&&0===Bo&&0==(1&e.mode)&&(jo(),Ut&&jt())),i)}function sa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),e=(n=e).return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),e=(n=e).return;return 3===n.tag?n.stateNode:null}function la(e,t){var n,i=e.callbackNode,r=(function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-yt(o),s=1<<a,l=r[a];-1===l?0!=(s&n)&&0==(s&i)||(r[a]=function(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t),St(e,e===Eo?Lo:0));if(0===r)null!==i&&Bt(i),e.callbackNode=null,e.callbackPriority=0;else if(e.callbackPriority!==(t=r&-r)){if(null!=i&&Bt(i),1===t)0===e.tag?(n=pa.bind(null,e),Ut=!0,Wt(n)):Wt(pa.bind(null,e)),q?$((function(){0===Bo&&jt()})):Dt(Rt,jt),i=null;else{switch(kt(r)){case 1:i=Rt;break;case 4:i=Ot;break;case 16:default:i=Ft;break;case 536870912:i=Nt}i=Ia(i,ua.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function ua(e,t){if(na=-1,(ia=0)!=(6&Bo))throw Error(a(327));var n=e.callbackNode;if(Aa()&&e.callbackNode!==n)return null;var i=St(e,e===Eo?Lo:0);if(0===i)return null;if(0!=(30&i)||0!=(i&e.expiredLanes)||t)t=_a(e,i);else{t=i;var r=Bo,o=(Bo|=2,va());for(Eo===e&&Lo===t||(jo(),ma(e,t));;)try{for(;null!==Po&&!Et();)ba(Po);break}catch(t){ya(e,t)}en(),Io.current=o,Bo=r,t=null!==Po?0:(Eo=null,Lo=0,Fo)}if(0!==t){if(2===t&&0!==(r=At(e))&&(t=ca(e,i=r)),1===t)throw n=No,ma(e,0),da(e,i),la(e,Lt()),n;if(6===t)da(e,i);else{if(r=e.current.alternate,0==(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!Ht(o(),r))return}catch(e){return}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return 1;t=t.return}t.sibling.return=t.return,t=t.sibling}}return 1}(r)&&(2===(t=_a(e,i))&&0!==(o=At(e))&&(t=ca(e,i=o)),1===t))throw n=No,ma(e,0),da(e,i),la(e,Lt()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(a(345));case 2:case 5:Sa(e,Uo);break;case 3:if(da(e,i),(130023424&i)===i&&10<(t=Zo+500-Lt())){if(0!==St(e,0))break;if(((r=e.suspendedLanes)&i)!==i){ra(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=H(Sa.bind(null,e,Uo),t);break}Sa(e,Uo);break;case 4:if(da(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var s=31-yt(i);o=1<<s;r<(s=t[s])&&(r=s),i&=~o}if(i=r,10<(i=((i=Lt()-i)<120?120:i<480?480:i<1080?1080:i<1920?1920:i<3e3?3e3:i<4320?4320:1960*To(i/1960))-i)){e.timeoutHandle=H(Sa.bind(null,e,Uo),i);break}Sa(e,Uo);break;default:throw Error(a(329))}}}return la(e,Lt()),e.callbackNode===n?ua.bind(null,e):null}function ca(e,t){var n=Vo;return e.current.memoizedState.isDehydrated&&(ma(e,t).flags|=256),2!==(e=_a(e,t))&&(t=Uo,Uo=n,null!==t&&ha(t)),e}function ha(e){null===Uo?Uo=e:Uo.push.apply(Uo,e)}function da(e,t){for(t=t&~Ho&~Go,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yt(t),i=1<<n;e[n]=-1,t&=~i}}function pa(e){if(0!=(6&Bo))throw Error(a(327));Aa();var t=St(e,0);if(0==(1&t))return la(e,Lt()),null;var n,i=_a(e,t);if(0===e.tag||2!==i||0!==(n=At(e))&&(i=ca(e,t=n)),1===i)throw i=No,ma(e,0),da(e,t),la(e,Lt()),i;if(6===i)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sa(e,Uo),la(e,Lt()),null}function fa(e){null!==qo&&0===qo.tag&&0==(6&Bo)&&Aa();var t=Bo,n=(Bo|=1,Do.transition),i=It;try{if(Do.transition=null,It=1,e)return e()}finally{It=i,Do.transition=n,0==(6&(Bo=t))&&jt()}}function ga(){Ro=Oo.current,rt(Oo)}function ma(e,t){e.finishedWork=null,e.finishedLanes=0;var n,i,r,o=e.timeoutHandle;if(o!==U&&(e.timeoutHandle=U,V(o)),null!==Po)for(o=Po.return;null!==o;){var a=o;switch(On(a),a.tag){case 1:null!=(a=a.type.childContextTypes)&&dt();break;case 3:li(),rt(lt),rt(st),fi();break;case 5:ci(a);break;case 4:li();break;case 13:case 19:rt(hi);break;case 10:nn(a.type._context);break;case 22:case 23:ga()}o=o.return}if(Po=e=Ea((Eo=e).current,null),Lo=Ro=t,Ho=Go=zo=Fo=0,(Uo=Vo=No=null)!==sn){for(t=0;t<sn.length;t++)null!==(a=(o=sn[t]).interleaved)&&(o.interleaved=null,n=a.next,null!==(i=o.pending)&&(r=i.next,i.next=n,a.next=r),o.pending=a);sn=null}return e}function ya(e,t){for(;;){var n=Po;try{if(en(),gi.current=or,bi){for(var i=vi.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}bi=!1}if(_i=xi=vi=null,wi=!1,Si=yi=0,(ko.current=null)===n||null===n.return){Fo=1,No=t,Po=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Lo,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c,h=u,d=l,p=d.tag,f=(0!=(1&d.mode)||0!==p&&11!==p&&15!==p||((c=d.alternate)?(d.updateQueue=c.updateQueue,d.memoizedState=c.memoizedState,d.lanes=c.lanes):(d.updateQueue=null,d.memoizedState=null)),xr(s));if(null!==f){f.flags&=-257,_r(f,s,l,0,t),1&f.mode&&vr(o,h,t);u=h;var g,m=(t=f).updateQueue;null===m?((g=new Set).add(u),t.updateQueue=g):m.add(u);break e}if(0==(1&t)){vr(o,h,t),xa();break e}u=Error(a(426))}else if(zn&&1&l.mode){var y=xr(s);if(null!==y){0==(65536&y.flags)&&(y.flags|=256),_r(y,s,l,0,t),Jn(u);break e}}o=u,4!==Fo&&(Fo=2),null===Vo?Vo=[o]:Vo.push(o),u=ur(u,l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,fn(l,mr(0,u,t));break e;case 1:o=u;var v=l.type,x=l.stateNode;if(0==(128&l.flags)&&("function"==typeof v.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===Ko||!Ko.has(x)))){l.flags|=65536,t&=-t,l.lanes|=t,fn(l,yr(l,o,t));break e}}}while(null!==(l=l.return))}wa(n)}catch(e){t=e,Po===n&&null!==n&&(Po=n=n.return);continue}break}}function va(){var e=Io.current;return Io.current=or,null===e?or:e}function xa(){0!==Fo&&3!==Fo&&2!==Fo||(Fo=4),null===Eo||0==(268435455&zo)&&0==(268435455&Go)||da(Eo,Lo)}function _a(e,t){var n=Bo,i=(Bo|=2,va());for(Eo===e&&Lo===t||ma(e,t);;)try{for(;null!==Po;)ba(Po);break}catch(t){ya(e,t)}if(en(),Bo=n,Io.current=i,null!==Po)throw Error(a(261));return Eo=null,Lo=0,Fo}function ba(e){var t=Xo(e.alternate,e,Ro);e.memoizedProps=e.pendingProps,null===t?wa(e):Po=t,ko.current=null}function wa(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=function(e,t,n){var i=t.pendingProps;switch(On(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(t),null;case 1:case 17:return ht(t.type)&&dt(),Ar(t),null;case 3:return i=t.stateNode,li(),rt(lt),rt(st),fi(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(Xn(t)?br(t):null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==Hn&&(ha(Hn),Hn=null))),dr(e,t),Ar(t),null;case 5:ci(t),n=ai(oi.current);var r=t.type;if(null!==e&&null!=t.stateNode)pr(e,t,r,i,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(a(166));return Ar(t),null}if(e=ai(ii.current),Xn(t)){if(!X)throw Error(a(175));e=Ge(t.stateNode,t.type,t.memoizedProps,n,e,t,!Gn),null!==(t.updateQueue=e)&&br(t)}else{var o=R(r,i,n,e,t);cr(o,t,!1,!1),t.stateNode=o,F(o,r,i,n,e)&&br(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ar(t),null;case 6:if(e&&null!=t.stateNode)fr(e,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(a(166));if(e=ai(oi.current),n=ai(ii.current),Xn(t)){if(!X)throw Error(a(176));if(e=t.stateNode,i=t.memoizedProps,(n=He(e,i,t,!Gn))&&null!==(r=Fn))switch(o=0!=(1&r.mode),r.tag){case 3:Je(r.stateNode.containerInfo,e,i,o);break;case 5:Ke(r.type,r.memoizedProps,r.stateNode,e,i,o)}n&&br(t)}else t.stateNode=G(i,e,n,t)}return Ar(t),null;case 13:if(rt(hi),i=t.memoizedState,zn&&null!==Nn&&0!=(1&t.mode)&&0==(128&t.flags)){for(e=Nn;e;)e=Oe(e);return Yn(),t.flags|=98560,t}if(null===i||null===i.dehydrated)return null!==Hn&&(ha(Hn),Hn=null),0!=(128&t.flags)?(t.lanes=n,t):(i=null!==i,n=!1,null===e?Xn(t):n=null!==e.memoizedState,i&&!n&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&hi.current)?0===Fo&&(Fo=3):xa())),null!==t.updateQueue&&(t.flags|=4),Ar(t),null);if(i=Xn(t),null===e){if(!i)throw Error(a(318));if(!X)throw Error(a(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(317));Ve(e,t)}else Yn(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Ar(t),null;case 4:return li(),dr(e,t),null===e&&J(t.stateNode.containerInfo),Ar(t),null;case 10:return nn(t.type._context),Ar(t),null;case 19:if(rt(hi),null===(r=t.memoizedState))return Ar(t),null;if(i=0!=(128&t.flags),null===(o=r.rendering))if(i)Sr(r,!1);else{if(0!==Fo||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=di(e))){for(t.flags|=128,Sr(r,!1),null!==(e=o.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,i=t.child;null!==i;)r=e,(n=i).flags&=14680066,null===(o=n.alternate)?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext}),i=i.sibling;return ot(hi,1&hi.current|2),t.child}e=e.sibling}null!==r.tail&&Lt()>Wo&&(t.flags|=128,Sr(r,!(i=!0)),t.lanes=4194304)}else{if(!i)if(null!==(e=di(o))){if(t.flags|=128,i=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Sr(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!zn)return Ar(t),null}else 2*Lt()-r.renderingStartTime>Wo&&1073741824!==n&&(t.flags|=128,Sr(r,!(i=!0)),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Lt(),t.sibling=null,e=hi.current,ot(hi,i?1&e|2:1&e),t):(Ar(t),null);case 22:case 23:return ga(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!=(1&t.mode)?0!=(1073741824&Ro)&&(Ar(t),W&&6&t.subtreeFlags&&(t.flags|=8192)):Ar(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}(n,t,Ro)))return void(Po=n)}else{if(null!==(n=function(e,t){switch(On(t),t.tag){case 1:return ht(t.type)&&dt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return li(),rt(lt),rt(st),fi(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ci(t),null;case 13:if(rt(hi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Yn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return rt(hi),null;case 4:return li(),null;case 10:return nn(t.type._context),null;case 22:case 23:return ga(),null;default:return null}}(n,t)))return n.flags&=32767,void(Po=n);if(null===e)return Fo=6,void(Po=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Po=t)}while(Po=t=e,null!==t);0===Fo&&(Fo=5)}function Sa(e,t){var n=It,i=Do.transition;try{Do.transition=null,It=1,function(e,t,n){for(;Aa(),null!==qo;);if(0!=(6&Bo))throw Error(a(327));var i=e.finishedWork,r=e.finishedLanes;if(null!==i){if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o,s,l=i.lanes|i.childLanes;if(function(e,t){var n=e.pendingLanes&~t,i=(e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements,e.eventTimes);for(e=e.expirationTimes;0<n;){var r=31-yt(n),o=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~o}}(e,l),e===Eo&&(Po=Eo=null,Lo=0),0==(2064&i.subtreeFlags)&&0==(2064&i.flags)||Qo||(Qo=!0,Ia(Ft,(function(){return Aa(),null}))),l=0!=(15990&i.flags),0!=(15990&i.subtreeFlags)||l?(l=Do.transition,Do.transition=null,o=It,It=1,s=Bo,Bo|=4,ko.current=null,function(e,t){for(P(e.containerInfo),qr=t;null!==qr;)if(t=(e=qr).child,0!=(1028&e.subtreeFlags)&&null!==t)t.return=e,qr=t;else for(;null!==qr;){e=qr;try{var n,i,r,o,s=e.alternate;if(0!=(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:null!==s&&(n=s.memoizedProps,i=s.memoizedState,o=(r=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Jt(e.type,n),i),r.__reactInternalSnapshotBeforeUpdate=o);break;case 3:W&&we(e.stateNode.containerInfo);break;default:throw Error(a(163))}}catch(t){Ca(e,e.return,t)}if(null!==(t=e.sibling)){t.return=e.return,qr=t;break}qr=e.return}s=to,to=!1}(e,i),function(e,t){for(qr=t;null!==qr;){if(null!==(g=(t=qr).deletions))for(var n=0;n<g.length;n++){var i=g[n];try{var r=e,o=((W?co:ao)(r,i,t),i.alternate);null!==o&&(o.return=null),i.return=null}catch(e){Ca(i,t,e)}}if(g=t.child,0!=(12854&t.subtreeFlags)&&null!==g)g.return=t,qr=g;else for(;null!==qr;){t=qr;try{var a,s,l,u=t.flags;if(32&u&&W&&ye(t.stateNode),512&u&&null!==(a=t.alternate)&&null!==(s=a.ref)&&("function"==typeof s?s(null):s.current=null),8192&u)switch(t.tag){case 13:null===t.memoizedState||null!==(l=t.alternate)&&null!==l.memoizedState||(Zo=Lt());break;case 22:var c,h,d=null!==t.memoizedState,p=t.alternate,f=null!==p&&null!==p.memoizedState,g=t;if(W)e:if(n=g,i=d,r=null,W)for(var m=n;;){if(5===m.tag)null===r&&(c=(r=m).stateNode,i?ve(c):_e(m.stateNode,m.memoizedProps));else if(6===m.tag)null===r&&(h=m.stateNode,i?xe(h):be(h,m.memoizedProps));else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===n)&&null!==m.child){m=(m.child.return=m).child;continue}if(m===n)break;for(;null===m.sibling;){if(null===m.return||m.return===n)break e;r===m&&(r=null),m=m.return}r===m&&(r=null),m.sibling.return=m.return,m=m.sibling}if(d&&!f&&0!=(1&g.mode))for(var y=(qr=g).child;null!==y;){for(g=qr=y;null!==qr;){var v=(n=qr).child;switch(n.tag){case 0:case 11:case 14:case 15:no(4,n,n.return);break;case 1:$r(n,n.return);var x=n.stateNode;if("function"==typeof x.componentWillUnmount){var _=n.return;try{x.props=n.memoizedProps,x.state=n.memoizedState,x.componentWillUnmount()}catch(e){Ca(n,_,e)}}break;case 5:$r(n,n.return);break;case 22:if(null!==n.memoizedState){go(g);continue}}null!==v?(v.return=n,qr=v):go(g)}y=y.sibling}}switch(4102&u){case 2:uo(t),t.flags&=-3;break;case 6:uo(t),t.flags&=-3,ho(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,ho(t.alternate,t);break;case 4:ho(t.alternate,t)}}catch(e){Ca(t,t.return,e)}if(null!==(g=t.sibling)){g.return=t.return,qr=g;break}qr=t.return}}}(e,i),L(e.containerInfo),function(e,t,n){!function e(t,n,i){for(var r=0!=(1&t.mode);null!==qr;){var o=qr,a=o.child;if(22===o.tag&&r){var s=null!==o.memoizedState||Jr;if(!s){var l=o.alternate,u=null!==l&&null!==l.memoizedState||Kr,c=(l=Jr,Kr);if(Jr=s,(Kr=u)&&!c)for(qr=o;null!==qr;)u=(s=qr).child,22===s.tag&&null!==s.memoizedState||null===u?mo(o):(u.return=s,qr=u);for(;null!==a;)e(qr=a,n,i),a=a.sibling;qr=o,Jr=l,Kr=c}fo(t)}else 0!=(8772&o.subtreeFlags)&&null!==a?(a.return=o,qr=a):fo(t)}}(qr=e,t,n)}(e.current=i,e,r),Pt(),Bo=s,It=o,Do.transition=l):e.current=i,Qo&&(Qo=!1,qo=e,$o=r),0===(l=e.pendingLanes)&&(Ko=null),function(e){if(Gt&&"function"==typeof Gt.onCommitFiberRoot)try{Gt.onCommitFiberRoot(zt,e,void 0,128==(128&e.current.flags))}catch(e){}}(i.stateNode),la(e,Lt()),null!==t)for(n=e.onRecoverableError,i=0;i<t.length;i++)n(t[i]);if(Yo)throw Yo=!1,e=Jo,Jo=null,e;0!=(1&$o)&&0!==e.tag&&Aa(),0!=(1&(l=e.pendingLanes))?e===ta?ea++:(ea=0,ta=e):ea=0,jt()}}(e,t,n)}finally{Do.transition=i,It=n}return null}function Aa(){if(null!==qo){var e=kt($o),t=Do.transition,n=It;try{if(Do.transition=null,It=e<16?16:e,null===qo)var i=!1;else{if(e=qo,qo=null,($o=0)!=(6&Bo))throw Error(a(331));var r=Bo;for(Bo|=4,qr=e.current;null!==qr;){var o=qr,s=o.child;if(0!=(16&qr.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(qr=c;null!==qr;){switch((d=qr).tag){case 0:case 11:case 15:no(8,d,o)}var h=d.child;if(null!==h)h.return=d,qr=h;else for(;null!==qr;){var d,p=(d=qr).sibling,f=d.return;if(function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&Q(n),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(d),d===c){qr=null;break}if(null!==p){p.return=f,qr=p;break}qr=f}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling}while((m.sibling=null)!==(m=y))}}qr=o}}if(0!=(2064&o.subtreeFlags)&&null!==s)s.return=o,qr=s;else for(;null!==qr;){if(0!=(2048&(o=qr).flags))switch(o.tag){case 0:case 11:case 15:no(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,qr=v;break}qr=o.return}}var x=e.current;for(qr=x;null!==qr;){var _=(s=qr).child;if(0!=(2064&s.subtreeFlags)&&null!==_)_.return=s,qr=_;else for(s=x;null!==qr;){if(0!=(2048&(l=qr).flags))try{switch(l.tag){case 0:case 11:case 15:io(9,l)}}catch(e){Ca(l,l.return,e)}if(l===s){qr=null;break}var b=l.sibling;if(null!==b){b.return=l.return,qr=b;break}qr=l.return}}if(Bo=r,jt(),Gt&&"function"==typeof Gt.onPostCommitFiberRoot)try{Gt.onPostCommitFiberRoot(zt,e)}catch(e){}i=!0}return i}finally{It=n,Do.transition=t}}return!1}function Ma(e,t,n){dn(e,t=mr(0,t=ur(n,t),1)),t=ra(),null!==(e=sa(e,1))&&(Ct(e,1,t),la(e,t))}function Ca(e,t,n){if(3===e.tag)Ma(e,e,n);else for(;null!==t;){if(3===t.tag){Ma(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Ko||!Ko.has(i))){dn(t,e=yr(t,e=ur(n,e),1)),e=ra(),null!==(t=sa(t,1))&&(Ct(t,1,e),la(t,e));break}}t=t.return}}function Ta(e,t){0===t&&(0==(1&e.mode)?t=1:(t=bt,0==(130023424&(bt<<=1))&&(bt=4194304)));var n=ra();null!==(e=sa(e,t))&&(Ct(e,t,n),la(e,n))}function Ia(e,t){return Dt(e,t)}function ka(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Da(e,t,n,i){return new ka(e,t,n,i)}function Ba(e){return(e=e.prototype)&&e.isReactComponent}function Ea(e,t){var n=e.alternate;return null===n?((n=Da(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,(n.alternate=e).alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pa(e,t,n,i,r,o){var s=2;if("function"==typeof(i=e))Ba(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case c:return La(n.children,r,o,t);case h:r|=s=8;break;case d:return(e=Da(12,n,t,2|r)).elementType=d,e.lanes=o,e;case m:return(e=Da(13,n,t,r)).elementType=m,e.lanes=o,e;case y:return(e=Da(19,n,t,r)).elementType=y,e.lanes=o,e;case _:return Ra(n,r,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case p:s=10;break e;case f:s=9;break e;case g:s=11;break e;case v:s=14;break e;case x:s=16,i=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Da(s,n,t,r)).elementType=e,t.type=i,t.lanes=o,t}function La(e,t,n,i){return(e=Da(7,e,i,t)).lanes=n,e}function Ra(e,t,n,i){return(e=Da(22,e,i,t)).elementType=_,e.lanes=n,e.stateNode={},e}function Oa(e,t,n){return(e=Da(6,e,null,t)).lanes=n,e}function Fa(e,t,n){return(t=Da(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Na(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=U,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mt(0),this.expirationTimes=Mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mt(0),this.identifierPrefix=i,this.onRecoverableError=r,X&&(this.mutableSourceEagerHydrationData=null)}function za(e,t,n,i,r,o,a,s,l){return e=new Na(e,t,0,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Da(3,null,null,t),(e.current=o).stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null},un(o),e}function Ga(e){if(!e)return at;e:{if(A(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}}while(null!==(t=t.return));throw Error(a(171))}if(1===e.tag){var n=e.type;if(ht(n))return ft(e,n,t)}return t}function Ha(e){var t=e._reactInternals;if(void 0!==t)return null===(e=T(t))?null:e.stateNode;if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}function Va(e,t){var n;null!==(e=e.memoizedState)&&null!==e.dehydrated&&(n=e.retryLane,e.retryLane=0!==n&&n<t?n:t)}function Ua(e,t){Va(e,t),(e=e.alternate)&&Va(e,t)}function Za(e){return null===(e=T(e))?null:e.stateNode}function Wa(){return null}return Xo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||lt.current)Cr=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags)){Cr=!1;var i=e,r=t,o=n;switch(r.tag){case 3:Or(r),Yn();break;case 5:ui(r);break;case 1:ht(r.type)&&gt(r);break;case 4:si(r,r.stateNode.containerInfo);break;case 10:tn(0,r.type._context,r.memoizedProps.value);break;case 13:var s=r.memoizedState;if(null!==s)return null!==s.dehydrated?(ot(hi,1&hi.current),r.flags|=128,null):0!=(o&r.child.childLanes)?Gr(i,r,o):(ot(hi,1&hi.current),null!==(i=Yr(i,r,o))?i.sibling:null);ot(hi,1&hi.current);break;case 19:if(s=0!=(o&r.childLanes),0!=(128&i.flags)){if(s)return Xr(i,r,o);r.flags|=128}var l=r.memoizedState;if(null!==l&&(l.rendering=null,l.tail=null,l.lastEffect=null),ot(hi,hi.current),s)break;return null;case 22:case 23:return r.lanes=0,Br(i,r,o)}return Yr(i,r,o)}Cr=0!=(131072&e.flags)}else Cr=!1,zn&&0!=(1048576&t.flags)&&Ln(t,Tn,t.index);switch(t.lanes=0,t.tag){case 2:var u=t.type,c=(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,ct(t,st.current)),h=(on(t,n),c=Ti(null,t,u,e,c,n),Ii());return t.flags|=1,"object"==typeof c&&null!==c&&"function"==typeof c.render&&void 0===c.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(u)?(h=!0,gt(t)):h=!1,t.memoizedState=null!==c.state&&void 0!==c.state?c.state:null,un(t),c.updater=xn,Sn((t.stateNode=c)._reactInternals=t,u,e,n),Rr(null,t,u,!0,h,n)):(t.tag=0,zn&&h&&Rn(t),Tr(null,t,c,n),t.child);case 16:u=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,u=(c=u._init)(u._payload),t.type=u,c=t.tag=function(e){if("function"==typeof e)return Ba(e)?1:0;if(null!=e){if((e=e.$$typeof)===g)return 11;if(e===v)return 14}return 2}(u),e=Jt(u,e),c){case 0:t=Pr(null,t,u,e,n);break e;case 1:t=Lr(null,t,u,e,n);break e;case 11:t=Ir(null,t,u,e,n);break e;case 14:t=kr(null,t,u,Jt(u.type,e),n);break e}throw Error(a(306,u,""))}return t;case 0:return u=t.type,c=t.pendingProps,Pr(e,t,u,c=t.elementType===u?c:Jt(u,c),n);case 1:return u=t.type,c=t.pendingProps,Lr(e,t,u,c=t.elementType===u?c:Jt(u,c),n);case 3:e:{if(Or(t),null===e)throw Error(a(387));u=t.pendingProps,c=(h=t.memoizedState).element,cn(e,t),gn(t,u,null,n);u=(m=t.memoizedState).element;if(X&&h.isDehydrated){if(h={element:u,isDehydrated:!1,cache:m.cache,transitions:m.transitions},t.updateQueue.baseState=h,t.memoizedState=h,256&t.flags){t=Fr(e,t,u,n,c=Error(a(423)));break e}if(u!==c){t=Fr(e,t,u,n,c=Error(a(424)));break e}for(X&&(Nn=Ne(t.stateNode.containerInfo),Fn=t,Gn=!(zn=!(Hn=null))),n=ti(t,null,u,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Yn(),u===c){t=Yr(e,t,n);break e}Tr(e,t,u,n)}t=t.child}return t;case 5:return ui(t),null===e&&Wn(t),u=t.type,c=t.pendingProps,h=null!==e?e.memoizedProps:null,m=c.children,z(u,c)?m=null:null!==h&&z(u,h)&&(t.flags|=32),Er(e,t),Tr(e,t,m,n),t.child;case 6:return null===e&&Wn(t),null;case 13:return Gr(e,t,n);case 4:return si(t,t.stateNode.containerInfo),u=t.pendingProps,null===e?t.child=ei(t,null,u,n):Tr(e,t,u,n),t.child;case 11:return u=t.type,c=t.pendingProps,Ir(e,t,u,c=t.elementType===u?c:Jt(u,c),n);case 7:return Tr(e,t,t.pendingProps,n),t.child;case 8:case 12:return Tr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(u=t.type._context,c=t.pendingProps,h=t.memoizedProps,tn(0,u,m=c.value),null!==h)if(Ht(h.value,m)){if(h.children===c.children&&!lt.current){t=Yr(e,t,n);break e}}else for(null!==(h=t.child)&&(h.return=t);null!==h;){var d=h.dependencies;if(null!==d)for(var p,f,m=h.child,y=d.firstContext;null!==y;){if(y.context===u){1===h.tag&&((y=hn(-1,n&-n)).tag=2,null!==(p=h.updateQueue)&&(null===(f=(p=p.shared).pending)?y.next=y:(y.next=f.next,f.next=y),p.pending=y)),h.lanes|=n,null!==(y=h.alternate)&&(y.lanes|=n),rn(h.return,n,t),d.lanes|=n;break}y=y.next}else if(10===h.tag)m=h.type===t.type?null:h.child;else if(18===h.tag){if(null===(m=h.return))throw Error(a(341));m.lanes|=n,null!==(d=m.alternate)&&(d.lanes|=n),rn(m,n,t),m=h.sibling}else m=h.child;if(null!==m)m.return=h;else for(m=h;null!==m;){if(m===t){m=null;break}if(null!==(h=m.sibling)){h.return=m.return,m=h;break}m=m.return}h=m}Tr(e,t,c.children,n),t=t.child}return t;case 9:return c=t.type,u=t.pendingProps.children,on(t,n),u=u(c=an(c)),t.flags|=1,Tr(e,t,u,n),t.child;case 14:return c=Jt(u=t.type,t.pendingProps),kr(e,t,u,c=Jt(u.type,c),n);case 15:return Dr(e,t,t.type,t.pendingProps,n);case 17:return u=t.type,c=t.pendingProps,c=t.elementType===u?c:Jt(u,c),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ht(u)?(e=!0,gt(t)):e=!1,on(t,n),bn(t,u,c),Sn(t,u,c,n),Rr(null,t,u,!0,e,n);case 19:return Xr(e,t,n);case 22:return Br(e,t,n)}throw Error(a(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(aa(e,134217728,ra()),Ua(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){var t,n;13===e.tag&&(t=ra(),aa(e,n=oa(e),t),Ua(e,n))},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t,n=e.stateNode;!n.current.memoizedState.isDehydrated||0!==(t=wt(n.pendingLanes))&&(Tt(n,1|t),la(n,Lt()),0==(6&Bo)&&(jo(),jt()));break;case 13:var i=ra();fa((function(){return aa(e,1,i)})),Ua(e,1)}},t.batchedUpdates=function(e,t){var n=Bo;Bo|=1;try{return e(t)}finally{0===(Bo=n)&&(jo(),Ut&&jt())}},t.createComponentSelector=function(e){return{$$typeof:yo,value:e}},t.createContainer=function(e,t,n,i,r,o,a){return za(e,t,!1,null,0,i,0,o,a)},t.createHasPseudoClassSelector=function(e){return{$$typeof:vo,value:e}},t.createHydrationContainer=function(e,t,n,i,r,o,a,s,l){return(e=za(n,i,!0,e,0,o,0,s,l)).context=Ga(null),n=e.current,(o=hn(i=ra(),r=oa(n))).callback=null!=t?t:null,dn(n,o),e.current.lanes=r,Ct(e,r,i),la(e,i),e},t.createPortal=function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:u,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:xo,value:e}},t.createTestNameSelector=function(e){return{$$typeof:_o,value:e}},t.createTextSelector=function(e){return{$$typeof:bo,value:e}},t.deferredUpdates=function(e){var t=It,n=Do.transition;try{return Do.transition=null,It=16,e()}finally{It=t,Do.transition=n}},t.discreteUpdates=function(e,t,n,i,r){var o=It,a=Do.transition;try{return Do.transition=null,It=1,e(t,n,i,r)}finally{It=o,Do.transition=a,0===Bo&&jo()}},t.findAllNodes=Co,t.findBoundingRects=function(e,t){if(!ee)throw Error(a(363));t=Co(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ne(t[n]));for(t=e.length-1;0<t;t--)for(var i=(n=e[t]).x,r=i+n.width,o=n.y,s=o+n.height,l=t-1;0<=l;l--)if(t!==l){var u=e[l],c=u.x,h=c+u.width,d=u.y,p=d+u.height;if(c<=i&&d<=o&&r<=h&&s<=p){e.splice(t,1);break}if(!(i!==c||n.width!==u.width||p<o||s<d)){o<d&&(u.height+=d-o,u.y=o),p<s&&(u.height=s-d),e.splice(t,1);break}if(!(o!==d||n.height!==u.height||h<i||r<c)){i<c&&(u.width+=c-i,u.x=i),h<r&&(u.width=r-c),e.splice(t,1);break}}return e},t.findHostInstance=Ha,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=C(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){if(4!==t.tag){var n=e(t);if(null!==n)return n}t=t.sibling}return null}(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=Ha,t.flushControlled=function(e){var t=Bo,n=(Bo|=1,Do.transition),i=It;try{Do.transition=null,It=1,e()}finally{It=i,Do.transition=n,0===(Bo=t)&&(jo(),jt())}},t.flushPassiveEffects=Aa,t.flushSync=fa,t.focusWithin=function(e,t){if(!ee)throw Error(a(363));for(t=Mo(e=wo(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!re(n)){if(5===n.tag&&ae(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return It},t.getFindAllNodesFailureDescription=function(e,t){if(!ee)throw Error(a(363));var n=0,i=[];e=[wo(e),0];for(var r=0;r<e.length;){var o=e[r++],s=e[r++],l=t[s];if((5!==o.tag||!re(o))&&(So(o,l)&&(i.push(Ao(l)),n<++s&&(n=s)),s<t.length))for(o=o.child;null!==o;)e.push(o,s),o=o.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Ao(t[n]));return"findAllNodes was able to match part of the selector:\n  "+i.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5!==e.child.tag?e.child.stateNode:D(e.child.stateNode):null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:Za,findFiberByHostInstance:e.findFiberByHostInstance||Wa,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{zt=t.inject(e),Gt=t}catch(e){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,i){if(!ee)throw Error(a(363));e=Co(e,t);var r=se(e,n,i).disconnect;return{disconnect:function(){r()}}},t.registerMutableSourceForHydration=function(e,t){var n=(n=t._getVersion)(t._source);null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=It;try{return It=e,t()}finally{It=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,i){var r=t.current,o=ra(),a=oa(r);return n=Ga(n),null===t.context?t.context=n:t.pendingContext=n,(t=hn(o,a)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),dn(r,t),null!==(e=aa(r,a,o))&&pn(e,r,a),a},t}},7276:function(e,t,n){"use strict";e.exports=n(9319)},7787:function(e,t,n){"use strict";e.exports=n(250)},608:function(e,t){"use strict";function n(e,t){var n=e.length;for(e.push(t);0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0!==e.length){var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var i=0,r=e.length,a=r>>>1;i<a;){var s=2*(i+1)-1,l=e[s],u=1+s,c=e[u];if(o(l,n)<0)i=u<r&&o(c,l)<0?(e[i]=c,e[u]=n,u):(e[i]=l,e[s]=n,s);else{if(!(u<r&&o(c,n)<0))break;e[i]=c,e[u]=n,i=u}}}}}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!=n?n:e.id-t.id}"object"==typeof performance&&"function"==typeof performance.now?(a=performance,t.unstable_now=function(){return a.now()}):(s=Date,l=s.now(),t.unstable_now=function(){return s.now()-l});var a,s,l,u=[],c=[],h=1,d=null,p=3,f=!1,g=!1,m=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,x="undefined"!=typeof setImmediate?setImmediate:null;function _(e){for(var t=i(c);null!==t;){if(null===t.callback)r(c);else{if(!(t.startTime<=e))break;r(c),t.sortIndex=t.expirationTime,n(u,t)}t=i(c)}}function b(e){var t;m=!1,_(e),g||(null!==i(u)?(g=!0,P(w)):null!==(t=i(c))&&L(b,t.startTime-e))}function w(e,n){g=!1,m&&(m=!1,v(I),I=-1),f=!0;var o=p;try{for(_(n),d=i(u);null!==d&&(!(d.expirationTime>n)||e&&!B());){var a,s=d.callback;"function"==typeof s?(d.callback=null,p=d.priorityLevel,a=s(d.expirationTime<=n),n=t.unstable_now(),"function"==typeof a?d.callback=a:d===i(u)&&r(u),_(n)):r(u),d=i(u)}var l;return null!==d||(null!==(l=i(c))&&L(b,l.startTime-n),!1)}finally{d=null,p=o,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,A,M,C=!1,T=null,I=-1,k=5,D=-1;function B(){return!(t.unstable_now()-D<k)}function E(){if(null!==T){var e=t.unstable_now(),n=(D=e,!0);try{n=T(!0,e)}finally{n?S():(C=!1,T=null)}}else C=!1}function P(e){T=e,C||(C=!0,S())}function L(e,n){I=y((function(){e(t.unstable_now())}),n)}S="function"==typeof x?function(){x(E)}:"undefined"!=typeof MessageChannel?(A=new MessageChannel,M=A.port2,A.port1.onmessage=E,function(){M.postMessage(null)}):function(){y(E,0)},t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,P(w))},t.unstable_forceFrameRate=function(e){e<0||125<e||(k=0<e?Math.floor(1e3/e):5)},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:r,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},a<o?(e.sortIndex=o,n(c,e),null===i(u)&&e===i(c)&&(m?(v(I),I=-1):m=!0,L(b,o-a))):(e.sortIndex=s,n(u,e),g||f||(g=!0,P(w))),e},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},1049:function(e,t,n){"use strict";e.exports=n(608)},8017:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SensorTabIndex=t.SensorClassName=t.SizeSensorId=void 0,t.SizeSensorId="size-sensor-id",t.SensorClassName="size-sensor-object",t.SensorTabIndex="-1"},4272:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:60,n=null;return function(){for(var i=this,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];clearTimeout(n),n=setTimeout((function(){e.apply(i,o)}),t)}}},2930:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=1;t.default=function(){return"".concat(n++)}},2881:function(e,t,n){"use strict";t.ZH=t.ak=void 0;var i=n(4319);t.ak=function(e,t){var n=(0,i.getSensor)(e);return n.bind(t),function(){n.unbind(t)}},t.ZH=function(e){e=(0,i.getSensor)(e),(0,i.removeSensor)(e)}},4319:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeSensor=t.getSensor=void 0;var i,r=(i=n(2930))&&i.__esModule?i:{default:i},o=n(1151),a=n(8017),s={};t.getSensor=function(e){var t=e.getAttribute(a.SizeSensorId);return t&&s[t]?s[t]:(t=(0,r.default)(),e.setAttribute(a.SizeSensorId,t),e=(0,o.createSensor)(e),s[t]=e)},t.removeSensor=function(e){var t=e.element.getAttribute(a.SizeSensorId);e.element.removeAttribute(a.SizeSensorId),e.destroy(),t&&s[t]&&delete s[t]}},1151:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var i=n(9428);n=n(9977),n=("undefined"!=typeof ResizeObserver?n:i).createSensor;t.createSensor=n},9428:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var i,r=(i=n(4272))&&i.__esModule?i:{default:i},o=n(8017);t.createSensor=function(e){function t(){n&&n.parentNode&&(n.contentDocument&&n.contentDocument.defaultView.removeEventListener("resize",a),n.parentNode.removeChild(n),n=void 0,i=[])}var n=void 0,i=[],a=(0,r.default)((function(){i.forEach((function(t){t(e)}))}));return{element:e,bind:function(t){var r;n||("static"===getComputedStyle(e).position&&(e.style.position="relative"),(r=document.createElement("object")).onload=function(){r.contentDocument.defaultView.addEventListener("resize",a),a()},r.style.display="block",r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.height="100%",r.style.width="100%",r.style.overflow="hidden",r.style.pointerEvents="none",r.style.zIndex="-1",r.style.opacity="0",r.setAttribute("class",o.SensorClassName),r.setAttribute("tabindex",o.SensorTabIndex),r.type="text/html",e.appendChild(r),r.data="about:blank",n=r),-1===i.indexOf(t)&&i.push(t)},destroy:t,unbind:function(e){-1!==(e=i.indexOf(e))&&i.splice(e,1),0===i.length&&n&&t()}}}},9977:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var i=(n=n(4272))&&n.__esModule?n:{default:n};t.createSensor=function(e){function t(){n.disconnect(),r=[],n=void 0}var n=void 0,r=[],o=(0,i.default)((function(){r.forEach((function(t){t(e)}))}));return{element:e,bind:function(t){var i;n||((i=new ResizeObserver(o)).observe(e),o(),n=i),-1===r.indexOf(t)&&r.push(t)},destroy:t,unbind:function(e){-1!==(e=r.indexOf(e))&&r.splice(e,1),0===r.length&&n&&t()}}}},5394:function(e){e.exports=((e=function e(){function t(e){return o.appendChild(e.dom),e}function n(e){for(var t=0;t<o.children.length;t++)o.children[t].style.display=t===e?"block":"none";r=e}var i,r=0,o=document.createElement("div"),a=(o.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",o.addEventListener("click",(function(e){e.preventDefault(),n(++r%o.children.length)}),!1),(performance||Date).now()),s=a,l=0,u=t(new e.Panel("FPS","#0ff","#002")),c=t(new e.Panel("MS","#0f0","#020"));return self.performance&&self.performance.memory&&(i=t(new e.Panel("MB","#f08","#201"))),n(0),{REVISION:16,dom:o,addPanel:t,showPanel:n,begin:function(){a=(performance||Date).now()},end:function(){l++;var e,t=(performance||Date).now();return c.update(t-a,200),s+1e3<t&&(u.update(1e3*l/(t-s),100),s=t,l=0,i)&&(e=performance.memory,i.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)),t},update:function(){a=this.end()},domElement:o,setMode:n}}).Panel=function(e,t,n){var i=1/0,r=0,o=Math.round,a=o(window.devicePixelRatio||1),s=80*a,l=48*a,u=3*a,c=2*a,h=3*a,d=15*a,p=74*a,f=30*a,g=document.createElement("canvas"),m=(g.width=s,g.height=l,g.style.cssText="width:80px;height:48px",g.getContext("2d"));return m.font="bold "+9*a+"px Helvetica,Arial,sans-serif",m.textBaseline="top",m.fillStyle=n,m.fillRect(0,0,s,l),m.fillStyle=t,m.fillText(e,u,c),m.fillRect(h,d,p,f),m.fillStyle=n,m.globalAlpha=.9,m.fillRect(h,d,p,f),{dom:g,update:function(l,y){i=Math.min(i,l),r=Math.max(r,l),m.fillStyle=n,m.globalAlpha=1,m.fillRect(0,0,s,d),m.fillStyle=t,m.fillText(o(l)+" "+e+" ("+o(i)+"-"+o(r)+")",u,c),m.drawImage(g,h+a,d,p-a,f,h,d,p-a,f),m.fillRect(h+p-a,d,a,f),m.fillStyle=n,m.globalAlpha=.9,m.fillRect(h+p-a,d,a,o((1-l/y)*f))}}},e)},771:function(e,t,n){"use strict";n=n(9867);var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=n.useState,o=n.useEffect,a=n.useLayoutEffect,s=n.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return 1}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=r({inst:{value:n,getSnapshot:t}}),u=i[0].inst,c=i[1];return a((function(){u.value=n,u.getSnapshot=t,l(u)&&c({inst:u})}),[e,n,t]),o((function(){return l(u)&&c({inst:u}),e((function(){l(u)&&c({inst:u})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},1439:function(e,t,n){"use strict";var i=n(9867),r=(n=n(6853),"function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}),o=n.useSyncExternalStore,a=i.useRef,s=i.useEffect,l=i.useMemo,u=i.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,i,c){var h,d=a(null),p=(null===d.current?(h={hasValue:!1,value:null},d.current=h):h=d.current,d=l((function(){function e(e){if(!s){if(s=!0,e=i(o=e),void 0!==c&&h.hasValue){var t=h.value;if(c(t,e))return a=t}return a=e}if(t=a,r(o,e))return t;var n=i(e);return void 0!==c&&c(t,n)?t:(o=e,a=n)}var o,a,s=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,i,c]),o(e,d[0],d[1]));return s((function(){h.hasValue=!0,h.value=p}),[p]),u(p),p}},6853:function(e,t,n){"use strict";e.exports=n(771)},6599:function(e,t,n){"use strict";e.exports=n(1439)},6425:function(e,t,n){"use strict";function i(e){function t(e,t){var n;(e="function"==typeof e?e(o):e)!==o&&(n=o,o=t?e:Object.assign({},o,e),i.forEach((function(e){return e(o,n)})))}function n(){return o}var i=new Set,r={setState:t,getState:n,subscribe:function(e){return i.add(e),function(){return i.delete(e)}},destroy:function(){return i.clear()}},o=e(t,n,r);return r}n.d(t,{ZP:function(){return s}});var r=n(9867),o=n(6599);function a(e){function t(e,t){return function(e,t,n){return t=1<arguments.length&&void 0!==t?t:e.getState,e=(0,o.useSyncExternalStoreWithSelector)(e.subscribe,e.getState,e.getServerState||e.getState,t,2<arguments.length?n:void 0),(0,r.useDebugValue)(e),e}(n,e,t)}var n="function"==typeof e?function(e){return e?i(e):i}(e):e;return Object.assign(t,n),t}var s=function(e){return e?a(e):a}},5647:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(9611),r=n(8814);function o(e,t,n){return(o=(0,r.Z)()?Reflect.construct:function(e,t,n){var r=[null];return r.push.apply(r,t),t=new(Function.bind.apply(e,r)),n&&(0,i.Z)(t,n.prototype),t}).apply(null,arguments)}},4925:function(e,t,n){"use strict";function i(e,t){if(null==e)return{};var n,i=function(e,t){if(null==e)return{};for(var n,i={},r=Object.keys(e),o=0;o<r.length;o++)n=r[o],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(e),o=0;o<r.length;o++)n=r[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n]);return i}n.d(t,{Z:function(){return i}})},8664:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(1120),r=n(9611),o=n(5647);function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return(0,o.Z)(e,arguments,(0,i.Z)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,r.Z)(n,e)})(e)}},8319:function(e,t,n){"use strict";n.d(t,{S:function(){return g}});var i=n(3144),r=n(5671),o=n(7326),a=n(136),s=n(9388),l=new((t=n(3391)).Plane),u=new t.Raycaster,c=new t.Vector2,h=new t.Vector3,d=new t.Vector3,p=new t.Vector3,f=new t.Matrix4,g=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,i,a){(0,r.Z)(this,n),s=t.call(this),a.style.touchAction="none";var s,g=null,m=null,y=[],v=(0,o.Z)(s);function x(){a.addEventListener("pointermove",b),a.addEventListener("pointerdown",w),a.addEventListener("pointerup",S),a.addEventListener("pointerleave",S)}function _(){a.removeEventListener("pointermove",b),a.removeEventListener("pointerdown",w),a.removeEventListener("pointerup",S),a.removeEventListener("pointerleave",S),a.style.cursor=""}function b(t){if(!1!==v.enabled){if(A(t),u.setFromCamera(c,i),g)return u.ray.intersectPlane(l,d)&&g.position.copy(d.sub(h).applyMatrix4(f)),void v.dispatchEvent({type:"drag",object:g});"mouse"!==t.pointerType&&"pen"!==t.pointerType||(y.length=0,u.setFromCamera(c,i),u.intersectObjects(e,!0,y),0<y.length?(t=y[0].object,l.setFromNormalAndCoplanarPoint(i.getWorldDirection(l.normal),p.setFromMatrixPosition(t.matrixWorld)),m!==t&&null!==m&&(v.dispatchEvent({type:"hoveroff",object:m}),a.style.cursor="auto",m=null),m!==t&&(v.dispatchEvent({type:"hoveron",object:t}),a.style.cursor="pointer",m=t)):null!==m&&(v.dispatchEvent({type:"hoveroff",object:m}),a.style.cursor="auto",m=null))}}function w(t){!1!==v.enabled&&(A(t),y.length=0,u.setFromCamera(c,i),u.intersectObjects(e,!0,y),0<y.length&&(g=!0===v.transformGroup?e[0]:y[0].object,l.setFromNormalAndCoplanarPoint(i.getWorldDirection(l.normal),p.setFromMatrixPosition(g.matrixWorld)),u.ray.intersectPlane(l,d)&&(f.copy(g.parent.matrixWorld).invert(),h.copy(d).sub(p.setFromMatrixPosition(g.matrixWorld))),a.style.cursor="move",v.dispatchEvent({type:"dragstart",object:g})))}function S(){!1!==v.enabled&&(g&&(v.dispatchEvent({type:"dragend",object:g}),g=null),a.style.cursor=m?"pointer":"auto")}function A(e){var t=a.getBoundingClientRect();c.x=(e.clientX-t.left)/t.width*2-1,c.y=-(e.clientY-t.top)/t.height*2+1}return x(),s.enabled=!0,s.transformGroup=!1,s.activate=x,s.deactivate=_,s.dispose=function(){_()},s.getObjects=function(){return e},s.getRaycaster=function(){return u},s}return(0,i.Z)(n)}(t.EventDispatcher)},7488:function(e,t,n){"use strict";n.d(t,{E:function(){return p}});var i=n(9439),r=n(7762),o=n(7326),a=n(8301),s=n(1120),l=n(5671),u=n(3144),c=n(136),h=n(9388),d=n(3391),p=function(e){(0,c.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,l.Z)(this,n),(e=t.call(this,e)).dracoLoader=null,e.ktx2Loader=null,e.meshoptDecoder=null,e.pluginCallbacks=[],e.register((function(e){return new x(e)})),e.register((function(e){return new M(e)})),e.register((function(e){return new C(e)})),e.register((function(e){return new _(e)})),e.register((function(e){return new b(e)})),e.register((function(e){return new w(e)})),e.register((function(e){return new S(e)})),e.register((function(e){return new v(e)})),e.register((function(e){return new A(e)})),e.register((function(e){return new m(e)})),e.register((function(e){return new T(e)})),e}return(0,u.Z)(n,[{key:"load",value:function(e,t,n,i){function r(t){i&&i(t),o.manager.itemError(e),o.manager.itemEnd(e)}var o=this,a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:d.LoaderUtils.extractUrlBase(e),s=(this.manager.itemStart(e),new d.FileLoader(this.manager));s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{o.parse(n,a,(function(n){t(n),o.manager.itemEnd(e)}),r)}catch(n){r(n)}}),n,r)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,i){var r,o={},a={};if("string"==typeof e)r=e;else if(d.LoaderUtils.decodeText(new Uint8Array(e,0,4))===I){try{o[g.KHR_BINARY_GLTF]=new k(e)}catch(e){return void(i&&i(e))}r=o[g.KHR_BINARY_GLTF].content}else r=d.LoaderUtils.decodeText(new Uint8Array(e));var s=JSON.parse(r);if(void 0===s.asset||s.asset.version[0]<2)i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var l=new J(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(var u=0;u<this.pluginCallbacks.length;u++){var c=this.pluginCallbacks[u](l);o[(a[c.name]=c).name]=!0}if(s.extensionsUsed)for(var h=0;h<s.extensionsUsed.length;++h){var p=s.extensionsUsed[h],f=s.extensionsRequired||[];switch(p){case g.KHR_MATERIALS_UNLIT:o[p]=new y;break;case g.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[p]=new P;break;case g.KHR_DRACO_MESH_COMPRESSION:o[p]=new D(s,this.dracoLoader);break;case g.KHR_TEXTURE_TRANSFORM:o[p]=new B;break;case g.KHR_MESH_QUANTIZATION:o[p]=new L;break;default:0<=f.indexOf(p)&&a[p]}}l.setExtensions(o),l.setPlugins(a),l.parse(n,i)}}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(i,r){n.parse(e,t,i,r)}))}}]),n}(d.Loader);function f(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var g={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"},m=function(){function e(t){(0,l.Z)(this,e),this.parser=t,this.name=g.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return(0,u.Z)(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,i=t.length;n<i;n++){var r=t[n];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,i=t.cache.get(n);if(i)return i;var r,o=t.json,a=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e],s=new d.Color(16777215),l=(void 0!==a.color&&s.fromArray(a.color),void 0!==a.range?a.range:0);switch(a.type){case"directional":(r=new d.DirectionalLight(s)).target.position.set(0,0,-1),r.add(r.target);break;case"point":(r=new d.PointLight(s)).distance=l;break;case"spot":(r=new d.SpotLight(s)).distance=l,a.spot=a.spot||{},a.spot.innerConeAngle=void 0!==a.spot.innerConeAngle?a.spot.innerConeAngle:0,a.spot.outerConeAngle=void 0!==a.spot.outerConeAngle?a.spot.outerConeAngle:Math.PI/4,r.angle=a.spot.outerConeAngle,r.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,r.target.position.set(0,0,-1),r.add(r.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+a.type)}return r.position.set(0,0,0),r.decay=2,void 0!==a.intensity&&(r.intensity=a.intensity),r.name=t.createUniqueName(a.name||"light_"+e),i=Promise.resolve(r),t.cache.add(n,i),i}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,i=((e=n.json.nodes[e]).extensions&&e.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))}}]),e}(),y=function(){function e(){(0,l.Z)(this,e),this.name=g.KHR_MATERIALS_UNLIT}return(0,u.Z)(e,[{key:"getMaterialType",value:function(){return d.MeshBasicMaterial}},{key:"extendParams",value:function(e,t,n){var i,r=[];return(t=(e.color=new d.Color(1,1,1),e.opacity=1,t.pbrMetallicRoughness))&&(Array.isArray(t.baseColorFactor)&&(i=t.baseColorFactor,e.color.fromArray(i),e.opacity=i[3]),void 0!==t.baseColorTexture&&r.push(n.assignTexture(e,"map",t.baseColorTexture,d.sRGBEncoding))),Promise.all(r)}}]),e}(),v=function(){function e(t){(0,l.Z)(this,e),this.parser=t,this.name=g.KHR_MATERIALS_EMISSIVE_STRENGTH}return(0,u.Z)(e,[{key:"extendMaterialParams",value:function(e,t){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]?(void 0!==(e=e.extensions[this.name].emissiveStrength)&&(t.emissiveIntensity=e),Promise.resolve()):Promise.resolve()}}]),e}(),x=function(){function e(t){(0,l.Z)(this,e),this.parser=t,this.name=g.KHR_MATERIALS_CLEARCOAT}return(0,u.Z)(e,[{key:"getMaterialType",value:function(e){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]?d.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser;if(!(e=n.json.materials[e]).extensions||!e.extensions[this.name])return Promise.resolve();var i=[];return void 0!==(e=e.extensions[this.name]).clearcoatFactor&&(t.clearcoat=e.clearcoatFactor),void 0!==e.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",e.clearcoatTexture)),void 0!==e.clearcoatRoughnessFactor&&(t.clearcoatRoughness=e.clearcoatRoughnessFactor),void 0!==e.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",e.clearcoatRoughnessTexture)),void 0!==e.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",e.clearcoatNormalTexture)),void 0!==e.clearcoatNormalTexture.scale&&(n=e.clearcoatNormalTexture.scale,t.clearcoatNormalScale=new d.Vector2(n,n))),Promise.all(i)}}]),e}(),_=function(){function e(t){(0,l.Z)(this,e),this.parser=t,this.name=g.KHR_MATERIALS_SHEEN}return(0,u.Z)(e,[{key:"getMaterialType",value:function(e){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]?d.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser;if(!(e=n.json.materials[e]).extensions||!e.extensions[this.name])return Promise.resolve();var i=[];return void 0!==(e=(t.sheenColor=new d.Color(0,0,0),t.sheenRoughness=0,t.sheen=1,e.extensions[this.name])).sheenColorFactor&&t.sheenColor.fromArray(e.sheenColorFactor),void 0!==e.sheenRoughnessFactor&&(t.sheenRoughness=e.sheenRoughnessFactor),void 0!==e.sheenColorTexture&&i.push(n.assignTexture(t,"sheenColorMap",e.sheenColorTexture,d.sRGBEncoding)),void 0!==e.sheenRoughnessTexture&&i.push(n.assignTexture(t,"sheenRoughnessMap",e.sheenRoughnessTexture)),Promise.all(i)}}]),e}(),b=function(){function e(t){(0,l.Z)(this,e),this.parser=t,this.name=g.KHR_MATERIALS_TRANSMISSION}return(0,u.Z)(e,[{key:"getMaterialType",value:function(e){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]?d.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser;if(!(e=n.json.materials[e]).extensions||!e.extensions[this.name])return Promise.resolve();var i=[];return void 0!==(e=e.extensions[this.name]).transmissionFactor&&(t.transmission=e.transmissionFactor),void 0!==e.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",e.transmissionTexture)),Promise.all(i)}}]),e}(),w=function(){function e(t){(0,l.Z)(this,e),this.parser=t,this.name=g.KHR_MATERIALS_VOLUME}return(0,u.Z)(e,[{key:"getMaterialType",value:function(e){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]?d.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){if(!(e=(i=this.parser).json.materials[e]).extensions||!e.extensions[this.name])return Promise.resolve();var n=[],i=(e=e.extensions[this.name],t.thickness=void 0!==e.thicknessFactor?e.thicknessFactor:0,void 0!==e.thicknessTexture&&n.push(i.assignTexture(t,"thicknessMap",e.thicknessTexture)),t.attenuationDistance=e.attenuationDistance||0,e.attenuationColor||[1,1,1]);return t.attenuationColor=new d.Color(i[0],i[1],i[2]),Promise.all(n)}}]),e}(),S=function(){function e(t){(0,l.Z)(this,e),this.parser=t,this.name=g.KHR_MATERIALS_IOR}return(0,u.Z)(e,[{key:"getMaterialType",value:function(e){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]?d.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]?(e=e.extensions[this.name],t.ior=void 0!==e.ior?e.ior:1.5,Promise.resolve()):Promise.resolve()}}]),e}(),A=function(){function e(t){(0,l.Z)(this,e),this.parser=t,this.name=g.KHR_MATERIALS_SPECULAR}return(0,u.Z)(e,[{key:"getMaterialType",value:function(e){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]?d.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser;if(!(e=n.json.materials[e]).extensions||!e.extensions[this.name])return Promise.resolve();var i=[],r=(e=e.extensions[this.name],t.specularIntensity=void 0!==e.specularFactor?e.specularFactor:1,void 0!==e.specularTexture&&i.push(n.assignTexture(t,"specularIntensityMap",e.specularTexture)),e.specularColorFactor||[1,1,1]);return t.specularColor=new d.Color(r[0],r[1],r[2]),void 0!==e.specularColorTexture&&i.push(n.assignTexture(t,"specularColorMap",e.specularColorTexture,d.sRGBEncoding)),Promise.all(i)}}]),e}(),M=function(){function e(t){(0,l.Z)(this,e),this.parser=t,this.name=g.KHR_TEXTURE_BASISU}return(0,u.Z)(e,[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json;if(!(i=n.textures[e]).extensions||!i.extensions[this.name])return null;var i=i.extensions[this.name],r=t.options.ktx2Loader;if(r)return t.loadTextureImage(e,i.source,r);if(n.extensionsRequired&&0<=n.extensionsRequired.indexOf(this.name))throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}}]),e}(),C=function(){function e(t){(0,l.Z)(this,e),this.parser=t,this.name=g.EXT_TEXTURE_WEBP,this.isSupported=null}return(0,u.Z)(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,i=n.json;if(!(o=i.textures[e]).extensions||!o.extensions[t])return null;var r=o.extensions[t],o=i.images[r.source],a=n.textureLoader;return o.uri&&null!==(o=n.options.manager.getHandler(o.uri))&&(a=o),this.detectSupport().then((function(o){if(o)return n.loadTextureImage(e,r.source,a);if(i.extensionsRequired&&0<=i.extensionsRequired.indexOf(t))throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),T=function(){function e(t){(0,l.Z)(this,e),this.name=g.EXT_MESHOPT_COMPRESSION,this.parser=t}return(0,u.Z)(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json;if((e=t.bufferViews[e]).extensions&&e.extensions[this.name]){var n=e.extensions[this.name],i=(e=this.parser.getDependency("buffer",n.buffer),this.parser.options.meshoptDecoder);if(i&&i.supported)return Promise.all([e,i.ready]).then((function(e){var t=n.byteOffset||0,r=n.byteLength||0,o=n.count,a=n.byteStride,s=new ArrayBuffer(o*a);e=new Uint8Array(e[0],t,r);return i.decodeGltfBuffer(new Uint8Array(s),o,a,e,n.mode,n.filter),s}));if(t.extensionsRequired&&0<=t.extensionsRequired.indexOf(this.name))throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return null}}]),e}(),I="glTF",k=(0,u.Z)((function e(t){(0,l.Z)(this,e),this.name=g.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(t,0,12);if(this.header={magic:d.LoaderUtils.decodeText(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==I)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var i=this.header.length-12,r=new DataView(t,12),o=0;o<i;){var a,s=r.getUint32(o,!0),u=(o+=4,r.getUint32(o,!0));o+=4,1313821514===u?(a=new Uint8Array(t,12+o,s),this.content=d.LoaderUtils.decodeText(a)):5130562===u&&(this.body=t.slice(a=12+o,a+s)),o+=s}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),D=function(){function e(t,n){if((0,l.Z)(this,e),!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=g.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}return(0,u.Z)(e,[{key:"decodePrimitive",value:function(e,t){var n,i,r=this.json,o=this.dracoLoader,a=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,l={},u={},c={};for(n in s){var h=V[n]||n.toLowerCase();l[h]=s[n]}for(i in e.attributes){var d,p,f=V[i]||i.toLowerCase();void 0!==s[i]&&(d=r.accessors[e.attributes[i]],p=N[d.componentType],c[f]=p,u[f]=!0===d.normalized)}return t.getDependency("bufferView",a).then((function(e){return new Promise((function(t){o.decodeDracoFile(e,(function(e){for(var n in e.attributes){var i=e.attributes[n];void 0!==(n=u[n])&&(i.normalized=n)}t(e)}),l,c)}))}))}}]),e}(),B=function(){function e(){(0,l.Z)(this,e),this.name=g.KHR_TEXTURE_TRANSFORM}return(0,u.Z)(e,[{key:"extendTexture",value:function(e,t){return t.texCoord,void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}]),e}(),E=function(e){(0,c.Z)(n,e);var t=(0,h.Z)(n);function n(e){(0,l.Z)(this,n),(i=t.call(this)).isGLTFSpecularGlossinessMaterial=!0;var i,r=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),a=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),s=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),u=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),c=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),h={specular:{value:(new d.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};return i._extraUniforms=h,i.onBeforeCompile=function(e){for(var t in h)e.uniforms[t]=h[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",r).replace("#include <metalnessmap_pars_fragment>",a).replace("#include <roughnessmap_fragment>",s).replace("#include <metalnessmap_fragment>",u).replace("#include <lights_physical_fragment>",c)},Object.defineProperties((0,o.Z)(i),{specular:{get:function(){return h.specular.value},set:function(e){h.specular.value=e}},specularMap:{get:function(){return h.specularMap.value},set:function(e){(h.specularMap.value=e)?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return h.glossiness.value},set:function(e){h.glossiness.value=e}},glossinessMap:{get:function(){return h.glossinessMap.value},set:function(e){(h.glossinessMap.value=e)?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete i.metalness,delete i.roughness,delete i.metalnessMap,delete i.roughnessMap,i.setValues(e),i}return(0,u.Z)(n,[{key:"copy",value:function(e){return(0,a.Z)((0,s.Z)(n.prototype),"copy",this).call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}]),n}(d.MeshStandardMaterial),P=function(){function e(){(0,l.Z)(this,e),this.name=g.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}return(0,u.Z)(e,[{key:"getMaterialType",value:function(){return E}},{key:"extendParams",value:function(e,t,n){t=t.extensions[this.name];var i,r=(e.color=new d.Color(1,1,1),e.opacity=1,[]);return Array.isArray(t.diffuseFactor)&&(i=t.diffuseFactor,e.color.fromArray(i),e.opacity=i[3]),void 0!==t.diffuseTexture&&r.push(n.assignTexture(e,"map",t.diffuseTexture,d.sRGBEncoding)),e.emissive=new d.Color(0,0,0),e.glossiness=void 0!==t.glossinessFactor?t.glossinessFactor:1,e.specular=new d.Color(1,1,1),Array.isArray(t.specularFactor)&&e.specular.fromArray(t.specularFactor),void 0!==t.specularGlossinessTexture&&(i=t.specularGlossinessTexture,r.push(n.assignTexture(e,"glossinessMap",i)),r.push(n.assignTexture(e,"specularMap",i,d.sRGBEncoding))),Promise.all(r)}},{key:"createMaterial",value:function(e){var t=new E(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=void 0===e.emissiveIntensity?1:e.emissiveIntensity,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=d.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t}}]),e}(),L=(0,u.Z)((function e(){(0,l.Z)(this,e),this.name=g.KHR_MESH_QUANTIZATION})),R=function(e){(0,c.Z)(n,e);var t=(0,h.Z)(n);function n(e,i,r,o){return(0,l.Z)(this,n),t.call(this,e,i,r,o)}return(0,u.Z)(n,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i*3+i,o=0;o!==i;o++)t[o]=n[r+o];return t}}]),n}(d.Interpolant),O=(R.prototype.beforeStart_=R.prototype.copySampleValue_,R.prototype.afterEnd_=R.prototype.copySampleValue_,R.prototype.interpolate_=function(e,t,n,i){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=2*a,l=3*a,u=i-t,c=e*l,h=c-l,d=-2*(t=(n=(i=(n-t)/u)*i)*i)+3*n,p=t-n,f=1-d,g=p-n+i,m=0;m!==a;m++){var y=o[h+m+a],v=o[h+m+s]*u,x=o[c+m+a],_=o[c+m]*u;r[m]=f*y+g*v+d*x+p*_}return r},new d.Quaternion),F=function(){(0,c.Z)(t,R);var e=(0,h.Z)(t);function t(){return(0,l.Z)(this,t),e.apply(this,arguments)}return(0,u.Z)(t,[{key:"interpolate_",value:function(e,n,i,r){return e=(0,a.Z)((0,s.Z)(t.prototype),"interpolate_",this).call(this,e,n,i,r),O.fromArray(e).normalize().toArray(e),e}}]),t}(),N={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},z={9728:d.NearestFilter,9729:d.LinearFilter,9984:d.NearestMipmapNearestFilter,9985:d.LinearMipmapNearestFilter,9986:d.NearestMipmapLinearFilter,9987:d.LinearMipmapLinearFilter},G={33071:d.ClampToEdgeWrapping,33648:d.MirroredRepeatWrapping,10497:d.RepeatWrapping},H={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},V={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},U={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Z={CUBICSPLINE:void 0,LINEAR:d.InterpolateLinear,STEP:d.InterpolateDiscrete};function W(e,t,n){for(var i in n.extensions)void 0===e[i]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[i]=n.extensions[i])}function j(e,t){void 0!==t.extras&&"object"==typeof t.extras&&Object.assign(e.userData,t.extras)}function X(e){for(var t="",n=Object.keys(e).sort(),i=0,r=n.length;i<r;i++)t+=n[i]+":"+e[n[i]]+";";return t}function Y(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var J=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=(t=((0,l.Z)(this,e),this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new f,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={},!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),(n=-1<navigator.userAgent.indexOf("Firefox"))?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1);"undefined"==typeof createImageBitmap||t||n&&i<98?this.textureLoader=new d.TextureLoader(this.options.manager):this.textureLoader=new d.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new d.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return(0,u.Z)(e,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var n=this,i=this.json,r=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){var o={scene:t[0][i.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:i.asset,parser:n,userData:{}};W(r,o,i),j(o,i),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(o)}))).then((function(){e(o)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],i=0,r=t.length;i<r;i++)for(var o=t[i].joints,a=0,s=o.length;a<s;a++)e[o[a]].isBone=!0;for(var l=0,u=e.length;l<u;l++){var c=e[l];void 0!==c.mesh&&(this._addNodeRef(this.meshCache,c.mesh),void 0!==c.skin&&(n[c.mesh].isSkinnedMesh=!0)),void 0!==c.camera&&this._addNodeRef(this.cameraCache,c.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){var o=this;if(e.refs[t]<=1)return n;var a=n.clone();return function e(t,n){var a,s=o.associations.get(t),l=(null!=s&&o.associations.set(n,s),(0,r.Z)(t.children.entries()));try{for(l.s();!(a=l.n()).done;){var u=(0,i.Z)(a.value,2),c=u[0];e(u[1],n.children[c])}}catch(e){l.e(e)}finally{l.f()}}(n,a),a.name+="_instance_"+e.uses[t]++,a}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var i=e(t[n]);if(i)return i}return null}},{key:"_invokeAll",value:function(e){for(var t=Object.values(this.plugins),n=(t.unshift(this),[]),i=0;i<t.length;i++){var r=e(t[i]);r&&n.push(r)}return n}},{key:"getDependency",value:function(e,t){var n=e+":"+t,i=this.cache.get(n);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":i=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":i=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,i)}return i}},{key:"getDependencies",value:function(e){var t,n,i=this.cache.get(e);return i||(n=(t=this).json[e+("mesh"===e?"es":"s")]||[],i=Promise.all(n.map((function(n,i){return t.getDependency(e,i)}))),this.cache.add(e,i)),i}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[g.KHR_BINARY_GLTF].body);var i=this.options;return new Promise((function(e,r){n.load(d.LoaderUtils.resolveURL(t.uri,i.path),e,void 0,(function(){r(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,i=t.byteOffset||0;return e.slice(i,i+n)}))}},{key:"loadAccessor",value:function(e){var t=this,n=this.json,i=this.json.accessors[e];return void 0===i.bufferView&&void 0===i.sparse?Promise.resolve(null):(e=[],void 0!==i.bufferView?e.push(this.getDependency("bufferView",i.bufferView)):e.push(null),void 0!==i.sparse&&(e.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),e.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(e).then((function(e){var r,o=e[0],a=H[i.type],s=N[i.componentType],l=s.BYTES_PER_ELEMENT,u=i.byteOffset||0,c=void 0!==i.bufferView?n.bufferViews[i.bufferView].byteStride:void 0,h=!0===i.normalized,p=c&&c!==l*a?(f=Math.floor(u/c),g="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+f+":"+i.count,(m=t.cache.get(g))||(r=new s(o,f*c,i.count*c/l),m=new d.InterleavedBuffer(r,c/l),t.cache.add(g,m)),new d.InterleavedBufferAttribute(m,a,u%c/l,h)):(r=null===o?new s(i.count*a):new s(o,u,i.count*a),new d.BufferAttribute(r,a,h));if(void 0!==i.sparse){var f=N[i.sparse.indices.componentType],g=i.sparse.indices.byteOffset||0,m=i.sparse.values.byteOffset||0,y=new f(e[1],g,i.sparse.count*H.SCALAR),v=new s(e[2],m,i.sparse.count*a);null!==o&&(p=new d.BufferAttribute(p.array.slice(),p.itemSize,p.normalized));for(var x=0,_=y.length;x<_;x++){var b=y[x];if(p.setX(b,v[x*a]),2<=a&&p.setY(b,v[x*a+1]),3<=a&&p.setZ(b,v[x*a+2]),4<=a&&p.setW(b,v[x*a+3]),5<=a)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return p})))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,i=t.textures[e].source,r=(t=t.images[i],this.textureLoader);return t.uri&&null!==(n=n.manager.getHandler(t.uri))&&(r=n),this.loadTextureImage(e,i,r)}},{key:"loadTextureImage",value:function(e,t,n){var i=this,r=this.json,o=r.textures[e],a=((a=r.images[t]).uri||a.bufferView)+":"+o.sampler;return this.textureCache[a]?this.textureCache[a]:(t=this.loadImageSource(t,n).then((function(t){t.flipY=!1,o.name&&(t.name=o.name);var n=(r.samplers||{})[o.sampler]||{};return t.magFilter=z[n.magFilter]||d.LinearFilter,t.minFilter=z[n.minFilter]||d.LinearMipmapLinearFilter,t.wrapS=G[n.wrapS]||d.RepeatWrapping,t.wrapT=G[n.wrapT]||d.RepeatWrapping,i.associations.set(t,{textures:e}),t})).catch((function(){return null})),this.textureCache[a]=t)}},{key:"loadImageSource",value:function(e,t){var n=this.json,i=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((function(e){return e.clone()}));var r=n.images[e],o=self.URL||self.webkitURL,a=r.uri||"",s=!1;if(void 0!==r.bufferView)a=this.getDependency("bufferView",r.bufferView).then((function(e){return s=!0,e=new Blob([e],{type:r.mimeType}),a=o.createObjectURL(e)}));else if(void 0===r.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");return n=Promise.resolve(a).then((function(e){return new Promise((function(n,r){var o=n;!0===t.isImageBitmapLoader&&(o=function(e){(e=new d.Texture(e)).needsUpdate=!0,n(e)}),t.load(d.LoaderUtils.resolveURL(e,i.path),o,void 0,r)}))})).then((function(e){var t;return!0===s&&o.revokeObjectURL(a),e.userData.mimeType=r.mimeType||(0<(t=r.uri).search(/\.jpe?g($|\?)/i)||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":0<t.search(/\.webp($|\?)/i)||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw e})),this.sourceCache[e]=n}},{key:"assignTexture",value:function(e,t,n,i){var r=this;return this.getDependency("texture",n.index).then((function(o){var a,s;return void 0!==n.texCoord&&0!=n.texCoord&&"aoMap"===t&&n.texCoord,r.extensions[g.KHR_TEXTURE_TRANSFORM]&&(a=void 0!==n.extensions?n.extensions[g.KHR_TEXTURE_TRANSFORM]:void 0)&&(s=r.associations.get(o),o=r.extensions[g.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),r.associations.set(o,s)),void 0!==i&&(o.encoding=i),e[t]=o}))}},{key:"assignFinalMaterial",value:function(e){var t,n,i=e.geometry,r=e.material,o=void 0===i.attributes.tangent,a=void 0!==i.attributes.color,s=void 0===i.attributes.normal;e.isPoints?(t="PointsMaterial:"+r.uuid,(n=this.cache.get(t))||(n=new d.PointsMaterial,d.Material.prototype.copy.call(n,r),n.color.copy(r.color),n.map=r.map,n.sizeAttenuation=!1,this.cache.add(t,n)),r=n):e.isLine&&(t="LineBasicMaterial:"+r.uuid,(n=this.cache.get(t))||(n=new d.LineBasicMaterial,d.Material.prototype.copy.call(n,r),n.color.copy(r.color),this.cache.add(t,n)),r=n),(o||a||s)&&(t="ClonedMaterial:"+r.uuid+":",r.isGLTFSpecularGlossinessMaterial&&(t+="specular-glossiness:"),o&&(t+="derivative-tangents:"),a&&(t+="vertex-colors:"),s&&(t+="flat-shading:"),(n=this.cache.get(t))||(n=r.clone(),a&&(n.vertexColors=!0),s&&(n.flatShading=!0),o&&(n.normalScale&&(n.normalScale.y*=-1),n.clearcoatNormalScale&&(n.clearcoatNormalScale.y*=-1)),this.cache.add(t,n),this.associations.set(n,this.associations.get(r))),r=n),r.aoMap&&void 0===i.attributes.uv2&&void 0!==i.attributes.uv&&i.setAttribute("uv2",i.attributes.uv),e.material=r}},{key:"getMaterialType",value:function(){return d.MeshStandardMaterial}},{key:"loadMaterial",value:function(e){var t,n=this,i=this.json,r=this.extensions,o=i.materials[e],a={},s=[],l=((i=o.extensions||{})[g.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]?(l=r[g.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS],t=l.getMaterialType(),s.push(l.extendParams(a,o,n))):i[g.KHR_MATERIALS_UNLIT]?(l=r[g.KHR_MATERIALS_UNLIT],t=l.getMaterialType(),s.push(l.extendParams(a,o,n))):(i=o.pbrMetallicRoughness||{},a.color=new d.Color(1,1,1),a.opacity=1,Array.isArray(i.baseColorFactor)&&(l=i.baseColorFactor,a.color.fromArray(l),a.opacity=l[3]),void 0!==i.baseColorTexture&&s.push(n.assignTexture(a,"map",i.baseColorTexture,d.sRGBEncoding)),a.metalness=void 0!==i.metallicFactor?i.metallicFactor:1,a.roughness=void 0!==i.roughnessFactor?i.roughnessFactor:1,void 0!==i.metallicRoughnessTexture&&(s.push(n.assignTexture(a,"metalnessMap",i.metallicRoughnessTexture)),s.push(n.assignTexture(a,"roughnessMap",i.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),s.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,a)}))))),!0===o.doubleSided&&(a.side=d.DoubleSide),o.alphaMode||"OPAQUE");return"BLEND"===l?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,"MASK"===l&&(a.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&t!==d.MeshBasicMaterial&&(s.push(n.assignTexture(a,"normalMap",o.normalTexture)),a.normalScale=new d.Vector2(1,1),void 0!==o.normalTexture.scale&&(i=o.normalTexture.scale,a.normalScale.set(i,i))),void 0!==o.occlusionTexture&&t!==d.MeshBasicMaterial&&(s.push(n.assignTexture(a,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(a.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&t!==d.MeshBasicMaterial&&(a.emissive=(new d.Color).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&t!==d.MeshBasicMaterial&&s.push(n.assignTexture(a,"emissiveMap",o.emissiveTexture,d.sRGBEncoding)),Promise.all(s).then((function(){var i=t===E?r[g.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):new t(a);return o.name&&(i.name=o.name),j(i,o),n.associations.set(i,{materials:e}),o.extensions&&W(r,i,o),i}))}},{key:"createUniqueName",value:function(e){for(var t=d.PropertyBinding.sanitizeNodeName(e||""),n=t,i=1;this.nodeNamesUsed[n];++i)n=t+"_"+i;return this.nodeNamesUsed[n]=!0,n}},{key:"loadGeometries",value:function(e){for(var t=this,n=this.extensions,i=this.primitiveCache,r=[],o=0,a=e.length;o<a;o++){var s=e[o],l=(u=void 0,u=(u=(l=s).extensions&&l.extensions[g.KHR_DRACO_MESH_COMPRESSION])?"draco:"+u.bufferView+":"+u.indices+":"+X(u.attributes):l.indices+":"+X(l.attributes)+":"+l.mode),u=i[l];u?r.push(u.promise):(u=void 0,u=s.extensions&&s.extensions[g.KHR_DRACO_MESH_COMPRESSION]?function(e){return n[g.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return K(n,e,t)}))}(s):K(new d.BufferGeometry,s,t),i[l]={primitive:s,promise:u},r.push(u))}return Promise.all(r)}},{key:"loadMesh",value:function(e){for(var t=this,n=this.json,i=this.extensions,r=n.meshes[e],o=r.primitives,a=[],s=0,l=o.length;s<l;s++){var u=void 0===o[s].material?(void 0===(u=this.cache).DefaultMaterial&&(u.DefaultMaterial=new d.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:d.FrontSide})),u.DefaultMaterial):this.getDependency("material",o[s].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then((function(n){for(var a=n.slice(0,n.length-1),s=n[n.length-1],l=[],u=0,c=s.length;u<c;u++){var h=s[u],p=o[u],f=void 0,g=a[u];if(4===p.mode||5===p.mode||6===p.mode||void 0===p.mode)!0!==(f=new(!0===r.isSkinnedMesh?d.SkinnedMesh:d.Mesh)(h,g)).isSkinnedMesh||f.geometry.attributes.skinWeight.normalized||f.normalizeSkinWeights(),5===p.mode?f.geometry=Q(f.geometry,d.TriangleStripDrawMode):6===p.mode&&(f.geometry=Q(f.geometry,d.TriangleFanDrawMode));else if(1===p.mode)f=new d.LineSegments(h,g);else if(3===p.mode)f=new d.Line(h,g);else if(2===p.mode)f=new d.LineLoop(h,g);else{if(0!==p.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+p.mode);f=new d.Points(h,g)}if(0<Object.keys(f.geometry.morphAttributes).length){w=b=_=x=v=m=void 0;var m=f,y=r;if(m.updateMorphTargets(),void 0!==y.weights)for(var v=0,x=y.weights.length;v<x;v++)m.morphTargetInfluences[v]=y.weights[v];if(y.extras&&Array.isArray(y.extras.targetNames)){var _=y.extras.targetNames;if(m.morphTargetInfluences.length===_.length){m.morphTargetDictionary={};for(var b=0,w=_.length;b<w;b++)m.morphTargetDictionary[_[b]]=b}}}f.name=t.createUniqueName(r.name||"mesh_"+e),j(f,r),p.extensions&&W(i,f,p),t.assignFinalMaterial(f),l.push(f)}for(var S=0,A=l.length;S<A;S++)t.associations.set(l[S],{meshes:e,primitives:S});if(1===l.length)return l[0];var M=new d.Group;t.associations.set(M,{meshes:e});for(var C=0,T=l.length;C<T;C++)M.add(l[C]);return M}))}},{key:"loadCamera",value:function(e){var t,n=(e=this.json.cameras[e])[e.type];if(n)return"perspective"===e.type?t=new d.PerspectiveCamera(d.MathUtils.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===e.type&&(t=new d.OrthographicCamera(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),e.name&&(t.name=this.createUniqueName(e.name)),j(t,e),Promise.resolve(t)}},{key:"loadSkin",value:function(e){var t={joints:(e=this.json.skins[e]).joints};return void 0===e.inverseBindMatrices?Promise.resolve(t):this.getDependency("accessor",e.inverseBindMatrices).then((function(e){return t.inverseBindMatrices=e,t}))}},{key:"loadAnimation",value:function(e){for(var t=this.json.animations[e],n=[],i=[],r=[],o=[],a=[],s=0,l=t.channels.length;s<l;s++){var u=t.channels[s],c=t.samplers[u.sampler],h=void 0!==(u=u.target).node?u.node:u.id,p=void 0!==t.parameters?t.parameters[c.input]:c.input,f=void 0!==t.parameters?t.parameters[c.output]:c.output;n.push(this.getDependency("node",h)),i.push(this.getDependency("accessor",p)),r.push(this.getDependency("accessor",f)),o.push(c),a.push(u)}return Promise.all([Promise.all(n),Promise.all(i),Promise.all(r),Promise.all(o),Promise.all(a)]).then((function(n){for(var i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=[],u=0,c=i.length;u<c;u++)!function(e){var t=i[e],n=r[e],u=o[e],c=a[e],h=s[e];if(void 0!==t){t.updateMatrix(),t.matrixAutoUpdate=!0;var p=void 0;switch(U[h.path]){case U.weights:p=d.NumberKeyframeTrack;break;case U.rotation:p=d.QuaternionKeyframeTrack;break;default:p=d.VectorKeyframeTrack}e=t.name||t.uuid;var f=void 0!==c.interpolation?Z[c.interpolation]:d.InterpolateLinear,g=[],m=(U[h.path]===U.weights?t.traverse((function(e){e.morphTargetInfluences&&g.push(e.name||e.uuid)})):g.push(e),u.array);if(u.normalized){for(var y=Y(m.constructor),v=new Float32Array(m.length),x=0,_=m.length;x<_;x++)v[x]=m[x]*y;m=v}for(var b=0,w=g.length;b<w;b++){var S=new p(g[b]+"."+U[h.path],n.array,m,f);"CUBICSPLINE"===c.interpolation&&(S.createInterpolant=function(e){return new(this instanceof d.QuaternionKeyframeTrack?F:R)(this.times,this.values,this.getValueSize()/3,e)},S.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(S)}}}(u);return n=t.name||"animation_"+e,new d.AnimationClip(n,void 0,l)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,i=t.nodes[e];return void 0===i.mesh?null:n.getDependency("mesh",i.mesh).then((function(e){return e=n._getNodeRef(n.meshCache,i.mesh,e),void 0!==i.weights&&e.traverse((function(e){if(e.isMesh)for(var t=0,n=i.weights.length;t<n;t++)e.morphTargetInfluences[t]=i.weights[t]})),e}))}},{key:"loadNode",value:function(e){var t,n=this.json,i=this.extensions,r=this,o=n.nodes[e],a=o.name?r.createUniqueName(o.name):"";return t=[],(n=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)})))&&t.push(n),void 0!==o.camera&&t.push(r.getDependency("camera",o.camera).then((function(e){return r._getNodeRef(r.cameraCache,o.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t).then((function(t){var n,s=!0===o.isBone?new d.Bone:1<t.length?new d.Group:1===t.length?t[0]:new d.Object3D;if(s!==t[0])for(var l=0,u=t.length;l<u;l++)s.add(t[l]);return o.name&&(s.userData.name=o.name,s.name=a),j(s,o),o.extensions&&W(i,s,o),void 0!==o.matrix?((n=new d.Matrix4).fromArray(o.matrix),s.applyMatrix4(n)):(void 0!==o.translation&&s.position.fromArray(o.translation),void 0!==o.rotation&&s.quaternion.fromArray(o.rotation),void 0!==o.scale&&s.scale.fromArray(o.scale)),r.associations.has(s)||r.associations.set(s,{}),r.associations.get(s).nodes=e,s}))}},{key:"loadScene",value:function(e){for(var t=this.json,n=this.extensions,o=(e=this.json.scenes[e],this),a=new d.Group,s=(e.name&&(a.name=o.createUniqueName(e.name)),j(a,e),e.extensions&&W(n,a,e),e.nodes||[]),l=[],u=0,c=s.length;u<c;u++)l.push(function e(t,n,i,r){var o=i.nodes[t];return r.getDependency("node",t).then((function(e){return void 0===o.skin?e:r.getDependency("skin",o.skin).then((function(e){for(var n=[],i=0,o=(t=e).joints.length;i<o;i++)n.push(r.getDependency("node",t.joints[i]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(e.isMesh){for(var i=[],r=[],o=0,a=n.length;o<a;o++){var s=n[o];s&&(i.push(s),s=new d.Matrix4,void 0!==t.inverseBindMatrices&&s.fromArray(t.inverseBindMatrices.array,16*o),r.push(s))}e.bind(new d.Skeleton(i,r),e.matrixWorld)}})),e}));var t})).then((function(t){n.add(t);var a=[];if(o.children)for(var s=o.children,l=0,u=s.length;l<u;l++){var c=s[l];a.push(e(c,t,i,r))}return Promise.all(a)}))}(s[u],a,t,o));return Promise.all(l).then((function(){return o.associations=function(e){var t,n=new Map,a=(0,r.Z)(o.associations);try{for(a.s();!(t=a.n()).done;){var s=(0,i.Z)(t.value,2),l=s[0],u=s[1];(l instanceof d.Material||l instanceof d.Texture)&&n.set(l,u)}}catch(e){a.e(e)}finally{a.f()}return e.traverse((function(e){var t=o.associations.get(e);null!=t&&n.set(e,t)})),n}(a),a}))}}]),e}();function K(e,t,n){var i,r=t.attributes,o=[];for(i in r){var a=V[i]||i.toLowerCase();a in e.attributes||o.push(function(t,i){return n.getDependency("accessor",t).then((function(t){e.setAttribute(i,t)}))}(r[i],a))}void 0===t.indices||e.index||(s=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)})),o.push(s)),j(e,t);var s=e,l=t,u=n,c=l.attributes,h=new d.Box3;if(void 0!==c.POSITION){var p=(c=u.json.accessors[c.POSITION]).min,f=c.max;if(void 0!==p&&void 0!==f){h.set(new d.Vector3(p[0],p[1],p[2]),new d.Vector3(f[0],f[1],f[2])),c.normalized&&(p=Y(N[c.componentType]),h.min.multiplyScalar(p),h.max.multiplyScalar(p));var g=l.targets;if(void 0!==g){for(var m=new d.Vector3,y=new d.Vector3,v=0,x=g.length;v<x;v++){var _,b,w=g[v];void 0!==w.POSITION&&(b=(w=u.json.accessors[w.POSITION]).min,_=w.max,void 0!==b&&void 0!==_&&(y.setX(Math.max(Math.abs(b[0]),Math.abs(_[0]))),y.setY(Math.max(Math.abs(b[1]),Math.abs(_[1]))),y.setZ(Math.max(Math.abs(b[2]),Math.abs(_[2]))),w.normalized&&(b=Y(N[w.componentType]),y.multiplyScalar(b)),m.max(y)))}h.expandByVector(m)}s.boundingBox=h,f=new d.Sphere,h.getCenter(f.center),f.radius=h.min.distanceTo(h.max)/2,s.boundingSphere=f}}return Promise.all(o).then((function(){if(void 0===t.targets)return e;for(var i=e,r=t.targets,o=n,a=!1,s=!1,l=!1,u=0,c=r.length;u<c;u++){var h=r[u];if(void 0!==h.POSITION&&(a=!0),void 0!==h.NORMAL&&(s=!0),void 0!==h.COLOR_0&&(l=!0),a&&s&&l)break}if(!a&&!s&&!l)return Promise.resolve(i);for(var d=[],p=[],f=[],g=0,m=r.length;g<m;g++){var y,v=r[g];a&&(y=void 0!==v.POSITION?o.getDependency("accessor",v.POSITION):i.attributes.position,d.push(y)),s&&(y=void 0!==v.NORMAL?o.getDependency("accessor",v.NORMAL):i.attributes.normal,p.push(y)),l&&(v=void 0!==v.COLOR_0?o.getDependency("accessor",v.COLOR_0):i.attributes.color,f.push(v))}return Promise.all([Promise.all(d),Promise.all(p),Promise.all(f)]).then((function(e){var t=e[0],n=e[1];e=e[2];return a&&(i.morphAttributes.position=t),s&&(i.morphAttributes.normal=n),l&&(i.morphAttributes.color=e),i.morphTargetsRelative=!0,i}))}))}function Q(e,t){var n=e.getIndex();if(null===n){var i=[],r=e.getAttribute("position");if(void 0===r)return e;for(var o=0;o<r.count;o++)i.push(o);e.setIndex(i),n=e.getIndex()}var a=n.count-2,s=[];if(t===d.TriangleFanDrawMode)for(var l=1;l<=a;l++)s.push(n.getX(0)),s.push(n.getX(l)),s.push(n.getX(l+1));else for(var u=0;u<a;u++)u%2==0?(s.push(n.getX(u)),s.push(n.getX(u+1)),s.push(n.getX(u+2))):(s.push(n.getX(u+2)),s.push(n.getX(u+1)),s.push(n.getX(u)));return s.length,(t=e.clone()).setIndex(s),t}}}]);